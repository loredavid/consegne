var DP=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var W3=DP((Y3,Sd)=>{function zP(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(a,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function vn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ep={exports:{}},Fl={},tp={exports:{}},Ke={},c0;function RP(){if(c0)return Ke;c0=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function N(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,C={};function j(z,D,X){this.props=z,this.context=D,this.refs=C,this.updater=X||E}j.prototype.isReactComponent={},j.prototype.setState=function(z,D){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,D,"setState")},j.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function M(){}M.prototype=j.prototype;function R(z,D,X){this.props=z,this.context=D,this.refs=C,this.updater=X||E}var A=R.prototype=new M;A.constructor=R,P(A,j.prototype),A.isPureReactComponent=!0;var F=Array.isArray,B=Object.prototype.hasOwnProperty,q={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function $(z,D,X){var re,oe={},Q=null,me=null;if(D!=null)for(re in D.ref!==void 0&&(me=D.ref),D.key!==void 0&&(Q=""+D.key),D)B.call(D,re)&&!H.hasOwnProperty(re)&&(oe[re]=D[re]);var ye=arguments.length-2;if(ye===1)oe.children=X;else if(1<ye){for(var pe=Array(ye),Se=0;Se<ye;Se++)pe[Se]=arguments[Se+2];oe.children=pe}if(z&&z.defaultProps)for(re in ye=z.defaultProps,ye)oe[re]===void 0&&(oe[re]=ye[re]);return{$$typeof:e,type:z,key:Q,ref:me,props:oe,_owner:q.current}}function V(z,D){return{$$typeof:e,type:z.type,key:D,ref:z.ref,props:z.props,_owner:z._owner}}function I(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function U(z){var D={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(X){return D[X]})}var ee=/\/+/g;function K(z,D){return typeof z=="object"&&z!==null&&z.key!=null?U(""+z.key):D.toString(36)}function ce(z,D,X,re,oe){var Q=typeof z;(Q==="undefined"||Q==="boolean")&&(z=null);var me=!1;if(z===null)me=!0;else switch(Q){case"string":case"number":me=!0;break;case"object":switch(z.$$typeof){case e:case t:me=!0}}if(me)return me=z,oe=oe(me),z=re===""?"."+K(me,0):re,F(oe)?(X="",z!=null&&(X=z.replace(ee,"$&/")+"/"),ce(oe,D,X,"",function(Se){return Se})):oe!=null&&(I(oe)&&(oe=V(oe,X+(!oe.key||me&&me.key===oe.key?"":(""+oe.key).replace(ee,"$&/")+"/")+z)),D.push(oe)),1;if(me=0,re=re===""?".":re+":",F(z))for(var ye=0;ye<z.length;ye++){Q=z[ye];var pe=re+K(Q,ye);me+=ce(Q,D,X,pe,oe)}else if(pe=N(z),typeof pe=="function")for(z=pe.call(z),ye=0;!(Q=z.next()).done;)Q=Q.value,pe=re+K(Q,ye++),me+=ce(Q,D,X,pe,oe);else if(Q==="object")throw D=String(z),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return me}function _e(z,D,X){if(z==null)return z;var re=[],oe=0;return ce(z,re,"","",function(Q){return D.call(X,Q,oe++)}),re}function de(z){if(z._status===-1){var D=z._result;D=D(),D.then(function(X){(z._status===0||z._status===-1)&&(z._status=1,z._result=X)},function(X){(z._status===0||z._status===-1)&&(z._status=2,z._result=X)}),z._status===-1&&(z._status=0,z._result=D)}if(z._status===1)return z._result.default;throw z._result}var he={current:null},Y={transition:null},fe={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:Y,ReactCurrentOwner:q};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:_e,forEach:function(z,D,X){_e(z,function(){D.apply(this,arguments)},X)},count:function(z){var D=0;return _e(z,function(){D++}),D},toArray:function(z){return _e(z,function(D){return D})||[]},only:function(z){if(!I(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ke.Component=j,Ke.Fragment=n,Ke.Profiler=o,Ke.PureComponent=R,Ke.StrictMode=a,Ke.Suspense=v,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ke.act=ne,Ke.cloneElement=function(z,D,X){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var re=P({},z.props),oe=z.key,Q=z.ref,me=z._owner;if(D!=null){if(D.ref!==void 0&&(Q=D.ref,me=q.current),D.key!==void 0&&(oe=""+D.key),z.type&&z.type.defaultProps)var ye=z.type.defaultProps;for(pe in D)B.call(D,pe)&&!H.hasOwnProperty(pe)&&(re[pe]=D[pe]===void 0&&ye!==void 0?ye[pe]:D[pe])}var pe=arguments.length-2;if(pe===1)re.children=X;else if(1<pe){ye=Array(pe);for(var Se=0;Se<pe;Se++)ye[Se]=arguments[Se+2];re.children=ye}return{$$typeof:e,type:z.type,key:oe,ref:Q,props:re,_owner:me}},Ke.createContext=function(z){return z={$$typeof:f,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:c,_context:z},z.Consumer=z},Ke.createElement=$,Ke.createFactory=function(z){var D=$.bind(null,z);return D.type=z,D},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(z){return{$$typeof:m,render:z}},Ke.isValidElement=I,Ke.lazy=function(z){return{$$typeof:_,_payload:{_status:-1,_result:z},_init:de}},Ke.memo=function(z,D){return{$$typeof:x,type:z,compare:D===void 0?null:D}},Ke.startTransition=function(z){var D=Y.transition;Y.transition={};try{z()}finally{Y.transition=D}},Ke.unstable_act=ne,Ke.useCallback=function(z,D){return he.current.useCallback(z,D)},Ke.useContext=function(z){return he.current.useContext(z)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(z){return he.current.useDeferredValue(z)},Ke.useEffect=function(z,D){return he.current.useEffect(z,D)},Ke.useId=function(){return he.current.useId()},Ke.useImperativeHandle=function(z,D,X){return he.current.useImperativeHandle(z,D,X)},Ke.useInsertionEffect=function(z,D){return he.current.useInsertionEffect(z,D)},Ke.useLayoutEffect=function(z,D){return he.current.useLayoutEffect(z,D)},Ke.useMemo=function(z,D){return he.current.useMemo(z,D)},Ke.useReducer=function(z,D,X){return he.current.useReducer(z,D,X)},Ke.useRef=function(z){return he.current.useRef(z)},Ke.useState=function(z){return he.current.useState(z)},Ke.useSyncExternalStore=function(z,D,X){return he.current.useSyncExternalStore(z,D,X)},Ke.useTransition=function(){return he.current.useTransition()},Ke.version="18.3.1",Ke}var d0;function gy(){return d0||(d0=1,tp.exports=RP()),tp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function LP(){if(f0)return Fl;f0=1;var e=gy(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,v,x){var _,w={},N=null,E=null;x!==void 0&&(N=""+x),v.key!==void 0&&(N=""+v.key),v.ref!==void 0&&(E=v.ref);for(_ in v)a.call(v,_)&&!c.hasOwnProperty(_)&&(w[_]=v[_]);if(m&&m.defaultProps)for(_ in v=m.defaultProps,v)w[_]===void 0&&(w[_]=v[_]);return{$$typeof:t,type:m,key:N,ref:E,props:w,_owner:o.current}}return Fl.Fragment=n,Fl.jsx=f,Fl.jsxs=f,Fl}var h0;function AP(){return h0||(h0=1,ep.exports=LP()),ep.exports}var d=AP(),O=gy();const te=vn(O),IP=zP({__proto__:null,default:te},[O]);var Qc={},np={exports:{}},Ln={},rp={exports:{}},ip={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function FP(){return p0||(p0=1,(function(e){function t(Y,fe){var ne=Y.length;Y.push(fe);e:for(;0<ne;){var z=ne-1>>>1,D=Y[z];if(0<o(D,fe))Y[z]=fe,Y[ne]=D,ne=z;else break e}}function n(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var fe=Y[0],ne=Y.pop();if(ne!==fe){Y[0]=ne;e:for(var z=0,D=Y.length,X=D>>>1;z<X;){var re=2*(z+1)-1,oe=Y[re],Q=re+1,me=Y[Q];if(0>o(oe,ne))Q<D&&0>o(me,oe)?(Y[z]=me,Y[Q]=ne,z=Q):(Y[z]=oe,Y[re]=ne,z=re);else if(Q<D&&0>o(me,ne))Y[z]=me,Y[Q]=ne,z=Q;else break e}}return fe}function o(Y,fe){var ne=Y.sortIndex-fe.sortIndex;return ne!==0?ne:Y.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();e.unstable_now=function(){return f.now()-m}}var v=[],x=[],_=1,w=null,N=3,E=!1,P=!1,C=!1,j=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Y){for(var fe=n(x);fe!==null;){if(fe.callback===null)a(x);else if(fe.startTime<=Y)a(x),fe.sortIndex=fe.expirationTime,t(v,fe);else break;fe=n(x)}}function F(Y){if(C=!1,A(Y),!P)if(n(v)!==null)P=!0,de(B);else{var fe=n(x);fe!==null&&he(F,fe.startTime-Y)}}function B(Y,fe){P=!1,C&&(C=!1,M($),$=-1),E=!0;var ne=N;try{for(A(fe),w=n(v);w!==null&&(!(w.expirationTime>fe)||Y&&!U());){var z=w.callback;if(typeof z=="function"){w.callback=null,N=w.priorityLevel;var D=z(w.expirationTime<=fe);fe=e.unstable_now(),typeof D=="function"?w.callback=D:w===n(v)&&a(v),A(fe)}else a(v);w=n(v)}if(w!==null)var X=!0;else{var re=n(x);re!==null&&he(F,re.startTime-fe),X=!1}return X}finally{w=null,N=ne,E=!1}}var q=!1,H=null,$=-1,V=5,I=-1;function U(){return!(e.unstable_now()-I<V)}function ee(){if(H!==null){var Y=e.unstable_now();I=Y;var fe=!0;try{fe=H(!0,Y)}finally{fe?K():(q=!1,H=null)}}else q=!1}var K;if(typeof R=="function")K=function(){R(ee)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,_e=ce.port2;ce.port1.onmessage=ee,K=function(){_e.postMessage(null)}}else K=function(){j(ee,0)};function de(Y){H=Y,q||(q=!0,K())}function he(Y,fe){$=j(function(){Y(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){P||E||(P=!0,de(B))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return n(v)},e.unstable_next=function(Y){switch(N){case 1:case 2:case 3:var fe=3;break;default:fe=N}var ne=N;N=fe;try{return Y()}finally{N=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,fe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ne=N;N=Y;try{return fe()}finally{N=ne}},e.unstable_scheduleCallback=function(Y,fe,ne){var z=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?z+ne:z):ne=z,Y){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ne+D,Y={id:_++,callback:fe,priorityLevel:Y,startTime:ne,expirationTime:D,sortIndex:-1},ne>z?(Y.sortIndex=ne,t(x,Y),n(v)===null&&Y===n(x)&&(C?(M($),$=-1):C=!0,he(F,ne-z))):(Y.sortIndex=D,t(v,Y),P||E||(P=!0,de(B))),Y},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(Y){var fe=N;return function(){var ne=N;N=fe;try{return Y.apply(this,arguments)}finally{N=ne}}}})(ip)),ip}var m0;function $P(){return m0||(m0=1,rp.exports=FP()),rp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function BP(){if(v0)return Ln;v0=1;var e=gy(),t=$P();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function c(r,s){f(r,s),f(r+"Capture",s)}function f(r,s){for(o[r]=s,r=0;r<s.length;r++)a.add(s[r])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function N(r){return v.call(w,r)?!0:v.call(_,r)?!1:x.test(r)?w[r]=!0:(_[r]=!0,!1)}function E(r,s,u,p){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function P(r,s,u,p){if(s===null||typeof s>"u"||E(r,s,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function C(r,s,u,p,y,b,k){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=r,this.type=s,this.sanitizeURL=b,this.removeEmptyString=k}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new C(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];j[s]=new C(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new C(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new C(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new C(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new C(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new C(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new C(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new C(r,5,!1,r.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function R(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(M,R);j[s]=new C(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(M,R);j[s]=new C(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(M,R);j[s]=new C(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new C(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new C(r,1,!1,r.toLowerCase(),null,!0,!0)});function A(r,s,u,p){var y=j.hasOwnProperty(s)?j[s]:null;(y!==null?y.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(P(s,u,y,p)&&(u=null),p||y===null?N(s)&&(u===null?r.removeAttribute(s):r.setAttribute(s,""+u)):y.mustUseProperty?r[y.propertyName]=u===null?y.type===3?!1:"":u:(s=y.attributeName,p=y.attributeNamespace,u===null?r.removeAttribute(s):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,p?r.setAttributeNS(p,s,u):r.setAttribute(s,u))))}var F=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),q=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),U=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),Y=Symbol.iterator;function fe(r){return r===null||typeof r!="object"?null:(r=Y&&r[Y]||r["@@iterator"],typeof r=="function"?r:null)}var ne=Object.assign,z;function D(r){if(z===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);z=s&&s[1]||""}return`
`+z+r}var X=!1;function re(r,s){if(!r||X)return"";X=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ue){var p=ue}Reflect.construct(r,[],s)}else{try{s.call()}catch(ue){p=ue}r.call(s.prototype)}else{try{throw Error()}catch(ue){p=ue}r()}}catch(ue){if(ue&&p&&typeof ue.stack=="string"){for(var y=ue.stack.split(`
`),b=p.stack.split(`
`),k=y.length-1,W=b.length-1;1<=k&&0<=W&&y[k]!==b[W];)W--;for(;1<=k&&0<=W;k--,W--)if(y[k]!==b[W]){if(k!==1||W!==1)do if(k--,W--,0>W||y[k]!==b[W]){var G=`
`+y[k].replace(" at new "," at ");return r.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",r.displayName)),G}while(1<=k&&0<=W);break}}}finally{X=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?D(r):""}function oe(r){switch(r.tag){case 5:return D(r.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return r=re(r.type,!1),r;case 11:return r=re(r.type.render,!1),r;case 1:return r=re(r.type,!0),r;default:return""}}function Q(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case H:return"Fragment";case q:return"Portal";case V:return"Profiler";case $:return"StrictMode";case K:return"Suspense";case ce:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case U:return(r.displayName||"Context")+".Consumer";case I:return(r._context.displayName||"Context")+".Provider";case ee:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case _e:return s=r.displayName||null,s!==null?s:Q(r.type)||"Memo";case de:s=r._payload,r=r._init;try{return Q(r(s))}catch{}}return null}function me(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(s);case 8:return s===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ye(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function pe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Se(r){var s=pe(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),p=""+r[s];if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return y.call(this)},set:function(k){p=""+k,b.call(this,k)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(k){p=""+k},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function De(r){r._valueTracker||(r._valueTracker=Se(r))}function Ze(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var u=s.getValue(),p="";return r&&(p=pe(r)?r.checked?"true":"false":r.value),r=p,r!==u?(s.setValue(r),!0):!1}function Qe(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ht(r,s){var u=s.checked;return ne({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function Be(r,s){var u=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;u=ye(s.value!=null?s.value:u),r._wrapperState={initialChecked:p,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Jt(r,s){s=s.checked,s!=null&&A(r,"checked",s,!1)}function He(r,s){Jt(r,s);var u=ye(s.value),p=s.type;if(u!=null)p==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(p==="submit"||p==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?rn(r,s.type,u):s.hasOwnProperty("defaultValue")&&rn(r,s.type,ye(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Yt(r,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,u||s===r.value||(r.value=s),r.defaultValue=s}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function rn(r,s,u){(s!=="number"||Qe(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var Zt=Array.isArray;function Dt(r,s,u,p){if(r=r.options,s){s={};for(var y=0;y<u.length;y++)s["$"+u[y]]=!0;for(u=0;u<r.length;u++)y=s.hasOwnProperty("$"+r[u].value),r[u].selected!==y&&(r[u].selected=y),y&&p&&(r[u].defaultSelected=!0)}else{for(u=""+ye(u),s=null,y=0;y<r.length;y++){if(r[y].value===u){r[y].selected=!0,p&&(r[y].defaultSelected=!0);return}s!==null||r[y].disabled||(s=r[y])}s!==null&&(s.selected=!0)}}function Vt(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function _t(r,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(n(92));if(Zt(u)){if(1<u.length)throw Error(n(93));u=u[0]}s=u}s==null&&(s=""),u=s}r._wrapperState={initialValue:ye(u)}}function Bn(r,s){var u=ye(s.value),p=ye(s.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),s.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),p!=null&&(r.defaultValue=""+p)}function tr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Sr(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nr(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Sr(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Qt,Fa=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,p,y){MSApp.execUnsafeLocalFunction(function(){return r(s,u,p,y)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Qt=Qt||document.createElement("div"),Qt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Qt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Nr(r,s){if(s){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=s;return}}r.textContent=s}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ts=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(r){Ts.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Br[s]=Br[r]})});function Pn(r,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||Br.hasOwnProperty(r)&&Br[r]?(""+s).trim():s+"px"}function jn(r,s){r=r.style;for(var u in s)if(s.hasOwnProperty(u)){var p=u.indexOf("--")===0,y=Pn(u,s[u],p);u==="float"&&(u="cssFloat"),p?r.setProperty(u,y):r[u]=y}}var zu=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ho(r,s){if(s){if(zu[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function ci(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yo=null;function Zo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Os=null,di=null,fi=null;function Ru(r){if(r=Ni(r)){if(typeof Os!="function")throw Error(n(280));var s=r.stateNode;s&&(s=io(s),Os(r.stateNode,r.type,s))}}function Lu(r){di?fi?fi.push(r):fi=[r]:di=r}function Au(){if(di){var r=di,s=fi;if(fi=di=null,Ru(r),s)for(r=0;r<s.length;r++)Ru(s[r])}}function Iu(r,s){return r(s)}function Fu(){}var Vo=!1;function Ms(r,s,u){if(Vo)return r(s,u);Vo=!0;try{return Iu(r,s,u)}finally{Vo=!1,(di!==null||fi!==null)&&(Fu(),Au())}}function $a(r,s){var u=r.stateNode;if(u===null)return null;var p=io(u);if(p===null)return null;u=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,s,typeof u));return u}var Go=!1;if(m)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){Go=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{Go=!1}function Of(r,s,u,p,y,b,k,W,G){var ue=Array.prototype.slice.call(arguments,3);try{s.apply(u,ue)}catch(xe){this.onError(xe)}}var an=!1,Re=null,qa=!1,Ds=null,$u={onError:function(r){an=!0,Re=r}};function Bu(r,s,u,p,y,b,k,W,G){an=!1,Re=null,Of.apply($u,arguments)}function Ko(r,s,u,p,y,b,k,W,G){if(Bu.apply(this,arguments),an){if(an){var ue=Re;an=!1,Re=null}else throw Error(n(198));qa||(qa=!0,Ds=ue)}}function qr(r){var s=r,u=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(u=s.return),r=s.return;while(r)}return s.tag===3?u:null}function hi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Xo(r){if(qr(r)!==r)throw Error(n(188))}function Mf(r){var s=r.alternate;if(!s){if(s=qr(r),s===null)throw Error(n(188));return s!==r?null:r}for(var u=r,p=s;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return Xo(y),r;if(b===p)return Xo(y),s;b=b.sibling}throw Error(n(188))}if(u.return!==p.return)u=y,p=b;else{for(var k=!1,W=y.child;W;){if(W===u){k=!0,u=y,p=b;break}if(W===p){k=!0,p=y,u=b;break}W=W.sibling}if(!k){for(W=b.child;W;){if(W===u){k=!0,u=b,p=y;break}if(W===p){k=!0,p=b,u=y;break}W=W.sibling}if(!k)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:s}function qu(r){return r=Mf(r),r!==null?Uu(r):null}function Uu(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Uu(r);if(s!==null)return s;r=r.sibling}return null}var Wu=t.unstable_scheduleCallback,Jo=t.unstable_cancelCallback,Df=t.unstable_shouldYield,zs=t.unstable_requestPaint,wt=t.unstable_now,zf=t.unstable_getCurrentPriorityLevel,Qo=t.unstable_ImmediatePriority,Hu=t.unstable_UserBlockingPriority,Rs=t.unstable_NormalPriority,el=t.unstable_LowPriority,Vi=t.unstable_IdlePriority,Ua=null,qn=null;function Wa(r){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(Ua,r,void 0,(r.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:Gi,ht=Math.log,Ls=Math.LN2;function Gi(r){return r>>>=0,r===0?32:31-(ht(r)/Ls|0)|0}var Cr=64,Ki=4194304;function We(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function dt(r,s){var u=r.pendingLanes;if(u===0)return 0;var p=0,y=r.suspendedLanes,b=r.pingedLanes,k=u&268435455;if(k!==0){var W=k&~y;W!==0?p=We(W):(b&=k,b!==0&&(p=We(b)))}else k=u&~y,k!==0?p=We(k):b!==0&&(p=We(b));if(p===0)return 0;if(s!==0&&s!==p&&(s&y)===0&&(y=p&-p,b=s&-s,y>=b||y===16&&(b&4194240)!==0))return s;if((p&4)!==0&&(p|=u&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=p;0<s;)u=31-Ye(s),y=1<<u,p|=r[u],s&=~y;return p}function tl(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function As(r,s){for(var u=r.suspendedLanes,p=r.pingedLanes,y=r.expirationTimes,b=r.pendingLanes;0<b;){var k=31-Ye(b),W=1<<k,G=y[k];G===-1?((W&u)===0||(W&p)!==0)&&(y[k]=tl(W,s)):G<=s&&(r.expiredLanes|=W),b&=~W}}function sn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Yu(){var r=Cr;return Cr<<=1,(Cr&4194240)===0&&(Cr=64),r}function Xi(r){for(var s=[],u=0;31>u;u++)s.push(r);return s}function Un(r,s,u){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Ye(s),r[s]=u}function Et(r,s){var u=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var p=r.eventTimes;for(r=r.expirationTimes;0<u;){var y=31-Ye(u),b=1<<y;s[y]=0,p[y]=-1,r[y]=-1,u&=~b}}function Er(r,s){var u=r.entangledLanes|=s;for(r=r.entanglements;u;){var p=31-Ye(u),y=1<<p;y&s|r[p]&s&&(r[p]|=s),u&=~y}}var et=0;function Ji(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Is,pi,Fs,$s,Ha,Ya=!1,Qi=[],Wn=null,Pr=null,rr=null,Za=new Map,qe=new Map,Lt=[],ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nl(r,s){switch(r){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":Za.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":qe.delete(s.pointerId)}}function mi(r,s,u,p,y,b){return r===null||r.nativeEvent!==b?(r={blockedOn:s,domEventName:u,eventSystemFlags:p,nativeEvent:b,targetContainers:[y]},s!==null&&(s=Ni(s),s!==null&&pi(s)),r):(r.eventSystemFlags|=p,s=r.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),r)}function rl(r,s,u,p,y){switch(s){case"focusin":return Wn=mi(Wn,r,s,u,p,y),!0;case"dragenter":return Pr=mi(Pr,r,s,u,p,y),!0;case"mouseover":return rr=mi(rr,r,s,u,p,y),!0;case"pointerover":var b=y.pointerId;return Za.set(b,mi(Za.get(b)||null,r,s,u,p,y)),!0;case"gotpointercapture":return b=y.pointerId,qe.set(b,mi(qe.get(b)||null,r,s,u,p,y)),!0}return!1}function Bs(r){var s=Si(r.target);if(s!==null){var u=qr(s);if(u!==null){if(s=u.tag,s===13){if(s=hi(u),s!==null){r.blockedOn=s,Ha(r.priority,function(){Fs(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ir(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var u=Ws(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var p=new u.constructor(u.type,u);Yo=p,u.target.dispatchEvent(p),Yo=null}else return s=Ni(u),s!==null&&pi(s),r.blockedOn=u,!1;s.shift()}return!0}function qs(r,s,u){ir(r)&&u.delete(s)}function Va(){Ya=!1,Wn!==null&&ir(Wn)&&(Wn=null),Pr!==null&&ir(Pr)&&(Pr=null),rr!==null&&ir(rr)&&(rr=null),Za.forEach(qs),qe.forEach(qs)}function bt(r,s){r.blockedOn===s&&(r.blockedOn=null,Ya||(Ya=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Va)))}function Hn(r){function s(y){return bt(y,r)}if(0<Qi.length){bt(Qi[0],r);for(var u=1;u<Qi.length;u++){var p=Qi[u];p.blockedOn===r&&(p.blockedOn=null)}}for(Wn!==null&&bt(Wn,r),Pr!==null&&bt(Pr,r),rr!==null&&bt(rr,r),Za.forEach(s),qe.forEach(s),u=0;u<Lt.length;u++)p=Lt[u],p.blockedOn===r&&(p.blockedOn=null);for(;0<Lt.length&&(u=Lt[0],u.blockedOn===null);)Bs(u),u.blockedOn===null&&Lt.shift()}var vi=F.ReactCurrentBatchConfig,Ga=!0;function Rf(r,s,u,p){var y=et,b=vi.transition;vi.transition=null;try{et=1,Ka(r,s,u,p)}finally{et=y,vi.transition=b}}function Zu(r,s,u,p){var y=et,b=vi.transition;vi.transition=null;try{et=4,Ka(r,s,u,p)}finally{et=y,vi.transition=b}}function Ka(r,s,u,p){if(Ga){var y=Ws(r,s,u,p);if(y===null)i(r,s,p,Us,u),nl(r,p);else if(rl(y,r,s,u,p))p.stopPropagation();else if(nl(r,p),s&4&&-1<ot.indexOf(r)){for(;y!==null;){var b=Ni(y);if(b!==null&&Is(b),b=Ws(r,s,u,p),b===null&&i(r,s,p,Us,u),b===y)break;y=b}y!==null&&p.stopPropagation()}else i(r,s,p,null,u)}}var Us=null;function Ws(r,s,u,p){if(Us=null,r=Zo(p),r=Si(r),r!==null)if(s=qr(r),s===null)r=null;else if(u=s.tag,u===13){if(r=hi(s),r!==null)return r;r=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Us=r,null}function Xe(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zf()){case Qo:return 1;case Hu:return 4;case Rs:case el:return 16;case Vi:return 536870912;default:return 16}default:return 16}}var Ur=null,wn=null,Wr=null;function il(){if(Wr)return Wr;var r,s=wn,u=s.length,p,y="value"in Ur?Ur.value:Ur.textContent,b=y.length;for(r=0;r<u&&s[r]===y[r];r++);var k=u-r;for(p=1;p<=k&&s[u-p]===y[b-p];p++);return Wr=y.slice(r,1<p?1-p:void 0)}function Hs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ea(){return!0}function Vu(){return!1}function on(r){function s(u,p,y,b,k){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var W in r)r.hasOwnProperty(W)&&(u=r[W],this[W]=u?u(b):b[W]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ea:Vu,this.isPropagationStopped=Vu,this}return ne(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ea)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ea)},persist:function(){},isPersistent:ea}),s}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=on(ta),gi=ne({},ta,{view:0,detail:0}),Lf=on(gi),kn,sl,na,Yn=ne({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==na&&(na&&r.type==="mousemove"?(kn=r.screenX-na.screenX,sl=r.screenY-na.screenY):sl=kn=0,na=r),kn)},movementY:function(r){return"movementY"in r?r.movementY:sl}}),ol=on(Yn),Gu=ne({},Yn,{dataTransfer:0}),ll=on(Gu),Af=ne({},gi,{relatedTarget:0}),Ys=on(Af),Ku=ne({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),If=on(Ku),Ff=ne({},ta,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ul=on(Ff),$f=ne({},ta,{data:0}),cl=on($f),Xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bf(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=yi[r])?!!s[r]:!1}function xi(){return Bf}var Tn=ne({},gi,{key:function(r){if(r.key){var s=Xu[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Hs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Zs[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function(r){return r.type==="keypress"?Hs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Hs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ju=on(Tn),Qu=ne({},Yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ec=on(Qu),dl=ne({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi}),fl=on(dl),qf=ne({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uf=on(qf),tc=ne({},Yn,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Wf=on(tc),Zn=[9,13,27,32],Hr=m&&"CompositionEvent"in window,Xa=null;m&&"documentMode"in document&&(Xa=document.documentMode);var jr=m&&"TextEvent"in window&&!Xa,nc=m&&(!Hr||Xa&&8<Xa&&11>=Xa),_i=" ",rc=!1;function ra(r,s){switch(r){case"keyup":return Zn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hl(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var kr=!1;function Hf(r,s){switch(r){case"compositionend":return hl(s);case"keypress":return s.which!==32?null:(rc=!0,_i);case"textInput":return r=s.data,r===_i&&rc?null:r;default:return null}}function Yr(r,s){if(kr)return r==="compositionend"||!Hr&&ra(r,s)?(r=il(),Wr=wn=Ur=null,kr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return nc&&s.locale!=="ko"?null:s.data;default:return null}}var Vs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ic(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Vs[r.type]:s==="textarea"}function Gs(r,s,u,p){Lu(p),s=h(s,"onChange"),0<s.length&&(u=new al("onChange","change",null,u,p),r.push({event:u,listeners:s}))}var Ja=null,bn=null;function Yf(r){bl(r,0)}function Tr(r){var s=Ci(r);if(Ze(s))return r}function Zf(r,s){if(r==="change")return s}var ar=!1;if(m){var ia;if(m){var Ks="oninput"in document;if(!Ks){var Xs=document.createElement("div");Xs.setAttribute("oninput","return;"),Ks=typeof Xs.oninput=="function"}ia=Ks}else ia=!1;ar=ia&&(!document.documentMode||9<document.documentMode)}function Qa(){Ja&&(Ja.detachEvent("onpropertychange",Js),bn=Ja=null)}function Js(r){if(r.propertyName==="value"&&Tr(bn)){var s=[];Gs(s,bn,r,Zo(r)),Ms(Yf,s)}}function Qs(r,s,u){r==="focusin"?(Qa(),Ja=s,bn=u,Ja.attachEvent("onpropertychange",Js)):r==="focusout"&&Qa()}function aa(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Tr(bn)}function eo(r,s){if(r==="click")return Tr(s)}function pl(r,s){if(r==="input"||r==="change")return Tr(s)}function ac(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Vn=typeof Object.is=="function"?Object.is:ac;function Zr(r,s){if(Vn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var u=Object.keys(r),p=Object.keys(s);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!v.call(s,y)||!Vn(r[y],s[y]))return!1}return!0}function sc(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ml(r,s){var u=sc(r);r=0;for(var p;u;){if(u.nodeType===3){if(p=r+u.textContent.length,r<=s&&p>=s)return{node:u,offset:s-r};r=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=sc(u)}}function oc(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?oc(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function vl(){for(var r=window,s=Qe();s instanceof r.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)r=s.contentWindow;else break;s=Qe(r.document)}return s}function gl(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function sr(r){var s=vl(),u=r.focusedElem,p=r.selectionRange;if(s!==u&&u&&u.ownerDocument&&oc(u.ownerDocument.documentElement,u)){if(p!==null&&gl(u)){if(s=p.start,r=p.end,r===void 0&&(r=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(r,u.value.length);else if(r=(s=u.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var y=u.textContent.length,b=Math.min(p.start,y);p=p.end===void 0?b:Math.min(p.end,y),!r.extend&&b>p&&(y=p,p=b,b=y),y=ml(u,b);var k=ml(u,p);y&&k&&(r.rangeCount!==1||r.anchorNode!==y.node||r.anchorOffset!==y.offset||r.focusNode!==k.node||r.focusOffset!==k.offset)&&(s=s.createRange(),s.setStart(y.node,y.offset),r.removeAllRanges(),b>p?(r.addRange(s),r.extend(k.node,k.offset)):(s.setEnd(k.node,k.offset),r.addRange(s)))}}for(s=[],r=u;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)r=s[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var to=m&&"documentMode"in document&&11>=document.documentMode,sa=null,oa=null,es=null,no=!1;function lc(r,s,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;no||sa==null||sa!==Qe(p)||(p=sa,"selectionStart"in p&&gl(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),es&&Zr(es,p)||(es=p,p=h(oa,"onSelect"),0<p.length&&(s=new al("onSelect","select",null,s,u),r.push({event:s,listeners:p}),s.target=sa)))}function Vr(r,s){var u={};return u[r.toLowerCase()]=s.toLowerCase(),u["Webkit"+r]="webkit"+s,u["Moz"+r]="moz"+s,u}var la={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionend:Vr("Transition","TransitionEnd")},Gr={},yl={};m&&(yl=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function ts(r){if(Gr[r])return Gr[r];if(!la[r])return r;var s=la[r],u;for(u in s)if(s.hasOwnProperty(u)&&u in yl)return Gr[r]=s[u];return r}var uc=ts("animationend"),or=ts("animationiteration"),xl=ts("animationstart"),_l=ts("transitionend"),ua=new Map,cc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gn(r,s){ua.set(r,s),c(s,[r])}for(var wi=0;wi<cc.length;wi++){var ro=cc[wi],dc=ro.toLowerCase(),Vf=ro[0].toUpperCase()+ro.slice(1);Gn(dc,"on"+Vf)}Gn(uc,"onAnimationEnd"),Gn(or,"onAnimationIteration"),Gn(xl,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(_l,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fc=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function wl(r,s,u){var p=r.type||"unknown-event";r.currentTarget=u,Ko(p,s,void 0,r),r.currentTarget=null}function bl(r,s){s=(s&4)!==0;for(var u=0;u<r.length;u++){var p=r[u],y=p.event;p=p.listeners;e:{var b=void 0;if(s)for(var k=p.length-1;0<=k;k--){var W=p[k],G=W.instance,ue=W.currentTarget;if(W=W.listener,G!==b&&y.isPropagationStopped())break e;wl(y,W,ue),b=G}else for(k=0;k<p.length;k++){if(W=p[k],G=W.instance,ue=W.currentTarget,W=W.listener,G!==b&&y.isPropagationStopped())break e;wl(y,W,ue),b=G}}}if(qa)throw r=Ds,qa=!1,Ds=null,r}function lt(r,s){var u=s[pa];u===void 0&&(u=s[pa]=new Set);var p=r+"__bubble";u.has(p)||(hc(s,r,2,!1),u.add(p))}function Sl(r,s,u){var p=0;s&&(p|=4),hc(u,r,p,s)}var ns="_reactListening"+Math.random().toString(36).slice(2);function da(r){if(!r[ns]){r[ns]=!0,a.forEach(function(u){u!=="selectionchange"&&(fc.has(u)||Sl(u,!1,r),Sl(u,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ns]||(s[ns]=!0,Sl("selectionchange",!1,s))}}function hc(r,s,u,p){switch(Xe(s)){case 1:var y=Rf;break;case 4:y=Zu;break;default:y=Ka}u=y.bind(null,s,u,r),y=void 0,!Go||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),p?y!==void 0?r.addEventListener(s,u,{capture:!0,passive:y}):r.addEventListener(s,u,!0):y!==void 0?r.addEventListener(s,u,{passive:y}):r.addEventListener(s,u,!1)}function i(r,s,u,p,y){var b=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var W=p.stateNode.containerInfo;if(W===y||W.nodeType===8&&W.parentNode===y)break;if(k===4)for(k=p.return;k!==null;){var G=k.tag;if((G===3||G===4)&&(G=k.stateNode.containerInfo,G===y||G.nodeType===8&&G.parentNode===y))return;k=k.return}for(;W!==null;){if(k=Si(W),k===null)return;if(G=k.tag,G===5||G===6){p=b=k;continue e}W=W.parentNode}}p=p.return}Ms(function(){var ue=b,xe=Zo(u),we=[];e:{var ge=ua.get(r);if(ge!==void 0){var ke=al,Me=r;switch(r){case"keypress":if(Hs(u)===0)break e;case"keydown":case"keyup":ke=Ju;break;case"focusin":Me="focus",ke=Ys;break;case"focusout":Me="blur",ke=Ys;break;case"beforeblur":case"afterblur":ke=Ys;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=ll;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=fl;break;case uc:case or:case xl:ke=If;break;case _l:ke=Uf;break;case"scroll":ke=Lf;break;case"wheel":ke=Wf;break;case"copy":case"cut":case"paste":ke=ul;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=ec}var ze=(s&4)!==0,Tt=!ze&&r==="scroll",ae=ze?ge!==null?ge+"Capture":null:ge;ze=[];for(var J=ue,se;J!==null;){se=J;var Ne=se.stateNode;if(se.tag===5&&Ne!==null&&(se=Ne,ae!==null&&(Ne=$a(J,ae),Ne!=null&&ze.push(l(J,Ne,se)))),Tt)break;J=J.return}0<ze.length&&(ge=new ke(ge,Me,null,u,xe),we.push({event:ge,listeners:ze}))}}if((s&7)===0){e:{if(ge=r==="mouseover"||r==="pointerover",ke=r==="mouseout"||r==="pointerout",ge&&u!==Yo&&(Me=u.relatedTarget||u.fromElement)&&(Si(Me)||Me[st]))break e;if((ke||ge)&&(ge=xe.window===xe?xe:(ge=xe.ownerDocument)?ge.defaultView||ge.parentWindow:window,ke?(Me=u.relatedTarget||u.toElement,ke=ue,Me=Me?Si(Me):null,Me!==null&&(Tt=qr(Me),Me!==Tt||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(ke=null,Me=ue),ke!==Me)){if(ze=ol,Ne="onMouseLeave",ae="onMouseEnter",J="mouse",(r==="pointerout"||r==="pointerover")&&(ze=ec,Ne="onPointerLeave",ae="onPointerEnter",J="pointer"),Tt=ke==null?ge:Ci(ke),se=Me==null?ge:Ci(Me),ge=new ze(Ne,J+"leave",ke,u,xe),ge.target=Tt,ge.relatedTarget=se,Ne=null,Si(xe)===ue&&(ze=new ze(ae,J+"enter",Me,u,xe),ze.target=se,ze.relatedTarget=Tt,Ne=ze),Tt=Ne,ke&&Me)t:{for(ze=ke,ae=Me,J=0,se=ze;se;se=g(se))J++;for(se=0,Ne=ae;Ne;Ne=g(Ne))se++;for(;0<J-se;)ze=g(ze),J--;for(;0<se-J;)ae=g(ae),se--;for(;J--;){if(ze===ae||ae!==null&&ze===ae.alternate)break t;ze=g(ze),ae=g(ae)}ze=null}else ze=null;ke!==null&&S(we,ge,ke,ze,!1),Me!==null&&Tt!==null&&S(we,Tt,Me,ze,!0)}}e:{if(ge=ue?Ci(ue):window,ke=ge.nodeName&&ge.nodeName.toLowerCase(),ke==="select"||ke==="input"&&ge.type==="file")var Le=Zf;else if(ic(ge))if(ar)Le=pl;else{Le=aa;var Fe=Qs}else(ke=ge.nodeName)&&ke.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(Le=eo);if(Le&&(Le=Le(r,ue))){Gs(we,Le,u,xe);break e}Fe&&Fe(r,ge,ue),r==="focusout"&&(Fe=ge._wrapperState)&&Fe.controlled&&ge.type==="number"&&rn(ge,"number",ge.value)}switch(Fe=ue?Ci(ue):window,r){case"focusin":(ic(Fe)||Fe.contentEditable==="true")&&(sa=Fe,oa=ue,es=null);break;case"focusout":es=oa=sa=null;break;case"mousedown":no=!0;break;case"contextmenu":case"mouseup":case"dragend":no=!1,lc(we,u,xe);break;case"selectionchange":if(to)break;case"keydown":case"keyup":lc(we,u,xe)}var $e;if(Hr)e:{switch(r){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else kr?ra(r,u)&&(Ue="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Ue="onCompositionStart");Ue&&(nc&&u.locale!=="ko"&&(kr||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&kr&&($e=il()):(Ur=xe,wn="value"in Ur?Ur.value:Ur.textContent,kr=!0)),Fe=h(ue,Ue),0<Fe.length&&(Ue=new cl(Ue,r,null,u,xe),we.push({event:Ue,listeners:Fe}),$e?Ue.data=$e:($e=hl(u),$e!==null&&(Ue.data=$e)))),($e=jr?Hf(r,u):Yr(r,u))&&(ue=h(ue,"onBeforeInput"),0<ue.length&&(xe=new cl("onBeforeInput","beforeinput",null,u,xe),we.push({event:xe,listeners:ue}),xe.data=$e))}bl(we,s)})}function l(r,s,u){return{instance:r,listener:s,currentTarget:u}}function h(r,s){for(var u=s+"Capture",p=[];r!==null;){var y=r,b=y.stateNode;y.tag===5&&b!==null&&(y=b,b=$a(r,u),b!=null&&p.unshift(l(r,b,y)),b=$a(r,s),b!=null&&p.push(l(r,b,y))),r=r.return}return p}function g(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function S(r,s,u,p,y){for(var b=s._reactName,k=[];u!==null&&u!==p;){var W=u,G=W.alternate,ue=W.stateNode;if(G!==null&&G===p)break;W.tag===5&&ue!==null&&(W=ue,y?(G=$a(u,b),G!=null&&k.unshift(l(u,G,W))):y||(G=$a(u,b),G!=null&&k.push(l(u,G,W)))),u=u.return}k.length!==0&&r.push({event:s,listeners:k})}var T=/\r\n?/g,Z=/\u0000|\uFFFD/g;function ie(r){return(typeof r=="string"?r:""+r).replace(T,`
`).replace(Z,"")}function le(r,s,u){if(s=ie(s),ie(r)!==s&&u)throw Error(n(425))}function ve(){}var Pe=null,Ie=null;function Ve(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var At=typeof setTimeout=="function"?setTimeout:void 0,zt=typeof clearTimeout=="function"?clearTimeout:void 0,Sn=typeof Promise=="function"?Promise:void 0,ln=typeof queueMicrotask=="function"?queueMicrotask:typeof Sn<"u"?function(r){return Sn.resolve(null).then(r).catch(fa)}:At;function fa(r){setTimeout(function(){throw r})}function Nl(r,s){var u=s,p=0;do{var y=u.nextSibling;if(r.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(p===0){r.removeChild(y),Hn(s);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=y}while(u);Hn(s)}function Kr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function pc(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return r;s--}else u==="/$"&&s++}r=r.previousSibling}return null}var bi=Math.random().toString(36).slice(2),lr="__reactFiber$"+bi,ha="__reactProps$"+bi,st="__reactContainer$"+bi,pa="__reactEvents$"+bi,Gf="__reactListeners$"+bi,Kf="__reactHandles$"+bi;function Si(r){var s=r[lr];if(s)return s;for(var u=r.parentNode;u;){if(s=u[st]||u[lr]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(r=pc(r);r!==null;){if(u=r[lr])return u;r=pc(r)}return s}r=u,u=r.parentNode}return null}function Ni(r){return r=r[lr]||r[st],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ci(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function io(r){return r[ha]||null}var Xf=[],ao=-1;function ma(r){return{current:r}}function pt(r){0>ao||(r.current=Xf[ao],Xf[ao]=null,ao--)}function ft(r,s){ao++,Xf[ao]=r.current,r.current=s}var va={},un=ma(va),On=ma(!1),rs=va;function so(r,s){var u=r.type.contextTypes;if(!u)return va;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var y={},b;for(b in u)y[b]=s[b];return p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=y),y}function Mn(r){return r=r.childContextTypes,r!=null}function mc(){pt(On),pt(un)}function Mx(r,s,u){if(un.current!==va)throw Error(n(168));ft(un,s),ft(On,u)}function Dx(r,s,u){var p=r.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var y in p)if(!(y in s))throw Error(n(108,me(r)||"Unknown",y));return ne({},u,p)}function vc(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||va,rs=un.current,ft(un,r),ft(On,On.current),!0}function zx(r,s,u){var p=r.stateNode;if(!p)throw Error(n(169));u?(r=Dx(r,s,rs),p.__reactInternalMemoizedMergedChildContext=r,pt(On),pt(un),ft(un,r)):pt(On),ft(On,u)}var Ei=null,gc=!1,Jf=!1;function Rx(r){Ei===null?Ei=[r]:Ei.push(r)}function JE(r){gc=!0,Rx(r)}function ga(){if(!Jf&&Ei!==null){Jf=!0;var r=0,s=et;try{var u=Ei;for(et=1;r<u.length;r++){var p=u[r];do p=p(!0);while(p!==null)}Ei=null,gc=!1}catch(y){throw Ei!==null&&(Ei=Ei.slice(r+1)),Wu(Qo,ga),y}finally{et=s,Jf=!1}}return null}var oo=[],lo=0,yc=null,xc=0,ur=[],cr=0,is=null,Pi=1,ji="";function as(r,s){oo[lo++]=xc,oo[lo++]=yc,yc=r,xc=s}function Lx(r,s,u){ur[cr++]=Pi,ur[cr++]=ji,ur[cr++]=is,is=r;var p=Pi;r=ji;var y=32-Ye(p)-1;p&=~(1<<y),u+=1;var b=32-Ye(s)+y;if(30<b){var k=y-y%5;b=(p&(1<<k)-1).toString(32),p>>=k,y-=k,Pi=1<<32-Ye(s)+y|u<<y|p,ji=b+r}else Pi=1<<b|u<<y|p,ji=r}function Qf(r){r.return!==null&&(as(r,1),Lx(r,1,0))}function eh(r){for(;r===yc;)yc=oo[--lo],oo[lo]=null,xc=oo[--lo],oo[lo]=null;for(;r===is;)is=ur[--cr],ur[cr]=null,ji=ur[--cr],ur[cr]=null,Pi=ur[--cr],ur[cr]=null}var Kn=null,Xn=null,yt=!1,Or=null;function Ax(r,s){var u=pr(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=r,s=r.deletions,s===null?(r.deletions=[u],r.flags|=16):s.push(u)}function Ix(r,s){switch(r.tag){case 5:var u=r.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Kn=r,Xn=Kr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Kn=r,Xn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=is!==null?{id:Pi,overflow:ji}:null,r.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=pr(18,null,null,0),u.stateNode=s,u.return=r,r.child=u,Kn=r,Xn=null,!0):!1;default:return!1}}function th(r){return(r.mode&1)!==0&&(r.flags&128)===0}function nh(r){if(yt){var s=Xn;if(s){var u=s;if(!Ix(r,s)){if(th(r))throw Error(n(418));s=Kr(u.nextSibling);var p=Kn;s&&Ix(r,s)?Ax(p,u):(r.flags=r.flags&-4097|2,yt=!1,Kn=r)}}else{if(th(r))throw Error(n(418));r.flags=r.flags&-4097|2,yt=!1,Kn=r}}}function Fx(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Kn=r}function _c(r){if(r!==Kn)return!1;if(!yt)return Fx(r),yt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ve(r.type,r.memoizedProps)),s&&(s=Xn)){if(th(r))throw $x(),Error(n(418));for(;s;)Ax(r,s),s=Kr(s.nextSibling)}if(Fx(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(s===0){Xn=Kr(r.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}r=r.nextSibling}Xn=null}}else Xn=Kn?Kr(r.stateNode.nextSibling):null;return!0}function $x(){for(var r=Xn;r;)r=Kr(r.nextSibling)}function uo(){Xn=Kn=null,yt=!1}function rh(r){Or===null?Or=[r]:Or.push(r)}var QE=F.ReactCurrentBatchConfig;function Cl(r,s,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var p=u.stateNode}if(!p)throw Error(n(147,r));var y=p,b=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===b?s.ref:(s=function(k){var W=y.refs;k===null?delete W[b]:W[b]=k},s._stringRef=b,s)}if(typeof r!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,r))}return r}function wc(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Bx(r){var s=r._init;return s(r._payload)}function qx(r){function s(ae,J){if(r){var se=ae.deletions;se===null?(ae.deletions=[J],ae.flags|=16):se.push(J)}}function u(ae,J){if(!r)return null;for(;J!==null;)s(ae,J),J=J.sibling;return null}function p(ae,J){for(ae=new Map;J!==null;)J.key!==null?ae.set(J.key,J):ae.set(J.index,J),J=J.sibling;return ae}function y(ae,J){return ae=Ca(ae,J),ae.index=0,ae.sibling=null,ae}function b(ae,J,se){return ae.index=se,r?(se=ae.alternate,se!==null?(se=se.index,se<J?(ae.flags|=2,J):se):(ae.flags|=2,J)):(ae.flags|=1048576,J)}function k(ae){return r&&ae.alternate===null&&(ae.flags|=2),ae}function W(ae,J,se,Ne){return J===null||J.tag!==6?(J=Vh(se,ae.mode,Ne),J.return=ae,J):(J=y(J,se),J.return=ae,J)}function G(ae,J,se,Ne){var Le=se.type;return Le===H?xe(ae,J,se.props.children,Ne,se.key):J!==null&&(J.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===de&&Bx(Le)===J.type)?(Ne=y(J,se.props),Ne.ref=Cl(ae,J,se),Ne.return=ae,Ne):(Ne=Hc(se.type,se.key,se.props,null,ae.mode,Ne),Ne.ref=Cl(ae,J,se),Ne.return=ae,Ne)}function ue(ae,J,se,Ne){return J===null||J.tag!==4||J.stateNode.containerInfo!==se.containerInfo||J.stateNode.implementation!==se.implementation?(J=Gh(se,ae.mode,Ne),J.return=ae,J):(J=y(J,se.children||[]),J.return=ae,J)}function xe(ae,J,se,Ne,Le){return J===null||J.tag!==7?(J=hs(se,ae.mode,Ne,Le),J.return=ae,J):(J=y(J,se),J.return=ae,J)}function we(ae,J,se){if(typeof J=="string"&&J!==""||typeof J=="number")return J=Vh(""+J,ae.mode,se),J.return=ae,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case B:return se=Hc(J.type,J.key,J.props,null,ae.mode,se),se.ref=Cl(ae,null,J),se.return=ae,se;case q:return J=Gh(J,ae.mode,se),J.return=ae,J;case de:var Ne=J._init;return we(ae,Ne(J._payload),se)}if(Zt(J)||fe(J))return J=hs(J,ae.mode,se,null),J.return=ae,J;wc(ae,J)}return null}function ge(ae,J,se,Ne){var Le=J!==null?J.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return Le!==null?null:W(ae,J,""+se,Ne);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case B:return se.key===Le?G(ae,J,se,Ne):null;case q:return se.key===Le?ue(ae,J,se,Ne):null;case de:return Le=se._init,ge(ae,J,Le(se._payload),Ne)}if(Zt(se)||fe(se))return Le!==null?null:xe(ae,J,se,Ne,null);wc(ae,se)}return null}function ke(ae,J,se,Ne,Le){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return ae=ae.get(se)||null,W(J,ae,""+Ne,Le);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case B:return ae=ae.get(Ne.key===null?se:Ne.key)||null,G(J,ae,Ne,Le);case q:return ae=ae.get(Ne.key===null?se:Ne.key)||null,ue(J,ae,Ne,Le);case de:var Fe=Ne._init;return ke(ae,J,se,Fe(Ne._payload),Le)}if(Zt(Ne)||fe(Ne))return ae=ae.get(se)||null,xe(J,ae,Ne,Le,null);wc(J,Ne)}return null}function Me(ae,J,se,Ne){for(var Le=null,Fe=null,$e=J,Ue=J=0,Xt=null;$e!==null&&Ue<se.length;Ue++){$e.index>Ue?(Xt=$e,$e=null):Xt=$e.sibling;var rt=ge(ae,$e,se[Ue],Ne);if(rt===null){$e===null&&($e=Xt);break}r&&$e&&rt.alternate===null&&s(ae,$e),J=b(rt,J,Ue),Fe===null?Le=rt:Fe.sibling=rt,Fe=rt,$e=Xt}if(Ue===se.length)return u(ae,$e),yt&&as(ae,Ue),Le;if($e===null){for(;Ue<se.length;Ue++)$e=we(ae,se[Ue],Ne),$e!==null&&(J=b($e,J,Ue),Fe===null?Le=$e:Fe.sibling=$e,Fe=$e);return yt&&as(ae,Ue),Le}for($e=p(ae,$e);Ue<se.length;Ue++)Xt=ke($e,ae,Ue,se[Ue],Ne),Xt!==null&&(r&&Xt.alternate!==null&&$e.delete(Xt.key===null?Ue:Xt.key),J=b(Xt,J,Ue),Fe===null?Le=Xt:Fe.sibling=Xt,Fe=Xt);return r&&$e.forEach(function(Ea){return s(ae,Ea)}),yt&&as(ae,Ue),Le}function ze(ae,J,se,Ne){var Le=fe(se);if(typeof Le!="function")throw Error(n(150));if(se=Le.call(se),se==null)throw Error(n(151));for(var Fe=Le=null,$e=J,Ue=J=0,Xt=null,rt=se.next();$e!==null&&!rt.done;Ue++,rt=se.next()){$e.index>Ue?(Xt=$e,$e=null):Xt=$e.sibling;var Ea=ge(ae,$e,rt.value,Ne);if(Ea===null){$e===null&&($e=Xt);break}r&&$e&&Ea.alternate===null&&s(ae,$e),J=b(Ea,J,Ue),Fe===null?Le=Ea:Fe.sibling=Ea,Fe=Ea,$e=Xt}if(rt.done)return u(ae,$e),yt&&as(ae,Ue),Le;if($e===null){for(;!rt.done;Ue++,rt=se.next())rt=we(ae,rt.value,Ne),rt!==null&&(J=b(rt,J,Ue),Fe===null?Le=rt:Fe.sibling=rt,Fe=rt);return yt&&as(ae,Ue),Le}for($e=p(ae,$e);!rt.done;Ue++,rt=se.next())rt=ke($e,ae,Ue,rt.value,Ne),rt!==null&&(r&&rt.alternate!==null&&$e.delete(rt.key===null?Ue:rt.key),J=b(rt,J,Ue),Fe===null?Le=rt:Fe.sibling=rt,Fe=rt);return r&&$e.forEach(function(MP){return s(ae,MP)}),yt&&as(ae,Ue),Le}function Tt(ae,J,se,Ne){if(typeof se=="object"&&se!==null&&se.type===H&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case B:e:{for(var Le=se.key,Fe=J;Fe!==null;){if(Fe.key===Le){if(Le=se.type,Le===H){if(Fe.tag===7){u(ae,Fe.sibling),J=y(Fe,se.props.children),J.return=ae,ae=J;break e}}else if(Fe.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===de&&Bx(Le)===Fe.type){u(ae,Fe.sibling),J=y(Fe,se.props),J.ref=Cl(ae,Fe,se),J.return=ae,ae=J;break e}u(ae,Fe);break}else s(ae,Fe);Fe=Fe.sibling}se.type===H?(J=hs(se.props.children,ae.mode,Ne,se.key),J.return=ae,ae=J):(Ne=Hc(se.type,se.key,se.props,null,ae.mode,Ne),Ne.ref=Cl(ae,J,se),Ne.return=ae,ae=Ne)}return k(ae);case q:e:{for(Fe=se.key;J!==null;){if(J.key===Fe)if(J.tag===4&&J.stateNode.containerInfo===se.containerInfo&&J.stateNode.implementation===se.implementation){u(ae,J.sibling),J=y(J,se.children||[]),J.return=ae,ae=J;break e}else{u(ae,J);break}else s(ae,J);J=J.sibling}J=Gh(se,ae.mode,Ne),J.return=ae,ae=J}return k(ae);case de:return Fe=se._init,Tt(ae,J,Fe(se._payload),Ne)}if(Zt(se))return Me(ae,J,se,Ne);if(fe(se))return ze(ae,J,se,Ne);wc(ae,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,J!==null&&J.tag===6?(u(ae,J.sibling),J=y(J,se),J.return=ae,ae=J):(u(ae,J),J=Vh(se,ae.mode,Ne),J.return=ae,ae=J),k(ae)):u(ae,J)}return Tt}var co=qx(!0),Ux=qx(!1),bc=ma(null),Sc=null,fo=null,ih=null;function ah(){ih=fo=Sc=null}function sh(r){var s=bc.current;pt(bc),r._currentValue=s}function oh(r,s,u){for(;r!==null;){var p=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),r===u)break;r=r.return}}function ho(r,s){Sc=r,ih=fo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Dn=!0),r.firstContext=null)}function dr(r){var s=r._currentValue;if(ih!==r)if(r={context:r,memoizedValue:s,next:null},fo===null){if(Sc===null)throw Error(n(308));fo=r,Sc.dependencies={lanes:0,firstContext:r}}else fo=fo.next=r;return s}var ss=null;function lh(r){ss===null?ss=[r]:ss.push(r)}function Wx(r,s,u,p){var y=s.interleaved;return y===null?(u.next=u,lh(s)):(u.next=y.next,y.next=u),s.interleaved=u,ki(r,p)}function ki(r,s){r.lanes|=s;var u=r.alternate;for(u!==null&&(u.lanes|=s),u=r,r=r.return;r!==null;)r.childLanes|=s,u=r.alternate,u!==null&&(u.childLanes|=s),u=r,r=r.return;return u.tag===3?u.stateNode:null}var ya=!1;function uh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hx(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ti(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function xa(r,s,u){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(nt&2)!==0){var y=p.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),p.pending=s,ki(r,u)}return y=p.interleaved,y===null?(s.next=s,lh(p)):(s.next=y.next,y.next=s),p.interleaved=s,ki(r,u)}function Nc(r,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var p=s.lanes;p&=r.pendingLanes,u|=p,s.lanes=u,Er(r,u)}}function Yx(r,s){var u=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var k={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};b===null?y=b=k:b=b.next=k,u=u.next}while(u!==null);b===null?y=b=s:b=b.next=s}else y=b=s;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:p.shared,effects:p.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=s:r.next=s,u.lastBaseUpdate=s}function Cc(r,s,u,p){var y=r.updateQueue;ya=!1;var b=y.firstBaseUpdate,k=y.lastBaseUpdate,W=y.shared.pending;if(W!==null){y.shared.pending=null;var G=W,ue=G.next;G.next=null,k===null?b=ue:k.next=ue,k=G;var xe=r.alternate;xe!==null&&(xe=xe.updateQueue,W=xe.lastBaseUpdate,W!==k&&(W===null?xe.firstBaseUpdate=ue:W.next=ue,xe.lastBaseUpdate=G))}if(b!==null){var we=y.baseState;k=0,xe=ue=G=null,W=b;do{var ge=W.lane,ke=W.eventTime;if((p&ge)===ge){xe!==null&&(xe=xe.next={eventTime:ke,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Me=r,ze=W;switch(ge=s,ke=u,ze.tag){case 1:if(Me=ze.payload,typeof Me=="function"){we=Me.call(ke,we,ge);break e}we=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=ze.payload,ge=typeof Me=="function"?Me.call(ke,we,ge):Me,ge==null)break e;we=ne({},we,ge);break e;case 2:ya=!0}}W.callback!==null&&W.lane!==0&&(r.flags|=64,ge=y.effects,ge===null?y.effects=[W]:ge.push(W))}else ke={eventTime:ke,lane:ge,tag:W.tag,payload:W.payload,callback:W.callback,next:null},xe===null?(ue=xe=ke,G=we):xe=xe.next=ke,k|=ge;if(W=W.next,W===null){if(W=y.shared.pending,W===null)break;ge=W,W=ge.next,ge.next=null,y.lastBaseUpdate=ge,y.shared.pending=null}}while(!0);if(xe===null&&(G=we),y.baseState=G,y.firstBaseUpdate=ue,y.lastBaseUpdate=xe,s=y.shared.interleaved,s!==null){y=s;do k|=y.lane,y=y.next;while(y!==s)}else b===null&&(y.shared.lanes=0);us|=k,r.lanes=k,r.memoizedState=we}}function Zx(r,s,u){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var p=r[s],y=p.callback;if(y!==null){if(p.callback=null,p=u,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var El={},Xr=ma(El),Pl=ma(El),jl=ma(El);function os(r){if(r===El)throw Error(n(174));return r}function ch(r,s){switch(ft(jl,s),ft(Pl,r),ft(Xr,El),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:nr(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=nr(s,r)}pt(Xr),ft(Xr,s)}function po(){pt(Xr),pt(Pl),pt(jl)}function Vx(r){os(jl.current);var s=os(Xr.current),u=nr(s,r.type);s!==u&&(ft(Pl,r),ft(Xr,u))}function dh(r){Pl.current===r&&(pt(Xr),pt(Pl))}var St=ma(0);function Ec(r){for(var s=r;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fh=[];function hh(){for(var r=0;r<fh.length;r++)fh[r]._workInProgressVersionPrimary=null;fh.length=0}var Pc=F.ReactCurrentDispatcher,ph=F.ReactCurrentBatchConfig,ls=0,Nt=null,It=null,Gt=null,jc=!1,kl=!1,Tl=0,eP=0;function cn(){throw Error(n(321))}function mh(r,s){if(s===null)return!1;for(var u=0;u<s.length&&u<r.length;u++)if(!Vn(r[u],s[u]))return!1;return!0}function vh(r,s,u,p,y,b){if(ls=b,Nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Pc.current=r===null||r.memoizedState===null?iP:aP,r=u(p,y),kl){b=0;do{if(kl=!1,Tl=0,25<=b)throw Error(n(301));b+=1,Gt=It=null,s.updateQueue=null,Pc.current=sP,r=u(p,y)}while(kl)}if(Pc.current=Oc,s=It!==null&&It.next!==null,ls=0,Gt=It=Nt=null,jc=!1,s)throw Error(n(300));return r}function gh(){var r=Tl!==0;return Tl=0,r}function Jr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Nt.memoizedState=Gt=r:Gt=Gt.next=r,Gt}function fr(){if(It===null){var r=Nt.alternate;r=r!==null?r.memoizedState:null}else r=It.next;var s=Gt===null?Nt.memoizedState:Gt.next;if(s!==null)Gt=s,It=r;else{if(r===null)throw Error(n(310));It=r,r={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Gt===null?Nt.memoizedState=Gt=r:Gt=Gt.next=r}return Gt}function Ol(r,s){return typeof s=="function"?s(r):s}function yh(r){var s=fr(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var p=It,y=p.baseQueue,b=u.pending;if(b!==null){if(y!==null){var k=y.next;y.next=b.next,b.next=k}p.baseQueue=y=b,u.pending=null}if(y!==null){b=y.next,p=p.baseState;var W=k=null,G=null,ue=b;do{var xe=ue.lane;if((ls&xe)===xe)G!==null&&(G=G.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),p=ue.hasEagerState?ue.eagerState:r(p,ue.action);else{var we={lane:xe,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};G===null?(W=G=we,k=p):G=G.next=we,Nt.lanes|=xe,us|=xe}ue=ue.next}while(ue!==null&&ue!==b);G===null?k=p:G.next=W,Vn(p,s.memoizedState)||(Dn=!0),s.memoizedState=p,s.baseState=k,s.baseQueue=G,u.lastRenderedState=p}if(r=u.interleaved,r!==null){y=r;do b=y.lane,Nt.lanes|=b,us|=b,y=y.next;while(y!==r)}else y===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function xh(r){var s=fr(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var p=u.dispatch,y=u.pending,b=s.memoizedState;if(y!==null){u.pending=null;var k=y=y.next;do b=r(b,k.action),k=k.next;while(k!==y);Vn(b,s.memoizedState)||(Dn=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),u.lastRenderedState=b}return[b,p]}function Gx(){}function Kx(r,s){var u=Nt,p=fr(),y=s(),b=!Vn(p.memoizedState,y);if(b&&(p.memoizedState=y,Dn=!0),p=p.queue,_h(Qx.bind(null,u,p,r),[r]),p.getSnapshot!==s||b||Gt!==null&&Gt.memoizedState.tag&1){if(u.flags|=2048,Ml(9,Jx.bind(null,u,p,y,s),void 0,null),Kt===null)throw Error(n(349));(ls&30)!==0||Xx(u,s,y)}return y}function Xx(r,s,u){r.flags|=16384,r={getSnapshot:s,value:u},s=Nt.updateQueue,s===null?(s={lastEffect:null,stores:null},Nt.updateQueue=s,s.stores=[r]):(u=s.stores,u===null?s.stores=[r]:u.push(r))}function Jx(r,s,u,p){s.value=u,s.getSnapshot=p,e_(s)&&t_(r)}function Qx(r,s,u){return u(function(){e_(s)&&t_(r)})}function e_(r){var s=r.getSnapshot;r=r.value;try{var u=s();return!Vn(r,u)}catch{return!0}}function t_(r){var s=ki(r,1);s!==null&&Rr(s,r,1,-1)}function n_(r){var s=Jr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:r},s.queue=r,r=r.dispatch=rP.bind(null,Nt,r),[s.memoizedState,r]}function Ml(r,s,u,p){return r={tag:r,create:s,destroy:u,deps:p,next:null},s=Nt.updateQueue,s===null?(s={lastEffect:null,stores:null},Nt.updateQueue=s,s.lastEffect=r.next=r):(u=s.lastEffect,u===null?s.lastEffect=r.next=r:(p=u.next,u.next=r,r.next=p,s.lastEffect=r)),r}function r_(){return fr().memoizedState}function kc(r,s,u,p){var y=Jr();Nt.flags|=r,y.memoizedState=Ml(1|s,u,void 0,p===void 0?null:p)}function Tc(r,s,u,p){var y=fr();p=p===void 0?null:p;var b=void 0;if(It!==null){var k=It.memoizedState;if(b=k.destroy,p!==null&&mh(p,k.deps)){y.memoizedState=Ml(s,u,b,p);return}}Nt.flags|=r,y.memoizedState=Ml(1|s,u,b,p)}function i_(r,s){return kc(8390656,8,r,s)}function _h(r,s){return Tc(2048,8,r,s)}function a_(r,s){return Tc(4,2,r,s)}function s_(r,s){return Tc(4,4,r,s)}function o_(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function l_(r,s,u){return u=u!=null?u.concat([r]):null,Tc(4,4,o_.bind(null,s,r),u)}function wh(){}function u_(r,s){var u=fr();s=s===void 0?null:s;var p=u.memoizedState;return p!==null&&s!==null&&mh(s,p[1])?p[0]:(u.memoizedState=[r,s],r)}function c_(r,s){var u=fr();s=s===void 0?null:s;var p=u.memoizedState;return p!==null&&s!==null&&mh(s,p[1])?p[0]:(r=r(),u.memoizedState=[r,s],r)}function d_(r,s,u){return(ls&21)===0?(r.baseState&&(r.baseState=!1,Dn=!0),r.memoizedState=u):(Vn(u,s)||(u=Yu(),Nt.lanes|=u,us|=u,r.baseState=!0),s)}function tP(r,s){var u=et;et=u!==0&&4>u?u:4,r(!0);var p=ph.transition;ph.transition={};try{r(!1),s()}finally{et=u,ph.transition=p}}function f_(){return fr().memoizedState}function nP(r,s,u){var p=Sa(r);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},h_(r))p_(s,u);else if(u=Wx(r,s,u,p),u!==null){var y=Cn();Rr(u,r,p,y),m_(u,s,p)}}function rP(r,s,u){var p=Sa(r),y={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(h_(r))p_(s,y);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var k=s.lastRenderedState,W=b(k,u);if(y.hasEagerState=!0,y.eagerState=W,Vn(W,k)){var G=s.interleaved;G===null?(y.next=y,lh(s)):(y.next=G.next,G.next=y),s.interleaved=y;return}}catch{}finally{}u=Wx(r,s,y,p),u!==null&&(y=Cn(),Rr(u,r,p,y),m_(u,s,p))}}function h_(r){var s=r.alternate;return r===Nt||s!==null&&s===Nt}function p_(r,s){kl=jc=!0;var u=r.pending;u===null?s.next=s:(s.next=u.next,u.next=s),r.pending=s}function m_(r,s,u){if((u&4194240)!==0){var p=s.lanes;p&=r.pendingLanes,u|=p,s.lanes=u,Er(r,u)}}var Oc={readContext:dr,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},iP={readContext:dr,useCallback:function(r,s){return Jr().memoizedState=[r,s===void 0?null:s],r},useContext:dr,useEffect:i_,useImperativeHandle:function(r,s,u){return u=u!=null?u.concat([r]):null,kc(4194308,4,o_.bind(null,s,r),u)},useLayoutEffect:function(r,s){return kc(4194308,4,r,s)},useInsertionEffect:function(r,s){return kc(4,2,r,s)},useMemo:function(r,s){var u=Jr();return s=s===void 0?null:s,r=r(),u.memoizedState=[r,s],r},useReducer:function(r,s,u){var p=Jr();return s=u!==void 0?u(s):s,p.memoizedState=p.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},p.queue=r,r=r.dispatch=nP.bind(null,Nt,r),[p.memoizedState,r]},useRef:function(r){var s=Jr();return r={current:r},s.memoizedState=r},useState:n_,useDebugValue:wh,useDeferredValue:function(r){return Jr().memoizedState=r},useTransition:function(){var r=n_(!1),s=r[0];return r=tP.bind(null,r[1]),Jr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,u){var p=Nt,y=Jr();if(yt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=s(),Kt===null)throw Error(n(349));(ls&30)!==0||Xx(p,s,u)}y.memoizedState=u;var b={value:u,getSnapshot:s};return y.queue=b,i_(Qx.bind(null,p,b,r),[r]),p.flags|=2048,Ml(9,Jx.bind(null,p,b,u,s),void 0,null),u},useId:function(){var r=Jr(),s=Kt.identifierPrefix;if(yt){var u=ji,p=Pi;u=(p&~(1<<32-Ye(p)-1)).toString(32)+u,s=":"+s+"R"+u,u=Tl++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=eP++,s=":"+s+"r"+u.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},aP={readContext:dr,useCallback:u_,useContext:dr,useEffect:_h,useImperativeHandle:l_,useInsertionEffect:a_,useLayoutEffect:s_,useMemo:c_,useReducer:yh,useRef:r_,useState:function(){return yh(Ol)},useDebugValue:wh,useDeferredValue:function(r){var s=fr();return d_(s,It.memoizedState,r)},useTransition:function(){var r=yh(Ol)[0],s=fr().memoizedState;return[r,s]},useMutableSource:Gx,useSyncExternalStore:Kx,useId:f_,unstable_isNewReconciler:!1},sP={readContext:dr,useCallback:u_,useContext:dr,useEffect:_h,useImperativeHandle:l_,useInsertionEffect:a_,useLayoutEffect:s_,useMemo:c_,useReducer:xh,useRef:r_,useState:function(){return xh(Ol)},useDebugValue:wh,useDeferredValue:function(r){var s=fr();return It===null?s.memoizedState=r:d_(s,It.memoizedState,r)},useTransition:function(){var r=xh(Ol)[0],s=fr().memoizedState;return[r,s]},useMutableSource:Gx,useSyncExternalStore:Kx,useId:f_,unstable_isNewReconciler:!1};function Mr(r,s){if(r&&r.defaultProps){s=ne({},s),r=r.defaultProps;for(var u in r)s[u]===void 0&&(s[u]=r[u]);return s}return s}function bh(r,s,u,p){s=r.memoizedState,u=u(p,s),u=u==null?s:ne({},s,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Mc={isMounted:function(r){return(r=r._reactInternals)?qr(r)===r:!1},enqueueSetState:function(r,s,u){r=r._reactInternals;var p=Cn(),y=Sa(r),b=Ti(p,y);b.payload=s,u!=null&&(b.callback=u),s=xa(r,b,y),s!==null&&(Rr(s,r,y,p),Nc(s,r,y))},enqueueReplaceState:function(r,s,u){r=r._reactInternals;var p=Cn(),y=Sa(r),b=Ti(p,y);b.tag=1,b.payload=s,u!=null&&(b.callback=u),s=xa(r,b,y),s!==null&&(Rr(s,r,y,p),Nc(s,r,y))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var u=Cn(),p=Sa(r),y=Ti(u,p);y.tag=2,s!=null&&(y.callback=s),s=xa(r,y,p),s!==null&&(Rr(s,r,p,u),Nc(s,r,p))}};function v_(r,s,u,p,y,b,k){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,b,k):s.prototype&&s.prototype.isPureReactComponent?!Zr(u,p)||!Zr(y,b):!0}function g_(r,s,u){var p=!1,y=va,b=s.contextType;return typeof b=="object"&&b!==null?b=dr(b):(y=Mn(s)?rs:un.current,p=s.contextTypes,b=(p=p!=null)?so(r,y):va),s=new s(u,b),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Mc,r.stateNode=s,s._reactInternals=r,p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=y,r.__reactInternalMemoizedMaskedChildContext=b),s}function y_(r,s,u,p){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,p),s.state!==r&&Mc.enqueueReplaceState(s,s.state,null)}function Sh(r,s,u,p){var y=r.stateNode;y.props=u,y.state=r.memoizedState,y.refs={},uh(r);var b=s.contextType;typeof b=="object"&&b!==null?y.context=dr(b):(b=Mn(s)?rs:un.current,y.context=so(r,b)),y.state=r.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(bh(r,s,b,u),y.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(s=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),s!==y.state&&Mc.enqueueReplaceState(y,y.state,null),Cc(r,u,y,p),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308)}function mo(r,s){try{var u="",p=s;do u+=oe(p),p=p.return;while(p);var y=u}catch(b){y=`
Error generating stack: `+b.message+`
`+b.stack}return{value:r,source:s,stack:y,digest:null}}function Nh(r,s,u){return{value:r,source:null,stack:u??null,digest:s??null}}function Ch(r,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var oP=typeof WeakMap=="function"?WeakMap:Map;function x_(r,s,u){u=Ti(-1,u),u.tag=3,u.payload={element:null};var p=s.value;return u.callback=function(){Fc||(Fc=!0,$h=p),Ch(r,s)},u}function __(r,s,u){u=Ti(-1,u),u.tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var y=s.value;u.payload=function(){return p(y)},u.callback=function(){Ch(r,s)}}var b=r.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(u.callback=function(){Ch(r,s),typeof p!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var k=s.stack;this.componentDidCatch(s.value,{componentStack:k!==null?k:""})}),u}function w_(r,s,u){var p=r.pingCache;if(p===null){p=r.pingCache=new oP;var y=new Set;p.set(s,y)}else y=p.get(s),y===void 0&&(y=new Set,p.set(s,y));y.has(u)||(y.add(u),r=wP.bind(null,r,s,u),s.then(r,r))}function b_(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function S_(r,s,u,p,y){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=Ti(-1,1),s.tag=2,xa(u,s,1))),u.lanes|=1),r):(r.flags|=65536,r.lanes=y,r)}var lP=F.ReactCurrentOwner,Dn=!1;function Nn(r,s,u,p){s.child=r===null?Ux(s,null,u,p):co(s,r.child,u,p)}function N_(r,s,u,p,y){u=u.render;var b=s.ref;return ho(s,y),p=vh(r,s,u,p,b,y),u=gh(),r!==null&&!Dn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~y,Oi(r,s,y)):(yt&&u&&Qf(s),s.flags|=1,Nn(r,s,p,y),s.child)}function C_(r,s,u,p,y){if(r===null){var b=u.type;return typeof b=="function"&&!Zh(b)&&b.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=b,E_(r,s,b,p,y)):(r=Hc(u.type,null,p,s,s.mode,y),r.ref=s.ref,r.return=s,s.child=r)}if(b=r.child,(r.lanes&y)===0){var k=b.memoizedProps;if(u=u.compare,u=u!==null?u:Zr,u(k,p)&&r.ref===s.ref)return Oi(r,s,y)}return s.flags|=1,r=Ca(b,p),r.ref=s.ref,r.return=s,s.child=r}function E_(r,s,u,p,y){if(r!==null){var b=r.memoizedProps;if(Zr(b,p)&&r.ref===s.ref)if(Dn=!1,s.pendingProps=p=b,(r.lanes&y)!==0)(r.flags&131072)!==0&&(Dn=!0);else return s.lanes=r.lanes,Oi(r,s,y)}return Eh(r,s,u,p,y)}function P_(r,s,u){var p=s.pendingProps,y=p.children,b=r!==null?r.memoizedState:null;if(p.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(go,Jn),Jn|=u;else{if((u&1073741824)===0)return r=b!==null?b.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,ft(go,Jn),Jn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=b!==null?b.baseLanes:u,ft(go,Jn),Jn|=p}else b!==null?(p=b.baseLanes|u,s.memoizedState=null):p=u,ft(go,Jn),Jn|=p;return Nn(r,s,y,u),s.child}function j_(r,s){var u=s.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function Eh(r,s,u,p,y){var b=Mn(u)?rs:un.current;return b=so(s,b),ho(s,y),u=vh(r,s,u,p,b,y),p=gh(),r!==null&&!Dn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~y,Oi(r,s,y)):(yt&&p&&Qf(s),s.flags|=1,Nn(r,s,u,y),s.child)}function k_(r,s,u,p,y){if(Mn(u)){var b=!0;vc(s)}else b=!1;if(ho(s,y),s.stateNode===null)zc(r,s),g_(s,u,p),Sh(s,u,p,y),p=!0;else if(r===null){var k=s.stateNode,W=s.memoizedProps;k.props=W;var G=k.context,ue=u.contextType;typeof ue=="object"&&ue!==null?ue=dr(ue):(ue=Mn(u)?rs:un.current,ue=so(s,ue));var xe=u.getDerivedStateFromProps,we=typeof xe=="function"||typeof k.getSnapshotBeforeUpdate=="function";we||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(W!==p||G!==ue)&&y_(s,k,p,ue),ya=!1;var ge=s.memoizedState;k.state=ge,Cc(s,p,k,y),G=s.memoizedState,W!==p||ge!==G||On.current||ya?(typeof xe=="function"&&(bh(s,u,xe,p),G=s.memoizedState),(W=ya||v_(s,u,W,p,ge,G,ue))?(we||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(s.flags|=4194308)):(typeof k.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=G),k.props=p,k.state=G,k.context=ue,p=W):(typeof k.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{k=s.stateNode,Hx(r,s),W=s.memoizedProps,ue=s.type===s.elementType?W:Mr(s.type,W),k.props=ue,we=s.pendingProps,ge=k.context,G=u.contextType,typeof G=="object"&&G!==null?G=dr(G):(G=Mn(u)?rs:un.current,G=so(s,G));var ke=u.getDerivedStateFromProps;(xe=typeof ke=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(W!==we||ge!==G)&&y_(s,k,p,G),ya=!1,ge=s.memoizedState,k.state=ge,Cc(s,p,k,y);var Me=s.memoizedState;W!==we||ge!==Me||On.current||ya?(typeof ke=="function"&&(bh(s,u,ke,p),Me=s.memoizedState),(ue=ya||v_(s,u,ue,p,ge,Me,G)||!1)?(xe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(p,Me,G),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(p,Me,G)),typeof k.componentDidUpdate=="function"&&(s.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof k.componentDidUpdate!="function"||W===r.memoizedProps&&ge===r.memoizedState||(s.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||W===r.memoizedProps&&ge===r.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=Me),k.props=p,k.state=Me,k.context=G,p=ue):(typeof k.componentDidUpdate!="function"||W===r.memoizedProps&&ge===r.memoizedState||(s.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||W===r.memoizedProps&&ge===r.memoizedState||(s.flags|=1024),p=!1)}return Ph(r,s,u,p,b,y)}function Ph(r,s,u,p,y,b){j_(r,s);var k=(s.flags&128)!==0;if(!p&&!k)return y&&zx(s,u,!1),Oi(r,s,b);p=s.stateNode,lP.current=s;var W=k&&typeof u.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,r!==null&&k?(s.child=co(s,r.child,null,b),s.child=co(s,null,W,b)):Nn(r,s,W,b),s.memoizedState=p.state,y&&zx(s,u,!0),s.child}function T_(r){var s=r.stateNode;s.pendingContext?Mx(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Mx(r,s.context,!1),ch(r,s.containerInfo)}function O_(r,s,u,p,y){return uo(),rh(y),s.flags|=256,Nn(r,s,u,p),s.child}var jh={dehydrated:null,treeContext:null,retryLane:0};function kh(r){return{baseLanes:r,cachePool:null,transitions:null}}function M_(r,s,u){var p=s.pendingProps,y=St.current,b=!1,k=(s.flags&128)!==0,W;if((W=k)||(W=r!==null&&r.memoizedState===null?!1:(y&2)!==0),W?(b=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(y|=1),ft(St,y&1),r===null)return nh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(k=p.children,r=p.fallback,b?(p=s.mode,b=s.child,k={mode:"hidden",children:k},(p&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=k):b=Yc(k,p,0,null),r=hs(r,p,u,null),b.return=s,r.return=s,b.sibling=r,s.child=b,s.child.memoizedState=kh(u),s.memoizedState=jh,r):Th(s,k));if(y=r.memoizedState,y!==null&&(W=y.dehydrated,W!==null))return uP(r,s,k,p,W,y,u);if(b){b=p.fallback,k=s.mode,y=r.child,W=y.sibling;var G={mode:"hidden",children:p.children};return(k&1)===0&&s.child!==y?(p=s.child,p.childLanes=0,p.pendingProps=G,s.deletions=null):(p=Ca(y,G),p.subtreeFlags=y.subtreeFlags&14680064),W!==null?b=Ca(W,b):(b=hs(b,k,u,null),b.flags|=2),b.return=s,p.return=s,p.sibling=b,s.child=p,p=b,b=s.child,k=r.child.memoizedState,k=k===null?kh(u):{baseLanes:k.baseLanes|u,cachePool:null,transitions:k.transitions},b.memoizedState=k,b.childLanes=r.childLanes&~u,s.memoizedState=jh,p}return b=r.child,r=b.sibling,p=Ca(b,{mode:"visible",children:p.children}),(s.mode&1)===0&&(p.lanes=u),p.return=s,p.sibling=null,r!==null&&(u=s.deletions,u===null?(s.deletions=[r],s.flags|=16):u.push(r)),s.child=p,s.memoizedState=null,p}function Th(r,s){return s=Yc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Dc(r,s,u,p){return p!==null&&rh(p),co(s,r.child,null,u),r=Th(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function uP(r,s,u,p,y,b,k){if(u)return s.flags&256?(s.flags&=-257,p=Nh(Error(n(422))),Dc(r,s,k,p)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(b=p.fallback,y=s.mode,p=Yc({mode:"visible",children:p.children},y,0,null),b=hs(b,y,k,null),b.flags|=2,p.return=s,b.return=s,p.sibling=b,s.child=p,(s.mode&1)!==0&&co(s,r.child,null,k),s.child.memoizedState=kh(k),s.memoizedState=jh,b);if((s.mode&1)===0)return Dc(r,s,k,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var W=p.dgst;return p=W,b=Error(n(419)),p=Nh(b,p,void 0),Dc(r,s,k,p)}if(W=(k&r.childLanes)!==0,Dn||W){if(p=Kt,p!==null){switch(k&-k){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|k))!==0?0:y,y!==0&&y!==b.retryLane&&(b.retryLane=y,ki(r,y),Rr(p,r,y,-1))}return Yh(),p=Nh(Error(n(421))),Dc(r,s,k,p)}return y.data==="$?"?(s.flags|=128,s.child=r.child,s=bP.bind(null,r),y._reactRetry=s,null):(r=b.treeContext,Xn=Kr(y.nextSibling),Kn=s,yt=!0,Or=null,r!==null&&(ur[cr++]=Pi,ur[cr++]=ji,ur[cr++]=is,Pi=r.id,ji=r.overflow,is=s),s=Th(s,p.children),s.flags|=4096,s)}function D_(r,s,u){r.lanes|=s;var p=r.alternate;p!==null&&(p.lanes|=s),oh(r.return,s,u)}function Oh(r,s,u,p,y){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=p,b.tail=u,b.tailMode=y)}function z_(r,s,u){var p=s.pendingProps,y=p.revealOrder,b=p.tail;if(Nn(r,s,p.children,u),p=St.current,(p&2)!==0)p=p&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&D_(r,u,s);else if(r.tag===19)D_(r,u,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(ft(St,p),(s.mode&1)===0)s.memoizedState=null;else switch(y){case"forwards":for(u=s.child,y=null;u!==null;)r=u.alternate,r!==null&&Ec(r)===null&&(y=u),u=u.sibling;u=y,u===null?(y=s.child,s.child=null):(y=u.sibling,u.sibling=null),Oh(s,!1,y,u,b);break;case"backwards":for(u=null,y=s.child,s.child=null;y!==null;){if(r=y.alternate,r!==null&&Ec(r)===null){s.child=y;break}r=y.sibling,y.sibling=u,u=y,y=r}Oh(s,!0,u,null,b);break;case"together":Oh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function zc(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Oi(r,s,u){if(r!==null&&(s.dependencies=r.dependencies),us|=s.lanes,(u&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,u=Ca(r,r.pendingProps),s.child=u,u.return=s;r.sibling!==null;)r=r.sibling,u=u.sibling=Ca(r,r.pendingProps),u.return=s;u.sibling=null}return s.child}function cP(r,s,u){switch(s.tag){case 3:T_(s),uo();break;case 5:Vx(s);break;case 1:Mn(s.type)&&vc(s);break;case 4:ch(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,y=s.memoizedProps.value;ft(bc,p._currentValue),p._currentValue=y;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(ft(St,St.current&1),s.flags|=128,null):(u&s.child.childLanes)!==0?M_(r,s,u):(ft(St,St.current&1),r=Oi(r,s,u),r!==null?r.sibling:null);ft(St,St.current&1);break;case 19:if(p=(u&s.childLanes)!==0,(r.flags&128)!==0){if(p)return z_(r,s,u);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ft(St,St.current),p)break;return null;case 22:case 23:return s.lanes=0,P_(r,s,u)}return Oi(r,s,u)}var R_,Mh,L_,A_;R_=function(r,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Mh=function(){},L_=function(r,s,u,p){var y=r.memoizedProps;if(y!==p){r=s.stateNode,os(Xr.current);var b=null;switch(u){case"input":y=Ht(r,y),p=Ht(r,p),b=[];break;case"select":y=ne({},y,{value:void 0}),p=ne({},p,{value:void 0}),b=[];break;case"textarea":y=Vt(r,y),p=Vt(r,p),b=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=ve)}Ho(u,p);var k;u=null;for(ue in y)if(!p.hasOwnProperty(ue)&&y.hasOwnProperty(ue)&&y[ue]!=null)if(ue==="style"){var W=y[ue];for(k in W)W.hasOwnProperty(k)&&(u||(u={}),u[k]="")}else ue!=="dangerouslySetInnerHTML"&&ue!=="children"&&ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&ue!=="autoFocus"&&(o.hasOwnProperty(ue)?b||(b=[]):(b=b||[]).push(ue,null));for(ue in p){var G=p[ue];if(W=y?.[ue],p.hasOwnProperty(ue)&&G!==W&&(G!=null||W!=null))if(ue==="style")if(W){for(k in W)!W.hasOwnProperty(k)||G&&G.hasOwnProperty(k)||(u||(u={}),u[k]="");for(k in G)G.hasOwnProperty(k)&&W[k]!==G[k]&&(u||(u={}),u[k]=G[k])}else u||(b||(b=[]),b.push(ue,u)),u=G;else ue==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,W=W?W.__html:void 0,G!=null&&W!==G&&(b=b||[]).push(ue,G)):ue==="children"?typeof G!="string"&&typeof G!="number"||(b=b||[]).push(ue,""+G):ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&(o.hasOwnProperty(ue)?(G!=null&&ue==="onScroll"&&lt("scroll",r),b||W===G||(b=[])):(b=b||[]).push(ue,G))}u&&(b=b||[]).push("style",u);var ue=b;(s.updateQueue=ue)&&(s.flags|=4)}},A_=function(r,s,u,p){u!==p&&(s.flags|=4)};function Dl(r,s){if(!yt)switch(r.tailMode){case"hidden":s=r.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function dn(r){var s=r.alternate!==null&&r.alternate.child===r.child,u=0,p=0;if(s)for(var y=r.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=p,r.childLanes=u,s}function dP(r,s,u){var p=s.pendingProps;switch(eh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(s),null;case 1:return Mn(s.type)&&mc(),dn(s),null;case 3:return p=s.stateNode,po(),pt(On),pt(un),hh(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(r===null||r.child===null)&&(_c(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Or!==null&&(Uh(Or),Or=null))),Mh(r,s),dn(s),null;case 5:dh(s);var y=os(jl.current);if(u=s.type,r!==null&&s.stateNode!=null)L_(r,s,u,p,y),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(n(166));return dn(s),null}if(r=os(Xr.current),_c(s)){p=s.stateNode,u=s.type;var b=s.memoizedProps;switch(p[lr]=s,p[ha]=b,r=(s.mode&1)!==0,u){case"dialog":lt("cancel",p),lt("close",p);break;case"iframe":case"object":case"embed":lt("load",p);break;case"video":case"audio":for(y=0;y<ca.length;y++)lt(ca[y],p);break;case"source":lt("error",p);break;case"img":case"image":case"link":lt("error",p),lt("load",p);break;case"details":lt("toggle",p);break;case"input":Be(p,b),lt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!b.multiple},lt("invalid",p);break;case"textarea":_t(p,b),lt("invalid",p)}Ho(u,b),y=null;for(var k in b)if(b.hasOwnProperty(k)){var W=b[k];k==="children"?typeof W=="string"?p.textContent!==W&&(b.suppressHydrationWarning!==!0&&le(p.textContent,W,r),y=["children",W]):typeof W=="number"&&p.textContent!==""+W&&(b.suppressHydrationWarning!==!0&&le(p.textContent,W,r),y=["children",""+W]):o.hasOwnProperty(k)&&W!=null&&k==="onScroll"&&lt("scroll",p)}switch(u){case"input":De(p),Yt(p,b,!0);break;case"textarea":De(p),tr(p);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(p.onclick=ve)}p=y,s.updateQueue=p,p!==null&&(s.flags|=4)}else{k=y.nodeType===9?y:y.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Sr(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=k.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=k.createElement(u,{is:p.is}):(r=k.createElement(u),u==="select"&&(k=r,p.multiple?k.multiple=!0:p.size&&(k.size=p.size))):r=k.createElementNS(r,u),r[lr]=s,r[ha]=p,R_(r,s,!1,!1),s.stateNode=r;e:{switch(k=ci(u,p),u){case"dialog":lt("cancel",r),lt("close",r),y=p;break;case"iframe":case"object":case"embed":lt("load",r),y=p;break;case"video":case"audio":for(y=0;y<ca.length;y++)lt(ca[y],r);y=p;break;case"source":lt("error",r),y=p;break;case"img":case"image":case"link":lt("error",r),lt("load",r),y=p;break;case"details":lt("toggle",r),y=p;break;case"input":Be(r,p),y=Ht(r,p),lt("invalid",r);break;case"option":y=p;break;case"select":r._wrapperState={wasMultiple:!!p.multiple},y=ne({},p,{value:void 0}),lt("invalid",r);break;case"textarea":_t(r,p),y=Vt(r,p),lt("invalid",r);break;default:y=p}Ho(u,y),W=y;for(b in W)if(W.hasOwnProperty(b)){var G=W[b];b==="style"?jn(r,G):b==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Fa(r,G)):b==="children"?typeof G=="string"?(u!=="textarea"||G!=="")&&Nr(r,G):typeof G=="number"&&Nr(r,""+G):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(o.hasOwnProperty(b)?G!=null&&b==="onScroll"&&lt("scroll",r):G!=null&&A(r,b,G,k))}switch(u){case"input":De(r),Yt(r,p,!1);break;case"textarea":De(r),tr(r);break;case"option":p.value!=null&&r.setAttribute("value",""+ye(p.value));break;case"select":r.multiple=!!p.multiple,b=p.value,b!=null?Dt(r,!!p.multiple,b,!1):p.defaultValue!=null&&Dt(r,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(r.onclick=ve)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return dn(s),null;case 6:if(r&&s.stateNode!=null)A_(r,s,r.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(n(166));if(u=os(jl.current),os(Xr.current),_c(s)){if(p=s.stateNode,u=s.memoizedProps,p[lr]=s,(b=p.nodeValue!==u)&&(r=Kn,r!==null))switch(r.tag){case 3:le(p.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&le(p.nodeValue,u,(r.mode&1)!==0)}b&&(s.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[lr]=s,s.stateNode=p}return dn(s),null;case 13:if(pt(St),p=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(yt&&Xn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)$x(),uo(),s.flags|=98560,b=!1;else if(b=_c(s),p!==null&&p.dehydrated!==null){if(r===null){if(!b)throw Error(n(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[lr]=s}else uo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dn(s),b=!1}else Or!==null&&(Uh(Or),Or=null),b=!0;if(!b)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=u,s):(p=p!==null,p!==(r!==null&&r.memoizedState!==null)&&p&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(St.current&1)!==0?Ft===0&&(Ft=3):Yh())),s.updateQueue!==null&&(s.flags|=4),dn(s),null);case 4:return po(),Mh(r,s),r===null&&da(s.stateNode.containerInfo),dn(s),null;case 10:return sh(s.type._context),dn(s),null;case 17:return Mn(s.type)&&mc(),dn(s),null;case 19:if(pt(St),b=s.memoizedState,b===null)return dn(s),null;if(p=(s.flags&128)!==0,k=b.rendering,k===null)if(p)Dl(b,!1);else{if(Ft!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(k=Ec(r),k!==null){for(s.flags|=128,Dl(b,!1),p=k.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=u,u=s.child;u!==null;)b=u,r=p,b.flags&=14680066,k=b.alternate,k===null?(b.childLanes=0,b.lanes=r,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=k.childLanes,b.lanes=k.lanes,b.child=k.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=k.memoizedProps,b.memoizedState=k.memoizedState,b.updateQueue=k.updateQueue,b.type=k.type,r=k.dependencies,b.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return ft(St,St.current&1|2),s.child}r=r.sibling}b.tail!==null&&wt()>yo&&(s.flags|=128,p=!0,Dl(b,!1),s.lanes=4194304)}else{if(!p)if(r=Ec(k),r!==null){if(s.flags|=128,p=!0,u=r.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),Dl(b,!0),b.tail===null&&b.tailMode==="hidden"&&!k.alternate&&!yt)return dn(s),null}else 2*wt()-b.renderingStartTime>yo&&u!==1073741824&&(s.flags|=128,p=!0,Dl(b,!1),s.lanes=4194304);b.isBackwards?(k.sibling=s.child,s.child=k):(u=b.last,u!==null?u.sibling=k:s.child=k,b.last=k)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=wt(),s.sibling=null,u=St.current,ft(St,p?u&1|2:u&1),s):(dn(s),null);case 22:case 23:return Hh(),p=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==p&&(s.flags|=8192),p&&(s.mode&1)!==0?(Jn&1073741824)!==0&&(dn(s),s.subtreeFlags&6&&(s.flags|=8192)):dn(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function fP(r,s){switch(eh(s),s.tag){case 1:return Mn(s.type)&&mc(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return po(),pt(On),pt(un),hh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return dh(s),null;case 13:if(pt(St),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));uo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return pt(St),null;case 4:return po(),null;case 10:return sh(s.type._context),null;case 22:case 23:return Hh(),null;case 24:return null;default:return null}}var Rc=!1,fn=!1,hP=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function vo(r,s){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){Pt(r,s,p)}else u.current=null}function Dh(r,s,u){try{u()}catch(p){Pt(r,s,p)}}var I_=!1;function pP(r,s){if(Pe=Ga,r=vl(),gl(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var k=0,W=-1,G=-1,ue=0,xe=0,we=r,ge=null;t:for(;;){for(var ke;we!==u||y!==0&&we.nodeType!==3||(W=k+y),we!==b||p!==0&&we.nodeType!==3||(G=k+p),we.nodeType===3&&(k+=we.nodeValue.length),(ke=we.firstChild)!==null;)ge=we,we=ke;for(;;){if(we===r)break t;if(ge===u&&++ue===y&&(W=k),ge===b&&++xe===p&&(G=k),(ke=we.nextSibling)!==null)break;we=ge,ge=we.parentNode}we=ke}u=W===-1||G===-1?null:{start:W,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ie={focusedElem:r,selectionRange:u},Ga=!1,Oe=s;Oe!==null;)if(s=Oe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Oe=r;else for(;Oe!==null;){s=Oe;try{var Me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var ze=Me.memoizedProps,Tt=Me.memoizedState,ae=s.stateNode,J=ae.getSnapshotBeforeUpdate(s.elementType===s.type?ze:Mr(s.type,ze),Tt);ae.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var se=s.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ne){Pt(s,s.return,Ne)}if(r=s.sibling,r!==null){r.return=s.return,Oe=r;break}Oe=s.return}return Me=I_,I_=!1,Me}function zl(r,s,u){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&r)===r){var b=y.destroy;y.destroy=void 0,b!==void 0&&Dh(s,u,b)}y=y.next}while(y!==p)}}function Lc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&r)===r){var p=u.create;u.destroy=p()}u=u.next}while(u!==s)}}function zh(r){var s=r.ref;if(s!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof s=="function"?s(r):s.current=r}}function F_(r){var s=r.alternate;s!==null&&(r.alternate=null,F_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[lr],delete s[ha],delete s[pa],delete s[Gf],delete s[Kf])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function $_(r){return r.tag===5||r.tag===3||r.tag===4}function B_(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||$_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Rh(r,s,u){var p=r.tag;if(p===5||p===6)r=r.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(r,s):u.insertBefore(r,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(r,u)):(s=u,s.appendChild(r)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=ve));else if(p!==4&&(r=r.child,r!==null))for(Rh(r,s,u),r=r.sibling;r!==null;)Rh(r,s,u),r=r.sibling}function Lh(r,s,u){var p=r.tag;if(p===5||p===6)r=r.stateNode,s?u.insertBefore(r,s):u.appendChild(r);else if(p!==4&&(r=r.child,r!==null))for(Lh(r,s,u),r=r.sibling;r!==null;)Lh(r,s,u),r=r.sibling}var en=null,Dr=!1;function _a(r,s,u){for(u=u.child;u!==null;)q_(r,s,u),u=u.sibling}function q_(r,s,u){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(Ua,u)}catch{}switch(u.tag){case 5:fn||vo(u,s);case 6:var p=en,y=Dr;en=null,_a(r,s,u),en=p,Dr=y,en!==null&&(Dr?(r=en,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):en.removeChild(u.stateNode));break;case 18:en!==null&&(Dr?(r=en,u=u.stateNode,r.nodeType===8?Nl(r.parentNode,u):r.nodeType===1&&Nl(r,u),Hn(r)):Nl(en,u.stateNode));break;case 4:p=en,y=Dr,en=u.stateNode.containerInfo,Dr=!0,_a(r,s,u),en=p,Dr=y;break;case 0:case 11:case 14:case 15:if(!fn&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var b=y,k=b.destroy;b=b.tag,k!==void 0&&((b&2)!==0||(b&4)!==0)&&Dh(u,s,k),y=y.next}while(y!==p)}_a(r,s,u);break;case 1:if(!fn&&(vo(u,s),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(W){Pt(u,s,W)}_a(r,s,u);break;case 21:_a(r,s,u);break;case 22:u.mode&1?(fn=(p=fn)||u.memoizedState!==null,_a(r,s,u),fn=p):_a(r,s,u);break;default:_a(r,s,u)}}function U_(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new hP),s.forEach(function(p){var y=SP.bind(null,r,p);u.has(p)||(u.add(p),p.then(y,y))})}}function zr(r,s){var u=s.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];try{var b=r,k=s,W=k;e:for(;W!==null;){switch(W.tag){case 5:en=W.stateNode,Dr=!1;break e;case 3:en=W.stateNode.containerInfo,Dr=!0;break e;case 4:en=W.stateNode.containerInfo,Dr=!0;break e}W=W.return}if(en===null)throw Error(n(160));q_(b,k,y),en=null,Dr=!1;var G=y.alternate;G!==null&&(G.return=null),y.return=null}catch(ue){Pt(y,s,ue)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)W_(s,r),s=s.sibling}function W_(r,s){var u=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(zr(s,r),Qr(r),p&4){try{zl(3,r,r.return),Lc(3,r)}catch(ze){Pt(r,r.return,ze)}try{zl(5,r,r.return)}catch(ze){Pt(r,r.return,ze)}}break;case 1:zr(s,r),Qr(r),p&512&&u!==null&&vo(u,u.return);break;case 5:if(zr(s,r),Qr(r),p&512&&u!==null&&vo(u,u.return),r.flags&32){var y=r.stateNode;try{Nr(y,"")}catch(ze){Pt(r,r.return,ze)}}if(p&4&&(y=r.stateNode,y!=null)){var b=r.memoizedProps,k=u!==null?u.memoizedProps:b,W=r.type,G=r.updateQueue;if(r.updateQueue=null,G!==null)try{W==="input"&&b.type==="radio"&&b.name!=null&&Jt(y,b),ci(W,k);var ue=ci(W,b);for(k=0;k<G.length;k+=2){var xe=G[k],we=G[k+1];xe==="style"?jn(y,we):xe==="dangerouslySetInnerHTML"?Fa(y,we):xe==="children"?Nr(y,we):A(y,xe,we,ue)}switch(W){case"input":He(y,b);break;case"textarea":Bn(y,b);break;case"select":var ge=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!b.multiple;var ke=b.value;ke!=null?Dt(y,!!b.multiple,ke,!1):ge!==!!b.multiple&&(b.defaultValue!=null?Dt(y,!!b.multiple,b.defaultValue,!0):Dt(y,!!b.multiple,b.multiple?[]:"",!1))}y[ha]=b}catch(ze){Pt(r,r.return,ze)}}break;case 6:if(zr(s,r),Qr(r),p&4){if(r.stateNode===null)throw Error(n(162));y=r.stateNode,b=r.memoizedProps;try{y.nodeValue=b}catch(ze){Pt(r,r.return,ze)}}break;case 3:if(zr(s,r),Qr(r),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Hn(s.containerInfo)}catch(ze){Pt(r,r.return,ze)}break;case 4:zr(s,r),Qr(r);break;case 13:zr(s,r),Qr(r),y=r.child,y.flags&8192&&(b=y.memoizedState!==null,y.stateNode.isHidden=b,!b||y.alternate!==null&&y.alternate.memoizedState!==null||(Fh=wt())),p&4&&U_(r);break;case 22:if(xe=u!==null&&u.memoizedState!==null,r.mode&1?(fn=(ue=fn)||xe,zr(s,r),fn=ue):zr(s,r),Qr(r),p&8192){if(ue=r.memoizedState!==null,(r.stateNode.isHidden=ue)&&!xe&&(r.mode&1)!==0)for(Oe=r,xe=r.child;xe!==null;){for(we=Oe=xe;Oe!==null;){switch(ge=Oe,ke=ge.child,ge.tag){case 0:case 11:case 14:case 15:zl(4,ge,ge.return);break;case 1:vo(ge,ge.return);var Me=ge.stateNode;if(typeof Me.componentWillUnmount=="function"){p=ge,u=ge.return;try{s=p,Me.props=s.memoizedProps,Me.state=s.memoizedState,Me.componentWillUnmount()}catch(ze){Pt(p,u,ze)}}break;case 5:vo(ge,ge.return);break;case 22:if(ge.memoizedState!==null){Z_(we);continue}}ke!==null?(ke.return=ge,Oe=ke):Z_(we)}xe=xe.sibling}e:for(xe=null,we=r;;){if(we.tag===5){if(xe===null){xe=we;try{y=we.stateNode,ue?(b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(W=we.stateNode,G=we.memoizedProps.style,k=G!=null&&G.hasOwnProperty("display")?G.display:null,W.style.display=Pn("display",k))}catch(ze){Pt(r,r.return,ze)}}}else if(we.tag===6){if(xe===null)try{we.stateNode.nodeValue=ue?"":we.memoizedProps}catch(ze){Pt(r,r.return,ze)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===r)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===r)break e;for(;we.sibling===null;){if(we.return===null||we.return===r)break e;xe===we&&(xe=null),we=we.return}xe===we&&(xe=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:zr(s,r),Qr(r),p&4&&U_(r);break;case 21:break;default:zr(s,r),Qr(r)}}function Qr(r){var s=r.flags;if(s&2){try{e:{for(var u=r.return;u!==null;){if($_(u)){var p=u;break e}u=u.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Nr(y,""),p.flags&=-33);var b=B_(r);Lh(r,b,y);break;case 3:case 4:var k=p.stateNode.containerInfo,W=B_(r);Rh(r,W,k);break;default:throw Error(n(161))}}catch(G){Pt(r,r.return,G)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function mP(r,s,u){Oe=r,H_(r)}function H_(r,s,u){for(var p=(r.mode&1)!==0;Oe!==null;){var y=Oe,b=y.child;if(y.tag===22&&p){var k=y.memoizedState!==null||Rc;if(!k){var W=y.alternate,G=W!==null&&W.memoizedState!==null||fn;W=Rc;var ue=fn;if(Rc=k,(fn=G)&&!ue)for(Oe=y;Oe!==null;)k=Oe,G=k.child,k.tag===22&&k.memoizedState!==null?V_(y):G!==null?(G.return=k,Oe=G):V_(y);for(;b!==null;)Oe=b,H_(b),b=b.sibling;Oe=y,Rc=W,fn=ue}Y_(r)}else(y.subtreeFlags&8772)!==0&&b!==null?(b.return=y,Oe=b):Y_(r)}}function Y_(r){for(;Oe!==null;){var s=Oe;if((s.flags&8772)!==0){var u=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:fn||Lc(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!fn)if(u===null)p.componentDidMount();else{var y=s.elementType===s.type?u.memoizedProps:Mr(s.type,u.memoizedProps);p.componentDidUpdate(y,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var b=s.updateQueue;b!==null&&Zx(s,b,p);break;case 3:var k=s.updateQueue;if(k!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}Zx(s,k,u)}break;case 5:var W=s.stateNode;if(u===null&&s.flags&4){u=W;var G=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&u.focus();break;case"img":G.src&&(u.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ue=s.alternate;if(ue!==null){var xe=ue.memoizedState;if(xe!==null){var we=xe.dehydrated;we!==null&&Hn(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}fn||s.flags&512&&zh(s)}catch(ge){Pt(s,s.return,ge)}}if(s===r){Oe=null;break}if(u=s.sibling,u!==null){u.return=s.return,Oe=u;break}Oe=s.return}}function Z_(r){for(;Oe!==null;){var s=Oe;if(s===r){Oe=null;break}var u=s.sibling;if(u!==null){u.return=s.return,Oe=u;break}Oe=s.return}}function V_(r){for(;Oe!==null;){var s=Oe;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{Lc(4,s)}catch(G){Pt(s,u,G)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var y=s.return;try{p.componentDidMount()}catch(G){Pt(s,y,G)}}var b=s.return;try{zh(s)}catch(G){Pt(s,b,G)}break;case 5:var k=s.return;try{zh(s)}catch(G){Pt(s,k,G)}}}catch(G){Pt(s,s.return,G)}if(s===r){Oe=null;break}var W=s.sibling;if(W!==null){W.return=s.return,Oe=W;break}Oe=s.return}}var vP=Math.ceil,Ac=F.ReactCurrentDispatcher,Ah=F.ReactCurrentOwner,hr=F.ReactCurrentBatchConfig,nt=0,Kt=null,Rt=null,tn=0,Jn=0,go=ma(0),Ft=0,Rl=null,us=0,Ic=0,Ih=0,Ll=null,zn=null,Fh=0,yo=1/0,Mi=null,Fc=!1,$h=null,wa=null,$c=!1,ba=null,Bc=0,Al=0,Bh=null,qc=-1,Uc=0;function Cn(){return(nt&6)!==0?wt():qc!==-1?qc:qc=wt()}function Sa(r){return(r.mode&1)===0?1:(nt&2)!==0&&tn!==0?tn&-tn:QE.transition!==null?(Uc===0&&(Uc=Yu()),Uc):(r=et,r!==0||(r=window.event,r=r===void 0?16:Xe(r.type)),r)}function Rr(r,s,u,p){if(50<Al)throw Al=0,Bh=null,Error(n(185));Un(r,u,p),((nt&2)===0||r!==Kt)&&(r===Kt&&((nt&2)===0&&(Ic|=u),Ft===4&&Na(r,tn)),Rn(r,p),u===1&&nt===0&&(s.mode&1)===0&&(yo=wt()+500,gc&&ga()))}function Rn(r,s){var u=r.callbackNode;As(r,s);var p=dt(r,r===Kt?tn:0);if(p===0)u!==null&&Jo(u),r.callbackNode=null,r.callbackPriority=0;else if(s=p&-p,r.callbackPriority!==s){if(u!=null&&Jo(u),s===1)r.tag===0?JE(K_.bind(null,r)):Rx(K_.bind(null,r)),ln(function(){(nt&6)===0&&ga()}),u=null;else{switch(Ji(p)){case 1:u=Qo;break;case 4:u=Hu;break;case 16:u=Rs;break;case 536870912:u=Vi;break;default:u=Rs}u=i0(u,G_.bind(null,r))}r.callbackPriority=s,r.callbackNode=u}}function G_(r,s){if(qc=-1,Uc=0,(nt&6)!==0)throw Error(n(327));var u=r.callbackNode;if(xo()&&r.callbackNode!==u)return null;var p=dt(r,r===Kt?tn:0);if(p===0)return null;if((p&30)!==0||(p&r.expiredLanes)!==0||s)s=Wc(r,p);else{s=p;var y=nt;nt|=2;var b=J_();(Kt!==r||tn!==s)&&(Mi=null,yo=wt()+500,ds(r,s));do try{xP();break}catch(W){X_(r,W)}while(!0);ah(),Ac.current=b,nt=y,Rt!==null?s=0:(Kt=null,tn=0,s=Ft)}if(s!==0){if(s===2&&(y=sn(r),y!==0&&(p=y,s=qh(r,y))),s===1)throw u=Rl,ds(r,0),Na(r,p),Rn(r,wt()),u;if(s===6)Na(r,p);else{if(y=r.current.alternate,(p&30)===0&&!gP(y)&&(s=Wc(r,p),s===2&&(b=sn(r),b!==0&&(p=b,s=qh(r,b))),s===1))throw u=Rl,ds(r,0),Na(r,p),Rn(r,wt()),u;switch(r.finishedWork=y,r.finishedLanes=p,s){case 0:case 1:throw Error(n(345));case 2:fs(r,zn,Mi);break;case 3:if(Na(r,p),(p&130023424)===p&&(s=Fh+500-wt(),10<s)){if(dt(r,0)!==0)break;if(y=r.suspendedLanes,(y&p)!==p){Cn(),r.pingedLanes|=r.suspendedLanes&y;break}r.timeoutHandle=At(fs.bind(null,r,zn,Mi),s);break}fs(r,zn,Mi);break;case 4:if(Na(r,p),(p&4194240)===p)break;for(s=r.eventTimes,y=-1;0<p;){var k=31-Ye(p);b=1<<k,k=s[k],k>y&&(y=k),p&=~b}if(p=y,p=wt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*vP(p/1960))-p,10<p){r.timeoutHandle=At(fs.bind(null,r,zn,Mi),p);break}fs(r,zn,Mi);break;case 5:fs(r,zn,Mi);break;default:throw Error(n(329))}}}return Rn(r,wt()),r.callbackNode===u?G_.bind(null,r):null}function qh(r,s){var u=Ll;return r.current.memoizedState.isDehydrated&&(ds(r,s).flags|=256),r=Wc(r,s),r!==2&&(s=zn,zn=u,s!==null&&Uh(s)),r}function Uh(r){zn===null?zn=r:zn.push.apply(zn,r)}function gP(r){for(var s=r;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var y=u[p],b=y.getSnapshot;y=y.value;try{if(!Vn(b(),y))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Na(r,s){for(s&=~Ih,s&=~Ic,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var u=31-Ye(s),p=1<<u;r[u]=-1,s&=~p}}function K_(r){if((nt&6)!==0)throw Error(n(327));xo();var s=dt(r,0);if((s&1)===0)return Rn(r,wt()),null;var u=Wc(r,s);if(r.tag!==0&&u===2){var p=sn(r);p!==0&&(s=p,u=qh(r,p))}if(u===1)throw u=Rl,ds(r,0),Na(r,s),Rn(r,wt()),u;if(u===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,fs(r,zn,Mi),Rn(r,wt()),null}function Wh(r,s){var u=nt;nt|=1;try{return r(s)}finally{nt=u,nt===0&&(yo=wt()+500,gc&&ga())}}function cs(r){ba!==null&&ba.tag===0&&(nt&6)===0&&xo();var s=nt;nt|=1;var u=hr.transition,p=et;try{if(hr.transition=null,et=1,r)return r()}finally{et=p,hr.transition=u,nt=s,(nt&6)===0&&ga()}}function Hh(){Jn=go.current,pt(go)}function ds(r,s){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,zt(u)),Rt!==null)for(u=Rt.return;u!==null;){var p=u;switch(eh(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&mc();break;case 3:po(),pt(On),pt(un),hh();break;case 5:dh(p);break;case 4:po();break;case 13:pt(St);break;case 19:pt(St);break;case 10:sh(p.type._context);break;case 22:case 23:Hh()}u=u.return}if(Kt=r,Rt=r=Ca(r.current,null),tn=Jn=s,Ft=0,Rl=null,Ih=Ic=us=0,zn=Ll=null,ss!==null){for(s=0;s<ss.length;s++)if(u=ss[s],p=u.interleaved,p!==null){u.interleaved=null;var y=p.next,b=u.pending;if(b!==null){var k=b.next;b.next=y,p.next=k}u.pending=p}ss=null}return r}function X_(r,s){do{var u=Rt;try{if(ah(),Pc.current=Oc,jc){for(var p=Nt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}jc=!1}if(ls=0,Gt=It=Nt=null,kl=!1,Tl=0,Ah.current=null,u===null||u.return===null){Ft=1,Rl=s,Rt=null;break}e:{var b=r,k=u.return,W=u,G=s;if(s=tn,W.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var ue=G,xe=W,we=xe.tag;if((xe.mode&1)===0&&(we===0||we===11||we===15)){var ge=xe.alternate;ge?(xe.updateQueue=ge.updateQueue,xe.memoizedState=ge.memoizedState,xe.lanes=ge.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var ke=b_(k);if(ke!==null){ke.flags&=-257,S_(ke,k,W,b,s),ke.mode&1&&w_(b,ue,s),s=ke,G=ue;var Me=s.updateQueue;if(Me===null){var ze=new Set;ze.add(G),s.updateQueue=ze}else Me.add(G);break e}else{if((s&1)===0){w_(b,ue,s),Yh();break e}G=Error(n(426))}}else if(yt&&W.mode&1){var Tt=b_(k);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),S_(Tt,k,W,b,s),rh(mo(G,W));break e}}b=G=mo(G,W),Ft!==4&&(Ft=2),Ll===null?Ll=[b]:Ll.push(b),b=k;do{switch(b.tag){case 3:b.flags|=65536,s&=-s,b.lanes|=s;var ae=x_(b,G,s);Yx(b,ae);break e;case 1:W=G;var J=b.type,se=b.stateNode;if((b.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(wa===null||!wa.has(se)))){b.flags|=65536,s&=-s,b.lanes|=s;var Ne=__(b,W,s);Yx(b,Ne);break e}}b=b.return}while(b!==null)}e0(u)}catch(Le){s=Le,Rt===u&&u!==null&&(Rt=u=u.return);continue}break}while(!0)}function J_(){var r=Ac.current;return Ac.current=Oc,r===null?Oc:r}function Yh(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Kt===null||(us&268435455)===0&&(Ic&268435455)===0||Na(Kt,tn)}function Wc(r,s){var u=nt;nt|=2;var p=J_();(Kt!==r||tn!==s)&&(Mi=null,ds(r,s));do try{yP();break}catch(y){X_(r,y)}while(!0);if(ah(),nt=u,Ac.current=p,Rt!==null)throw Error(n(261));return Kt=null,tn=0,Ft}function yP(){for(;Rt!==null;)Q_(Rt)}function xP(){for(;Rt!==null&&!Df();)Q_(Rt)}function Q_(r){var s=r0(r.alternate,r,Jn);r.memoizedProps=r.pendingProps,s===null?e0(r):Rt=s,Ah.current=null}function e0(r){var s=r;do{var u=s.alternate;if(r=s.return,(s.flags&32768)===0){if(u=dP(u,s,Jn),u!==null){Rt=u;return}}else{if(u=fP(u,s),u!==null){u.flags&=32767,Rt=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ft=6,Rt=null;return}}if(s=s.sibling,s!==null){Rt=s;return}Rt=s=r}while(s!==null);Ft===0&&(Ft=5)}function fs(r,s,u){var p=et,y=hr.transition;try{hr.transition=null,et=1,_P(r,s,u,p)}finally{hr.transition=y,et=p}return null}function _P(r,s,u,p){do xo();while(ba!==null);if((nt&6)!==0)throw Error(n(327));u=r.finishedWork;var y=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var b=u.lanes|u.childLanes;if(Et(r,b),r===Kt&&(Rt=Kt=null,tn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||$c||($c=!0,i0(Rs,function(){return xo(),null})),b=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||b){b=hr.transition,hr.transition=null;var k=et;et=1;var W=nt;nt|=4,Ah.current=null,pP(r,u),W_(u,r),sr(Ie),Ga=!!Pe,Ie=Pe=null,r.current=u,mP(u),zs(),nt=W,et=k,hr.transition=b}else r.current=u;if($c&&($c=!1,ba=r,Bc=y),b=r.pendingLanes,b===0&&(wa=null),Wa(u.stateNode),Rn(r,wt()),s!==null)for(p=r.onRecoverableError,u=0;u<s.length;u++)y=s[u],p(y.value,{componentStack:y.stack,digest:y.digest});if(Fc)throw Fc=!1,r=$h,$h=null,r;return(Bc&1)!==0&&r.tag!==0&&xo(),b=r.pendingLanes,(b&1)!==0?r===Bh?Al++:(Al=0,Bh=r):Al=0,ga(),null}function xo(){if(ba!==null){var r=Ji(Bc),s=hr.transition,u=et;try{if(hr.transition=null,et=16>r?16:r,ba===null)var p=!1;else{if(r=ba,ba=null,Bc=0,(nt&6)!==0)throw Error(n(331));var y=nt;for(nt|=4,Oe=r.current;Oe!==null;){var b=Oe,k=b.child;if((Oe.flags&16)!==0){var W=b.deletions;if(W!==null){for(var G=0;G<W.length;G++){var ue=W[G];for(Oe=ue;Oe!==null;){var xe=Oe;switch(xe.tag){case 0:case 11:case 15:zl(8,xe,b)}var we=xe.child;if(we!==null)we.return=xe,Oe=we;else for(;Oe!==null;){xe=Oe;var ge=xe.sibling,ke=xe.return;if(F_(xe),xe===ue){Oe=null;break}if(ge!==null){ge.return=ke,Oe=ge;break}Oe=ke}}}var Me=b.alternate;if(Me!==null){var ze=Me.child;if(ze!==null){Me.child=null;do{var Tt=ze.sibling;ze.sibling=null,ze=Tt}while(ze!==null)}}Oe=b}}if((b.subtreeFlags&2064)!==0&&k!==null)k.return=b,Oe=k;else e:for(;Oe!==null;){if(b=Oe,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:zl(9,b,b.return)}var ae=b.sibling;if(ae!==null){ae.return=b.return,Oe=ae;break e}Oe=b.return}}var J=r.current;for(Oe=J;Oe!==null;){k=Oe;var se=k.child;if((k.subtreeFlags&2064)!==0&&se!==null)se.return=k,Oe=se;else e:for(k=J;Oe!==null;){if(W=Oe,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:Lc(9,W)}}catch(Le){Pt(W,W.return,Le)}if(W===k){Oe=null;break e}var Ne=W.sibling;if(Ne!==null){Ne.return=W.return,Oe=Ne;break e}Oe=W.return}}if(nt=y,ga(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(Ua,r)}catch{}p=!0}return p}finally{et=u,hr.transition=s}}return!1}function t0(r,s,u){s=mo(u,s),s=x_(r,s,1),r=xa(r,s,1),s=Cn(),r!==null&&(Un(r,1,s),Rn(r,s))}function Pt(r,s,u){if(r.tag===3)t0(r,r,u);else for(;s!==null;){if(s.tag===3){t0(s,r,u);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(wa===null||!wa.has(p))){r=mo(u,r),r=__(s,r,1),s=xa(s,r,1),r=Cn(),s!==null&&(Un(s,1,r),Rn(s,r));break}}s=s.return}}function wP(r,s,u){var p=r.pingCache;p!==null&&p.delete(s),s=Cn(),r.pingedLanes|=r.suspendedLanes&u,Kt===r&&(tn&u)===u&&(Ft===4||Ft===3&&(tn&130023424)===tn&&500>wt()-Fh?ds(r,0):Ih|=u),Rn(r,s)}function n0(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ki,Ki<<=1,(Ki&130023424)===0&&(Ki=4194304)));var u=Cn();r=ki(r,s),r!==null&&(Un(r,s,u),Rn(r,u))}function bP(r){var s=r.memoizedState,u=0;s!==null&&(u=s.retryLane),n0(r,u)}function SP(r,s){var u=0;switch(r.tag){case 13:var p=r.stateNode,y=r.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=r.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(s),n0(r,u)}var r0;r0=function(r,s,u){if(r!==null)if(r.memoizedProps!==s.pendingProps||On.current)Dn=!0;else{if((r.lanes&u)===0&&(s.flags&128)===0)return Dn=!1,cP(r,s,u);Dn=(r.flags&131072)!==0}else Dn=!1,yt&&(s.flags&1048576)!==0&&Lx(s,xc,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;zc(r,s),r=s.pendingProps;var y=so(s,un.current);ho(s,u),y=vh(null,s,p,r,y,u);var b=gh();return s.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Mn(p)?(b=!0,vc(s)):b=!1,s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,uh(s),y.updater=Mc,s.stateNode=y,y._reactInternals=s,Sh(s,p,r,u),s=Ph(null,s,p,!0,b,u)):(s.tag=0,yt&&b&&Qf(s),Nn(null,s,y,u),s=s.child),s;case 16:p=s.elementType;e:{switch(zc(r,s),r=s.pendingProps,y=p._init,p=y(p._payload),s.type=p,y=s.tag=CP(p),r=Mr(p,r),y){case 0:s=Eh(null,s,p,r,u);break e;case 1:s=k_(null,s,p,r,u);break e;case 11:s=N_(null,s,p,r,u);break e;case 14:s=C_(null,s,p,Mr(p.type,r),u);break e}throw Error(n(306,p,""))}return s;case 0:return p=s.type,y=s.pendingProps,y=s.elementType===p?y:Mr(p,y),Eh(r,s,p,y,u);case 1:return p=s.type,y=s.pendingProps,y=s.elementType===p?y:Mr(p,y),k_(r,s,p,y,u);case 3:e:{if(T_(s),r===null)throw Error(n(387));p=s.pendingProps,b=s.memoizedState,y=b.element,Hx(r,s),Cc(s,p,null,u);var k=s.memoizedState;if(p=k.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){y=mo(Error(n(423)),s),s=O_(r,s,p,u,y);break e}else if(p!==y){y=mo(Error(n(424)),s),s=O_(r,s,p,u,y);break e}else for(Xn=Kr(s.stateNode.containerInfo.firstChild),Kn=s,yt=!0,Or=null,u=Ux(s,null,p,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(uo(),p===y){s=Oi(r,s,u);break e}Nn(r,s,p,u)}s=s.child}return s;case 5:return Vx(s),r===null&&nh(s),p=s.type,y=s.pendingProps,b=r!==null?r.memoizedProps:null,k=y.children,Ve(p,y)?k=null:b!==null&&Ve(p,b)&&(s.flags|=32),j_(r,s),Nn(r,s,k,u),s.child;case 6:return r===null&&nh(s),null;case 13:return M_(r,s,u);case 4:return ch(s,s.stateNode.containerInfo),p=s.pendingProps,r===null?s.child=co(s,null,p,u):Nn(r,s,p,u),s.child;case 11:return p=s.type,y=s.pendingProps,y=s.elementType===p?y:Mr(p,y),N_(r,s,p,y,u);case 7:return Nn(r,s,s.pendingProps,u),s.child;case 8:return Nn(r,s,s.pendingProps.children,u),s.child;case 12:return Nn(r,s,s.pendingProps.children,u),s.child;case 10:e:{if(p=s.type._context,y=s.pendingProps,b=s.memoizedProps,k=y.value,ft(bc,p._currentValue),p._currentValue=k,b!==null)if(Vn(b.value,k)){if(b.children===y.children&&!On.current){s=Oi(r,s,u);break e}}else for(b=s.child,b!==null&&(b.return=s);b!==null;){var W=b.dependencies;if(W!==null){k=b.child;for(var G=W.firstContext;G!==null;){if(G.context===p){if(b.tag===1){G=Ti(-1,u&-u),G.tag=2;var ue=b.updateQueue;if(ue!==null){ue=ue.shared;var xe=ue.pending;xe===null?G.next=G:(G.next=xe.next,xe.next=G),ue.pending=G}}b.lanes|=u,G=b.alternate,G!==null&&(G.lanes|=u),oh(b.return,u,s),W.lanes|=u;break}G=G.next}}else if(b.tag===10)k=b.type===s.type?null:b.child;else if(b.tag===18){if(k=b.return,k===null)throw Error(n(341));k.lanes|=u,W=k.alternate,W!==null&&(W.lanes|=u),oh(k,u,s),k=b.sibling}else k=b.child;if(k!==null)k.return=b;else for(k=b;k!==null;){if(k===s){k=null;break}if(b=k.sibling,b!==null){b.return=k.return,k=b;break}k=k.return}b=k}Nn(r,s,y.children,u),s=s.child}return s;case 9:return y=s.type,p=s.pendingProps.children,ho(s,u),y=dr(y),p=p(y),s.flags|=1,Nn(r,s,p,u),s.child;case 14:return p=s.type,y=Mr(p,s.pendingProps),y=Mr(p.type,y),C_(r,s,p,y,u);case 15:return E_(r,s,s.type,s.pendingProps,u);case 17:return p=s.type,y=s.pendingProps,y=s.elementType===p?y:Mr(p,y),zc(r,s),s.tag=1,Mn(p)?(r=!0,vc(s)):r=!1,ho(s,u),g_(s,p,y),Sh(s,p,y,u),Ph(null,s,p,!0,r,u);case 19:return z_(r,s,u);case 22:return P_(r,s,u)}throw Error(n(156,s.tag))};function i0(r,s){return Wu(r,s)}function NP(r,s,u,p){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(r,s,u,p){return new NP(r,s,u,p)}function Zh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function CP(r){if(typeof r=="function")return Zh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ee)return 11;if(r===_e)return 14}return 2}function Ca(r,s){var u=r.alternate;return u===null?(u=pr(r.tag,s,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=s,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,s=r.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function Hc(r,s,u,p,y,b){var k=2;if(p=r,typeof r=="function")Zh(r)&&(k=1);else if(typeof r=="string")k=5;else e:switch(r){case H:return hs(u.children,y,b,s);case $:k=8,y|=8;break;case V:return r=pr(12,u,s,y|2),r.elementType=V,r.lanes=b,r;case K:return r=pr(13,u,s,y),r.elementType=K,r.lanes=b,r;case ce:return r=pr(19,u,s,y),r.elementType=ce,r.lanes=b,r;case he:return Yc(u,y,b,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case I:k=10;break e;case U:k=9;break e;case ee:k=11;break e;case _e:k=14;break e;case de:k=16,p=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=pr(k,u,s,y),s.elementType=r,s.type=p,s.lanes=b,s}function hs(r,s,u,p){return r=pr(7,r,p,s),r.lanes=u,r}function Yc(r,s,u,p){return r=pr(22,r,p,s),r.elementType=he,r.lanes=u,r.stateNode={isHidden:!1},r}function Vh(r,s,u){return r=pr(6,r,null,s),r.lanes=u,r}function Gh(r,s,u){return s=pr(4,r.children!==null?r.children:[],r.key,s),s.lanes=u,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function EP(r,s,u,p,y){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Kh(r,s,u,p,y,b,k,W,G){return r=new EP(r,s,u,W,G),s===1?(s=1,b===!0&&(s|=8)):s=0,b=pr(3,null,null,s),r.current=b,b.stateNode=r,b.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},uh(b),r}function PP(r,s,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:p==null?null:""+p,children:r,containerInfo:s,implementation:u}}function a0(r){if(!r)return va;r=r._reactInternals;e:{if(qr(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Mn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var u=r.type;if(Mn(u))return Dx(r,u,s)}return s}function s0(r,s,u,p,y,b,k,W,G){return r=Kh(u,p,!0,r,y,b,k,W,G),r.context=a0(null),u=r.current,p=Cn(),y=Sa(u),b=Ti(p,y),b.callback=s??null,xa(u,b,y),r.current.lanes=y,Un(r,y,p),Rn(r,p),r}function Zc(r,s,u,p){var y=s.current,b=Cn(),k=Sa(y);return u=a0(u),s.context===null?s.context=u:s.pendingContext=u,s=Ti(b,k),s.payload={element:r},p=p===void 0?null:p,p!==null&&(s.callback=p),r=xa(y,s,k),r!==null&&(Rr(r,y,k,b),Nc(r,y,k)),k}function Vc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function o0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<s?u:s}}function Xh(r,s){o0(r,s),(r=r.alternate)&&o0(r,s)}function jP(){return null}var l0=typeof reportError=="function"?reportError:function(r){console.error(r)};function Jh(r){this._internalRoot=r}Gc.prototype.render=Jh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Zc(r,s,null,null)},Gc.prototype.unmount=Jh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;cs(function(){Zc(null,r,null,null)}),s[st]=null}};function Gc(r){this._internalRoot=r}Gc.prototype.unstable_scheduleHydration=function(r){if(r){var s=$s();r={blockedOn:null,target:r,priority:s};for(var u=0;u<Lt.length&&s!==0&&s<Lt[u].priority;u++);Lt.splice(u,0,r),u===0&&Bs(r)}};function Qh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Kc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function u0(){}function kP(r,s,u,p,y){if(y){if(typeof p=="function"){var b=p;p=function(){var ue=Vc(k);b.call(ue)}}var k=s0(s,p,r,0,null,!1,!1,"",u0);return r._reactRootContainer=k,r[st]=k.current,da(r.nodeType===8?r.parentNode:r),cs(),k}for(;y=r.lastChild;)r.removeChild(y);if(typeof p=="function"){var W=p;p=function(){var ue=Vc(G);W.call(ue)}}var G=Kh(r,0,!1,null,null,!1,!1,"",u0);return r._reactRootContainer=G,r[st]=G.current,da(r.nodeType===8?r.parentNode:r),cs(function(){Zc(s,G,u,p)}),G}function Xc(r,s,u,p,y){var b=u._reactRootContainer;if(b){var k=b;if(typeof y=="function"){var W=y;y=function(){var G=Vc(k);W.call(G)}}Zc(s,k,r,y)}else k=kP(u,s,r,y,p);return Vc(k)}Is=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var u=We(s.pendingLanes);u!==0&&(Er(s,u|1),Rn(s,wt()),(nt&6)===0&&(yo=wt()+500,ga()))}break;case 13:cs(function(){var p=ki(r,1);if(p!==null){var y=Cn();Rr(p,r,1,y)}}),Xh(r,1)}},pi=function(r){if(r.tag===13){var s=ki(r,134217728);if(s!==null){var u=Cn();Rr(s,r,134217728,u)}Xh(r,134217728)}},Fs=function(r){if(r.tag===13){var s=Sa(r),u=ki(r,s);if(u!==null){var p=Cn();Rr(u,r,s,p)}Xh(r,s)}},$s=function(){return et},Ha=function(r,s){var u=et;try{return et=r,s()}finally{et=u}},Os=function(r,s,u){switch(s){case"input":if(He(r,u),s=u.name,u.type==="radio"&&s!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var p=u[s];if(p!==r&&p.form===r.form){var y=io(p);if(!y)throw Error(n(90));Ze(p),He(p,y)}}}break;case"textarea":Bn(r,u);break;case"select":s=u.value,s!=null&&Dt(r,!!u.multiple,s,!1)}},Iu=Wh,Fu=cs;var TP={usingClientEntryPoint:!1,Events:[Ni,Ci,io,Lu,Au,Wh]},Il={findFiberByHostInstance:Si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OP={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=qu(r),r===null?null:r.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||jP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Ua=Jc.inject(OP),qn=Jc}catch{}}return Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TP,Ln.createPortal=function(r,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qh(s))throw Error(n(200));return PP(r,s,null,u)},Ln.createRoot=function(r,s){if(!Qh(r))throw Error(n(299));var u=!1,p="",y=l0;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=Kh(r,1,!1,null,null,u,!1,p,y),r[st]=s.current,da(r.nodeType===8?r.parentNode:r),new Jh(s)},Ln.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=qu(s),r=r===null?null:r.stateNode,r},Ln.flushSync=function(r){return cs(r)},Ln.hydrate=function(r,s,u){if(!Kc(s))throw Error(n(200));return Xc(null,r,s,!0,u)},Ln.hydrateRoot=function(r,s,u){if(!Qh(r))throw Error(n(405));var p=u!=null&&u.hydratedSources||null,y=!1,b="",k=l0;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),s=s0(s,null,r,1,u??null,y,!1,b,k),r[st]=s.current,da(r),p)for(r=0;r<p.length;r++)u=p[r],y=u._getVersion,y=y(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,y]:s.mutableSourceEagerHydrationData.push(u,y);return new Gc(s)},Ln.render=function(r,s,u){if(!Kc(s))throw Error(n(200));return Xc(null,r,s,!1,u)},Ln.unmountComponentAtNode=function(r){if(!Kc(r))throw Error(n(40));return r._reactRootContainer?(cs(function(){Xc(null,null,r,!1,function(){r._reactRootContainer=null,r[st]=null})}),!0):!1},Ln.unstable_batchedUpdates=Wh,Ln.unstable_renderSubtreeIntoContainer=function(r,s,u,p){if(!Kc(u))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Xc(r,s,u,!1,p)},Ln.version="18.3.1-next-f1338f8080-20240426",Ln}var g0;function rN(){if(g0)return np.exports;g0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),np.exports=BP(),np.exports}var y0;function qP(){if(y0)return Qc;y0=1;var e=rN();return Qc.createRoot=e.createRoot,Qc.hydrateRoot=e.hydrateRoot,Qc}var UP=qP();const WP=vn(UP);var iN=rN();const aN=vn(iN);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Jl.apply(this,arguments)}var ja;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ja||(ja={}));const x0="popstate";function HP(e){e===void 0&&(e={});function t(a,o){let{pathname:c,search:f,hash:m}=a.location;return Vg("",{pathname:c,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Nd(o)}return ZP(t,n,null,e)}function Mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YP(){return Math.random().toString(36).substr(2,8)}function _0(e,t){return{usr:e.state,key:e.key,idx:t}}function Vg(e,t,n,a){return n===void 0&&(n=null),Jl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Do(t):t,{state:n,key:t&&t.key||a||YP()})}function Nd(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Do(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function ZP(e,t,n,a){a===void 0&&(a={});let{window:o=document.defaultView,v5Compat:c=!1}=a,f=o.history,m=ja.Pop,v=null,x=_();x==null&&(x=0,f.replaceState(Jl({},f.state,{idx:x}),""));function _(){return(f.state||{idx:null}).idx}function w(){m=ja.Pop;let j=_(),M=j==null?null:j-x;x=j,v&&v({action:m,location:C.location,delta:M})}function N(j,M){m=ja.Push;let R=Vg(C.location,j,M);x=_()+1;let A=_0(R,x),F=C.createHref(R);try{f.pushState(A,"",F)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;o.location.assign(F)}c&&v&&v({action:m,location:C.location,delta:1})}function E(j,M){m=ja.Replace;let R=Vg(C.location,j,M);x=_();let A=_0(R,x),F=C.createHref(R);f.replaceState(A,"",F),c&&v&&v({action:m,location:C.location,delta:0})}function P(j){let M=o.location.origin!=="null"?o.location.origin:o.location.href,R=typeof j=="string"?j:Nd(j);return R=R.replace(/ $/,"%20"),Mt(M,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,M)}let C={get action(){return m},get location(){return e(o,f)},listen(j){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(x0,w),v=j,()=>{o.removeEventListener(x0,w),v=null}},createHref(j){return t(o,j)},createURL:P,encodeLocation(j){let M=P(j);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:N,replace:E,go(j){return f.go(j)}};return C}var w0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(w0||(w0={}));function VP(e,t,n){return n===void 0&&(n="/"),GP(e,t,n)}function GP(e,t,n,a){let o=typeof t=="string"?Do(t):t,c=yy(o.pathname||"/",n);if(c==null)return null;let f=oN(e);KP(f);let m=null;for(let v=0;m==null&&v<f.length;++v){let x=lj(c);m=aj(f[v],x)}return m}function oN(e,t,n,a){t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a="");let o=(c,f,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};v.relativePath.startsWith("/")&&(Mt(v.relativePath.startsWith(a),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(a.length));let x=Oa([a,v.relativePath]),_=n.concat(v);c.children&&c.children.length>0&&(Mt(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),oN(c.children,t,_,x)),!(c.path==null&&!c.index)&&t.push({path:x,score:rj(x,c.index),routesMeta:_})};return e.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,f);else for(let v of lN(c.path))o(c,f,v)}),t}function lN(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let f=lN(a.join("/")),m=[];return m.push(...f.map(v=>v===""?c:[c,v].join("/"))),o&&m.push(...f),m.map(v=>e.startsWith("/")&&v===""?"/":v)}function KP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ij(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const XP=/^:[\w-]+$/,JP=3,QP=2,ej=1,tj=10,nj=-2,b0=e=>e==="*";function rj(e,t){let n=e.split("/"),a=n.length;return n.some(b0)&&(a+=nj),t&&(a+=QP),n.filter(o=>!b0(o)).reduce((o,c)=>o+(XP.test(c)?JP:c===""?ej:tj),a)}function ij(e,t){return e.length===t.length&&e.slice(0,-1).every((a,o)=>a===t[o])?e[e.length-1]-t[t.length-1]:0}function aj(e,t,n){let{routesMeta:a}=e,o={},c="/",f=[];for(let m=0;m<a.length;++m){let v=a[m],x=m===a.length-1,_=c==="/"?t:t.slice(c.length)||"/",w=sj({path:v.relativePath,caseSensitive:v.caseSensitive,end:x},_),N=v.route;if(!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Oa([c,w.pathname]),pathnameBase:fj(Oa([c,w.pathnameBase])),route:N}),w.pathnameBase!=="/"&&(c=Oa([c,w.pathnameBase]))}return f}function sj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=oj(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((x,_,w)=>{let{paramName:N,isOptional:E}=_;if(N==="*"){let C=m[w]||"";f=c.slice(0,c.length-C.length).replace(/(.)\/+$/,"$1")}const P=m[w];return E&&!P?x[N]=void 0:x[N]=(P||"").replace(/%2F/g,"/"),x},{}),pathname:c,pathnameBase:f,pattern:e}}function oj(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),sN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,v)=>(a.push({paramName:m,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function lj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function yy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function uj(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:o=""}=typeof e=="string"?Do(e):e;return{pathname:n?n.startsWith("/")?n:cj(n,t):t,search:hj(a),hash:pj(o)}}function cj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ap(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function xy(e,t){let n=dj(e);return t?n.map((a,o)=>o===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function _y(e,t,n,a){a===void 0&&(a=!1);let o;typeof e=="string"?o=Do(e):(o=Jl({},e),Mt(!o.pathname||!o.pathname.includes("?"),ap("?","pathname","search",o)),Mt(!o.pathname||!o.pathname.includes("#"),ap("#","pathname","hash",o)),Mt(!o.search||!o.search.includes("#"),ap("#","search","hash",o)));let c=e===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=n;else{let w=t.length-1;if(!a&&f.startsWith("..")){let N=f.split("/");for(;N[0]==="..";)N.shift(),w-=1;o.pathname=N.join("/")}m=w>=0?t[w]:"/"}let v=uj(o,m),x=f&&f!=="/"&&f.endsWith("/"),_=(c||f===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(x||_)&&(v.pathname+="/"),v}const Oa=e=>e.join("/").replace(/\/\/+/g,"/"),fj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const uN=["post","put","patch","delete"];new Set(uN);const vj=["get",...uN];new Set(vj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ql.apply(this,arguments)}const wy=O.createContext(null),gj=O.createContext(null),Ra=O.createContext(null),$d=O.createContext(null),Wi=O.createContext({outlet:null,matches:[],isDataRoute:!1}),cN=O.createContext(null);function yj(e,t){let{relative:n}=t===void 0?{}:t;zo()||Mt(!1);let{basename:a,navigator:o}=O.useContext(Ra),{hash:c,pathname:f,search:m}=fN(e,{relative:n}),v=f;return a!=="/"&&(v=f==="/"?a:Oa([a,f])),o.createHref({pathname:v,search:m,hash:c})}function zo(){return O.useContext($d)!=null}function Ro(){return zo()||Mt(!1),O.useContext($d).location}function dN(e){O.useContext(Ra).static||O.useLayoutEffect(e)}function gn(){let{isDataRoute:e}=O.useContext(Wi);return e?Oj():xj()}function xj(){zo()||Mt(!1);let e=O.useContext(wy),{basename:t,future:n,navigator:a}=O.useContext(Ra),{matches:o}=O.useContext(Wi),{pathname:c}=Ro(),f=JSON.stringify(xy(o,n.v7_relativeSplatPath)),m=O.useRef(!1);return dN(()=>{m.current=!0}),O.useCallback(function(x,_){if(_===void 0&&(_={}),!m.current)return;if(typeof x=="number"){a.go(x);return}let w=_y(x,JSON.parse(f),c,_.relative==="path");e==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:Oa([t,w.pathname])),(_.replace?a.replace:a.push)(w,_.state,_)},[t,a,f,c,e])}function by(){let{matches:e}=O.useContext(Wi),t=e[e.length-1];return t?t.params:{}}function fN(e,t){let{relative:n}=t===void 0?{}:t,{future:a}=O.useContext(Ra),{matches:o}=O.useContext(Wi),{pathname:c}=Ro(),f=JSON.stringify(xy(o,a.v7_relativeSplatPath));return O.useMemo(()=>_y(e,JSON.parse(f),c,n==="path"),[e,f,c,n])}function _j(e,t){return wj(e,t)}function wj(e,t,n,a){zo()||Mt(!1);let{navigator:o}=O.useContext(Ra),{matches:c}=O.useContext(Wi),f=c[c.length-1],m=f?f.params:{};f&&f.pathname;let v=f?f.pathnameBase:"/";f&&f.route;let x=Ro(),_;if(t){var w;let j=typeof t=="string"?Do(t):t;v==="/"||(w=j.pathname)!=null&&w.startsWith(v)||Mt(!1),_=j}else _=x;let N=_.pathname||"/",E=N;if(v!=="/"){let j=v.replace(/^\//,"").split("/");E="/"+N.replace(/^\//,"").split("/").slice(j.length).join("/")}let P=VP(e,{pathname:E}),C=Ej(P&&P.map(j=>Object.assign({},j,{params:Object.assign({},m,j.params),pathname:Oa([v,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:Oa([v,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),c,n,a);return t&&C?O.createElement($d.Provider,{value:{location:Ql({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:ja.Pop}},C):C}function bj(){let e=Tj(),t=mj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:o},n):null,null)}const Sj=O.createElement(bj,null);class Nj extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?O.createElement(Wi.Provider,{value:this.props.routeContext},O.createElement(cN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Cj(e){let{routeContext:t,match:n,children:a}=e,o=O.useContext(wy);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Wi.Provider,{value:t},a)}function Ej(e,t,n,a){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),a===void 0&&(a=null),e==null){var c;if(!n)return null;if(n.errors)e=n.matches;else if((c=a)!=null&&c.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let f=e,m=(o=n)==null?void 0:o.errors;if(m!=null){let _=f.findIndex(w=>w.route.id&&m?.[w.route.id]!==void 0);_>=0||Mt(!1),f=f.slice(0,Math.min(f.length,_+1))}let v=!1,x=-1;if(n&&a&&a.v7_partialHydration)for(let _=0;_<f.length;_++){let w=f[_];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(x=_),w.route.id){let{loaderData:N,errors:E}=n,P=w.route.loader&&N[w.route.id]===void 0&&(!E||E[w.route.id]===void 0);if(w.route.lazy||P){v=!0,x>=0?f=f.slice(0,x+1):f=[f[0]];break}}}return f.reduceRight((_,w,N)=>{let E,P=!1,C=null,j=null;n&&(E=m&&w.route.id?m[w.route.id]:void 0,C=w.route.errorElement||Sj,v&&(x<0&&N===0?(Mj("route-fallback"),P=!0,j=null):x===N&&(P=!0,j=w.route.hydrateFallbackElement||null)));let M=t.concat(f.slice(0,N+1)),R=()=>{let A;return E?A=C:P?A=j:w.route.Component?A=O.createElement(w.route.Component,null):w.route.element?A=w.route.element:A=_,O.createElement(Cj,{match:w,routeContext:{outlet:_,matches:M,isDataRoute:n!=null},children:A})};return n&&(w.route.ErrorBoundary||w.route.errorElement||N===0)?O.createElement(Nj,{location:n.location,revalidation:n.revalidation,component:C,error:E,children:R(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):R()},null)}var hN=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(hN||{}),pN=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(pN||{});function Pj(e){let t=O.useContext(wy);return t||Mt(!1),t}function jj(e){let t=O.useContext(gj);return t||Mt(!1),t}function kj(e){let t=O.useContext(Wi);return t||Mt(!1),t}function mN(e){let t=kj(),n=t.matches[t.matches.length-1];return n.route.id||Mt(!1),n.route.id}function Tj(){var e;let t=O.useContext(cN),n=jj(),a=mN();return t!==void 0?t:(e=n.errors)==null?void 0:e[a]}function Oj(){let{router:e}=Pj(hN.UseNavigateStable),t=mN(pN.UseNavigateStable),n=O.useRef(!1);return dN(()=>{n.current=!0}),O.useCallback(function(o,c){c===void 0&&(c={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Ql({fromRouteId:t},c)))},[e,t])}const S0={};function Mj(e,t,n){S0[e]||(S0[e]=!0)}function Dj(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function sp(e){let{to:t,replace:n,state:a,relative:o}=e;zo()||Mt(!1);let{future:c,static:f}=O.useContext(Ra),{matches:m}=O.useContext(Wi),{pathname:v}=Ro(),x=gn(),_=_y(t,xy(m,c.v7_relativeSplatPath),v,o==="path"),w=JSON.stringify(_);return O.useEffect(()=>x(JSON.parse(w),{replace:n,state:a,relative:o}),[x,w,o,n,a]),null}function $t(e){Mt(!1)}function zj(e){let{basename:t="/",children:n=null,location:a,navigationType:o=ja.Pop,navigator:c,static:f=!1,future:m}=e;zo()&&Mt(!1);let v=t.replace(/^\/*/,"/"),x=O.useMemo(()=>({basename:v,navigator:c,static:f,future:Ql({v7_relativeSplatPath:!1},m)}),[v,m,c,f]);typeof a=="string"&&(a=Do(a));let{pathname:_="/",search:w="",hash:N="",state:E=null,key:P="default"}=a,C=O.useMemo(()=>{let j=yy(_,v);return j==null?null:{location:{pathname:j,search:w,hash:N,state:E,key:P},navigationType:o}},[v,_,w,N,E,P,o]);return C==null?null:O.createElement(Ra.Provider,{value:x},O.createElement($d.Provider,{children:n,value:C}))}function Rj(e){let{children:t,location:n}=e;return _j(Gg(t),n)}new Promise(()=>{});function Gg(e,t){t===void 0&&(t=[]);let n=[];return O.Children.forEach(e,(a,o)=>{if(!O.isValidElement(a))return;let c=[...t,o];if(a.type===O.Fragment){n.push.apply(n,Gg(a.props.children,c));return}a.type!==$t&&Mt(!1),!a.props.index||!a.props.children||Mt(!1);let f={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Gg(a.props.children,c)),n.push(f)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Kg.apply(this,arguments)}function Lj(e,t){if(e==null)return{};var n={},a=Object.keys(e),o,c;for(c=0;c<a.length;c++)o=a[c],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Aj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ij(e,t){return e.button===0&&(!t||t==="_self")&&!Aj(e)}const Fj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$j="6";try{window.__reactRouterVersion=$j}catch{}const Bj="startTransition",N0=IP[Bj];function qj(e){let{basename:t,children:n,future:a,window:o}=e,c=O.useRef();c.current==null&&(c.current=HP({window:o,v5Compat:!0}));let f=c.current,[m,v]=O.useState({action:f.action,location:f.location}),{v7_startTransition:x}=a||{},_=O.useCallback(w=>{x&&N0?N0(()=>v(w)):v(w)},[v,x]);return O.useLayoutEffect(()=>f.listen(_),[f,_]),O.useEffect(()=>Dj(a),[a]),O.createElement(zj,{basename:t,children:n,location:m.location,navigationType:m.action,navigator:f,future:a})}const Uj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,od=O.forwardRef(function(t,n){let{onClick:a,relative:o,reloadDocument:c,replace:f,state:m,target:v,to:x,preventScrollReset:_,viewTransition:w}=t,N=Lj(t,Fj),{basename:E}=O.useContext(Ra),P,C=!1;if(typeof x=="string"&&Wj.test(x)&&(P=x,Uj))try{let A=new URL(window.location.href),F=x.startsWith("//")?new URL(A.protocol+x):new URL(x),B=yy(F.pathname,E);F.origin===A.origin&&B!=null?x=B+F.search+F.hash:C=!0}catch{}let j=yj(x,{relative:o}),M=Hj(x,{replace:f,state:m,target:v,preventScrollReset:_,relative:o,viewTransition:w});function R(A){a&&a(A),A.defaultPrevented||M(A)}return O.createElement("a",Kg({},N,{href:P||j,onClick:C||c?a:R,ref:n,target:v}))});var C0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(C0||(C0={}));var E0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(E0||(E0={}));function Hj(e,t){let{target:n,replace:a,state:o,preventScrollReset:c,relative:f,viewTransition:m}=t===void 0?{}:t,v=gn(),x=Ro(),_=fN(e,{relative:f});return O.useCallback(w=>{if(Ij(w,n)){w.preventDefault();let N=a!==void 0?a:Nd(x)===Nd(_);v(e,{replace:N,state:o,preventScrollReset:c,relative:f,viewTransition:m})}},[x,v,_,a,o,n,e,c,f,m])}const vN=O.createContext();function Yj({children:e}){const[t,n]=O.useState(()=>{const P=localStorage.getItem("user");return P?JSON.parse(P):null}),[a,o]=O.useState([]),[c,f]=O.useState(!0),[m,v]=O.useState(null);O.useEffect(()=>{t?localStorage.setItem("user",JSON.stringify(t)):localStorage.removeItem("user")},[t]),O.useEffect(()=>{(async()=>{const C=t?.token;if(!C){f(!1);return}try{const j=await fetch(`${Ee}/api/utenti`,{headers:{Authorization:`Bearer ${C}`}});if(j.status===401||j.status===403){n(null),v("Sessione scaduta"),f(!1);return}if(j.ok){const M=await j.json();o(M)}}catch(j){console.warn("Errore nella validazione del token:",j),v("Errore nel caricamento utenti")}finally{f(!1)}})()},[t?.token]),O.useEffect(()=>{!t||!t.id||(async()=>{try{if(!("serviceWorker"in navigator))return;const P=await navigator.serviceWorker.ready;if(!P||!P.pushManager)return;const C=await P.pushManager.getSubscription();if(!C)return;const j={...C,userId:t.id};try{await fetch(`${Ee}/api/push/subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}),await fetch(`${Ee}/api/push/associate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint:C.endpoint,userId:t.id})}),console.log("[PUSH] Auto-associated existing subscription to user",t.id)}catch(M){console.warn("Auto-associate request failed:",M.message)}}catch(P){console.warn("Error checking push subscription for auto-associate:",P.message)}})()},[t]);const x=async(P,C)=>{try{const j=await fetch(`${Ee}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mail:P,password:C})});if(!j.ok){let R=null;try{R=await j.json()}catch{R=null}return console.warn("Login failed:",j.status,R),n(null),v(R&&R.error?R.error:"Credenziali non valide"),!1}const M=await j.json();n({...M});try{localStorage.setItem("user",JSON.stringify(M)),console.log("[Auth] login success, user persisted to localStorage")}catch(R){console.warn("Could not persist user to localStorage immediately:",R.message)}v(null);try{if("serviceWorker"in navigator){const R=await navigator.serviceWorker.ready;if(R&&R.pushManager){const A=await R.pushManager.getSubscription();if(A)try{const F=A.endpoint,B={...A,userId:M.id};await fetch(`${Ee}/api/push/subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)}),await fetch(`${Ee}/api/push/associate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint:F,userId:M.id})})}catch(F){console.warn("Could not associate push subscription with user after login:",F.message)}}}}catch(R){console.warn("Error checking push subscription after login:",R.message)}return!0}catch{return v("Errore di autenticazione"),!1}},_=()=>{n(null),localStorage.removeItem("user")},w=async P=>{try{const j=await(await fetch(`${Ee}/api/utenti`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t&&t.token?t.token:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).token:""}`},body:JSON.stringify(P)})).json();o(M=>[...M,j]),v(null)}catch{v("Errore nell'aggiunta utente")}},N=async(P,C)=>{try{await fetch(`${Ee}/api/utenti/${P}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t&&t.token?t.token:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).token:""}`},body:JSON.stringify(C)}),o(j=>j.map(M=>M.id===P?{...M,...C}:M)),v(null)}catch{v("Errore nell'aggiornamento utente")}},E=async P=>{try{await fetch(`${Ee}/api/utenti/${P}`,{method:"DELETE",headers:{Authorization:`Bearer ${t&&t.token?t.token:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).token:""}`}}),o(C=>C.filter(j=>j.id!==P)),v(null)}catch{v("Errore nell'eliminazione utente")}};return d.jsx(vN.Provider,{value:{user:t,token:t?.token,login:x,logout:_,users:a,addUser:w,updateUser:N,deleteUser:E,loading:c,error:m},children:e})}function Ct(){return O.useContext(vN)}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),yn=(e,t)=>{const n=O.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:f,className:m="",children:v,...x},_)=>O.createElement("svg",{ref:_,...Zj,width:o,height:o,stroke:a,strokeWidth:f?Number(c)*24/Number(o):c,className:["lucide",`lucide-${Vj(e)}`,m].join(" "),...x},[...t.map(([w,N])=>O.createElement(w,N)),...Array.isArray(v)?v:[v]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=yn("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=yn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=yn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=yn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=yn("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=yn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=yn("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=yn("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=yn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=yn("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=yn("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=yn("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=yn("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=yn("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=yn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=yn("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),nk="/assets/Image%2030%20giu%202025_%2008_12_36-D4585QXY.png",NN=O.createContext();function rk({children:e}){const[t,n]=O.useState(null),[a,o]=O.useState(!1);O.useEffect(()=>{c()},[]);const c=async()=>"Notification"in window?Notification.permission==="granted"||Notification.permission==="default"&&await Notification.requestPermission()==="granted"?(o(!0),!0):(o(!1),!1):(console.log("Le notifiche push non sono supportate dal browser"),!1),f=async()=>await c(),m=w=>{const N="=".repeat((4-w.length%4)%4),E=(w+N).replace(/-/g,"+").replace(/_/g,"/"),P=atob(E),C=new Uint8Array(P.length);for(let j=0;j<P.length;++j)C[j]=P.charCodeAt(j);return C},v=O.useCallback(async()=>{if(!("serviceWorker"in navigator)||!("PushManager"in window))return console.warn("Push non supportato in questo browser"),n&&n({text:"Push non supportato da questo browser",type:"error"}),null;try{const w=await fetch(`${Ee}/api/push/public-key`);if(!w.ok)throw new Error("Impossibile ottenere public key");const{publicKey:N}=await w.json(),E=await navigator.serviceWorker.ready;let P=await E.pushManager.getSubscription();P||(P=await E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:m(N)}));let C=P&&typeof P.toJSON=="function"?P.toJSON():P;try{const j=localStorage.getItem("user");if(j){const M=JSON.parse(j);M&&M.id&&(C={...C,userId:M.id})}}catch{}try{const j=JSON.stringify(C);console.log("[PUSH] sending subscription to backend:",C&&C.endpoint);const M=await fetch(`${Ee}/api/push/subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:j});if(M.ok)return o(!0),n&&n({text:"Notifiche push abilitate e sottoscritte",type:"success"}),P;const R=await M.text().catch(()=>"Errore server");try{await fetch(`${Ee}/api/push/log-subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({note:"subscribe-failed",status:M.status,statusText:M.statusText,requestBody:C,responseBody:R,ua:navigator.userAgent})})}catch(A){console.warn("Failed to post subscribe diagnostic",A.message)}return n&&n({text:"Sottoscrizione inviata ma server ha risposto con errore: "+R,type:"error"}),null}catch(j){try{await fetch(`${Ee}/api/push/log-subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:j.message,ua:navigator.userAgent})})}catch{}throw j}}catch(w){console.error("Errore nella registrazione per push:",w),n&&n({text:"Errore nella registrazione per push: "+w.message,type:"error"});try{await fetch(`${Ee}/api/push/log-subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:w.message,stack:w.stack})})}catch{}return null}},[]),x=O.useCallback(async()=>{try{const N=await(await navigator.serviceWorker.ready).pushManager.getSubscription();return N&&await N.unsubscribe(),!0}catch(w){return console.error("Errore nell'unsubscribing push:",w),!1}},[]),_=(w,N={})=>{if(!a){console.log("Notifiche push non abilitate");return}const E={icon:"/src/assets/Image 30 giu 2025, 08_12_36.png",badge:"/src/assets/Image 30 giu 2025, 08_12_36.png",requireInteraction:!1,silent:!1,vibrate:[200,100,200],tag:"consegne-app",...N};try{const P=new Notification(w,E);return P.onclick=function(){window.focus(),this.close(),N.onClick&&N.onClick()},E.requireInteraction||setTimeout(()=>{P.close()},5e3),P}catch(P){console.error("Errore nell'invio della notifica push:",P)}};return O.useEffect(()=>{if(t){const w=setTimeout(()=>n(null),5e3);return()=>clearTimeout(w)}},[t]),d.jsx(NN.Provider,{value:{notification:t,setNotification:n,pushNotificationsEnabled:a,requestNotificationPermission:f,sendPushNotification:_,subscribeForPush:v,unsubscribePush:x},children:e})}function qt(){return O.useContext(NN)}const CN=O.createContext();function ik({children:e,user:t}){const[n,a]=O.useState(0),[o,c]=O.useState(Date.now());O.useEffect(()=>{let m=!0;const v=()=>{t?.token&&fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${t.token}`}}).then(_=>_.json()).then(_=>{if(!m)return;const w=Array.isArray(_)?_.filter(N=>N.sender?.mail!==t?.mail&&new Date(N.timestamp).getTime()>o):[];a(w.length)})};v();const x=setInterval(v,2e3);return()=>{m=!1,clearInterval(x)}},[t,o]);const f=()=>c(Date.now());return d.jsx(CN.Provider,{value:{unreadCount:n,markAllRead:f},children:e})}function EN(){return O.useContext(CN)}const ak=[{to:"/pianificazione",label:"Pianificazione",icon:d.jsx(SN,{size:20})},{to:"/preparazione-magazzino",label:"Preparazione Magazzino",icon:d.jsx(ms,{size:20})},{to:"/richieste",label:"Richieste",icon:d.jsx(xN,{size:20})},{to:"/stato-consegne",label:"Stato Consegne",icon:d.jsx(gN,{size:20})},{to:"/posizioni",label:"Posizioni",icon:d.jsx(_N,{size:20})},{to:"/chat",label:"Chat",icon:d.jsx(wN,{size:20})},{to:"/spedizioni/mappa",label:"Mappa Spedizioni",icon:d.jsx(tk,{size:20})},{to:"/admin",label:"Amministratore",icon:d.jsx(yN,{size:20})}];function sk(){const[e,t]=O.useState(!0),{user:n,logout:a}=Ct(),o=gn(),{unreadCount:c,markAllRead:f}=EN(),{notification:m,setNotification:v}=qt(),x=_=>n?n.role==="autista"?["/chat","/posizioni"].includes(_.to):!(_.to==="/admin"&&n.role!=="admin"||_.to==="/gestione-utenti"&&n.role!=="admin"||_.to==="/autista"&&!(n.role==="autista"||n.role==="admin")||_.to==="/preparazione-magazzino"&&!(n.role==="admin"||n.role==="pianificatore")||_.to==="/spedizioni/mappa"&&!(n.role==="admin"||n.role==="pianificatore"||n.role==="richiedente")):!1;return d.jsxs("aside",{className:`fixed inset-y-0 left-0 bg-white shadow p-4 flex flex-col justify-between transition-all duration-300 ${e?"min-w-[60px] w-[60px]":"min-w-[220px] w-[220px]"}`,children:[d.jsxs("div",{children:[d.jsxs(od,{to:"/",className:`flex items-center gap-2 p-2 rounded hover:bg-gray-100 font-semibold transition-all duration-200 ${e?"justify-center":""}`,children:[d.jsx("img",{src:nk,alt:"Home",className:e?"w-8 h-8 object-contain":"w-5 h-5 object-contain",style:e?{minWidth:"32px",minHeight:"32px"}:{}}),!e&&d.jsx("span",{children:"Home"})]}),d.jsx("button",{className:"mt-2 flex items-center justify-center",onClick:()=>t(!e),"aria-label":e?"Espandi sidebar":"Collassa sidebar",children:e?d.jsx(Xj,{size:20}):d.jsx(Kj,{size:20})})]}),d.jsxs("nav",{className:"flex flex-col gap-4",children:[d.jsx("hr",{className:"my-2"}),ak.filter(x).map(_=>d.jsxs(od,{to:_.to,className:`flex items-center gap-2 p-2 rounded hover:bg-gray-100 transition-all duration-200 ${e?"justify-center":""}`,onClick:()=>{_.to==="/chat"&&f(),_.to==="/pianificazione"&&m?.type==="spedizione"&&v(null)},children:[_.icon,_.to==="/chat"&&c>0&&d.jsx("span",{className:"ml-1 bg-red-600 text-white rounded-full px-2 py-0.5 text-xs font-bold animate-bounce",children:c}),_.to==="/pianificazione"&&m?.type==="spedizione"&&d.jsx("span",{className:"ml-1 bg-green-600 text-white rounded-full px-2 py-0.5 text-xs font-bold animate-bounce",children:"!"}),!e&&d.jsx("span",{children:_.label})]},_.to)),n?.role==="admin"&&d.jsxs(od,{to:"/gestione-utenti",className:`flex items-center gap-2 p-2 rounded hover:bg-blue-100 font-semibold transition-all duration-200 ${e?"justify-center":""}`,children:[d.jsx(Sy,{size:20}),!e&&d.jsx("span",{children:"Gestione Utenti"})]})]}),n&&d.jsxs("div",{className:`mt-6 mb-2 p-3 rounded bg-gray-50 flex items-center gap-2 ${e?"flex-col items-center":""}`,style:{minHeight:e?60:80},children:[d.jsx("div",{className:"flex items-center justify-center rounded-full bg-blue-600 text-white font-bold",style:{width:e?36:40,height:e?36:40,fontSize:e?18:20},"aria-label":n.nome,children:n.nome?n.nome.split(" ").map(_=>_[0]).join("").toUpperCase().slice(0,2):""}),e?d.jsx("span",{className:"sr-only",children:n.nome}):d.jsxs("div",{className:"flex flex-col text-xs text-gray-700",children:[d.jsx("span",{className:"font-bold",children:n.nome}),d.jsx("span",{className:"capitalize",children:n.role}),d.jsx("span",{className:"text-gray-500",children:n.mail}),d.jsx("button",{onClick:()=>{a(),o("/login")},className:"mt-2 px-3 py-1 rounded bg-red-100 text-red-700 font-semibold text-xs hover:bg-red-200 w-fit",children:"Logout"})]})]})]})}function ok({children:e}){const{user:t,logout:n}=Ct(),a=Ro();return["/autista","/chat-mobile","/login","/spedizioni-mobile/"].some(f=>a.pathname.startsWith(f))?d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.pathname!=="/login"&&t&&d.jsx("div",{className:"bg-white shadow-sm border-b px-4 py-2 fixed top-0 left-0 w-full z-20",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"text-sm text-gray-600",children:["Benvenuto, ",d.jsx("span",{className:"font-medium",children:t.nome||t.name||(t.mail?t.mail.split("@")[0]:"")})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[(t?.role==="autista"||t?.role==="admin")&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>window.location.href="/chat-mobile",className:"bg-green-600 hover:bg-green-700 text-white text-xs px-3 py-1 rounded font-semibold shadow","aria-label":"Chat Mobile",children:[d.jsx("span",{className:"material-icons text-base align-middle mr-1",children:"chat"}),"Chat"]}),t?.role==="autista"&&a.pathname==="/chat-mobile"&&d.jsxs("button",{onClick:()=>window.location.href="/autista",className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-1 rounded font-semibold shadow","aria-label":"Torna alle consegne",children:[d.jsx("span",{className:"material-icons text-base align-middle mr-1",children:"arrow_back"}),"Consegne"]})]}),d.jsx("button",{onClick:()=>{window.confirm("Vuoi disconnetterti?")&&(n(),window.location.href="/login")},className:"text-xs text-red-600 hover:text-red-800 font-medium",children:"Disconnetti"})]})]})}),d.jsx("main",{className:a.pathname!=="/login"?"min-h-screen pt-[48px]":"min-h-screen",children:e})]}):d.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[d.jsx(sk,{}),d.jsx("main",{className:"flex-1 p-6 ml-[220px] transition-all duration-300",children:e})]})}function Di({title:e,desc:t,to:n,icon:a}){return d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md text-center",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:e}),d.jsx("p",{className:"text-gray-500 mb-4",children:t}),d.jsxs(od,{to:n,className:"inline-flex items-center gap-2 px-4 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-700",children:[a,"Vai a ",e]})]})}const Bd=(e={})=>{const{user:t,token:n}=Ct(),{setNotification:a,sendPushNotification:o,pushNotificationsEnabled:c}=qt(),{pollInterval:f=3e3,enableInAppNotifications:m=!0,enablePushNotifications:v=!0,onNewMessage:x=null,maxMessages:_=100}=e,w=O.useRef(0),N=O.useRef([]);return O.useEffect(()=>{if(!t||!n)return;let E=!0,P;const C=async()=>{try{const j=await fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${n}`}});if(!j.ok)throw new Error("Errore nel caricamento messaggi");const M=await j.json();if(!E)return;w.current>0&&M.length>w.current&&M.slice(w.current).forEach(A=>{A.sender?.mail!==t?.mail&&(m&&a({text:`${A.sender?.nome}: ${A.text}`}),v&&c&&o(`Nuovo messaggio da ${A.sender?.nome}`,{body:A.text.length>100?A.text.substring(0,100)+"...":A.text,icon:"💬",tag:"chat-message",requireInteraction:!1,onClick:()=>{window.focus(),x&&x(A)}}),x&&x(A))}),w.current=M.length,N.current=M.slice(-_)}catch(j){console.error("Errore nel polling dei messaggi:",j)}};return C(),P=setInterval(C,f),()=>{E=!1,clearInterval(P)}},[t,n,f,m,v,c,a,o,x,_]),{lastMessages:N.current,messageCount:w.current}};var lk={};function PN({className:e=""}){const{pushNotificationsEnabled:t,requestNotificationPermission:n,subscribeForPush:a,setNotification:o}=qt(),[c,f]=O.useState(!1),[m,v]=O.useState(!1);O.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&f(!0)},[]);const x=async()=>{if(await n())try{v(!0);const w=await a();if(f(!1),w)o({text:"Notifiche push abilitate e sottoscritte",type:"success"});else{const N="Notifiche abilitate ma la sottoscrizione non è stata completata (Push API non disponibile o restrizioni del browser)";o({text:N,type:"warning"});try{await fetch(`${lk.REACT_APP_BASE_URL||""}/api/push/log-subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({note:"subscription-null-after-grant",message:N,userAgent:navigator.userAgent})})}catch{}}}finally{v(!1)}};return!c||t?null:d.jsx("div",{className:`bg-blue-600 text-white p-4 ${e}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-sm",children:"🔔 Abilita le notifiche push"}),d.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Ricevi notifiche per nuovi messaggi e aggiornamenti anche quando l'app è in background"})]}),d.jsxs("div",{className:"flex gap-2 ml-3",children:[d.jsx("button",{onClick:x,className:"bg-white text-blue-600 text-xs px-3 py-1 rounded font-medium hover:bg-gray-100 transition-colors disabled:opacity-60",disabled:m,children:m?"Abilitazione...":"Abilita"}),d.jsx("button",{onClick:()=>f(!1),className:"text-white text-xs px-2 py-1 rounded hover:bg-blue-700 transition-colors",title:"Chiudi banner",children:"✕"})]})]})})}function uk(){const{user:e,token:t}=Ct(),{setNotification:n}=qt(),a=gn();return Bd({pollInterval:5e3,enableInAppNotifications:!0,enablePushNotifications:!0,onNewMessage:o=>{console.log("Nuovo messaggio ricevuto nella home:",o)}}),O.useEffect(()=>{if(e?.role==="autista"){a("/autista",{replace:!0});return}},[e,a]),O.useEffect(()=>{if(e&&t){let o=!0,c=0;const f=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${t}`}}).then(v=>v.json()).then(v=>{o&&(c>0&&v.length>c&&v.slice(c).forEach(_=>{n({text:`${_.sender?.nome}: ${_.text}`})}),c=v.length)})};f();const m=setInterval(f,2e3);return()=>{o=!1,clearInterval(m)}}},[n,e,t]),e?.role==="autista"?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Reindirizzamento..."})]})}):d.jsxs("main",{className:"flex-1 p-6",children:[d.jsx(PN,{className:"mb-6 rounded-lg"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[d.jsx(Di,{title:"Pianificazione",desc:"Pagina di gestione delle richieste e delle consegne.",to:"/pianificazione",icon:d.jsx(SN,{})}),(e?.role==="admin"||e?.role==="pianificatore")&&d.jsx(Di,{title:"Preparazione Magazzino",desc:"Organizzazione spedizioni per la preparazione in magazzino",to:"/preparazione-magazzino",icon:d.jsx(ms,{})}),d.jsx(Di,{title:"Richieste",desc:"Pagina di gestione delle richieste. Qui è possibile creare le richieste e controllarne lo stato.",to:"/richieste",icon:d.jsx(xN,{})}),d.jsx(Di,{title:"Stato Consegne",desc:"Pagina di visualizzazione dello stato delle consegne.",to:"/stato-consegne",icon:d.jsx(gN,{})}),d.jsx(Di,{title:"Posizioni",desc:"Pagina di gestione delle destinazioni",to:"/posizioni",icon:d.jsx(_N,{})}),e?.role==="admin"&&d.jsx(Di,{title:"Autista",desc:"Pagina di visualizzazione delle consegne per gli autisti",to:"/autista",icon:d.jsx(bN,{})}),d.jsx(Di,{title:"Chat",desc:"Messaggistica istantanea interna",to:"/chat",icon:d.jsx(wN,{})}),e?.role==="admin"&&d.jsx(Di,{title:"Gestione Utenti",desc:"Gestisci utenti e ruoli",to:"/gestione-utenti",icon:d.jsx(Sy,{})}),e?.role==="admin"&&d.jsx(Di,{title:"Amministratore",desc:"Pannello di gestione database",to:"/admin",icon:d.jsx(yN,{})})]})]})}function ck({spedizione:e,onClose:t,onSave:n}){const{token:a}=Ct(),[o,c]=O.useState(()=>({...e,indirizzo:e.indirizzo||"",aziendaDestinazione:e.aziendaDestinazione||""})),[f,m]=O.useState([]),[v,x]=O.useState([]);O.useEffect(()=>{fetch(`${Ee}/api/posizioni`,{headers:{Authorization:`Bearer ${a}`}}).then(E=>E.json()).then(E=>m(E)),fetch(`${Ee}/api/utenti`,{headers:{Authorization:`Bearer ${a}`}}).then(E=>E.json()).then(E=>x(E.filter(P=>P.role==="autista")))},[]);const _=E=>{const{name:P,value:C,type:j,checked:M}=E.target;c(R=>({...R,[P]:j==="checkbox"?M:C}))},w=E=>{E.preventDefault(),n(o)},N=typeof window<"u"&&/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(window.navigator.userAgent);return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:d.jsxs("div",{className:N?"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-0 relative border border-blue-100":"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-xl relative border border-blue-100",children:[d.jsxs("div",{className:N?"sticky top-0 bg-blue-50 rounded-t-2xl px-4 py-4 border-b flex items-center justify-between":"flex items-center gap-3 mb-4 pb-2 border-b border-gray-200",children:[d.jsx("span",{className:"material-icons text-blue-600 text-3xl",children:"event"}),d.jsx("h2",{className:N?"text-xl font-bold text-blue-700":"text-2xl font-bold text-blue-700",children:"Pianifica spedizione"}),d.jsx("button",{className:"ml-auto text-gray-400 hover:text-blue-700 text-2xl font-bold px-2 py-1 rounded transition",onClick:t,"aria-label":"Chiudi",children:"×"})]}),d.jsxs("form",{onSubmit:w,className:N?"flex flex-col gap-4 px-4 py-4":"flex flex-col gap-5",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("label",{className:"font-semibold",children:["Destinazione",d.jsxs("select",{name:"indirizzo",value:o.indirizzo||"",onChange:E=>{const P=f.find(C=>C.indirizzo===E.target.value);c(C=>({...C,indirizzo:P?P.indirizzo:E.target.value,aziendaDestinazione:P?P.azienda:C.aziendaDestinazione}))},className:"border border-blue-200 p-3 rounded-lg w-full mt-2 bg-gray-50 focus:ring-2 focus:ring-blue-300",required:!0,children:[d.jsx("option",{value:"",children:"Seleziona destinazione..."}),f.map((E,P)=>d.jsxs("option",{value:E.indirizzo,children:[E.azienda," - ",E.indirizzo]},P))]})]}),d.jsxs("label",{className:"font-semibold",children:["Autista assegnato",d.jsxs("select",{name:"autista",value:o.autista?.id||"",onChange:E=>{const P=v.find(C=>String(C.id)===E.target.value);c(C=>({...C,autista:P?{id:P.id,nome:P.nome}:null}))},className:"border border-blue-200 p-3 rounded-lg w-full mt-2 bg-gray-50 focus:ring-2 focus:ring-blue-300",children:[d.jsx("option",{value:"",children:"Nessun autista assegnato"}),v.map(E=>d.jsx("option",{value:E.id,children:E.nome},E.id))]})]}),d.jsxs("label",{className:"font-semibold",children:["Data e ora richiesta",d.jsx("input",{name:"dataRichiesta",type:"datetime-local",className:"border border-blue-200 p-3 rounded-lg w-full mt-2 bg-gray-50 focus:ring-2 focus:ring-blue-300",value:o.dataRichiesta,onChange:_,required:!0})]}),d.jsxs("label",{className:"font-semibold",children:["Data e ora pianificata",d.jsx("input",{name:"dataPianificata",type:"datetime-local",className:"border border-blue-200 p-3 rounded-lg w-full mt-2 bg-gray-50 focus:ring-2 focus:ring-blue-300",value:o.dataPianificata,onChange:_,required:!0})]}),d.jsxs("label",{className:"font-semibold",children:["Tipologia",d.jsxs("select",{name:"tipo",value:o.tipo,onChange:_,className:"border border-blue-200 p-3 rounded-lg w-full mt-2 bg-gray-50 focus:ring-2 focus:ring-blue-300",required:!0,children:[d.jsx("option",{value:"consegna",children:"Consegna"}),d.jsx("option",{value:"ritiro",children:"Ritiro"}),d.jsx("option",{value:"entrambi",children:"Entrambi"})]})]}),d.jsxs("label",{className:"font-semibold",children:["Stato",d.jsxs("select",{name:"status",value:o.status,onChange:_,className:"border border-blue-200 p-3 rounded-lg w-full mt-2 bg-gray-50 focus:ring-2 focus:ring-blue-300",required:!0,children:[d.jsx("option",{value:"In attesa",children:"In attesa"}),d.jsx("option",{value:"In consegna",children:"In consegna"}),d.jsx("option",{value:"Completata",children:"Completata"}),d.jsx("option",{value:"Fallita",children:"Fallita"})]})]}),d.jsx("div",{className:"font-semibold flex items-center gap-4 mt-4 text-lg",children:d.jsx("button",{type:"button",className:o.daPianificare?"bg-yellow-100 text-yellow-700 px-6 py-2 rounded-full font-bold border border-yellow-300 shadow transition-all duration-150":"bg-green-100 text-green-700 px-6 py-2 rounded-full font-bold border border-green-300 shadow transition-all duration-150",onClick:()=>c(E=>({...E,daPianificare:!E.daPianificare})),children:o.daPianificare?"Da pianificare":"Pianificata"})})]}),d.jsxs("label",{className:"font-semibold",children:["Note",d.jsx("textarea",{name:"note",value:o.note,onChange:_,className:"border border-blue-200 p-3 rounded-lg w-full mt-2 bg-gray-50 focus:ring-2 focus:ring-blue-300",rows:3,placeholder:"Aggiungi eventuali note..."})]}),d.jsxs("div",{className:"flex gap-3 mt-6 justify-end",children:[d.jsxs("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-semibold shadow flex items-center gap-2 transition-all duration-150",children:[d.jsx("span",{className:"material-icons text-white text-base",children:"check_circle"})," Salva"]}),d.jsxs("button",{type:"button",className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-2 rounded-lg font-semibold shadow flex items-center gap-2 transition-all duration-150",onClick:t,children:[d.jsx("span",{className:"material-icons text-gray-500 text-base",children:"close"})," Annulla"]})]})]})]})})}function dk(){return typeof window>"u"?!1:/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(window.navigator.userAgent)}function fk(){const{notification:e,setNotification:t}=qt(),{user:n,token:a}=Ct(),[o,c]=O.useState(!1);Bd({pollInterval:5e3,enablePushNotifications:!0});const[f,m]=O.useState([]),[v,x]=O.useState(null),[_,w]=O.useState(""),[N,E]=O.useState(""),P=gn();O.useEffect(()=>{c(dk())},[]),O.useEffect(()=>{if(n&&a){e?.type==="spedizione"&&t(null);const I=()=>{fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${a}`}}).then(ee=>ee.json()).then(ee=>m(ee))};I();const U=setInterval(I,2e3);return()=>clearInterval(U)}},[n,a,e,t]),O.useEffect(()=>{if(n&&a){let I=!0,U=0;const ee=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${a}`}}).then(ce=>ce.json()).then(ce=>{I&&(U>0&&ce.length>U&&ce.slice(U).forEach(de=>{t({text:`${de.sender?.nome}: ${de.text}`})}),U=ce.length)})};ee();const K=setInterval(ee,2e3);return()=>{I=!1,clearInterval(K)}}},[t,n,a]);const[C,j]=O.useState(""),[M,R]=O.useState(""),[A,F]=O.useState(""),B=f.filter(I=>I.daPianificare===!0&&I.status!=="Consegnata"&&(C===""||I.aziendaDestinazione?.toLowerCase().includes(C.toLowerCase())||I.status?.toLowerCase().includes(C.toLowerCase()))&&(M===""||I.tipo===M)&&(A===""||I.autista?.nome===A)),q=f.filter(I=>I.daPianificare===!1&&I.status!=="Consegnata"&&(C===""||I.aziendaDestinazione?.toLowerCase().includes(C.toLowerCase())||I.status?.toLowerCase().includes(C.toLowerCase()))&&(M===""||I.tipo===M)&&(A===""||I.autista?.nome===A)),H=I=>x(I),$=()=>x(null),V=async I=>{try{if(!n||!a)throw new Error("Non autenticato");if(!(await fetch(`${Ee}/api/spedizioni/${I.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(I)})).ok)throw new Error;if(w("Spedizione aggiornata!"),x(null),fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${a}`}}).then(ee=>ee.json()).then(ee=>m(ee)),I.daPianificare===!1&&n&&a){const ee={sender:{nome:"Sistema"},text:`Spedizione pianificata:
Destinazione: ${I.aziendaDestinazione||"-"}
Indirizzo: ${I.indirizzo||"-"}
Data: ${I.dataPianificata?new Date(I.dataPianificata).toLocaleString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}
Autista: ${I.autista?.nome||"-"}
Tipo: ${I.tipo||"-"}
Richiedente: ${I.richiedente?.nome||I.richiedente||"-"}`,spedizioneId:I.id};await fetch(`${Ee}/api/messaggi`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(ee)})}}catch{E("Errore nell'aggiornamento della spedizione")}};return d.jsxs("div",{className:o?"w-full min-h-screen flex flex-col bg-gray-50":"px-0 w-full",children:[d.jsx("div",{className:o?"sticky top-0 bg-white z-10 px-4 py-3 border-b flex items-center justify-between":"mb-6",children:d.jsx("h1",{className:o?"text-xl font-bold":"text-2xl font-bold",children:"Pianificazione"})}),_&&d.jsx("div",{className:o?"text-green-600 mb-2 px-4":"text-green-600 mb-2 px-2",children:_}),N&&d.jsx("div",{className:o?"text-red-600 mb-2 px-4":"text-red-600 mb-2 px-2",children:N}),d.jsxs("div",{className:o?"mb-8 w-full px-0":"mb-8",children:[d.jsxs("div",{className:o?"flex flex-col gap-2 px-4 mb-4":"flex gap-4 mb-4 items-center",children:[d.jsx("input",{type:"text",placeholder:"Cerca destinazione o stato...",value:C,onChange:I=>j(I.target.value),className:"border rounded px-3 py-2 text-base w-48"}),d.jsxs("select",{value:M,onChange:I=>R(I.target.value),className:"border rounded px-3 py-2 text-base w-40",children:[d.jsx("option",{value:"",children:"Tutti i tipi"}),d.jsx("option",{value:"Ritiro",children:"Ritiro"}),d.jsx("option",{value:"Consegna",children:"Consegna"}),d.jsx("option",{value:"Altro",children:"Altro"})]}),d.jsxs("select",{value:A,onChange:I=>F(I.target.value),className:"border rounded px-3 py-2 text-base w-40",children:[d.jsx("option",{value:"",children:"Tutti gli autisti"}),f.map(I=>I.autista?.nome).filter((I,U,ee)=>I&&ee.indexOf(I)===U).map(I=>d.jsx("option",{value:I,children:I},I))]})]}),d.jsx("h2",{className:o?"text-lg font-bold mb-2 px-4":"text-2xl font-bold mb-4",children:"Da pianificare"}),o?d.jsx("div",{className:"flex flex-col gap-3 px-2",children:B.map(I=>{const U=I.dataPianificata?new Date(I.dataPianificata):null,ee=new Date,K=I.status&&(I.status.toLowerCase().includes("completata")||I.status.toLowerCase().includes("consegnata")),ce=U&&U<ee&&!K;return d.jsxs("div",{className:"bg-white rounded-xl shadow p-3 flex flex-col gap-1 cursor-pointer",onClick:()=>P(`/spedizioni/${I.id}`),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-lg",children:"🕒"}),d.jsx("button",{className:"text-blue-600 hover:text-blue-800 px-2 py-1 border rounded text-sm",onClick:_e=>{_e.stopPropagation(),H(I)},children:"Pianifica"})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-sm mt-1",children:[d.jsx("span",{className:ce?"bg-red-100 text-red-600 rounded px-2 py-1 font-semibold":"bg-green-100 text-green-600 rounded px-2 py-1 font-semibold",children:U?U.toLocaleDateString():"-"}),d.jsx("span",{children:U?U.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"}),d.jsx("span",{className:"truncate",children:I.aziendaDestinazione||"-"}),d.jsx("span",{children:I.status||"-"}),d.jsx("span",{children:I.tipo}),d.jsx("span",{className:"truncate",children:I.autista?.nome||"-"})]})]},I.id)})}):d.jsx("div",{style:{overflowX:"auto",width:"100%"},children:d.jsxs("table",{className:"min-w-[1200px] border-separate border-spacing-y-2 table-fixed text-base",style:{minWidth:"1200px"},children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-xs text-gray-500",children:[d.jsx("th",{className:"w-[40px]",children:" "}),d.jsx("th",{className:"w-[140px]",children:"DATA"}),d.jsx("th",{className:"w-[100px]",children:"ORA"}),d.jsx("th",{className:"w-[250px]",children:"DESTINAZIONE"}),d.jsx("th",{className:"w-[140px]",children:"STATO"}),d.jsx("th",{className:"w-[100px]",children:"TIPO"}),d.jsx("th",{className:"w-[180px]",children:"AUTISTA"}),d.jsx("th",{className:"w-[180px]",children:"RICHIEDENTE"}),d.jsx("th",{className:"w-[60px]",children:"PIANIFICA"})]})}),d.jsx("tbody",{children:B.map(I=>{const U=I.dataPianificata?new Date(I.dataPianificata):null,ee=new Date,K=I.status&&(I.status.toLowerCase().includes("completata")||I.status.toLowerCase().includes("consegnata")),ce=U&&U<ee&&!K;return d.jsxs("tr",{className:"bg-white hover:bg-blue-50 rounded shadow-lg text-base cursor-pointer group",onClick:()=>P(`/spedizioni/${I.id}`),children:[d.jsx("td",{className:"px-2 py-3",children:"🕒"}),d.jsx("td",{className:"px-2 py-3",children:d.jsx("span",{className:ce?"bg-red-100 text-red-600 rounded px-2 py-1 text-xs font-semibold":"bg-green-100 text-green-600 rounded px-2 py-1 text-xs font-semibold",children:U?U.toLocaleDateString():"-"})}),d.jsx("td",{className:"px-2 py-3",children:U?U.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"}),d.jsx("td",{className:"px-2 py-3 truncate",children:I.aziendaDestinazione||"-"}),d.jsx("td",{className:"px-2 py-3",children:I.status||"-"}),d.jsx("td",{className:"px-2 py-3",children:I.tipo}),d.jsx("td",{className:"px-2 py-3 truncate",children:I.autista?.nome||"-"}),d.jsx("td",{className:"px-2 py-3 truncate",children:I.richiedente?.nome||I.richiedente||"-"}),d.jsx("td",{className:"px-2 py-3 text-right",children:d.jsx("button",{className:"text-blue-600 hover:text-blue-800 px-2 py-1 border rounded",onClick:_e=>{_e.stopPropagation(),H(I)},children:"Pianifica"})})]},I.id)})})]})})]}),d.jsxs("div",{className:o?"mb-8 w-full px-0":"mb-8",children:[d.jsxs("div",{className:o?"flex flex-col gap-2 px-4 mb-4":"flex gap-4 mb-4 items-center",children:[d.jsx("input",{type:"text",placeholder:"Cerca destinazione o stato...",value:C,onChange:I=>j(I.target.value),className:"border rounded px-3 py-2 text-base w-48"}),d.jsxs("select",{value:M,onChange:I=>R(I.target.value),className:"border rounded px-3 py-2 text-base w-40",children:[d.jsx("option",{value:"",children:"Tutti i tipi"}),d.jsx("option",{value:"Ritiro",children:"Ritiro"}),d.jsx("option",{value:"Consegna",children:"Consegna"}),d.jsx("option",{value:"Altro",children:"Altro"})]}),d.jsxs("select",{value:A,onChange:I=>F(I.target.value),className:"border rounded px-3 py-2 text-base w-40",children:[d.jsx("option",{value:"",children:"Tutti gli autisti"}),f.map(I=>I.autista?.nome).filter((I,U,ee)=>I&&ee.indexOf(I)===U).map(I=>d.jsx("option",{value:I,children:I},I))]})]}),d.jsx("h2",{className:o?"text-lg font-bold mb-2 px-4":"text-2xl font-bold mb-4",children:"Pianificate"}),o?d.jsx("div",{className:"flex flex-col gap-3 px-2",children:q.map(I=>{const U=I.dataPianificata?new Date(I.dataPianificata):null,ee=new Date,K=I.status&&(I.status.toLowerCase().includes("completata")||I.status.toLowerCase().includes("consegnata")),ce=U&&U<ee&&!K;return d.jsxs("div",{className:"bg-white rounded-xl shadow p-3 flex flex-col gap-1 cursor-pointer",onClick:()=>P(`/spedizioni/${I.id}`),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-lg",children:"✅"}),d.jsx("button",{className:"text-blue-600 hover:text-blue-800 px-2 py-1 border rounded text-sm",onClick:_e=>{_e.stopPropagation(),H(I)},children:"Pianifica"})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-sm mt-1",children:[d.jsx("span",{className:ce?"bg-red-100 text-red-600 rounded px-2 py-1 font-semibold":"bg-green-100 text-green-600 rounded px-2 py-1 font-semibold",children:U?U.toLocaleDateString():"-"}),d.jsx("span",{children:U?U.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"}),d.jsx("span",{className:"truncate",children:I.aziendaDestinazione||"-"}),d.jsx("span",{children:I.status||"-"}),d.jsx("span",{children:I.tipo}),d.jsx("span",{className:"truncate",children:I.autista?.nome||"-"})]})]},I.id)})}):d.jsx("div",{style:{overflowX:"auto",width:"100%"},children:d.jsxs("table",{className:"min-w-[1200px] border-separate border-spacing-y-2 table-fixed text-base",style:{minWidth:"1200px"},children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-xs text-gray-500",children:[d.jsx("th",{className:"w-[40px]",children:" "}),d.jsx("th",{className:"w-[140px]",children:"DATA"}),d.jsx("th",{className:"w-[100px]",children:"ORA"}),d.jsx("th",{className:"w-[250px]",children:"DESTINAZIONE"}),d.jsx("th",{className:"w-[140px]",children:"STATO"}),d.jsx("th",{className:"w-[100px]",children:"TIPO"}),d.jsx("th",{className:"w-[180px]",children:"AUTISTA"}),d.jsx("th",{className:"w-[180px]",children:"RICHIEDENTE"}),d.jsx("th",{className:"w-[60px]",children:"PIANIFICA"})]})}),d.jsx("tbody",{children:q.map(I=>{const U=I.dataPianificata?new Date(I.dataPianificata):null,ee=new Date,K=I.status&&(I.status.toLowerCase().includes("completata")||I.status.toLowerCase().includes("consegnata")),ce=U&&U<ee&&!K;return d.jsxs("tr",{className:"bg-white hover:bg-blue-50 rounded shadow-lg text-base cursor-pointer group",onClick:()=>P(`/spedizioni/${I.id}`),children:[d.jsx("td",{className:"px-2 py-3",children:"✅"}),d.jsx("td",{className:"px-2 py-3",children:d.jsx("span",{className:ce?"bg-red-100 text-red-600 rounded px-2 py-1 text-xs font-semibold":"bg-green-100 text-green-600 rounded px-2 py-1 text-xs font-semibold",children:U?U.toLocaleDateString():"-"})}),d.jsx("td",{className:"px-2 py-3",children:U?U.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"}),d.jsx("td",{className:"px-2 py-3 truncate",children:I.aziendaDestinazione||"-"}),d.jsx("td",{className:"px-2 py-3",children:I.status||"-"}),d.jsx("td",{className:"px-2 py-3",children:I.tipo}),d.jsx("td",{className:"px-2 py-3 truncate",children:I.autista?.nome||"-"}),d.jsx("td",{className:"px-2 py-3 truncate",children:I.richiedente?.nome||I.richiedente||"-"}),d.jsx("td",{className:"px-2 py-3 text-right",children:d.jsx("button",{className:"text-blue-600 hover:text-blue-800 px-2 py-1 border rounded",onClick:_e=>{_e.stopPropagation(),H(I)},children:"Pianifica"})})]},I.id)})})]})})]}),v&&d.jsx(ck,{spedizione:v,onClose:$,onSave:V})]})}var jN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},P0=te.createContext&&te.createContext(jN),hk=["attr","size","title"];function pk(e,t){if(e==null)return{};var n=mk(e,t),a,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)a=c[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function mk(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Cd.apply(this,arguments)}function j0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,a)}return n}function Ed(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j0(Object(n),!0).forEach(function(a){vk(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function vk(e,t,n){return t=gk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gk(e){var t=yk(e,"string");return typeof t=="symbol"?t:t+""}function yk(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kN(e){return e&&e.map((t,n)=>te.createElement(t.tag,Ed({key:n},t.attr),kN(t.child)))}function xk(e){return t=>te.createElement(_k,Cd({attr:Ed({},e.attr)},t),kN(e.child))}function _k(e){var t=n=>{var{attr:a,size:o,title:c}=e,f=pk(e,hk),m=o||n.size||"1em",v;return n.className&&(v=n.className),e.className&&(v=(v?v+" ":"")+e.className),te.createElement("svg",Cd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,f,{className:v,style:Ed(Ed({color:e.color||n.color},n.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&te.createElement("title",null,c),e.children)};return P0!==void 0?te.createElement(P0.Consumer,null,n=>t(n)):t(jN)}function k0(e){return xk({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"},child:[]}]})(e)}const TN=O.createContext({sidebarOpen:!0,setSidebarOpen:()=>{}});function wk({children:e}){const[t,n]=O.useState(!0);return d.jsx(TN.Provider,{value:{sidebarOpen:t,setSidebarOpen:n},children:e})}function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function bk(e,t){if(Bi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Bi(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ON(e){var t=bk(e,"string");return Bi(t)=="symbol"?t:t+""}function vs(e,t,n){return(t=ON(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,a)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T0(Object(n),!0).forEach(function(a){vs(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function qd(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function ii(e,t){if(e==null)return{};var n,a,o=qd(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O0(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ON(a.key),a)}}function Wt(e,t,n){return t&&O0(e.prototype,t),n&&O0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pd(e){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pd(e)}function MN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MN=function(){return!!e})()}function Sk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nk(e,t){if(t&&(Bi(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sk(e)}function xn(e,t,n){return t=Pd(t),Nk(e,MN()?Reflect.construct(t,n||[],Pd(e).constructor):t.apply(e,n))}function jd(e,t){return jd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jd(e,t)}function _n(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jd(e,t)}function DN(e){if(Array.isArray(e))return e}function Ck(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,o,c,f,m=[],v=!0,x=!1;try{if(c=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(a=c.call(n)).done)&&(m.push(a.value),m.length!==t);v=!0);}catch(_){x=!0,o=_}finally{try{if(!v&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(x)throw o}}return m}}function Xg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function Ny(e,t){if(e){if(typeof e=="string")return Xg(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xg(e,t):void 0}}function zN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gr(e,t){return DN(e)||Ck(e,t)||Ny(e,t)||zN()}function RN(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=RN(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function kt(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=RN(e))&&(a&&(a+=" "),a+=t);return a}function jt(){return jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},jt.apply(null,arguments)}var op,M0;function Ek(){if(M0)return op;M0=1;var e=function(t,n,a,o,c,f,m,v){if(!t){var x;if(n===void 0)x=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var _=[a,o,c,f,m,v],w=0;x=new Error(n.replace(/%s/g,function(){return _[w++]})),x.name="Invariant Violation"}throw x.framesToPop=1,x}};return op=e,op}var Pk=Ek();const eu=vn(Pk);var jk=function(){};function kk(e,t){var n={};return Object.keys(e).forEach(function(a){n[ld(a)]=jk}),n}function D0(e,t){return e[t]!==void 0}function ld(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Tk(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function Ok(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,jd(e,t)}function LN(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function AN(e){function t(n){var a=this.constructor.getDerivedStateFromProps(e,n);return a??null}this.setState(t.bind(this))}function IN(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}LN.__suppressDeprecationWarning=!0;AN.__suppressDeprecationWarning=!0;IN.__suppressDeprecationWarning=!0;function Mk(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,a=null,o=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?a="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(a="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?o="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),n!==null||a!==null||o!==null){var c=e.displayName||e.name,f=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+c+" uses "+f+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=LN,t.componentWillReceiveProps=AN),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=IN;var m=t.componentDidUpdate;t.componentDidUpdate=function(x,_,w){var N=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:w;m.call(this,x,_,N)}}return e}var Dk="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function FN(e,t,n){n===void 0&&(n=[]);var a=e.displayName||e.name||"Component",o=Tk(e),c=Object.keys(t),f=c.map(ld);o||!n.length||eu(!1);var m=(function(x){Ok(_,x);function _(){for(var N,E=arguments.length,P=new Array(E),C=0;C<E;C++)P[C]=arguments[C];N=x.call.apply(x,[this].concat(P))||this,N.handlers=Object.create(null),c.forEach(function(M){var R=t[M],A=function(B){if(N.props[R]){var q;N._notifying=!0;for(var H=arguments.length,$=new Array(H>1?H-1:0),V=1;V<H;V++)$[V-1]=arguments[V];(q=N.props)[R].apply(q,[B].concat($)),N._notifying=!1}N.unmounted||N.setState(function(I){var U,ee=I.values;return{values:jt(Object.create(null),ee,(U={},U[M]=B,U))}})};N.handlers[R]=A}),n.length&&(N.attachRef=function(M){N.inner=M});var j=Object.create(null);return c.forEach(function(M){j[M]=N.props[ld(M)]}),N.state={values:j,prevProps:{}},N}var w=_.prototype;return w.shouldComponentUpdate=function(){return!this._notifying},_.getDerivedStateFromProps=function(E,P){var C=P.values,j=P.prevProps,M={values:jt(Object.create(null),C),prevProps:{}};return c.forEach(function(R){M.prevProps[R]=E[R],!D0(E,R)&&D0(j,R)&&(M.values[R]=E[ld(R)])}),M},w.componentWillUnmount=function(){this.unmounted=!0},w.render=function(){var E=this,P=this.props,C=P.innerRef,j=qd(P,["innerRef"]);f.forEach(function(R){delete j[R]});var M={};return c.forEach(function(R){var A=E.props[R];M[R]=A!==void 0?A:E.state.values[R]}),te.createElement(e,jt({},j,M,this.handlers,{ref:C||this.attachRef}))},_})(te.Component);Mk(m),m.displayName="Uncontrolled("+a+")",m.propTypes=jt({innerRef:function(){}},kk(t)),n.forEach(function(x){m.prototype[x]=function(){var w;return(w=this.inner)[x].apply(w,arguments)}});var v=m;return te.forwardRef&&(v=te.forwardRef(function(x,_){return te.createElement(m,jt({},x,{innerRef:_,__source:{fileName:Dk,lineNumber:128},__self:this}))}),v.propTypes=m.propTypes),v.ControlledComponent=e,v.deferControlTo=function(x,_,w){return _===void 0&&(_={}),FN(x,jt({},t,_),w)},v}var lp={exports:{}},up,z0;function zk(){if(z0)return up;z0=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return up=e,up}var cp,R0;function Rk(){if(R0)return cp;R0=1;var e=zk();function t(){}function n(){}return n.resetWarningCache=t,cp=function(){function a(f,m,v,x,_,w){if(w!==e){var N=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw N.name="Invariant Violation",N}}a.isRequired=a;function o(){return a}var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:o,element:a,elementType:a,instanceOf:o,node:a,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return c.PropTypes=c,c},cp}var L0;function Lk(){return L0||(L0=1,lp.exports=Rk()()),lp.exports}var Ak=Lk();const Ce=vn(Ak);var kd="milliseconds",tu="seconds",nu="minutes",ru="hours",ws="day",Po="week",iu="month",bs="year",Ss="decade",Ns="century",$N={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},Ik={month:1,year:12,decade:120,century:1200};function Fk(e){return[31,$k(e),31,30,31,30,31,31,30,31,30,31]}function $k(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Ar(e,t,n){switch(e=new Date(e),n){case kd:case tu:case nu:case ru:case ws:case Po:return Bk(e,t*$N[n]);case iu:case bs:case Ss:case Ns:return qk(e,t*Ik[n])}throw new TypeError('Invalid units: "'+n+'"')}function Bk(e,t){var n=new Date(+e+t);return Uk(e,n)}function qk(e,t){var n=e.getFullYear(),a=e.getMonth(),o=e.getDate(),c=n*12+a+t,f=Math.trunc(c/12),m=c%12,v=Math.min(o,Fk(f)[m]),x=new Date(e);return x.setFullYear(f),x.setDate(1),x.setMonth(m),x.setDate(v),x}function Uk(e,t){var n=e.getTimezoneOffset(),a=t.getTimezoneOffset(),o=a-n;return new Date(+t+o*$N.minutes)}function au(e,t,n){return Ar(e,-t,n)}function nn(e,t,n){switch(e=new Date(e),t){case Ns:case Ss:case bs:e=Od(e,0);case iu:e=HN(e,1);case Po:case ws:e=lu(e,0);case ru:e=jo(e,0);case nu:e=ou(e,0);case tu:e=su(e,0)}return t===Ss&&(e=au(e,Cs(e)%10,"year")),t===Ns&&(e=au(e,Cs(e)%100,"year")),t===Po&&(e=YN(e,0,n)),e}function Td(e,t,n){switch(e=new Date(e),e=nn(e,t,n),t){case Ns:case Ss:case bs:case iu:case Po:e=Ar(e,1,t),e=au(e,1,ws),e.setHours(23,59,59,999);break;case ws:e.setHours(23,59,59,999);break;case ru:case nu:case tu:e=Ar(e,1,t),e=au(e,1,kd)}return e}var yu=Ao(function(e,t){return e===t}),Cy=Ao(function(e,t){return e!==t}),Ud=Ao(function(e,t){return e>t}),xu=Ao(function(e,t){return e>=t}),Ey=Ao(function(e,t){return e<t}),Lo=Ao(function(e,t){return e<=t});function BN(){return new Date(Math.min.apply(Math,arguments))}function qN(){return new Date(Math.max.apply(Math,arguments))}function UN(e,t,n,a){return a=a||"day",(!t||xu(e,t,a))&&(!n||Lo(e,n,a))}var su=La("Milliseconds"),ou=La("Seconds"),jo=La("Minutes"),lu=La("Hours"),WN=La("Day"),HN=La("Date"),Od=La("Month"),Cs=La("FullYear");function Wk(e,t){return t===void 0?Cs(nn(e,Ss)):Ar(e,t+10,bs)}function Hk(e,t){return t===void 0?Cs(nn(e,Ns)):Ar(e,t+100,bs)}function YN(e,t,n){var a=(WN(e)+7-(n||0))%7;return t===void 0?a:Ar(e,t-a,ws)}function Yk(e,t,n,a){var o,c,f;switch(n){case kd:case tu:case nu:case ru:case ws:case Po:o=t.getTime()-e.getTime();break;case iu:case bs:case Ss:case Ns:o=(Cs(t)-Cs(e))*12+Od(t)-Od(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case kd:c=1;break;case tu:c=1e3;break;case nu:c=1e3*60;break;case ru:c=1e3*60*60;break;case ws:c=1e3*60*60*24;break;case Po:c=1e3*60*60*24*7;break;case iu:c=1;break;case bs:c=12;break;case Ss:c=120;break;case Ns:c=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return f=o/c,a?f:Math.round(f)}function La(e){var t=(function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}})(e);return function(n,a){if(a===void 0)return n["get"+e]();var o=new Date(n);return o["set"+e](a),t&&o["get"+e]()!=a&&(e==="Hours"||a>=t&&o.getHours()-n.getHours()<Math.floor(a/t))&&o["set"+e](a+t),o}}function Ao(e){return function(t,n,a){return e(+nn(t,a),+nn(n,a))}}const A0=Object.freeze(Object.defineProperty({__proto__:null,add:Ar,century:Hk,date:HN,day:WN,decade:Wk,diff:Yk,endOf:Td,eq:yu,gt:Ud,gte:xu,hours:lu,inRange:UN,lt:Ey,lte:Lo,max:qN,milliseconds:su,min:BN,minutes:jo,month:Od,neq:Cy,seconds:ou,startOf:nn,subtract:au,weekday:YN,year:Cs},Symbol.toStringTag,{value:"Module"}));function Zk(e){if(Array.isArray(e))return Xg(e)}function ZN(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ud(e){return Zk(e)||ZN(e)||Ny(e)||Vk()}var dp,I0;function VN(){if(I0)return dp;I0=1;function e(t,n,a){var o=-1,c=t.length;n<0&&(n=-n>c?0:c+n),a=a>c?c:a,a<0&&(a+=c),c=n>a?0:a-n>>>0,n>>>=0;for(var f=Array(c);++o<c;)f[o]=t[o+n];return f}return dp=e,dp}var fp,F0;function _u(){if(F0)return fp;F0=1;function e(t,n){return t===n||t!==t&&n!==n}return fp=e,fp}var hp,$0;function GN(){if($0)return hp;$0=1;var e=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;return hp=e,hp}var pp,B0;function oi(){if(B0)return pp;B0=1;var e=GN(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return pp=n,pp}var mp,q0;function Io(){if(q0)return mp;q0=1;var e=oi(),t=e.Symbol;return mp=t,mp}var vp,U0;function Gk(){if(U0)return vp;U0=1;var e=Io(),t=Object.prototype,n=t.hasOwnProperty,a=t.toString,o=e?e.toStringTag:void 0;function c(f){var m=n.call(f,o),v=f[o];try{f[o]=void 0;var x=!0}catch{}var _=a.call(f);return x&&(m?f[o]=v:delete f[o]),_}return vp=c,vp}var gp,W0;function Kk(){if(W0)return gp;W0=1;var e=Object.prototype,t=e.toString;function n(a){return t.call(a)}return gp=n,gp}var yp,H0;function Fo(){if(H0)return yp;H0=1;var e=Io(),t=Gk(),n=Kk(),a="[object Null]",o="[object Undefined]",c=e?e.toStringTag:void 0;function f(m){return m==null?m===void 0?o:a:c&&c in Object(m)?t(m):n(m)}return yp=f,yp}var xp,Y0;function Hi(){if(Y0)return xp;Y0=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return xp=e,xp}var _p,Z0;function Py(){if(Z0)return _p;Z0=1;var e=Fo(),t=Hi(),n="[object AsyncFunction]",a="[object Function]",o="[object GeneratorFunction]",c="[object Proxy]";function f(m){if(!t(m))return!1;var v=e(m);return v==a||v==o||v==n||v==c}return _p=f,_p}var wp,V0;function jy(){if(V0)return wp;V0=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return wp=t,wp}var bp,G0;function wu(){if(G0)return bp;G0=1;var e=Py(),t=jy();function n(a){return a!=null&&t(a.length)&&!e(a)}return bp=n,bp}var Sp,K0;function ky(){if(K0)return Sp;K0=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(a,o){var c=typeof a;return o=o??e,!!o&&(c=="number"||c!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<o}return Sp=n,Sp}var Np,X0;function Wd(){if(X0)return Np;X0=1;var e=_u(),t=wu(),n=ky(),a=Hi();function o(c,f,m){if(!a(m))return!1;var v=typeof f;return(v=="number"?t(m)&&n(f,m.length):v=="string"&&f in m)?e(m[f],c):!1}return Np=o,Np}var Cp,J0;function Xk(){if(J0)return Cp;J0=1;var e=/\s/;function t(n){for(var a=n.length;a--&&e.test(n.charAt(a)););return a}return Cp=t,Cp}var Ep,Q0;function Jk(){if(Q0)return Ep;Q0=1;var e=Xk(),t=/^\s+/;function n(a){return a&&a.slice(0,e(a)+1).replace(t,"")}return Ep=n,Ep}var Pp,ew;function Aa(){if(ew)return Pp;ew=1;function e(t){return t!=null&&typeof t=="object"}return Pp=e,Pp}var jp,tw;function bu(){if(tw)return jp;tw=1;var e=Fo(),t=Aa(),n="[object Symbol]";function a(o){return typeof o=="symbol"||t(o)&&e(o)==n}return jp=a,jp}var kp,nw;function Qk(){if(nw)return kp;nw=1;var e=Jk(),t=Hi(),n=bu(),a=NaN,o=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,f=/^0o[0-7]+$/i,m=parseInt;function v(x){if(typeof x=="number")return x;if(n(x))return a;if(t(x)){var _=typeof x.valueOf=="function"?x.valueOf():x;x=t(_)?_+"":_}if(typeof x!="string")return x===0?x:+x;x=e(x);var w=c.test(x);return w||f.test(x)?m(x.slice(2),w?2:8):o.test(x)?a:+x}return kp=v,kp}var Tp,rw;function KN(){if(rw)return Tp;rw=1;var e=Qk(),t=1/0,n=17976931348623157e292;function a(o){if(!o)return o===0?o:0;if(o=e(o),o===t||o===-t){var c=o<0?-1:1;return c*n}return o===o?o:0}return Tp=a,Tp}var Op,iw;function XN(){if(iw)return Op;iw=1;var e=KN();function t(n){var a=e(n),o=a%1;return a===a?o?a-o:a:0}return Op=t,Op}var Mp,aw;function eT(){if(aw)return Mp;aw=1;var e=VN(),t=Wd(),n=XN(),a=Math.ceil,o=Math.max;function c(f,m,v){(v?t(f,m,v):m===void 0)?m=1:m=o(n(m),0);var x=f==null?0:f.length;if(!x||m<1)return[];for(var _=0,w=0,N=Array(a(x/m));_<x;)N[w++]=e(f,_,_+=m);return N}return Mp=c,Mp}var tT=eT();const nT=vn(tT);function Su(e){return e&&e.ownerDocument||document}function rT(e){var t=Su(e);return t&&t.defaultView||window}function iT(e,t){return rT(e).getComputedStyle(e,t)}var aT=/([A-Z])/g;function sT(e){return e.replace(aT,"-$1").toLowerCase()}var oT=/^ms-/;function ed(e){return sT(e).replace(oT,"-ms-")}var lT=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function uT(e){return!!(e&&lT.test(e))}function wo(e,t){var n="",a="";if(typeof t=="string")return e.style.getPropertyValue(ed(t))||iT(e).getPropertyValue(ed(t));Object.keys(t).forEach(function(o){var c=t[o];!c&&c!==0?e.style.removeProperty(ed(o)):uT(o)?a+=o+"("+c+") ":n+=ed(o)+": "+c+";"}),a&&(n+="transform: "+a+";"),e.style.cssText+=";"+n}function uu(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function cT(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function Ty(e){return"window"in e&&e.window===e?e:cT(e)&&e.defaultView||!1}function JN(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(a,o){var c=Ty(a);if(o===void 0)return c?c[e]:a[t];c?c.scrollTo(c[e],o):a[t]=o}return n}const QN=JN("pageXOffset"),eC=JN("pageYOffset");function ys(e){var t=Su(e),n={top:0,left:0,height:0,width:0},a=t&&t.documentElement;return!a||!uu(a,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+eC(a)-(a.clientTop||0),left:n.left+QN(a)-(a.clientLeft||0),width:n.width,height:n.height}),n}var dT=function(t){return!!t&&"offsetParent"in t};function fT(e){for(var t=Su(e),n=e&&e.offsetParent;dT(n)&&n.nodeName!=="HTML"&&wo(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}var hT=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function tC(e,t){var n={top:0,left:0},a;if(wo(e,"position")==="fixed")a=e.getBoundingClientRect();else{var o=t||fT(e);a=ys(e),hT(o)!=="html"&&(n=ys(o));var c=String(wo(o,"borderTopWidth")||0);n.top+=parseInt(c,10)-eC(o)||0;var f=String(wo(o,"borderLeftWidth")||0);n.left+=parseInt(f,10)-QN(o)||0}var m=String(wo(e,"marginTop")||0),v=String(wo(e,"marginLeft")||0);return jt({},a,{top:a.top-n.top-(parseInt(m,10)||0),left:a.left-n.left-(parseInt(v,10)||0)})}const Oy=!!(typeof window<"u"&&window.document&&window.document.createElement);var sw=new Date().getTime();function pT(e){var t=new Date().getTime(),n=Math.max(0,16-(t-sw)),a=setTimeout(e,n);return sw=t,a}var mT=["","webkit","moz","o","ms"],Jg="clearTimeout",Qg=pT,ow=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};Oy&&mT.some(function(e){var t=ow(e,"request");return t in window&&(Jg=ow(e,"cancel"),Qg=function(a){return window[t](a)}),!!Qg});var lw=function(t){typeof window[Jg]=="function"&&window[Jg](t)},nC=Qg,Dp;function vT(e,t){if(!Dp){var n=document.body,a=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;Dp=function(c,f){return a.call(c,f)}}return Dp(e,t)}var gT=Function.prototype.bind.call(Function.prototype.call,[].slice);function yT(e,t){return gT(e.querySelectorAll(t))}var ey=!1,ty=!1;try{var zp={get passive(){return ey=!0},get once(){return ty=ey=!0}};Oy&&(window.addEventListener("test",zp,zp),window.removeEventListener("test",zp,!0))}catch{}function xT(e,t,n,a){if(a&&typeof a!="boolean"&&!ty){var o=a.once,c=a.capture,f=n;!ty&&o&&(f=n.__once||function m(v){this.removeEventListener(t,m,c),n.call(this,v)},n.__once=f),e.addEventListener(t,f,ey?a:c)}e.addEventListener(t,n,a)}function _T(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e},[e]),t}function uw(e){const t=_T(e);return O.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function cw(){return O.useState(null)}function wT(){const e=O.useRef(!0),t=O.useRef(()=>e.current);return O.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function bT(e){const t=wT();return[e[0],O.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var In="top",yr="bottom",xr="right",Fn="left",My="auto",Nu=[In,yr,xr,Fn],ko="start",cu="end",ST="clippingParents",rC="viewport",$l="popper",NT="reference",dw=Nu.reduce(function(e,t){return e.concat([t+"-"+ko,t+"-"+cu])},[]),Dy=[].concat(Nu,[My]).reduce(function(e,t){return e.concat([t,t+"-"+ko,t+"-"+cu])},[]),CT="beforeRead",ET="read",PT="afterRead",jT="beforeMain",kT="main",TT="afterMain",OT="beforeWrite",MT="write",DT="afterWrite",zT=[CT,ET,PT,jT,kT,TT,OT,MT,DT];function ni(e){return e.split("-")[0]}function Qn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Es(e){var t=Qn(e).Element;return e instanceof t||e instanceof Element}function ri(e){var t=Qn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function zy(e){if(typeof ShadowRoot>"u")return!1;var t=Qn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var xs=Math.max,Md=Math.min,To=Math.round;function ny(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function iC(){return!/^((?!chrome|android).)*safari/i.test(ny())}function Oo(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var a=e.getBoundingClientRect(),o=1,c=1;t&&ri(e)&&(o=e.offsetWidth>0&&To(a.width)/e.offsetWidth||1,c=e.offsetHeight>0&&To(a.height)/e.offsetHeight||1);var f=Es(e)?Qn(e):window,m=f.visualViewport,v=!iC()&&n,x=(a.left+(v&&m?m.offsetLeft:0))/o,_=(a.top+(v&&m?m.offsetTop:0))/c,w=a.width/o,N=a.height/c;return{width:w,height:N,top:_,right:x+w,bottom:_+N,left:x,x,y:_}}function Ry(e){var t=Oo(e),n=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:a}}function aC(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&zy(n)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Da(e){return e?(e.nodeName||"").toLowerCase():null}function qi(e){return Qn(e).getComputedStyle(e)}function RT(e){return["table","td","th"].indexOf(Da(e))>=0}function Ia(e){return((Es(e)?e.ownerDocument:e.document)||window.document).documentElement}function Hd(e){return Da(e)==="html"?e:e.assignedSlot||e.parentNode||(zy(e)?e.host:null)||Ia(e)}function fw(e){return!ri(e)||qi(e).position==="fixed"?null:e.offsetParent}function LT(e){var t=/firefox/i.test(ny()),n=/Trident/i.test(ny());if(n&&ri(e)){var a=qi(e);if(a.position==="fixed")return null}var o=Hd(e);for(zy(o)&&(o=o.host);ri(o)&&["html","body"].indexOf(Da(o))<0;){var c=qi(o);if(c.transform!=="none"||c.perspective!=="none"||c.contain==="paint"||["transform","perspective"].indexOf(c.willChange)!==-1||t&&c.willChange==="filter"||t&&c.filter&&c.filter!=="none")return o;o=o.parentNode}return null}function Cu(e){for(var t=Qn(e),n=fw(e);n&&RT(n)&&qi(n).position==="static";)n=fw(n);return n&&(Da(n)==="html"||Da(n)==="body"&&qi(n).position==="static")?t:n||LT(e)||t}function Ly(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Gl(e,t,n){return xs(e,Md(t,n))}function AT(e,t,n){var a=Gl(e,t,n);return a>n?n:a}function sC(){return{top:0,right:0,bottom:0,left:0}}function oC(e){return Object.assign({},sC(),e)}function lC(e,t){return t.reduce(function(n,a){return n[a]=e,n},{})}var IT=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,oC(typeof t!="number"?t:lC(t,Nu))};function FT(e){var t,n=e.state,a=e.name,o=e.options,c=n.elements.arrow,f=n.modifiersData.popperOffsets,m=ni(n.placement),v=Ly(m),x=[Fn,xr].indexOf(m)>=0,_=x?"height":"width";if(!(!c||!f)){var w=IT(o.padding,n),N=Ry(c),E=v==="y"?In:Fn,P=v==="y"?yr:xr,C=n.rects.reference[_]+n.rects.reference[v]-f[v]-n.rects.popper[_],j=f[v]-n.rects.reference[v],M=Cu(c),R=M?v==="y"?M.clientHeight||0:M.clientWidth||0:0,A=C/2-j/2,F=w[E],B=R-N[_]-w[P],q=R/2-N[_]/2+A,H=Gl(F,q,B),$=v;n.modifiersData[a]=(t={},t[$]=H,t.centerOffset=H-q,t)}}function $T(e){var t=e.state,n=e.options,a=n.element,o=a===void 0?"[data-popper-arrow]":a;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||aC(t.elements.popper,o)&&(t.elements.arrow=o))}const BT={name:"arrow",enabled:!0,phase:"main",fn:FT,effect:$T,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Mo(e){return e.split("-")[1]}var qT={top:"auto",right:"auto",bottom:"auto",left:"auto"};function UT(e,t){var n=e.x,a=e.y,o=t.devicePixelRatio||1;return{x:To(n*o)/o||0,y:To(a*o)/o||0}}function hw(e){var t,n=e.popper,a=e.popperRect,o=e.placement,c=e.variation,f=e.offsets,m=e.position,v=e.gpuAcceleration,x=e.adaptive,_=e.roundOffsets,w=e.isFixed,N=f.x,E=N===void 0?0:N,P=f.y,C=P===void 0?0:P,j=typeof _=="function"?_({x:E,y:C}):{x:E,y:C};E=j.x,C=j.y;var M=f.hasOwnProperty("x"),R=f.hasOwnProperty("y"),A=Fn,F=In,B=window;if(x){var q=Cu(n),H="clientHeight",$="clientWidth";if(q===Qn(n)&&(q=Ia(n),qi(q).position!=="static"&&m==="absolute"&&(H="scrollHeight",$="scrollWidth")),q=q,o===In||(o===Fn||o===xr)&&c===cu){F=yr;var V=w&&q===B&&B.visualViewport?B.visualViewport.height:q[H];C-=V-a.height,C*=v?1:-1}if(o===Fn||(o===In||o===yr)&&c===cu){A=xr;var I=w&&q===B&&B.visualViewport?B.visualViewport.width:q[$];E-=I-a.width,E*=v?1:-1}}var U=Object.assign({position:m},x&&qT),ee=_===!0?UT({x:E,y:C},Qn(n)):{x:E,y:C};if(E=ee.x,C=ee.y,v){var K;return Object.assign({},U,(K={},K[F]=R?"0":"",K[A]=M?"0":"",K.transform=(B.devicePixelRatio||1)<=1?"translate("+E+"px, "+C+"px)":"translate3d("+E+"px, "+C+"px, 0)",K))}return Object.assign({},U,(t={},t[F]=R?C+"px":"",t[A]=M?E+"px":"",t.transform="",t))}function WT(e){var t=e.state,n=e.options,a=n.gpuAcceleration,o=a===void 0?!0:a,c=n.adaptive,f=c===void 0?!0:c,m=n.roundOffsets,v=m===void 0?!0:m,x={placement:ni(t.placement),variation:Mo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,hw(Object.assign({},x,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:f,roundOffsets:v})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,hw(Object.assign({},x,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:v})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const HT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:WT,data:{}};var td={passive:!0};function YT(e){var t=e.state,n=e.instance,a=e.options,o=a.scroll,c=o===void 0?!0:o,f=a.resize,m=f===void 0?!0:f,v=Qn(t.elements.popper),x=[].concat(t.scrollParents.reference,t.scrollParents.popper);return c&&x.forEach(function(_){_.addEventListener("scroll",n.update,td)}),m&&v.addEventListener("resize",n.update,td),function(){c&&x.forEach(function(_){_.removeEventListener("scroll",n.update,td)}),m&&v.removeEventListener("resize",n.update,td)}}const ZT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:YT,data:{}};var VT={left:"right",right:"left",bottom:"top",top:"bottom"};function cd(e){return e.replace(/left|right|bottom|top/g,function(t){return VT[t]})}var GT={start:"end",end:"start"};function pw(e){return e.replace(/start|end/g,function(t){return GT[t]})}function Ay(e){var t=Qn(e),n=t.pageXOffset,a=t.pageYOffset;return{scrollLeft:n,scrollTop:a}}function Iy(e){return Oo(Ia(e)).left+Ay(e).scrollLeft}function KT(e,t){var n=Qn(e),a=Ia(e),o=n.visualViewport,c=a.clientWidth,f=a.clientHeight,m=0,v=0;if(o){c=o.width,f=o.height;var x=iC();(x||!x&&t==="fixed")&&(m=o.offsetLeft,v=o.offsetTop)}return{width:c,height:f,x:m+Iy(e),y:v}}function XT(e){var t,n=Ia(e),a=Ay(e),o=(t=e.ownerDocument)==null?void 0:t.body,c=xs(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),f=xs(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),m=-a.scrollLeft+Iy(e),v=-a.scrollTop;return qi(o||n).direction==="rtl"&&(m+=xs(n.clientWidth,o?o.clientWidth:0)-c),{width:c,height:f,x:m,y:v}}function Fy(e){var t=qi(e),n=t.overflow,a=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+a)}function uC(e){return["html","body","#document"].indexOf(Da(e))>=0?e.ownerDocument.body:ri(e)&&Fy(e)?e:uC(Hd(e))}function Kl(e,t){var n;t===void 0&&(t=[]);var a=uC(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),c=Qn(a),f=o?[c].concat(c.visualViewport||[],Fy(a)?a:[]):a,m=t.concat(f);return o?m:m.concat(Kl(Hd(f)))}function ry(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function JT(e,t){var n=Oo(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function mw(e,t,n){return t===rC?ry(KT(e,n)):Es(t)?JT(t,n):ry(XT(Ia(e)))}function QT(e){var t=Kl(Hd(e)),n=["absolute","fixed"].indexOf(qi(e).position)>=0,a=n&&ri(e)?Cu(e):e;return Es(a)?t.filter(function(o){return Es(o)&&aC(o,a)&&Da(o)!=="body"}):[]}function eO(e,t,n,a){var o=t==="clippingParents"?QT(e):[].concat(t),c=[].concat(o,[n]),f=c[0],m=c.reduce(function(v,x){var _=mw(e,x,a);return v.top=xs(_.top,v.top),v.right=Md(_.right,v.right),v.bottom=Md(_.bottom,v.bottom),v.left=xs(_.left,v.left),v},mw(e,f,a));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function cC(e){var t=e.reference,n=e.element,a=e.placement,o=a?ni(a):null,c=a?Mo(a):null,f=t.x+t.width/2-n.width/2,m=t.y+t.height/2-n.height/2,v;switch(o){case In:v={x:f,y:t.y-n.height};break;case yr:v={x:f,y:t.y+t.height};break;case xr:v={x:t.x+t.width,y:m};break;case Fn:v={x:t.x-n.width,y:m};break;default:v={x:t.x,y:t.y}}var x=o?Ly(o):null;if(x!=null){var _=x==="y"?"height":"width";switch(c){case ko:v[x]=v[x]-(t[_]/2-n[_]/2);break;case cu:v[x]=v[x]+(t[_]/2-n[_]/2);break}}return v}function du(e,t){t===void 0&&(t={});var n=t,a=n.placement,o=a===void 0?e.placement:a,c=n.strategy,f=c===void 0?e.strategy:c,m=n.boundary,v=m===void 0?ST:m,x=n.rootBoundary,_=x===void 0?rC:x,w=n.elementContext,N=w===void 0?$l:w,E=n.altBoundary,P=E===void 0?!1:E,C=n.padding,j=C===void 0?0:C,M=oC(typeof j!="number"?j:lC(j,Nu)),R=N===$l?NT:$l,A=e.rects.popper,F=e.elements[P?R:N],B=eO(Es(F)?F:F.contextElement||Ia(e.elements.popper),v,_,f),q=Oo(e.elements.reference),H=cC({reference:q,element:A,placement:o}),$=ry(Object.assign({},A,H)),V=N===$l?$:q,I={top:B.top-V.top+M.top,bottom:V.bottom-B.bottom+M.bottom,left:B.left-V.left+M.left,right:V.right-B.right+M.right},U=e.modifiersData.offset;if(N===$l&&U){var ee=U[o];Object.keys(I).forEach(function(K){var ce=[xr,yr].indexOf(K)>=0?1:-1,_e=[In,yr].indexOf(K)>=0?"y":"x";I[K]+=ee[_e]*ce})}return I}function tO(e,t){t===void 0&&(t={});var n=t,a=n.placement,o=n.boundary,c=n.rootBoundary,f=n.padding,m=n.flipVariations,v=n.allowedAutoPlacements,x=v===void 0?Dy:v,_=Mo(a),w=_?m?dw:dw.filter(function(P){return Mo(P)===_}):Nu,N=w.filter(function(P){return x.indexOf(P)>=0});N.length===0&&(N=w);var E=N.reduce(function(P,C){return P[C]=du(e,{placement:C,boundary:o,rootBoundary:c,padding:f})[ni(C)],P},{});return Object.keys(E).sort(function(P,C){return E[P]-E[C]})}function nO(e){if(ni(e)===My)return[];var t=cd(e);return[pw(e),t,pw(t)]}function rO(e){var t=e.state,n=e.options,a=e.name;if(!t.modifiersData[a]._skip){for(var o=n.mainAxis,c=o===void 0?!0:o,f=n.altAxis,m=f===void 0?!0:f,v=n.fallbackPlacements,x=n.padding,_=n.boundary,w=n.rootBoundary,N=n.altBoundary,E=n.flipVariations,P=E===void 0?!0:E,C=n.allowedAutoPlacements,j=t.options.placement,M=ni(j),R=M===j,A=v||(R||!P?[cd(j)]:nO(j)),F=[j].concat(A).reduce(function(re,oe){return re.concat(ni(oe)===My?tO(t,{placement:oe,boundary:_,rootBoundary:w,padding:x,flipVariations:P,allowedAutoPlacements:C}):oe)},[]),B=t.rects.reference,q=t.rects.popper,H=new Map,$=!0,V=F[0],I=0;I<F.length;I++){var U=F[I],ee=ni(U),K=Mo(U)===ko,ce=[In,yr].indexOf(ee)>=0,_e=ce?"width":"height",de=du(t,{placement:U,boundary:_,rootBoundary:w,altBoundary:N,padding:x}),he=ce?K?xr:Fn:K?yr:In;B[_e]>q[_e]&&(he=cd(he));var Y=cd(he),fe=[];if(c&&fe.push(de[ee]<=0),m&&fe.push(de[he]<=0,de[Y]<=0),fe.every(function(re){return re})){V=U,$=!1;break}H.set(U,fe)}if($)for(var ne=P?3:1,z=function(oe){var Q=F.find(function(me){var ye=H.get(me);if(ye)return ye.slice(0,oe).every(function(pe){return pe})});if(Q)return V=Q,"break"},D=ne;D>0;D--){var X=z(D);if(X==="break")break}t.placement!==V&&(t.modifiersData[a]._skip=!0,t.placement=V,t.reset=!0)}}const iO={name:"flip",enabled:!0,phase:"main",fn:rO,requiresIfExists:["offset"],data:{_skip:!1}};function vw(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function gw(e){return[In,xr,yr,Fn].some(function(t){return e[t]>=0})}function aO(e){var t=e.state,n=e.name,a=t.rects.reference,o=t.rects.popper,c=t.modifiersData.preventOverflow,f=du(t,{elementContext:"reference"}),m=du(t,{altBoundary:!0}),v=vw(f,a),x=vw(m,o,c),_=gw(v),w=gw(x);t.modifiersData[n]={referenceClippingOffsets:v,popperEscapeOffsets:x,isReferenceHidden:_,hasPopperEscaped:w},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":_,"data-popper-escaped":w})}const sO={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:aO};function oO(e,t,n){var a=ni(e),o=[Fn,In].indexOf(a)>=0?-1:1,c=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,f=c[0],m=c[1];return f=f||0,m=(m||0)*o,[Fn,xr].indexOf(a)>=0?{x:m,y:f}:{x:f,y:m}}function lO(e){var t=e.state,n=e.options,a=e.name,o=n.offset,c=o===void 0?[0,0]:o,f=Dy.reduce(function(_,w){return _[w]=oO(w,t.rects,c),_},{}),m=f[t.placement],v=m.x,x=m.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=v,t.modifiersData.popperOffsets.y+=x),t.modifiersData[a]=f}const uO={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:lO};function cO(e){var t=e.state,n=e.name;t.modifiersData[n]=cC({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const dO={name:"popperOffsets",enabled:!0,phase:"read",fn:cO,data:{}};function fO(e){return e==="x"?"y":"x"}function hO(e){var t=e.state,n=e.options,a=e.name,o=n.mainAxis,c=o===void 0?!0:o,f=n.altAxis,m=f===void 0?!1:f,v=n.boundary,x=n.rootBoundary,_=n.altBoundary,w=n.padding,N=n.tether,E=N===void 0?!0:N,P=n.tetherOffset,C=P===void 0?0:P,j=du(t,{boundary:v,rootBoundary:x,padding:w,altBoundary:_}),M=ni(t.placement),R=Mo(t.placement),A=!R,F=Ly(M),B=fO(F),q=t.modifiersData.popperOffsets,H=t.rects.reference,$=t.rects.popper,V=typeof C=="function"?C(Object.assign({},t.rects,{placement:t.placement})):C,I=typeof V=="number"?{mainAxis:V,altAxis:V}:Object.assign({mainAxis:0,altAxis:0},V),U=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,ee={x:0,y:0};if(q){if(c){var K,ce=F==="y"?In:Fn,_e=F==="y"?yr:xr,de=F==="y"?"height":"width",he=q[F],Y=he+j[ce],fe=he-j[_e],ne=E?-$[de]/2:0,z=R===ko?H[de]:$[de],D=R===ko?-$[de]:-H[de],X=t.elements.arrow,re=E&&X?Ry(X):{width:0,height:0},oe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:sC(),Q=oe[ce],me=oe[_e],ye=Gl(0,H[de],re[de]),pe=A?H[de]/2-ne-ye-Q-I.mainAxis:z-ye-Q-I.mainAxis,Se=A?-H[de]/2+ne+ye+me+I.mainAxis:D+ye+me+I.mainAxis,De=t.elements.arrow&&Cu(t.elements.arrow),Ze=De?F==="y"?De.clientTop||0:De.clientLeft||0:0,Qe=(K=U?.[F])!=null?K:0,Ht=he+pe-Qe-Ze,Be=he+Se-Qe,Jt=Gl(E?Md(Y,Ht):Y,he,E?xs(fe,Be):fe);q[F]=Jt,ee[F]=Jt-he}if(m){var He,Yt=F==="x"?In:Fn,rn=F==="x"?yr:xr,Zt=q[B],Dt=B==="y"?"height":"width",Vt=Zt+j[Yt],_t=Zt-j[rn],Bn=[In,Fn].indexOf(M)!==-1,tr=(He=U?.[B])!=null?He:0,Sr=Bn?Vt:Zt-H[Dt]-$[Dt]-tr+I.altAxis,nr=Bn?Zt+H[Dt]+$[Dt]-tr-I.altAxis:_t,Qt=E&&Bn?AT(Sr,Zt,nr):Gl(E?Sr:Vt,Zt,E?nr:_t);q[B]=Qt,ee[B]=Qt-Zt}t.modifiersData[a]=ee}}const pO={name:"preventOverflow",enabled:!0,phase:"main",fn:hO,requiresIfExists:["offset"]};function mO(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function vO(e){return e===Qn(e)||!ri(e)?Ay(e):mO(e)}function gO(e){var t=e.getBoundingClientRect(),n=To(t.width)/e.offsetWidth||1,a=To(t.height)/e.offsetHeight||1;return n!==1||a!==1}function yO(e,t,n){n===void 0&&(n=!1);var a=ri(t),o=ri(t)&&gO(t),c=Ia(t),f=Oo(e,o,n),m={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(a||!a&&!n)&&((Da(t)!=="body"||Fy(c))&&(m=vO(t)),ri(t)?(v=Oo(t,!0),v.x+=t.clientLeft,v.y+=t.clientTop):c&&(v.x=Iy(c))),{x:f.left+m.scrollLeft-v.x,y:f.top+m.scrollTop-v.y,width:f.width,height:f.height}}function xO(e){var t=new Map,n=new Set,a=[];e.forEach(function(c){t.set(c.name,c)});function o(c){n.add(c.name);var f=[].concat(c.requires||[],c.requiresIfExists||[]);f.forEach(function(m){if(!n.has(m)){var v=t.get(m);v&&o(v)}}),a.push(c)}return e.forEach(function(c){n.has(c.name)||o(c)}),a}function _O(e){var t=xO(e);return zT.reduce(function(n,a){return n.concat(t.filter(function(o){return o.phase===a}))},[])}function wO(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function bO(e){var t=e.reduce(function(n,a){var o=n[a.name];return n[a.name]=o?Object.assign({},o,a,{options:Object.assign({},o.options,a.options),data:Object.assign({},o.data,a.data)}):a,n},{});return Object.keys(t).map(function(n){return t[n]})}var yw={placement:"bottom",modifiers:[],strategy:"absolute"};function xw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function SO(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,a=n===void 0?[]:n,o=t.defaultOptions,c=o===void 0?yw:o;return function(m,v,x){x===void 0&&(x=c);var _={placement:"bottom",orderedModifiers:[],options:Object.assign({},yw,c),modifiersData:{},elements:{reference:m,popper:v},attributes:{},styles:{}},w=[],N=!1,E={state:_,setOptions:function(M){var R=typeof M=="function"?M(_.options):M;C(),_.options=Object.assign({},c,_.options,R),_.scrollParents={reference:Es(m)?Kl(m):m.contextElement?Kl(m.contextElement):[],popper:Kl(v)};var A=_O(bO([].concat(a,_.options.modifiers)));return _.orderedModifiers=A.filter(function(F){return F.enabled}),P(),E.update()},forceUpdate:function(){if(!N){var M=_.elements,R=M.reference,A=M.popper;if(xw(R,A)){_.rects={reference:yO(R,Cu(A),_.options.strategy==="fixed"),popper:Ry(A)},_.reset=!1,_.placement=_.options.placement,_.orderedModifiers.forEach(function(I){return _.modifiersData[I.name]=Object.assign({},I.data)});for(var F=0;F<_.orderedModifiers.length;F++){if(_.reset===!0){_.reset=!1,F=-1;continue}var B=_.orderedModifiers[F],q=B.fn,H=B.options,$=H===void 0?{}:H,V=B.name;typeof q=="function"&&(_=q({state:_,options:$,name:V,instance:E})||_)}}}},update:wO(function(){return new Promise(function(j){E.forceUpdate(),j(_)})}),destroy:function(){C(),N=!0}};if(!xw(m,v))return E;E.setOptions(x).then(function(j){!N&&x.onFirstUpdate&&x.onFirstUpdate(j)});function P(){_.orderedModifiers.forEach(function(j){var M=j.name,R=j.options,A=R===void 0?{}:R,F=j.effect;if(typeof F=="function"){var B=F({state:_,name:M,instance:E,options:A}),q=function(){};w.push(B||q)}})}function C(){w.forEach(function(j){return j()}),w=[]}return E}}var NO=SO({defaultModifiers:[sO,dO,HT,ZT,uO,iO,pO,BT]}),_w=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},CO={name:"applyStyles",enabled:!1},EO={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var a=n.elements,o=a.reference,c=a.popper;if("removeAttribute"in o){var f=(o.getAttribute("aria-describedby")||"").split(",").filter(function(m){return m.trim()!==c.id});f.length?o.setAttribute("aria-describedby",f.join(",")):o.removeAttribute("aria-describedby")}}},fn:function(t){var n,a=t.state,o=a.elements,c=o.popper,f=o.reference,m=(n=c.getAttribute("role"))==null?void 0:n.toLowerCase();if(c.id&&m==="tooltip"&&"setAttribute"in f){var v=f.getAttribute("aria-describedby");if(v&&v.split(",").indexOf(c.id)!==-1)return;f.setAttribute("aria-describedby",v?v+","+c.id:c.id)}}},PO=[];function jO(e,t,n){var a=n===void 0?{}:n,o=a.enabled,c=o===void 0?!0:o,f=a.placement,m=f===void 0?"bottom":f,v=a.strategy,x=v===void 0?"absolute":v,_=a.modifiers,w=_===void 0?PO:_,N=qd(a,["enabled","placement","strategy","modifiers"]),E=O.useRef(),P=O.useCallback(function(){var F;(F=E.current)==null||F.update()},[]),C=O.useCallback(function(){var F;(F=E.current)==null||F.forceUpdate()},[]),j=bT(O.useState({placement:m,update:P,forceUpdate:C,attributes:{},styles:{popper:_w(x),arrow:{}}})),M=j[0],R=j[1],A=O.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(B){var q=B.state,H={},$={};Object.keys(q.elements).forEach(function(V){H[V]=q.styles[V],$[V]=q.attributes[V]}),R({state:q,styles:H,attributes:$,update:P,forceUpdate:C,placement:q.placement})}}},[P,C,R]);return O.useEffect(function(){!E.current||!c||E.current.setOptions({placement:m,strategy:x,modifiers:[].concat(w,[A,CO])})},[x,m,A,c]),O.useEffect(function(){if(!(!c||e==null||t==null))return E.current=NO(e,t,jt({},N,{placement:m,strategy:x,modifiers:[].concat(w,[EO,A])})),function(){E.current!=null&&(E.current.destroy(),E.current=void 0,R(function(F){return jt({},F,{attributes:{},styles:{popper:_w(x)}})}))}},[c,e,t]),M}function kO(e,t,n,a){var o=a&&typeof a!="boolean"?a.capture:a;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)}function Wl(e,t,n,a){return xT(e,t,n,a),function(){kO(e,t,n,a)}}var Rp,ww;function TO(){if(ww)return Rp;ww=1;var e=function(){};return Rp=e,Rp}var OO=TO();const MO=vn(OO);function DO(e){return e&&"setState"in e?aN.findDOMNode(e):e??null}const zO=(function(e){return Su(DO(e))});var RO=27,bw=function(){};function LO(e){return e.button===0}function AO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var Sw=function(t){return t&&("current"in t?t.current:t)};function IO(e,t,n){var a=n===void 0?{}:n,o=a.disabled,c=a.clickTrigger,f=c===void 0?"click":c,m=O.useRef(!1),v=t||bw,x=O.useCallback(function(N){var E,P=Sw(e);MO(!!P,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),m.current=!P||AO(N)||!LO(N)||!!uu(P,(E=N.composedPath==null?void 0:N.composedPath()[0])!=null?E:N.target)},[e]),_=uw(function(N){m.current||v(N)}),w=uw(function(N){N.keyCode===RO&&v(N)});O.useEffect(function(){if(!(o||e==null)){var N=window.event,E=zO(Sw(e)),P=Wl(E,f,x,!0),C=Wl(E,f,function(R){if(R===N){N=void 0;return}_(R)}),j=Wl(E,"keyup",function(R){if(R===N){N=void 0;return}w(R)}),M=[];return"ontouchstart"in E.documentElement&&(M=[].slice.call(E.body.children).map(function(R){return Wl(R,"mousemove",bw)})),function(){P(),C(),j(),M.forEach(function(R){return R()})}}},[e,o,f,x,_,w])}function FO(e){var t={};return Array.isArray(e)?(e?.forEach(function(n){t[n.name]=n}),t):e||t}function $O(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function BO(e){var t,n,a,o,c=e.enabled,f=e.enableEvents,m=e.placement,v=e.flip,x=e.offset,_=e.fixed,w=e.containerPadding,N=e.arrowElement,E=e.popperConfig,P=E===void 0?{}:E,C=FO(P.modifiers);return jt({},P,{placement:m,enabled:c,strategy:_?"fixed":P.strategy,modifiers:$O(jt({},C,{eventListeners:{enabled:f},preventOverflow:jt({},C.preventOverflow,{options:w?jt({padding:w},(t=C.preventOverflow)==null?void 0:t.options):(n=C.preventOverflow)==null?void 0:n.options}),offset:{options:jt({offset:x},(a=C.offset)==null?void 0:a.options)},arrow:jt({},C.arrow,{enabled:!!N,options:jt({},(o=C.arrow)==null?void 0:o.options,{element:N})}),flip:jt({enabled:!!v},C.flip)}))})}function qO(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function UO(e,t){e.classList?e.classList.add(t):qO(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Nw(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function WO(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Nw(e.className,t):e.setAttribute("class",Nw(e.className&&e.className.baseVal||"",t))}var nd;function $y(e){if((!nd&&nd!==0||e)&&Oy){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),nd=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return nd}var Lp=function(t){var n;return typeof document>"u"?null:t==null?Su().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function Cw(e,t){var n=O.useState(function(){return Lp(e)}),a=n[0],o=n[1];if(!a){var c=Lp(e);c&&o(c)}return O.useEffect(function(){},[t,a]),O.useEffect(function(){var f=Lp(e);f!==a&&o(f)},[e,a]),a}const Ew=e=>!e||typeof e=="function"?e:t=>{e.current=t};function HO(e,t){const n=Ew(e),a=Ew(t);return o=>{n&&n(o),a&&a(o)}}function YO(e,t){return O.useMemo(()=>HO(e,t),[e,t])}var By=te.forwardRef(function(e,t){var n=e.flip,a=e.offset,o=e.placement,c=e.containerPadding,f=c===void 0?5:c,m=e.popperConfig,v=m===void 0?{}:m,x=e.transition,_=cw(),w=_[0],N=_[1],E=cw(),P=E[0],C=E[1],j=YO(N,t),M=Cw(e.container),R=Cw(e.target),A=O.useState(!e.show),F=A[0],B=A[1],q=jO(R,w,BO({placement:o,enableEvents:!!e.show,containerPadding:f||5,flip:n,offset:a,arrowElement:P,popperConfig:v})),H=q.styles,$=q.attributes,V=qd(q,["styles","attributes"]);e.show?F&&B(!1):!e.transition&&!F&&B(!0);var I=function(){B(!0),e.onExited&&e.onExited.apply(e,arguments)},U=e.show||x&&!F;if(IO(w,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!U)return null;var ee=e.children(jt({},V,{show:!!e.show,props:jt({},$.popper,{style:H.popper,ref:j}),arrowProps:jt({},$.arrow,{style:H.arrow,ref:C})}));if(x){var K=e.onExit,ce=e.onExiting,_e=e.onEnter,de=e.onEntering,he=e.onEntered;ee=te.createElement(x,{in:e.show,appear:!0,onExit:K,onExiting:ce,onExited:I,onEnter:_e,onEntering:de,onEntered:he},ee)}return M?aN.createPortal(ee,M):null});By.displayName="Overlay";By.propTypes={show:Ce.bool,placement:Ce.oneOf(Dy),target:Ce.any,container:Ce.any,flip:Ce.bool,children:Ce.func.isRequired,containerPadding:Ce.number,popperConfig:Ce.object,rootClose:Ce.bool,rootCloseEvent:Ce.oneOf(["click","mousedown"]),rootCloseDisabled:Ce.bool,onHide:function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];if(t.rootClose){var c;return(c=Ce.func).isRequired.apply(c,[t].concat(a))}return Ce.func.apply(Ce,[t].concat(a))},transition:Ce.elementType,onEnter:Ce.func,onEntering:Ce.func,onEntered:Ce.func,onExit:Ce.func,onExiting:Ce.func,onExited:Ce.func};var Ap,Pw;function ZO(){if(Pw)return Ap;Pw=1;function e(){this.__data__=[],this.size=0}return Ap=e,Ap}var Ip,jw;function Yd(){if(jw)return Ip;jw=1;var e=_u();function t(n,a){for(var o=n.length;o--;)if(e(n[o][0],a))return o;return-1}return Ip=t,Ip}var Fp,kw;function VO(){if(kw)return Fp;kw=1;var e=Yd(),t=Array.prototype,n=t.splice;function a(o){var c=this.__data__,f=e(c,o);if(f<0)return!1;var m=c.length-1;return f==m?c.pop():n.call(c,f,1),--this.size,!0}return Fp=a,Fp}var $p,Tw;function GO(){if(Tw)return $p;Tw=1;var e=Yd();function t(n){var a=this.__data__,o=e(a,n);return o<0?void 0:a[o][1]}return $p=t,$p}var Bp,Ow;function KO(){if(Ow)return Bp;Ow=1;var e=Yd();function t(n){return e(this.__data__,n)>-1}return Bp=t,Bp}var qp,Mw;function XO(){if(Mw)return qp;Mw=1;var e=Yd();function t(n,a){var o=this.__data__,c=e(o,n);return c<0?(++this.size,o.push([n,a])):o[c][1]=a,this}return qp=t,qp}var Up,Dw;function Zd(){if(Dw)return Up;Dw=1;var e=ZO(),t=VO(),n=GO(),a=KO(),o=XO();function c(f){var m=-1,v=f==null?0:f.length;for(this.clear();++m<v;){var x=f[m];this.set(x[0],x[1])}}return c.prototype.clear=e,c.prototype.delete=t,c.prototype.get=n,c.prototype.has=a,c.prototype.set=o,Up=c,Up}var Wp,zw;function JO(){if(zw)return Wp;zw=1;var e=Zd();function t(){this.__data__=new e,this.size=0}return Wp=t,Wp}var Hp,Rw;function QO(){if(Rw)return Hp;Rw=1;function e(t){var n=this.__data__,a=n.delete(t);return this.size=n.size,a}return Hp=e,Hp}var Yp,Lw;function eM(){if(Lw)return Yp;Lw=1;function e(t){return this.__data__.get(t)}return Yp=e,Yp}var Zp,Aw;function tM(){if(Aw)return Zp;Aw=1;function e(t){return this.__data__.has(t)}return Zp=e,Zp}var Vp,Iw;function nM(){if(Iw)return Vp;Iw=1;var e=oi(),t=e["__core-js_shared__"];return Vp=t,Vp}var Gp,Fw;function rM(){if(Fw)return Gp;Fw=1;var e=nM(),t=(function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function n(a){return!!t&&t in a}return Gp=n,Gp}var Kp,$w;function dC(){if($w)return Kp;$w=1;var e=Function.prototype,t=e.toString;function n(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return Kp=n,Kp}var Xp,Bw;function iM(){if(Bw)return Xp;Bw=1;var e=Py(),t=rM(),n=Hi(),a=dC(),o=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,f=Function.prototype,m=Object.prototype,v=f.toString,x=m.hasOwnProperty,_=RegExp("^"+v.call(x).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function w(N){if(!n(N)||t(N))return!1;var E=e(N)?_:c;return E.test(a(N))}return Xp=w,Xp}var Jp,qw;function aM(){if(qw)return Jp;qw=1;function e(t,n){return t?.[n]}return Jp=e,Jp}var Qp,Uw;function js(){if(Uw)return Qp;Uw=1;var e=iM(),t=aM();function n(a,o){var c=t(a,o);return e(c)?c:void 0}return Qp=n,Qp}var em,Ww;function qy(){if(Ww)return em;Ww=1;var e=js(),t=oi(),n=e(t,"Map");return em=n,em}var tm,Hw;function Vd(){if(Hw)return tm;Hw=1;var e=js(),t=e(Object,"create");return tm=t,tm}var nm,Yw;function sM(){if(Yw)return nm;Yw=1;var e=Vd();function t(){this.__data__=e?e(null):{},this.size=0}return nm=t,nm}var rm,Zw;function oM(){if(Zw)return rm;Zw=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return rm=e,rm}var im,Vw;function lM(){if(Vw)return im;Vw=1;var e=Vd(),t="__lodash_hash_undefined__",n=Object.prototype,a=n.hasOwnProperty;function o(c){var f=this.__data__;if(e){var m=f[c];return m===t?void 0:m}return a.call(f,c)?f[c]:void 0}return im=o,im}var am,Gw;function uM(){if(Gw)return am;Gw=1;var e=Vd(),t=Object.prototype,n=t.hasOwnProperty;function a(o){var c=this.__data__;return e?c[o]!==void 0:n.call(c,o)}return am=a,am}var sm,Kw;function cM(){if(Kw)return sm;Kw=1;var e=Vd(),t="__lodash_hash_undefined__";function n(a,o){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=e&&o===void 0?t:o,this}return sm=n,sm}var om,Xw;function dM(){if(Xw)return om;Xw=1;var e=sM(),t=oM(),n=lM(),a=uM(),o=cM();function c(f){var m=-1,v=f==null?0:f.length;for(this.clear();++m<v;){var x=f[m];this.set(x[0],x[1])}}return c.prototype.clear=e,c.prototype.delete=t,c.prototype.get=n,c.prototype.has=a,c.prototype.set=o,om=c,om}var lm,Jw;function fM(){if(Jw)return lm;Jw=1;var e=dM(),t=Zd(),n=qy();function a(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return lm=a,lm}var um,Qw;function hM(){if(Qw)return um;Qw=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return um=e,um}var cm,eb;function Gd(){if(eb)return cm;eb=1;var e=hM();function t(n,a){var o=n.__data__;return e(a)?o[typeof a=="string"?"string":"hash"]:o.map}return cm=t,cm}var dm,tb;function pM(){if(tb)return dm;tb=1;var e=Gd();function t(n){var a=e(this,n).delete(n);return this.size-=a?1:0,a}return dm=t,dm}var fm,nb;function mM(){if(nb)return fm;nb=1;var e=Gd();function t(n){return e(this,n).get(n)}return fm=t,fm}var hm,rb;function vM(){if(rb)return hm;rb=1;var e=Gd();function t(n){return e(this,n).has(n)}return hm=t,hm}var pm,ib;function gM(){if(ib)return pm;ib=1;var e=Gd();function t(n,a){var o=e(this,n),c=o.size;return o.set(n,a),this.size+=o.size==c?0:1,this}return pm=t,pm}var mm,ab;function Uy(){if(ab)return mm;ab=1;var e=fM(),t=pM(),n=mM(),a=vM(),o=gM();function c(f){var m=-1,v=f==null?0:f.length;for(this.clear();++m<v;){var x=f[m];this.set(x[0],x[1])}}return c.prototype.clear=e,c.prototype.delete=t,c.prototype.get=n,c.prototype.has=a,c.prototype.set=o,mm=c,mm}var vm,sb;function yM(){if(sb)return vm;sb=1;var e=Zd(),t=qy(),n=Uy(),a=200;function o(c,f){var m=this.__data__;if(m instanceof e){var v=m.__data__;if(!t||v.length<a-1)return v.push([c,f]),this.size=++m.size,this;m=this.__data__=new n(v)}return m.set(c,f),this.size=m.size,this}return vm=o,vm}var gm,ob;function Wy(){if(ob)return gm;ob=1;var e=Zd(),t=JO(),n=QO(),a=eM(),o=tM(),c=yM();function f(m){var v=this.__data__=new e(m);this.size=v.size}return f.prototype.clear=t,f.prototype.delete=n,f.prototype.get=a,f.prototype.has=o,f.prototype.set=c,gm=f,gm}var ym,lb;function xM(){if(lb)return ym;lb=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return ym=t,ym}var xm,ub;function _M(){if(ub)return xm;ub=1;function e(t){return this.__data__.has(t)}return xm=e,xm}var _m,cb;function wM(){if(cb)return _m;cb=1;var e=Uy(),t=xM(),n=_M();function a(o){var c=-1,f=o==null?0:o.length;for(this.__data__=new e;++c<f;)this.add(o[c])}return a.prototype.add=a.prototype.push=t,a.prototype.has=n,_m=a,_m}var wm,db;function bM(){if(db)return wm;db=1;function e(t,n){for(var a=-1,o=t==null?0:t.length;++a<o;)if(n(t[a],a,t))return!0;return!1}return wm=e,wm}var bm,fb;function SM(){if(fb)return bm;fb=1;function e(t,n){return t.has(n)}return bm=e,bm}var Sm,hb;function fC(){if(hb)return Sm;hb=1;var e=wM(),t=bM(),n=SM(),a=1,o=2;function c(f,m,v,x,_,w){var N=v&a,E=f.length,P=m.length;if(E!=P&&!(N&&P>E))return!1;var C=w.get(f),j=w.get(m);if(C&&j)return C==m&&j==f;var M=-1,R=!0,A=v&o?new e:void 0;for(w.set(f,m),w.set(m,f);++M<E;){var F=f[M],B=m[M];if(x)var q=N?x(B,F,M,m,f,w):x(F,B,M,f,m,w);if(q!==void 0){if(q)continue;R=!1;break}if(A){if(!t(m,function(H,$){if(!n(A,$)&&(F===H||_(F,H,v,x,w)))return A.push($)})){R=!1;break}}else if(!(F===B||_(F,B,v,x,w))){R=!1;break}}return w.delete(f),w.delete(m),R}return Sm=c,Sm}var Nm,pb;function hC(){if(pb)return Nm;pb=1;var e=oi(),t=e.Uint8Array;return Nm=t,Nm}var Cm,mb;function NM(){if(mb)return Cm;mb=1;function e(t){var n=-1,a=Array(t.size);return t.forEach(function(o,c){a[++n]=[c,o]}),a}return Cm=e,Cm}var Em,vb;function CM(){if(vb)return Em;vb=1;function e(t){var n=-1,a=Array(t.size);return t.forEach(function(o){a[++n]=o}),a}return Em=e,Em}var Pm,gb;function EM(){if(gb)return Pm;gb=1;var e=Io(),t=hC(),n=_u(),a=fC(),o=NM(),c=CM(),f=1,m=2,v="[object Boolean]",x="[object Date]",_="[object Error]",w="[object Map]",N="[object Number]",E="[object RegExp]",P="[object Set]",C="[object String]",j="[object Symbol]",M="[object ArrayBuffer]",R="[object DataView]",A=e?e.prototype:void 0,F=A?A.valueOf:void 0;function B(q,H,$,V,I,U,ee){switch($){case R:if(q.byteLength!=H.byteLength||q.byteOffset!=H.byteOffset)return!1;q=q.buffer,H=H.buffer;case M:return!(q.byteLength!=H.byteLength||!U(new t(q),new t(H)));case v:case x:case N:return n(+q,+H);case _:return q.name==H.name&&q.message==H.message;case E:case C:return q==H+"";case w:var K=o;case P:var ce=V&f;if(K||(K=c),q.size!=H.size&&!ce)return!1;var _e=ee.get(q);if(_e)return _e==H;V|=m,ee.set(q,H);var de=a(K(q),K(H),V,I,U,ee);return ee.delete(q),de;case j:if(F)return F.call(q)==F.call(H)}return!1}return Pm=B,Pm}var jm,yb;function Hy(){if(yb)return jm;yb=1;function e(t,n){for(var a=-1,o=n.length,c=t.length;++a<o;)t[c+a]=n[a];return t}return jm=e,jm}var km,xb;function _r(){if(xb)return km;xb=1;var e=Array.isArray;return km=e,km}var Tm,_b;function pC(){if(_b)return Tm;_b=1;var e=Hy(),t=_r();function n(a,o,c){var f=o(a);return t(a)?f:e(f,c(a))}return Tm=n,Tm}var Om,wb;function PM(){if(wb)return Om;wb=1;function e(t,n){for(var a=-1,o=t==null?0:t.length,c=0,f=[];++a<o;){var m=t[a];n(m,a,t)&&(f[c++]=m)}return f}return Om=e,Om}var Mm,bb;function mC(){if(bb)return Mm;bb=1;function e(){return[]}return Mm=e,Mm}var Dm,Sb;function Yy(){if(Sb)return Dm;Sb=1;var e=PM(),t=mC(),n=Object.prototype,a=n.propertyIsEnumerable,o=Object.getOwnPropertySymbols,c=o?function(f){return f==null?[]:(f=Object(f),e(o(f),function(m){return a.call(f,m)}))}:t;return Dm=c,Dm}var zm,Nb;function jM(){if(Nb)return zm;Nb=1;function e(t,n){for(var a=-1,o=Array(t);++a<t;)o[a]=n(a);return o}return zm=e,zm}var Rm,Cb;function kM(){if(Cb)return Rm;Cb=1;var e=Fo(),t=Aa(),n="[object Arguments]";function a(o){return t(o)&&e(o)==n}return Rm=a,Rm}var Lm,Eb;function Zy(){if(Eb)return Lm;Eb=1;var e=kM(),t=Aa(),n=Object.prototype,a=n.hasOwnProperty,o=n.propertyIsEnumerable,c=e((function(){return arguments})())?e:function(f){return t(f)&&a.call(f,"callee")&&!o.call(f,"callee")};return Lm=c,Lm}var Hl={exports:{}},Am,Pb;function TM(){if(Pb)return Am;Pb=1;function e(){return!1}return Am=e,Am}Hl.exports;var jb;function Kd(){return jb||(jb=1,(function(e,t){var n=oi(),a=TM(),o=t&&!t.nodeType&&t,c=o&&!0&&e&&!e.nodeType&&e,f=c&&c.exports===o,m=f?n.Buffer:void 0,v=m?m.isBuffer:void 0,x=v||a;e.exports=x})(Hl,Hl.exports)),Hl.exports}var Im,kb;function OM(){if(kb)return Im;kb=1;var e=Fo(),t=jy(),n=Aa(),a="[object Arguments]",o="[object Array]",c="[object Boolean]",f="[object Date]",m="[object Error]",v="[object Function]",x="[object Map]",_="[object Number]",w="[object Object]",N="[object RegExp]",E="[object Set]",P="[object String]",C="[object WeakMap]",j="[object ArrayBuffer]",M="[object DataView]",R="[object Float32Array]",A="[object Float64Array]",F="[object Int8Array]",B="[object Int16Array]",q="[object Int32Array]",H="[object Uint8Array]",$="[object Uint8ClampedArray]",V="[object Uint16Array]",I="[object Uint32Array]",U={};U[R]=U[A]=U[F]=U[B]=U[q]=U[H]=U[$]=U[V]=U[I]=!0,U[a]=U[o]=U[j]=U[c]=U[M]=U[f]=U[m]=U[v]=U[x]=U[_]=U[w]=U[N]=U[E]=U[P]=U[C]=!1;function ee(K){return n(K)&&t(K.length)&&!!U[e(K)]}return Im=ee,Im}var Fm,Tb;function Xd(){if(Tb)return Fm;Tb=1;function e(t){return function(n){return t(n)}}return Fm=e,Fm}var Yl={exports:{}};Yl.exports;var Ob;function Vy(){return Ob||(Ob=1,(function(e,t){var n=GN(),a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,c=o&&o.exports===a,f=c&&n.process,m=(function(){try{var v=o&&o.require&&o.require("util").types;return v||f&&f.binding&&f.binding("util")}catch{}})();e.exports=m})(Yl,Yl.exports)),Yl.exports}var $m,Mb;function Gy(){if(Mb)return $m;Mb=1;var e=OM(),t=Xd(),n=Vy(),a=n&&n.isTypedArray,o=a?t(a):e;return $m=o,$m}var Bm,Db;function vC(){if(Db)return Bm;Db=1;var e=jM(),t=Zy(),n=_r(),a=Kd(),o=ky(),c=Gy(),f=Object.prototype,m=f.hasOwnProperty;function v(x,_){var w=n(x),N=!w&&t(x),E=!w&&!N&&a(x),P=!w&&!N&&!E&&c(x),C=w||N||E||P,j=C?e(x.length,String):[],M=j.length;for(var R in x)(_||m.call(x,R))&&!(C&&(R=="length"||E&&(R=="offset"||R=="parent")||P&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||o(R,M)))&&j.push(R);return j}return Bm=v,Bm}var qm,zb;function Ky(){if(zb)return qm;zb=1;var e=Object.prototype;function t(n){var a=n&&n.constructor,o=typeof a=="function"&&a.prototype||e;return n===o}return qm=t,qm}var Um,Rb;function gC(){if(Rb)return Um;Rb=1;function e(t,n){return function(a){return t(n(a))}}return Um=e,Um}var Wm,Lb;function MM(){if(Lb)return Wm;Lb=1;var e=gC(),t=e(Object.keys,Object);return Wm=t,Wm}var Hm,Ab;function DM(){if(Ab)return Hm;Ab=1;var e=Ky(),t=MM(),n=Object.prototype,a=n.hasOwnProperty;function o(c){if(!e(c))return t(c);var f=[];for(var m in Object(c))a.call(c,m)&&m!="constructor"&&f.push(m);return f}return Hm=o,Hm}var Ym,Ib;function Eu(){if(Ib)return Ym;Ib=1;var e=vC(),t=DM(),n=wu();function a(o){return n(o)?e(o):t(o)}return Ym=a,Ym}var Zm,Fb;function yC(){if(Fb)return Zm;Fb=1;var e=pC(),t=Yy(),n=Eu();function a(o){return e(o,n,t)}return Zm=a,Zm}var Vm,$b;function zM(){if($b)return Vm;$b=1;var e=yC(),t=1,n=Object.prototype,a=n.hasOwnProperty;function o(c,f,m,v,x,_){var w=m&t,N=e(c),E=N.length,P=e(f),C=P.length;if(E!=C&&!w)return!1;for(var j=E;j--;){var M=N[j];if(!(w?M in f:a.call(f,M)))return!1}var R=_.get(c),A=_.get(f);if(R&&A)return R==f&&A==c;var F=!0;_.set(c,f),_.set(f,c);for(var B=w;++j<E;){M=N[j];var q=c[M],H=f[M];if(v)var $=w?v(H,q,M,f,c,_):v(q,H,M,c,f,_);if(!($===void 0?q===H||x(q,H,m,v,_):$)){F=!1;break}B||(B=M=="constructor")}if(F&&!B){var V=c.constructor,I=f.constructor;V!=I&&"constructor"in c&&"constructor"in f&&!(typeof V=="function"&&V instanceof V&&typeof I=="function"&&I instanceof I)&&(F=!1)}return _.delete(c),_.delete(f),F}return Vm=o,Vm}var Gm,Bb;function RM(){if(Bb)return Gm;Bb=1;var e=js(),t=oi(),n=e(t,"DataView");return Gm=n,Gm}var Km,qb;function LM(){if(qb)return Km;qb=1;var e=js(),t=oi(),n=e(t,"Promise");return Km=n,Km}var Xm,Ub;function AM(){if(Ub)return Xm;Ub=1;var e=js(),t=oi(),n=e(t,"Set");return Xm=n,Xm}var Jm,Wb;function IM(){if(Wb)return Jm;Wb=1;var e=js(),t=oi(),n=e(t,"WeakMap");return Jm=n,Jm}var Qm,Hb;function Jd(){if(Hb)return Qm;Hb=1;var e=RM(),t=qy(),n=LM(),a=AM(),o=IM(),c=Fo(),f=dC(),m="[object Map]",v="[object Object]",x="[object Promise]",_="[object Set]",w="[object WeakMap]",N="[object DataView]",E=f(e),P=f(t),C=f(n),j=f(a),M=f(o),R=c;return(e&&R(new e(new ArrayBuffer(1)))!=N||t&&R(new t)!=m||n&&R(n.resolve())!=x||a&&R(new a)!=_||o&&R(new o)!=w)&&(R=function(A){var F=c(A),B=F==v?A.constructor:void 0,q=B?f(B):"";if(q)switch(q){case E:return N;case P:return m;case C:return x;case j:return _;case M:return w}return F}),Qm=R,Qm}var ev,Yb;function FM(){if(Yb)return ev;Yb=1;var e=Wy(),t=fC(),n=EM(),a=zM(),o=Jd(),c=_r(),f=Kd(),m=Gy(),v=1,x="[object Arguments]",_="[object Array]",w="[object Object]",N=Object.prototype,E=N.hasOwnProperty;function P(C,j,M,R,A,F){var B=c(C),q=c(j),H=B?_:o(C),$=q?_:o(j);H=H==x?w:H,$=$==x?w:$;var V=H==w,I=$==w,U=H==$;if(U&&f(C)){if(!f(j))return!1;B=!0,V=!1}if(U&&!V)return F||(F=new e),B||m(C)?t(C,j,M,R,A,F):n(C,j,H,M,R,A,F);if(!(M&v)){var ee=V&&E.call(C,"__wrapped__"),K=I&&E.call(j,"__wrapped__");if(ee||K){var ce=ee?C.value():C,_e=K?j.value():j;return F||(F=new e),A(ce,_e,M,R,F)}}return U?(F||(F=new e),a(C,j,M,R,A,F)):!1}return ev=P,ev}var tv,Zb;function Xy(){if(Zb)return tv;Zb=1;var e=FM(),t=Aa();function n(a,o,c,f,m){return a===o?!0:a==null||o==null||!t(a)&&!t(o)?a!==a&&o!==o:e(a,o,c,f,n,m)}return tv=n,tv}var nv,Vb;function $M(){if(Vb)return nv;Vb=1;var e=Xy();function t(n,a){return e(n,a)}return nv=t,nv}var BM=$M();const qM=vn(BM);function rv(e,t){var n=Ty(e);return n?n.innerHeight:ys(e).height}function xC(e,t,n){e.closest&&!n&&e.closest(t);var a=e;do{if(vT(a,t))return a;a=a.parentElement}while(a&&a!==n&&a.nodeType===document.ELEMENT_NODE);return null}var iv,Gb;function UM(){if(Gb)return iv;Gb=1;function e(t,n,a,o){for(var c=t.length,f=a+(o?1:-1);o?f--:++f<c;)if(n(t[f],f,t))return f;return-1}return iv=e,iv}var av,Kb;function WM(){if(Kb)return av;Kb=1;var e=Wy(),t=Xy(),n=1,a=2;function o(c,f,m,v){var x=m.length,_=x,w=!v;if(c==null)return!_;for(c=Object(c);x--;){var N=m[x];if(w&&N[2]?N[1]!==c[N[0]]:!(N[0]in c))return!1}for(;++x<_;){N=m[x];var E=N[0],P=c[E],C=N[1];if(w&&N[2]){if(P===void 0&&!(E in c))return!1}else{var j=new e;if(v)var M=v(P,C,E,c,f,j);if(!(M===void 0?t(C,P,n|a,v,j):M))return!1}}return!0}return av=o,av}var sv,Xb;function _C(){if(Xb)return sv;Xb=1;var e=Hi();function t(n){return n===n&&!e(n)}return sv=t,sv}var ov,Jb;function HM(){if(Jb)return ov;Jb=1;var e=_C(),t=Eu();function n(a){for(var o=t(a),c=o.length;c--;){var f=o[c],m=a[f];o[c]=[f,m,e(m)]}return o}return ov=n,ov}var lv,Qb;function wC(){if(Qb)return lv;Qb=1;function e(t,n){return function(a){return a==null?!1:a[t]===n&&(n!==void 0||t in Object(a))}}return lv=e,lv}var uv,e1;function YM(){if(e1)return uv;e1=1;var e=WM(),t=HM(),n=wC();function a(o){var c=t(o);return c.length==1&&c[0][2]?n(c[0][0],c[0][1]):function(f){return f===o||e(f,o,c)}}return uv=a,uv}var cv,t1;function Jy(){if(t1)return cv;t1=1;var e=_r(),t=bu(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function o(c,f){if(e(c))return!1;var m=typeof c;return m=="number"||m=="symbol"||m=="boolean"||c==null||t(c)?!0:a.test(c)||!n.test(c)||f!=null&&c in Object(f)}return cv=o,cv}var dv,n1;function ZM(){if(n1)return dv;n1=1;var e=Uy(),t="Expected a function";function n(a,o){if(typeof a!="function"||o!=null&&typeof o!="function")throw new TypeError(t);var c=function(){var f=arguments,m=o?o.apply(this,f):f[0],v=c.cache;if(v.has(m))return v.get(m);var x=a.apply(this,f);return c.cache=v.set(m,x)||v,x};return c.cache=new(n.Cache||e),c}return n.Cache=e,dv=n,dv}var fv,r1;function VM(){if(r1)return fv;r1=1;var e=ZM(),t=500;function n(a){var o=e(a,function(f){return c.size===t&&c.clear(),f}),c=o.cache;return o}return fv=n,fv}var hv,i1;function GM(){if(i1)return hv;i1=1;var e=VM(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=e(function(o){var c=[];return o.charCodeAt(0)===46&&c.push(""),o.replace(t,function(f,m,v,x){c.push(v?x.replace(n,"$1"):m||f)}),c});return hv=a,hv}var pv,a1;function Qy(){if(a1)return pv;a1=1;function e(t,n){for(var a=-1,o=t==null?0:t.length,c=Array(o);++a<o;)c[a]=n(t[a],a,t);return c}return pv=e,pv}var mv,s1;function KM(){if(s1)return mv;s1=1;var e=Io(),t=Qy(),n=_r(),a=bu(),o=e?e.prototype:void 0,c=o?o.toString:void 0;function f(m){if(typeof m=="string")return m;if(n(m))return t(m,f)+"";if(a(m))return c?c.call(m):"";var v=m+"";return v=="0"&&1/m==-1/0?"-0":v}return mv=f,mv}var vv,o1;function XM(){if(o1)return vv;o1=1;var e=KM();function t(n){return n==null?"":e(n)}return vv=t,vv}var gv,l1;function Qd(){if(l1)return gv;l1=1;var e=_r(),t=Jy(),n=GM(),a=XM();function o(c,f){return e(c)?c:t(c,f)?[c]:n(a(c))}return gv=o,gv}var yv,u1;function Pu(){if(u1)return yv;u1=1;var e=bu();function t(n){if(typeof n=="string"||e(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return yv=t,yv}var xv,c1;function ef(){if(c1)return xv;c1=1;var e=Qd(),t=Pu();function n(a,o){o=e(o,a);for(var c=0,f=o.length;a!=null&&c<f;)a=a[t(o[c++])];return c&&c==f?a:void 0}return xv=n,xv}var _v,d1;function JM(){if(d1)return _v;d1=1;var e=ef();function t(n,a,o){var c=n==null?void 0:e(n,a);return c===void 0?o:c}return _v=t,_v}var wv,f1;function QM(){if(f1)return wv;f1=1;function e(t,n){return t!=null&&n in Object(t)}return wv=e,wv}var bv,h1;function eD(){if(h1)return bv;h1=1;var e=Qd(),t=Zy(),n=_r(),a=ky(),o=jy(),c=Pu();function f(m,v,x){v=e(v,m);for(var _=-1,w=v.length,N=!1;++_<w;){var E=c(v[_]);if(!(N=m!=null&&x(m,E)))break;m=m[E]}return N||++_!=w?N:(w=m==null?0:m.length,!!w&&o(w)&&a(E,w)&&(n(m)||t(m)))}return bv=f,bv}var Sv,p1;function tD(){if(p1)return Sv;p1=1;var e=QM(),t=eD();function n(a,o){return a!=null&&t(a,o,e)}return Sv=n,Sv}var Nv,m1;function nD(){if(m1)return Nv;m1=1;var e=Xy(),t=JM(),n=tD(),a=Jy(),o=_C(),c=wC(),f=Pu(),m=1,v=2;function x(_,w){return a(_)&&o(w)?c(f(_),w):function(N){var E=t(N,_);return E===void 0&&E===w?n(N,_):e(w,E,m|v)}}return Nv=x,Nv}var Cv,v1;function tf(){if(v1)return Cv;v1=1;function e(t){return t}return Cv=e,Cv}var Ev,g1;function rD(){if(g1)return Ev;g1=1;function e(t){return function(n){return n?.[t]}}return Ev=e,Ev}var Pv,y1;function iD(){if(y1)return Pv;y1=1;var e=ef();function t(n){return function(a){return e(a,n)}}return Pv=t,Pv}var jv,x1;function aD(){if(x1)return jv;x1=1;var e=rD(),t=iD(),n=Jy(),a=Pu();function o(c){return n(c)?e(a(c)):t(c)}return jv=o,jv}var kv,_1;function nf(){if(_1)return kv;_1=1;var e=YM(),t=nD(),n=tf(),a=_r(),o=aD();function c(f){return typeof f=="function"?f:f==null?n:typeof f=="object"?a(f)?t(f[0],f[1]):e(f):o(f)}return kv=c,kv}var Tv,w1;function sD(){if(w1)return Tv;w1=1;var e=UM(),t=nf(),n=XN(),a=Math.max;function o(c,f,m){var v=c==null?0:c.length;if(!v)return-1;var x=m==null?0:n(m);return x<0&&(x=a(v+x,0)),e(c,t(f,3),x)}return Tv=o,Tv}var oD=sD();const lD=vn(oD);var Ov,b1;function uD(){if(b1)return Ov;b1=1;var e=Math.ceil,t=Math.max;function n(a,o,c,f){for(var m=-1,v=t(e((o-a)/(c||1)),0),x=Array(v);v--;)x[f?v:++m]=a,a+=c;return x}return Ov=n,Ov}var Mv,S1;function cD(){if(S1)return Mv;S1=1;var e=uD(),t=Wd(),n=KN();function a(o){return function(c,f,m){return m&&typeof m!="number"&&t(c,f,m)&&(f=m=void 0),c=n(c),f===void 0?(f=c,c=0):f=n(f),m=m===void 0?c<f?1:-1:n(m),e(c,f,m,o)}}return Mv=a,Mv}var Dv,N1;function dD(){if(N1)return Dv;N1=1;var e=cD(),t=e();return Dv=t,Dv}var fD=dD();const hD=vn(fD);var C1=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function pD(e,t){return!!(e===t||C1(e)&&C1(t))}function mD(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!pD(e[n],t[n]))return!1;return!0}function bC(e,t){t===void 0&&(t=mD);var n=null;function a(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var f=e.apply(this,o);return n={lastResult:f,lastArgs:o,lastThis:this},f}return a.clear=function(){n=null},a}function iy(e,t){var n=Ty(e);return n?n.innerWidth:ys(e).width}var zv,E1;function vD(){if(E1)return zv;E1=1;var e=Io(),t=Zy(),n=_r(),a=e?e.isConcatSpreadable:void 0;function o(c){return n(c)||t(c)||!!(a&&c&&c[a])}return zv=o,zv}var Rv,P1;function SC(){if(P1)return Rv;P1=1;var e=Hy(),t=vD();function n(a,o,c,f,m){var v=-1,x=a.length;for(c||(c=t),m||(m=[]);++v<x;){var _=a[v];o>0&&c(_)?o>1?n(_,o-1,c,f,m):e(m,_):f||(m[m.length]=_)}return m}return Rv=n,Rv}var Lv,j1;function gD(){if(j1)return Lv;j1=1;function e(t){return function(n,a,o){for(var c=-1,f=Object(n),m=o(n),v=m.length;v--;){var x=m[t?v:++c];if(a(f[x],x,f)===!1)break}return n}}return Lv=e,Lv}var Av,k1;function yD(){if(k1)return Av;k1=1;var e=gD(),t=e();return Av=t,Av}var Iv,T1;function ex(){if(T1)return Iv;T1=1;var e=yD(),t=Eu();function n(a,o){return a&&e(a,o,t)}return Iv=n,Iv}var Fv,O1;function xD(){if(O1)return Fv;O1=1;var e=wu();function t(n,a){return function(o,c){if(o==null)return o;if(!e(o))return n(o,c);for(var f=o.length,m=a?f:-1,v=Object(o);(a?m--:++m<f)&&c(v[m],m,v)!==!1;);return o}}return Fv=t,Fv}var $v,M1;function _D(){if(M1)return $v;M1=1;var e=ex(),t=xD(),n=t(e);return $v=n,$v}var Bv,D1;function wD(){if(D1)return Bv;D1=1;var e=_D(),t=wu();function n(a,o){var c=-1,f=t(a)?Array(a.length):[];return e(a,function(m,v,x){f[++c]=o(m,v,x)}),f}return Bv=n,Bv}var qv,z1;function bD(){if(z1)return qv;z1=1;function e(t,n){var a=t.length;for(t.sort(n);a--;)t[a]=t[a].value;return t}return qv=e,qv}var Uv,R1;function SD(){if(R1)return Uv;R1=1;var e=bu();function t(n,a){if(n!==a){var o=n!==void 0,c=n===null,f=n===n,m=e(n),v=a!==void 0,x=a===null,_=a===a,w=e(a);if(!x&&!w&&!m&&n>a||m&&v&&_&&!x&&!w||c&&v&&_||!o&&_||!f)return 1;if(!c&&!m&&!w&&n<a||w&&o&&f&&!c&&!m||x&&o&&f||!v&&f||!_)return-1}return 0}return Uv=t,Uv}var Wv,L1;function ND(){if(L1)return Wv;L1=1;var e=SD();function t(n,a,o){for(var c=-1,f=n.criteria,m=a.criteria,v=f.length,x=o.length;++c<v;){var _=e(f[c],m[c]);if(_){if(c>=x)return _;var w=o[c];return _*(w=="desc"?-1:1)}}return n.index-a.index}return Wv=t,Wv}var Hv,A1;function CD(){if(A1)return Hv;A1=1;var e=Qy(),t=ef(),n=nf(),a=wD(),o=bD(),c=Xd(),f=ND(),m=tf(),v=_r();function x(_,w,N){w.length?w=e(w,function(C){return v(C)?function(j){return t(j,C.length===1?C[0]:C)}:C}):w=[m];var E=-1;w=e(w,c(n));var P=a(_,function(C,j,M){var R=e(w,function(A){return A(C)});return{criteria:R,index:++E,value:C}});return o(P,function(C,j){return f(C,j,N)})}return Hv=x,Hv}var Yv,I1;function ED(){if(I1)return Yv;I1=1;function e(t,n,a){switch(a.length){case 0:return t.call(n);case 1:return t.call(n,a[0]);case 2:return t.call(n,a[0],a[1]);case 3:return t.call(n,a[0],a[1],a[2])}return t.apply(n,a)}return Yv=e,Yv}var Zv,F1;function NC(){if(F1)return Zv;F1=1;var e=ED(),t=Math.max;function n(a,o,c){return o=t(o===void 0?a.length-1:o,0),function(){for(var f=arguments,m=-1,v=t(f.length-o,0),x=Array(v);++m<v;)x[m]=f[o+m];m=-1;for(var _=Array(o+1);++m<o;)_[m]=f[m];return _[o]=c(x),e(a,this,_)}}return Zv=n,Zv}var Vv,$1;function PD(){if($1)return Vv;$1=1;function e(t){return function(){return t}}return Vv=e,Vv}var Gv,B1;function CC(){if(B1)return Gv;B1=1;var e=js(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Gv=t,Gv}var Kv,q1;function jD(){if(q1)return Kv;q1=1;var e=PD(),t=CC(),n=tf(),a=t?function(o,c){return t(o,"toString",{configurable:!0,enumerable:!1,value:e(c),writable:!0})}:n;return Kv=a,Kv}var Xv,U1;function kD(){if(U1)return Xv;U1=1;var e=800,t=16,n=Date.now;function a(o){var c=0,f=0;return function(){var m=n(),v=t-(m-f);if(f=m,v>0){if(++c>=e)return arguments[0]}else c=0;return o.apply(void 0,arguments)}}return Xv=a,Xv}var Jv,W1;function EC(){if(W1)return Jv;W1=1;var e=jD(),t=kD(),n=t(e);return Jv=n,Jv}var Qv,H1;function PC(){if(H1)return Qv;H1=1;var e=tf(),t=NC(),n=EC();function a(o,c){return n(t(o,c,e),o+"")}return Qv=a,Qv}var eg,Y1;function TD(){if(Y1)return eg;Y1=1;var e=SC(),t=CD(),n=PC(),a=Wd(),o=n(function(c,f){if(c==null)return[];var m=f.length;return m>1&&a(c,f[0],f[1])?f=[]:m>2&&a(f[0],f[1],f[2])&&(f=[f[0]]),t(c,e(f,1),[])});return eg=o,eg}var OD=TD();const MD=vn(OD);function jC(e){return DN(e)||ZN(e)||Ny(e)||zN()}var tg,Z1;function DD(){if(Z1)return tg;Z1=1;function e(t){var n=[];if(t!=null)for(var a in Object(t))n.push(a);return n}return tg=e,tg}var ng,V1;function zD(){if(V1)return ng;V1=1;var e=Hi(),t=Ky(),n=DD(),a=Object.prototype,o=a.hasOwnProperty;function c(f){if(!e(f))return n(f);var m=t(f),v=[];for(var x in f)x=="constructor"&&(m||!o.call(f,x))||v.push(x);return v}return ng=c,ng}var rg,G1;function rf(){if(G1)return rg;G1=1;var e=vC(),t=zD(),n=wu();function a(o){return n(o)?e(o,!0):t(o)}return rg=a,rg}var ig,K1;function RD(){if(K1)return ig;K1=1;var e=PC(),t=_u(),n=Wd(),a=rf(),o=Object.prototype,c=o.hasOwnProperty,f=e(function(m,v){m=Object(m);var x=-1,_=v.length,w=_>2?v[2]:void 0;for(w&&n(v[0],v[1],w)&&(_=1);++x<_;)for(var N=v[x],E=a(N),P=-1,C=E.length;++P<C;){var j=E[P],M=m[j];(M===void 0||t(M,o[j])&&!c.call(m,j))&&(m[j]=N[j])}return m});return ig=f,ig}var LD=RD();const AD=vn(LD);var ag,X1;function tx(){if(X1)return ag;X1=1;var e=CC();function t(n,a,o){a=="__proto__"&&e?e(n,a,{configurable:!0,enumerable:!0,value:o,writable:!0}):n[a]=o}return ag=t,ag}var sg,J1;function ID(){if(J1)return sg;J1=1;var e=tx(),t=ex(),n=nf();function a(o,c){var f={};return c=n(c,3),t(o,function(m,v,x){e(f,v,c(m,v,x))}),f}return sg=a,sg}var FD=ID();const $D=vn(FD);var og,Q1;function kC(){if(Q1)return og;Q1=1;function e(t,n){for(var a=-1,o=t==null?0:t.length;++a<o&&n(t[a],a,t)!==!1;);return t}return og=e,og}var lg,eS;function TC(){if(eS)return lg;eS=1;var e=tx(),t=_u(),n=Object.prototype,a=n.hasOwnProperty;function o(c,f,m){var v=c[f];(!(a.call(c,f)&&t(v,m))||m===void 0&&!(f in c))&&e(c,f,m)}return lg=o,lg}var ug,tS;function ju(){if(tS)return ug;tS=1;var e=TC(),t=tx();function n(a,o,c,f){var m=!c;c||(c={});for(var v=-1,x=o.length;++v<x;){var _=o[v],w=f?f(c[_],a[_],_,c,a):void 0;w===void 0&&(w=a[_]),m?t(c,_,w):e(c,_,w)}return c}return ug=n,ug}var cg,nS;function BD(){if(nS)return cg;nS=1;var e=ju(),t=Eu();function n(a,o){return a&&e(o,t(o),a)}return cg=n,cg}var dg,rS;function qD(){if(rS)return dg;rS=1;var e=ju(),t=rf();function n(a,o){return a&&e(o,t(o),a)}return dg=n,dg}var Zl={exports:{}};Zl.exports;var iS;function UD(){return iS||(iS=1,(function(e,t){var n=oi(),a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,c=o&&o.exports===a,f=c?n.Buffer:void 0,m=f?f.allocUnsafe:void 0;function v(x,_){if(_)return x.slice();var w=x.length,N=m?m(w):new x.constructor(w);return x.copy(N),N}e.exports=v})(Zl,Zl.exports)),Zl.exports}var fg,aS;function WD(){if(aS)return fg;aS=1;function e(t,n){var a=-1,o=t.length;for(n||(n=Array(o));++a<o;)n[a]=t[a];return n}return fg=e,fg}var hg,sS;function HD(){if(sS)return hg;sS=1;var e=ju(),t=Yy();function n(a,o){return e(a,t(a),o)}return hg=n,hg}var pg,oS;function af(){if(oS)return pg;oS=1;var e=gC(),t=e(Object.getPrototypeOf,Object);return pg=t,pg}var mg,lS;function OC(){if(lS)return mg;lS=1;var e=Hy(),t=af(),n=Yy(),a=mC(),o=Object.getOwnPropertySymbols,c=o?function(f){for(var m=[];f;)e(m,n(f)),f=t(f);return m}:a;return mg=c,mg}var vg,uS;function YD(){if(uS)return vg;uS=1;var e=ju(),t=OC();function n(a,o){return e(a,t(a),o)}return vg=n,vg}var gg,cS;function MC(){if(cS)return gg;cS=1;var e=pC(),t=OC(),n=rf();function a(o){return e(o,n,t)}return gg=a,gg}var yg,dS;function ZD(){if(dS)return yg;dS=1;var e=Object.prototype,t=e.hasOwnProperty;function n(a){var o=a.length,c=new a.constructor(o);return o&&typeof a[0]=="string"&&t.call(a,"index")&&(c.index=a.index,c.input=a.input),c}return yg=n,yg}var xg,fS;function nx(){if(fS)return xg;fS=1;var e=hC();function t(n){var a=new n.constructor(n.byteLength);return new e(a).set(new e(n)),a}return xg=t,xg}var _g,hS;function VD(){if(hS)return _g;hS=1;var e=nx();function t(n,a){var o=a?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.byteLength)}return _g=t,_g}var wg,pS;function GD(){if(pS)return wg;pS=1;var e=/\w*$/;function t(n){var a=new n.constructor(n.source,e.exec(n));return a.lastIndex=n.lastIndex,a}return wg=t,wg}var bg,mS;function KD(){if(mS)return bg;mS=1;var e=Io(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function a(o){return n?Object(n.call(o)):{}}return bg=a,bg}var Sg,vS;function XD(){if(vS)return Sg;vS=1;var e=nx();function t(n,a){var o=a?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.length)}return Sg=t,Sg}var Ng,gS;function JD(){if(gS)return Ng;gS=1;var e=nx(),t=VD(),n=GD(),a=KD(),o=XD(),c="[object Boolean]",f="[object Date]",m="[object Map]",v="[object Number]",x="[object RegExp]",_="[object Set]",w="[object String]",N="[object Symbol]",E="[object ArrayBuffer]",P="[object DataView]",C="[object Float32Array]",j="[object Float64Array]",M="[object Int8Array]",R="[object Int16Array]",A="[object Int32Array]",F="[object Uint8Array]",B="[object Uint8ClampedArray]",q="[object Uint16Array]",H="[object Uint32Array]";function $(V,I,U){var ee=V.constructor;switch(I){case E:return e(V);case c:case f:return new ee(+V);case P:return t(V,U);case C:case j:case M:case R:case A:case F:case B:case q:case H:return o(V,U);case m:return new ee;case v:case w:return new ee(V);case x:return n(V);case _:return new ee;case N:return a(V)}}return Ng=$,Ng}var Cg,yS;function DC(){if(yS)return Cg;yS=1;var e=Hi(),t=Object.create,n=(function(){function a(){}return function(o){if(!e(o))return{};if(t)return t(o);a.prototype=o;var c=new a;return a.prototype=void 0,c}})();return Cg=n,Cg}var Eg,xS;function QD(){if(xS)return Eg;xS=1;var e=DC(),t=af(),n=Ky();function a(o){return typeof o.constructor=="function"&&!n(o)?e(t(o)):{}}return Eg=a,Eg}var Pg,_S;function e2(){if(_S)return Pg;_S=1;var e=Jd(),t=Aa(),n="[object Map]";function a(o){return t(o)&&e(o)==n}return Pg=a,Pg}var jg,wS;function t2(){if(wS)return jg;wS=1;var e=e2(),t=Xd(),n=Vy(),a=n&&n.isMap,o=a?t(a):e;return jg=o,jg}var kg,bS;function n2(){if(bS)return kg;bS=1;var e=Jd(),t=Aa(),n="[object Set]";function a(o){return t(o)&&e(o)==n}return kg=a,kg}var Tg,SS;function r2(){if(SS)return Tg;SS=1;var e=n2(),t=Xd(),n=Vy(),a=n&&n.isSet,o=a?t(a):e;return Tg=o,Tg}var Og,NS;function i2(){if(NS)return Og;NS=1;var e=Wy(),t=kC(),n=TC(),a=BD(),o=qD(),c=UD(),f=WD(),m=HD(),v=YD(),x=yC(),_=MC(),w=Jd(),N=ZD(),E=JD(),P=QD(),C=_r(),j=Kd(),M=t2(),R=Hi(),A=r2(),F=Eu(),B=rf(),q=1,H=2,$=4,V="[object Arguments]",I="[object Array]",U="[object Boolean]",ee="[object Date]",K="[object Error]",ce="[object Function]",_e="[object GeneratorFunction]",de="[object Map]",he="[object Number]",Y="[object Object]",fe="[object RegExp]",ne="[object Set]",z="[object String]",D="[object Symbol]",X="[object WeakMap]",re="[object ArrayBuffer]",oe="[object DataView]",Q="[object Float32Array]",me="[object Float64Array]",ye="[object Int8Array]",pe="[object Int16Array]",Se="[object Int32Array]",De="[object Uint8Array]",Ze="[object Uint8ClampedArray]",Qe="[object Uint16Array]",Ht="[object Uint32Array]",Be={};Be[V]=Be[I]=Be[re]=Be[oe]=Be[U]=Be[ee]=Be[Q]=Be[me]=Be[ye]=Be[pe]=Be[Se]=Be[de]=Be[he]=Be[Y]=Be[fe]=Be[ne]=Be[z]=Be[D]=Be[De]=Be[Ze]=Be[Qe]=Be[Ht]=!0,Be[K]=Be[ce]=Be[X]=!1;function Jt(He,Yt,rn,Zt,Dt,Vt){var _t,Bn=Yt&q,tr=Yt&H,Sr=Yt&$;if(rn&&(_t=Dt?rn(He,Zt,Dt,Vt):rn(He)),_t!==void 0)return _t;if(!R(He))return He;var nr=C(He);if(nr){if(_t=N(He),!Bn)return f(He,_t)}else{var Qt=w(He),Fa=Qt==ce||Qt==_e;if(j(He))return c(He,Bn);if(Qt==Y||Qt==V||Fa&&!Dt){if(_t=tr||Fa?{}:P(He),!Bn)return tr?v(He,o(_t,He)):m(He,a(_t,He))}else{if(!Be[Qt])return Dt?He:{};_t=E(He,Qt,Bn)}}Vt||(Vt=new e);var Nr=Vt.get(He);if(Nr)return Nr;Vt.set(He,_t),A(He)?He.forEach(function(Pn){_t.add(Jt(Pn,Yt,rn,Pn,He,Vt))}):M(He)&&He.forEach(function(Pn,jn){_t.set(jn,Jt(Pn,Yt,rn,jn,He,Vt))});var Br=Sr?tr?_:x:tr?B:F,Ts=nr?void 0:Br(He);return t(Ts||He,function(Pn,jn){Ts&&(jn=Pn,Pn=He[jn]),n(_t,jn,Jt(Pn,Yt,rn,jn,He,Vt))}),_t}return Og=Jt,Og}var Mg,CS;function a2(){if(CS)return Mg;CS=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Mg=e,Mg}var Dg,ES;function s2(){if(ES)return Dg;ES=1;var e=ef(),t=VN();function n(a,o){return o.length<2?a:e(a,t(o,0,-1))}return Dg=n,Dg}var zg,PS;function o2(){if(PS)return zg;PS=1;var e=Qd(),t=a2(),n=s2(),a=Pu();function o(c,f){return f=e(f,c),c=n(c,f),c==null||delete c[a(t(f))]}return zg=o,zg}var Rg,jS;function l2(){if(jS)return Rg;jS=1;var e=Fo(),t=af(),n=Aa(),a="[object Object]",o=Function.prototype,c=Object.prototype,f=o.toString,m=c.hasOwnProperty,v=f.call(Object);function x(_){if(!n(_)||e(_)!=a)return!1;var w=t(_);if(w===null)return!0;var N=m.call(w,"constructor")&&w.constructor;return typeof N=="function"&&N instanceof N&&f.call(N)==v}return Rg=x,Rg}var Lg,kS;function u2(){if(kS)return Lg;kS=1;var e=l2();function t(n){return e(n)?void 0:n}return Lg=t,Lg}var Ag,TS;function c2(){if(TS)return Ag;TS=1;var e=SC();function t(n){var a=n==null?0:n.length;return a?e(n,1):[]}return Ag=t,Ag}var Ig,OS;function d2(){if(OS)return Ig;OS=1;var e=c2(),t=NC(),n=EC();function a(o){return n(t(o,void 0,e),o+"")}return Ig=a,Ig}var Fg,MS;function f2(){if(MS)return Fg;MS=1;var e=Qy(),t=i2(),n=o2(),a=Qd(),o=ju(),c=u2(),f=d2(),m=MC(),v=1,x=2,_=4,w=f(function(N,E){var P={};if(N==null)return P;var C=!1;E=e(E,function(M){return M=a(M,N),C||(C=M.length>1),M}),o(N,m(N),P),C&&(P=t(P,v|x|_,c));for(var j=E.length;j--;)n(P,E[j]);return P});return Fg=w,Fg}var h2=f2();const p2=vn(h2);var $g,DS;function m2(){if(DS)return $g;DS=1;var e=kC(),t=DC(),n=ex(),a=nf(),o=af(),c=_r(),f=Kd(),m=Py(),v=Hi(),x=Gy();function _(w,N,E){var P=c(w),C=P||f(w)||x(w);if(N=a(N,4),E==null){var j=w&&w.constructor;C?E=P?new j:[]:v(w)?E=m(j)?t(o(w)):{}:E={}}return(C?e:n)(w,function(M,R,A){return N(E,M,R,A)}),E}return $g=_,$g}var v2=m2();const g2=vn(v2);var dd={exports:{}},y2=dd.exports,zS;function x2(){return zS||(zS=1,(function(e,t){(function(n,a){e.exports=a()})(y2,(function(){return function(n,a,o){a.prototype.isBetween=function(c,f,m,v){var x=o(c),_=o(f),w=(v=v||"()")[0]==="(",N=v[1]===")";return(w?this.isAfter(x,m):!this.isBefore(x,m))&&(N?this.isBefore(_,m):!this.isAfter(_,m))||(w?this.isBefore(x,m):!this.isAfter(x,m))&&(N?this.isAfter(_,m):!this.isBefore(_,m))}}}))})(dd)),dd.exports}x2();var fd={exports:{}},_2=fd.exports,RS;function w2(){return RS||(RS=1,(function(e,t){(function(n,a){e.exports=a()})(_2,(function(){return function(n,a){a.prototype.isSameOrAfter=function(o,c){return this.isSame(o,c)||this.isAfter(o,c)}}}))})(fd)),fd.exports}w2();var hd={exports:{}},b2=hd.exports,LS;function S2(){return LS||(LS=1,(function(e,t){(function(n,a){e.exports=a()})(b2,(function(){return function(n,a){a.prototype.isSameOrBefore=function(o,c){return this.isSame(o,c)||this.isBefore(o,c)}}}))})(hd)),hd.exports}S2();var pd={exports:{}},N2=pd.exports,AS;function C2(){return AS||(AS=1,(function(e,t){(function(n,a){e.exports=a()})(N2,(function(){return function(n,a,o){var c=a.prototype,f=function(w){return w&&(w.indexOf?w:w.s)},m=function(w,N,E,P,C){var j=w.name?w:w.$locale(),M=f(j[N]),R=f(j[E]),A=M||R.map((function(B){return B.slice(0,P)}));if(!C)return A;var F=j.weekStart;return A.map((function(B,q){return A[(q+(F||0))%7]}))},v=function(){return o.Ls[o.locale()]},x=function(w,N){return w.formats[N]||(function(E){return E.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(P,C,j){return C||j.slice(1)}))})(w.formats[N.toUpperCase()])},_=function(){var w=this;return{months:function(N){return N?N.format("MMMM"):m(w,"months")},monthsShort:function(N){return N?N.format("MMM"):m(w,"monthsShort","months",3)},firstDayOfWeek:function(){return w.$locale().weekStart||0},weekdays:function(N){return N?N.format("dddd"):m(w,"weekdays")},weekdaysMin:function(N){return N?N.format("dd"):m(w,"weekdaysMin","weekdays",2)},weekdaysShort:function(N){return N?N.format("ddd"):m(w,"weekdaysShort","weekdays",3)},longDateFormat:function(N){return x(w.$locale(),N)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};c.localeData=function(){return _.bind(this)()},o.localeData=function(){var w=v();return{firstDayOfWeek:function(){return w.weekStart||0},weekdays:function(){return o.weekdays()},weekdaysShort:function(){return o.weekdaysShort()},weekdaysMin:function(){return o.weekdaysMin()},months:function(){return o.months()},monthsShort:function(){return o.monthsShort()},longDateFormat:function(N){return x(w,N)},meridiem:w.meridiem,ordinal:w.ordinal}},o.months=function(){return m(v(),"months")},o.monthsShort=function(){return m(v(),"monthsShort","months",3)},o.weekdays=function(w){return m(v(),"weekdays",null,null,w)},o.weekdaysShort=function(w){return m(v(),"weekdaysShort","weekdays",3,w)},o.weekdaysMin=function(w){return m(v(),"weekdaysMin","weekdays",2,w)}}}))})(pd)),pd.exports}C2();var md={exports:{}},E2=md.exports,IS;function P2(){return IS||(IS=1,(function(e,t){(function(n,a){e.exports=a()})(E2,(function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,o,c){var f=o.prototype,m=f.format;c.en.formats=n,f.format=function(v){v===void 0&&(v="YYYY-MM-DDTHH:mm:ssZ");var x=this.$locale().formats,_=(function(w,N){return w.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(E,P,C){var j=C&&C.toUpperCase();return P||N[C]||n[C]||N[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(M,R,A){return R||A.slice(1)}))}))})(v,x===void 0?{}:x);return m.call(this,_)}}}))})(md)),md.exports}P2();var vd={exports:{}},j2=vd.exports,FS;function k2(){return FS||(FS=1,(function(e,t){(function(n,a){e.exports=a()})(j2,(function(){return function(n,a,o){var c=function(f,m){if(!m||!m.length||m.length===1&&!m[0]||m.length===1&&Array.isArray(m[0])&&!m[0].length)return null;var v;m.length===1&&m[0].length>0&&(m=m[0]),v=(m=m.filter((function(_){return _})))[0];for(var x=1;x<m.length;x+=1)m[x].isValid()&&!m[x][f](v)||(v=m[x]);return v};o.max=function(){var f=[].slice.call(arguments,0);return c("isAfter",f)},o.min=function(){var f=[].slice.call(arguments,0);return c("isBefore",f)}}}))})(vd)),vd.exports}k2();var gd={exports:{}},T2=gd.exports,$S;function O2(){return $S||($S=1,(function(e,t){(function(n,a){e.exports=a()})(T2,(function(){var n="minute",a=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(c,f,m){var v=f.prototype;m.utc=function(C){var j={date:C,utc:!0,args:arguments};return new f(j)},v.utc=function(C){var j=m(this.toDate(),{locale:this.$L,utc:!0});return C?j.add(this.utcOffset(),n):j},v.local=function(){return m(this.toDate(),{locale:this.$L,utc:!1})};var x=v.parse;v.parse=function(C){C.utc&&(this.$u=!0),this.$utils().u(C.$offset)||(this.$offset=C.$offset),x.call(this,C)};var _=v.init;v.init=function(){if(this.$u){var C=this.$d;this.$y=C.getUTCFullYear(),this.$M=C.getUTCMonth(),this.$D=C.getUTCDate(),this.$W=C.getUTCDay(),this.$H=C.getUTCHours(),this.$m=C.getUTCMinutes(),this.$s=C.getUTCSeconds(),this.$ms=C.getUTCMilliseconds()}else _.call(this)};var w=v.utcOffset;v.utcOffset=function(C,j){var M=this.$utils().u;if(M(C))return this.$u?0:M(this.$offset)?w.call(this):this.$offset;if(typeof C=="string"&&(C=(function(B){B===void 0&&(B="");var q=B.match(a);if(!q)return null;var H=(""+q[0]).match(o)||["-",0,0],$=H[0],V=60*+H[1]+ +H[2];return V===0?0:$==="+"?V:-V})(C),C===null))return this;var R=Math.abs(C)<=16?60*C:C,A=this;if(j)return A.$offset=R,A.$u=C===0,A;if(C!==0){var F=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(A=this.local().add(R+F,n)).$offset=R,A.$x.$localOffset=F}else A=this.utc();return A};var N=v.format;v.format=function(C){var j=C||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return N.call(this,j)},v.valueOf=function(){var C=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*C},v.isUTC=function(){return!!this.$u},v.toISOString=function(){return this.toDate().toISOString()},v.toString=function(){return this.toDate().toUTCString()};var E=v.toDate;v.toDate=function(C){return C==="s"&&this.$offset?m(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():E.call(this)};var P=v.diff;v.diff=function(C,j,M){if(C&&this.$u===C.$u)return P.call(this,C,j,M);var R=this.local(),A=m(C).local();return P.call(R,A,j,M)}}}))})(gd)),gd.exports}O2();var yd={exports:{}},M2=yd.exports,BS;function D2(){return BS||(BS=1,(function(e,t){(function(n,a){e.exports=a()})(M2,(function(){return function(n,a){a.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(yd)),yd.exports}D2();function ei(e){return e.children}var $n={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},En={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},qS=Object.keys(En).map(function(e){return En[e]});Ce.oneOfType([Ce.string,Ce.func]);Ce.any;Ce.func;Ce.oneOfType([Ce.arrayOf(Ce.oneOf(qS)),Ce.objectOf(function(e,t){var n=qS.indexOf(t)!==-1&&typeof e[t]=="boolean";if(n)return null;for(var a=arguments.length,o=new Array(a>2?a-2:0),c=2;c<a;c++)o[c-2]=arguments[c];return Ce.elementType.apply(Ce,[e,t].concat(o))})]);Ce.oneOfType([Ce.oneOf(["overlap","no-overlap"]),Ce.func]);var US={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function zC(e,t){var n=nn(e,"month");return nn(n,"week",t.startOfWeek())}function RC(e,t){var n=Td(e,"month");return Td(n,"week",t.startOfWeek())}function z2(e,t){for(var n=zC(e,t),a=RC(e,t),o=[];Lo(n,a,"day");)o.push(n),n=Ar(n,1,"day");return o}function R2(e,t){var n=nn(e,t);return yu(n,e)?n:Ar(n,1,t)}function L2(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",a=e,o=[];Lo(a,t,n);)o.push(a),a=Ar(a,1,n);return o}function A2(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=nn(e,"day"),e=lu(e,lu(t)),e=jo(e,jo(t)),e=ou(e,ou(t)),su(e,su(t)))}function WS(e){return lu(e)===0&&jo(e)===0&&ou(e)===0&&su(e)===0}function I2(e,t,n,a){return n==="day"&&(n="date"),Math.abs(A0[n](e,void 0,a)-A0[n](t,void 0,a))}function rx(e,t,n){return!n||n==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+nn(e,n)/US[n]-+nn(t,n)/US[n]))}var F2=Ce.oneOfType([Ce.string,Ce.func]);function $2(e,t,n,a,o){var c=typeof a=="function"?a(n,o,e):t.call(e,n,a,o);return eu(c==null||typeof c=="string","`localizer format(..)` must return a string, null, or undefined"),c}function B2(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function ix(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function q2(e,t){return rx(e,t,"minutes")+ix(e,t)}function U2(e){var t=nn(e,"day");return rx(t,e,"minutes")+ix(t,e)}function W2(e,t){return Ey(e,t,"day")}function H2(e,t,n){var a=yu(e,t,"minutes");return a?xu(t,n,"minutes"):Ud(t,n,"minutes")}function ay(e,t){return I2(e,t,"day")}function Y2(e){var t=e.evtA,n=t.start,a=t.end,o=t.allDay,c=e.evtB,f=c.start,m=c.end,v=c.allDay,x=+nn(n,"day")-+nn(f,"day"),_=ay(n,a),w=ay(f,m);return x||w-_||!!v-!!o||+n-+f||+a-+m}function Z2(e){var t=e.event,n=t.start,a=t.end,o=e.range,c=o.start,f=o.end,m=nn(n,"day"),v=Lo(m,f,"day"),x=Cy(m,a,"minutes"),_=x?Ud(a,c,"minutes"):xu(a,c,"minutes");return v&&_}function V2(e,t){return yu(e,t,"day")}function G2(e,t){return WS(e)&&WS(t)}var K2=Wt(function e(t){var n=this;Ut(this,e),eu(typeof t.format=="function","date localizer `format(..)` must be a function"),eu(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||F2,this.formats=t.formats,this.format=function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return $2.apply(void 0,[n,t.format].concat(o))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||A2,this.inRange=t.inRange||UN,this.lt=t.lt||Ey,this.lte=t.lte||Lo,this.gt=t.gt||Ud,this.gte=t.gte||xu,this.eq=t.eq||yu,this.neq=t.neq||Cy,this.startOf=t.startOf||nn,this.endOf=t.endOf||Td,this.add=t.add||Ar,this.range=t.range||L2,this.diff=t.diff||rx,this.ceil=t.ceil||R2,this.min=t.min||BN,this.max=t.max||qN,this.minutes=t.minutes||jo,this.daySpan=t.daySpan||ay,this.firstVisibleDay=t.firstVisibleDay||zC,this.lastVisibleDay=t.lastVisibleDay||RC,this.visibleDays=t.visibleDays||z2,this.getSlotDate=t.getSlotDate||B2,this.getTimezoneOffset=t.getTimezoneOffset||function(a){return a.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||ix,this.getTotalMin=t.getTotalMin||q2,this.getMinutesFromMidnight=t.getMinutesFromMidnight||U2,this.continuesPrior=t.continuesPrior||W2,this.continuesAfter=t.continuesAfter||H2,this.sortEvents=t.sortEvents||Y2,this.inEventRange=t.inEventRange||Z2,this.isSameDate=t.isSameDate||V2,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||G2,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function X2(e,t,n,a){var o=ct(ct({},e.formats),n);return ct(ct({},e),{},{messages:a,startOfWeek:function(){return e.startOfWeek(t)},format:function(f,m){return e.format(f,o[m]||m,t)}})}var J2=(function(e){function t(){var n;Ut(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=xn(this,t,[].concat(o)),n.navigate=function(f){n.props.onNavigate(f)},n.view=function(f){n.props.onView(f)},n}return _n(t,e),Wt(t,[{key:"render",value:function(){var a=this.props,o=a.localizer.messages,c=a.label;return te.createElement("div",{className:"rbc-toolbar"},te.createElement("span",{className:"rbc-btn-group"},te.createElement("button",{type:"button",onClick:this.navigate.bind(null,$n.TODAY)},o.today),te.createElement("button",{type:"button",onClick:this.navigate.bind(null,$n.PREVIOUS)},o.previous),te.createElement("button",{type:"button",onClick:this.navigate.bind(null,$n.NEXT)},o.next)),te.createElement("span",{className:"rbc-toolbar-label"},c),te.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(o)))}},{key:"viewNamesGroup",value:function(a){var o=this,c=this.props.views,f=this.props.view;if(c.length>1)return c.map(function(m){return te.createElement("button",{type:"button",key:m,className:kt({"rbc-active":f===m}),onClick:o.view.bind(null,m)},a[m])})}}])})(te.Component);function mt(e,t){e&&e.apply(null,[].concat(t))}var Q2={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function ez(e){return ct(ct({},Q2),e)}function tz(e){var t=e.ref,n=e.callback;O.useEffect(function(){var a=function(c){t.current&&!t.current.contains(c.target)&&n()};return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[t,n])}var nz=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],LC=(function(e){function t(){return Ut(this,t),xn(this,t,arguments)}return _n(t,e),Wt(t,[{key:"render",value:function(){var a=this.props,o=a.style,c=a.className,f=a.event,m=a.selected,v=a.isAllDay,x=a.onSelect,_=a.onDoubleClick,w=a.onKeyPress,N=a.localizer,E=a.continuesPrior,P=a.continuesAfter,C=a.accessors,j=a.getters,M=a.children,R=a.components,A=R.event,F=R.eventWrapper,B=a.slotStart,q=a.slotEnd,H=ii(a,nz);delete H.resizable;var $=C.title(f),V=C.tooltip(f),I=C.end(f),U=C.start(f),ee=C.allDay(f),K=v||ee||N.diff(U,N.ceil(I,"day"),"day")>1,ce=j.eventProp(f,U,I,m),_e=te.createElement("div",{className:"rbc-event-content",title:V||void 0},A?te.createElement(A,{event:f,continuesPrior:E,continuesAfter:P,title:$,isAllDay:ee,localizer:N,slotStart:B,slotEnd:q}):$);return te.createElement(F,Object.assign({},this.props,{type:"date"}),te.createElement("div",Object.assign({},H,{style:ct(ct({},ce.style),o),className:kt("rbc-event",c,ce.className,{"rbc-selected":m,"rbc-event-allday":K,"rbc-event-continues-prior":E,"rbc-event-continues-after":P}),onClick:function(he){return x&&x(f,he)},onDoubleClick:function(he){return _&&_(f,he)},onKeyDown:function(he){return w&&w(f,he)}}),typeof M=="function"?M(_e):_e))}}])})(te.Component);function sf(e,t){return!e||t==null?!1:qM(e,t)}function AC(e,t){var n=e.right-e.left,a=n/t;return a}function IC(e,t,n,a){var o=AC(e,a);return n?a-1-Math.floor((t-e.left)/o):Math.floor((t-e.left)/o)}function rz(e,t){var n=t.x,a=t.y;return a>=e.top&&a<=e.bottom&&n>=e.left&&n<=e.right}function iz(e,t,n,a,o){var c=-1,f=-1,m=a-1,v=AC(t,a),x=IC(t,n.x,o,a),_=t.top<n.y&&t.bottom>n.y,w=t.top<e.y&&t.bottom>e.y,N=e.y>t.bottom,E=t.top>e.y,P=n.top<t.top&&n.bottom>t.bottom;return P&&(c=0,f=m),_&&(E?(c=0,f=x):N&&(c=x,f=m)),w&&(c=f=o?m-Math.floor((e.x-t.left)/v):Math.floor((e.x-t.left)/v),_?x<c?c=x:f=x:e.y<n.y?f=m:c=0),{startIdx:c,endIdx:f}}function az(e){var t=e.target,n=e.offset,a=e.container,o=e.box,c=ys(t),f=c.top,m=c.left,v=c.width,x=c.height,_=ys(a),w=_.top,N=_.left,E=_.width,P=_.height,C=ys(o),j=C.width,M=C.height,R=w+P,A=N+E,F=f+M,B=m+j,q=n.x,H=n.y,$=F>R?f-M-H:f+H+x,V=B>A?m+q-j+v:m+q;return{topOffset:$,leftOffset:V}}function sz(e){var t=e.containerRef,n=e.accessors,a=e.getters,o=e.selected,c=e.components,f=e.localizer,m=e.position,v=e.show,x=e.events,_=e.slotStart,w=e.slotEnd,N=e.onSelect,E=e.onDoubleClick,P=e.onKeyPress,C=e.handleDragStart,j=e.popperRef,M=e.target,R=e.offset;tz({ref:j,callback:v}),O.useLayoutEffect(function(){var B=az({target:M,offset:R,container:t.current,box:j.current}),q=B.topOffset,H=B.leftOffset;j.current.style.top="".concat(q,"px"),j.current.style.left="".concat(H,"px")},[R.x,R.y,M]);var A=m.width,F={minWidth:A+A/2};return te.createElement("div",{style:F,className:"rbc-overlay",ref:j},te.createElement("div",{className:"rbc-overlay-header"},f.format(_,"dayHeaderFormat")),x.map(function(B,q){return te.createElement(LC,{key:q,type:"popup",localizer:f,event:B,getters:a,onSelect:N,accessors:n,components:c,onDoubleClick:E,onKeyPress:P,continuesPrior:f.lt(n.end(B),_,"day"),continuesAfter:f.gte(n.start(B),w,"day"),slotStart:_,slotEnd:w,selected:sf(B,o),draggable:!0,onDragStart:function(){return C(B)},onDragEnd:function(){return v()}})}))}var FC=te.forwardRef(function(e,t){return te.createElement(sz,Object.assign({},e,{popperRef:t}))});FC.propTypes={accessors:Ce.object.isRequired,getters:Ce.object.isRequired,selected:Ce.object,components:Ce.object.isRequired,localizer:Ce.object.isRequired,position:Ce.object.isRequired,show:Ce.func.isRequired,events:Ce.array.isRequired,slotStart:Ce.instanceOf(Date).isRequired,slotEnd:Ce.instanceOf(Date),onSelect:Ce.func,onDoubleClick:Ce.func,onKeyPress:Ce.func,handleDragStart:Ce.func,style:Ce.object,offset:Ce.shape({x:Ce.number,y:Ce.number})};function oz(e){var t=e.containerRef,n=e.popupOffset,a=n===void 0?5:n,o=e.overlay,c=e.accessors,f=e.localizer,m=e.components,v=e.getters,x=e.selected,_=e.handleSelectEvent,w=e.handleDoubleClickEvent,N=e.handleKeyPressEvent,E=e.handleDragStart,P=e.onHide,C=e.overlayDisplay,j=O.useRef(null);if(!o.position)return null;var M=a;isNaN(a)||(M={x:a,y:a});var R=o.position,A=o.events,F=o.date,B=o.end;return te.createElement(By,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:P,target:o.target},function(q){var H=q.props;return te.createElement(FC,Object.assign({},H,{containerRef:t,ref:j,target:o.target,offset:M,accessors:c,getters:v,selected:x,components:m,localizer:f,position:R,show:C,events:A,slotStart:F,slotEnd:B,onSelect:_,onDoubleClick:w,onKeyPress:N,handleDragStart:E}))})}var ax=te.forwardRef(function(e,t){return te.createElement(oz,Object.assign({},e,{containerRef:t}))});ax.propTypes={popupOffset:Ce.oneOfType([Ce.number,Ce.shape({x:Ce.number,y:Ce.number})]),overlay:Ce.shape({position:Ce.object,events:Ce.array,date:Ce.instanceOf(Date),end:Ce.instanceOf(Date)}),accessors:Ce.object.isRequired,localizer:Ce.object.isRequired,components:Ce.object.isRequired,getters:Ce.object.isRequired,selected:Ce.object,handleSelectEvent:Ce.func,handleDoubleClickEvent:Ce.func,handleKeyPressEvent:Ce.func,handleDragStart:Ce.func,onHide:Ce.func,overlayDisplay:Ce.func};function hn(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Wl(n,e,t,{passive:!1})}function lz(e,t,n){return!e||uu(e,document.elementFromPoint(t,n))}function uz(e,t){var n=t.clientX,a=t.clientY,o=document.elementFromPoint(n,a);return xC(o,".rbc-event",e)}function cz(e,t){var n=t.clientX,a=t.clientY,o=document.elementFromPoint(n,a);return xC(o,".rbc-show-more",e)}function Dd(e,t){return!!uz(e,t)}function dz(e,t){return!!cz(e,t)}function Bl(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var HS=5,fz=250,$C=(function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.global,o=a===void 0?!1:a,c=n.longPressThreshold,f=c===void 0?250:c,m=n.validContainers,v=m===void 0?[]:m;Ut(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||o,this.longPressThreshold=f,this.validContainers=v,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=hn("touchmove",function(){},window),this._removeKeyDownListener=hn("keydown",this._keyListener),this._removeKeyUpListener=hn("keyup",this._keyListener),this._removeDropFromOutsideListener=hn("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=hn("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Wt(e,[{key:"on",value:function(n,a){var o=this._listeners[n]||(this._listeners[n]=[]);return o.push(a),{remove:function(){var f=o.indexOf(a);f!==-1&&o.splice(f,1)}}}},{key:"emit",value:function(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),c=1;c<a;c++)o[c-1]=arguments[c];var f,m=this._listeners[n]||[];return m.forEach(function(v){f===void 0&&(f=v.apply(void 0,o))}),f}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var a=this._selectRect;return!a||!this.selecting?!1:YS(a,Ps(n))}},{key:"filter",value:function(n){var a=this._selectRect;return!a||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,a){var o=this,c=null,f=null,m=null,v=function(N){c=setTimeout(function(){_(),n(N)},o.longPressThreshold),f=hn("touchmove",function(){return _()}),m=hn("touchend",function(){return _()})},x=hn("touchstart",v),_=function(){c&&clearTimeout(c),f&&f(),m&&m(),c=null,f=null,m=null};return a&&v(a),function(){_(),x()}}},{key:"_addInitialEventListener",value:function(){var n=this,a=hn("mousedown",function(c){n._removeInitialEventListener(),n._handleInitialEvent(c),n._removeInitialEventListener=hn("mousedown",n._handleInitialEvent)}),o=hn("touchstart",function(c){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,c)});this._removeInitialEventListener=function(){a(),o()}}},{key:"_dropFromOutsideListener",value:function(n){var a=Bl(n),o=a.pageX,c=a.pageY,f=a.clientX,m=a.clientY;this.emit("dropFromOutside",{x:o,y:c,clientX:f,clientY:m}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var a=Bl(n),o=a.pageX,c=a.pageY,f=a.clientX,m=a.clientY;this.emit("dragOverFromOutside",{x:o,y:c,clientX:f,clientY:m}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var a=Bl(n),o=a.clientX,c=a.clientY,f=a.pageX,m=a.pageY,v=this.container(),x,_;if(!(n.which===3||n.button===2||!lz(v,o,c))){if(!this.globalMouse&&v&&!uu(v,n.target)){var w=hz(0),N=w.top,E=w.left,P=w.bottom,C=w.right;if(_=Ps(v),x=YS({top:_.top-N,left:_.left-E,bottom:_.bottom+P,right:_.right+C},{top:m,left:f}),!x)return}var j=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:f,y:m,clientX:o,clientY:c});if(j!==!1)switch(n.type){case"mousedown":this._removeEndListener=hn("mouseup",this._handleTerminatingEvent),this._onEscListener=hn("keydown",this._handleTerminatingEvent),this._removeMoveListener=hn("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=hn("touchend",this._handleTerminatingEvent),this._removeMoveListener=hn("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var a=n.target,o=this.validContainers;return!o||!o.length||!a?!0:o.some(function(c){return!!a.closest(c)})}},{key:"_handleTerminatingEvent",value:function(n){var a=this.selecting,o=this._selectRect;if(!a&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!n){var c=!this.container||uu(this.container(),n.target),f=this._isWithinValidContainer(n);return n.key==="Escape"||!f?this.emit("reset"):!a&&c?this._handleClickEvent(n):a?this.emit("select",o):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var a=Bl(n),o=a.pageX,c=a.pageY,f=a.clientX,m=a.clientY,v=new Date().getTime();return this._lastClickData&&v-this._lastClickData.timestamp<fz?(this._lastClickData=null,this.emit("doubleClick",{x:o,y:c,clientX:f,clientY:m})):(this._lastClickData={timestamp:v},this.emit("click",{x:o,y:c,clientX:f,clientY:m}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var a=this._initialEventData,o=a.x,c=a.y,f=Bl(n),m=f.pageX,v=f.pageY,x=Math.abs(o-m),_=Math.abs(c-v),w=Math.min(m,o),N=Math.min(v,c),E=this.selecting,P=this.isClick(m,v);P&&!E&&!(x||_)||(!E&&!P&&this.emit("selectStart",this._initialEventData),P||(this.selecting=!0,this._selectRect={top:N,left:w,x:m,y:v,right:w+x,bottom:N+_},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,a){var o=this._initialEventData,c=o.x,f=o.y,m=o.isTouch;return!m&&Math.abs(n-c)<=HS&&Math.abs(a-f)<=HS}}])})();function hz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Bi(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function YS(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=Ps(e),o=a.top,c=a.left,f=a.right,m=f===void 0?c:f,v=a.bottom,x=v===void 0?o:v,_=Ps(t),w=_.top,N=_.left,E=_.right,P=E===void 0?N:E,C=_.bottom,j=C===void 0?w:C;return!(x-n<w||o+n>j||m-n<N||c+n>P)}function Ps(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+ZS("left"),a=t.top+ZS("top");return{top:a,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+a}}function ZS(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var pz=(function(e){function t(n,a){var o;return Ut(this,t),o=xn(this,t,[n,a]),o.state={selecting:!1},o.containerRef=O.createRef(),o}return _n(t,e),Wt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(a){!a.selectable&&this.props.selectable&&this._selectable(),a.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var a=this.props,o=a.range,c=a.getNow,f=a.getters,m=a.date,v=a.components.dateCellWrapper,x=a.localizer,_=this.state,w=_.selecting,N=_.startIdx,E=_.endIdx,P=c();return te.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},o.map(function(C,j){var M=w&&j>=N&&j<=E,R=f.dayProp(C),A=R.className,F=R.style;return te.createElement(v,{key:j,value:C,range:o},te.createElement("div",{style:F,className:kt("rbc-day-bg",A,M&&"rbc-selected-cell",x.isSameDate(C,P)&&"rbc-today",m&&x.neq(m,C,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var a=this,o=this.containerRef.current,c=this._selector=new $C(this.props.container,{longPressThreshold:this.props.longPressThreshold}),f=function(v,x){if(!Dd(o,v)&&!dz(o,v)){var _=Ps(o),w=a.props,N=w.range,E=w.rtl;if(rz(_,v)){var P=IC(_,v.x,E,N.length);a._selectSlot({startIdx:P,endIdx:P,action:x,box:v})}}a._initial={},a.setState({selecting:!1})};c.on("selecting",function(m){var v=a.props,x=v.range,_=v.rtl,w=-1,N=-1;if(a.state.selecting||(mt(a.props.onSelectStart,[m]),a._initial={x:m.x,y:m.y}),c.isSelected(o)){var E=Ps(o),P=iz(a._initial,E,m,x.length,_);w=P.startIdx,N=P.endIdx}a.setState({selecting:!0,startIdx:w,endIdx:N})}),c.on("beforeSelect",function(m){if(a.props.selectable==="ignoreEvents")return!Dd(a.containerRef.current,m)}),c.on("click",function(m){return f(m,"click")}),c.on("doubleClick",function(m){return f(m,"doubleClick")}),c.on("select",function(m){a._selectSlot(ct(ct({},a.state),{},{action:"select",bounds:m})),a._initial={},a.setState({selecting:!1}),mt(a.props.onSelectEnd,[a.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(a){var o=a.endIdx,c=a.startIdx,f=a.action,m=a.bounds,v=a.box;o!==-1&&c!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:c,end:o,action:f,bounds:m,box:v,resourceId:this.props.resourceId})}}])})(te.Component),mr={propTypes:{slotMetrics:Ce.object.isRequired,selected:Ce.object,isAllDay:Ce.bool,accessors:Ce.object.isRequired,localizer:Ce.object.isRequired,components:Ce.object.isRequired,getters:Ce.object.isRequired,onSelect:Ce.func,onDoubleClick:Ce.func,onKeyPress:Ce.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,n){var a=t.selected;t.isAllDay;var o=t.accessors,c=t.getters,f=t.onSelect,m=t.onDoubleClick,v=t.onKeyPress,x=t.localizer,_=t.slotMetrics,w=t.components,N=t.resizable,E=_.continuesPrior(n),P=_.continuesAfter(n);return te.createElement(LC,{event:n,getters:c,localizer:x,accessors:o,components:w,onSelect:f,onDoubleClick:m,onKeyPress:v,continuesPrior:E,continuesAfter:P,slotStart:_.first,slotEnd:_.last,selected:sf(n,a),resizable:N})},renderSpan:function(t,n,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",c=Math.abs(n)/t*100+"%";return te.createElement("div",{key:a,className:"rbc-row-segment",style:{WebkitFlexBasis:c,flexBasis:c,maxWidth:c}},o)}},BC=(function(e){function t(){return Ut(this,t),xn(this,t,arguments)}return _n(t,e),Wt(t,[{key:"render",value:function(){var a=this,o=this.props,c=o.segments,f=o.slotMetrics.slots,m=o.className,v=1;return te.createElement("div",{className:kt(m,"rbc-row")},c.reduce(function(x,_,w){var N=_.event,E=_.left,P=_.right,C=_.span,j="_lvl_"+w,M=E-v,R=mr.renderEvent(a.props,N);return M&&x.push(mr.renderSpan(f,M,"".concat(j,"_gap"))),x.push(mr.renderSpan(f,C,j,R)),v=P+1,x},[]))}}])})(te.Component);BC.defaultProps=ct({},mr.defaultProps);function qC(e){var t=e.dateRange,n=e.unit,a=n===void 0?"day":n,o=e.localizer;return{first:t[0],last:o.add(t[t.length-1],1,a)}}function mz(e,t,n,a){var o=qC({dateRange:t,localizer:a}),c=o.first,f=o.last,m=a.diff(c,f,"day"),v=a.max(a.startOf(n.start(e),"day"),c),x=a.min(a.ceil(n.end(e),"day"),f),_=lD(t,function(N){return a.isSameDate(N,v)}),w=a.diff(v,x,"day");return w=Math.min(w,m),w=Math.max(w-a.segmentOffset,1),{event:e,span:w,left:_+1,right:Math.max(_+w,1)}}function sy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,a,o,c=[],f=[];for(n=0;n<e.length;n++){for(o=e[n],a=0;a<c.length&&vz(o,c[a]);a++);a>=t?f.push(o):(c[a]||(c[a]=[])).push(o)}for(n=0;n<c.length;n++)c[n].sort(function(m,v){return m.left-v.left});return{levels:c,extra:f}}function fu(e,t,n,a,o){var c={start:a.start(e),end:a.end(e)},f={start:t,end:n};return o.inEventRange({event:c,range:f})}function vz(e,t){return t.some(function(n){return n.left<=e.right&&n.right>=e.left})}function gz(e,t,n){var a=ud(e),o=[],c=[];a.forEach(function(v){var x=t.start(v),_=t.end(v);n.daySpan(x,_)>1?o.push(v):c.push(v)});var f=o.sort(function(v,x){return oy(v,x,t,n)}),m=c.sort(function(v,x){return oy(v,x,t,n)});return[].concat(ud(f),ud(m))}function oy(e,t,n,a){var o={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},c={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return a.sortEvents({evtA:o,evtB:c})}var ly=function(t,n){return t.left<=n&&t.right>=n},Bg=function(t,n){return t.filter(function(a){return ly(a,n)}).map(function(a){return a.event})},UC=(function(e){function t(){return Ut(this,t),xn(this,t,arguments)}return _n(t,e),Wt(t,[{key:"render",value:function(){for(var a=this.props,o=a.segments,c=a.slotMetrics.slots,f=sy(o).levels[0],m=1,v=1,x=[];m<=c;){var _="_lvl_"+m,w=f.filter(function(F){return ly(F,m)})[0]||{},N=w.event,E=w.left,P=w.right,C=w.span;if(!N){var j=this.getHiddenEventsForSlot(o,m);if(j.length>0){var M=m-v;M&&x.push(mr.renderSpan(c,M,_+"_gap")),x.push(mr.renderSpan(c,1,_,this.renderShowMore(o,m))),v=m=m+1;continue}m++;continue}var R=Math.max(0,E-v);if(this.canRenderSlotEvent(E,C)){var A=mr.renderEvent(this.props,N);R&&x.push(mr.renderSpan(c,R,_+"_gap")),x.push(mr.renderSpan(c,C,_,A)),v=m=P+1}else R&&x.push(mr.renderSpan(c,R,_+"_gap")),x.push(mr.renderSpan(c,1,_,this.renderShowMore(o,m))),v=m=m+1}return te.createElement("div",{className:"rbc-row"},x)}},{key:"getHiddenEventsForSlot",value:function(a,o){var c=Bg(a,o),f=sy(a).levels[0],m=f.filter(function(v){return ly(v,o)}).map(function(v){return v.event});return c.filter(function(v){return!m.some(function(x){return x===v})})}},{key:"canRenderSlotEvent",value:function(a,o){var c=this.props.segments;return hD(a,a+o).every(function(f){var m=Bg(c,f).length;return m===1})}},{key:"renderShowMore",value:function(a,o){var c=this,f=this.props,m=f.localizer,v=f.slotMetrics,x=f.components,_=v.getEventsForSlot(o),w=Bg(a,o),N=w.length;if(x!=null&&x.showMore){var E=x.showMore,P=v.getDateForSlot(o-1);return N?te.createElement(E,{localizer:m,slotDate:P,slot:o,count:N,events:_,remainingEvents:w}):!1}return N?te.createElement("button",{type:"button",key:"sm_"+o,className:kt("rbc-button-link","rbc-show-more"),onClick:function(j){return c.showMore(o,j)}},m.messages.showMore(N,w,_)):!1}},{key:"showMore",value:function(a,o){o.preventDefault(),o.stopPropagation(),this.props.onShowMore(a,o.target)}}])})(te.Component);UC.defaultProps=ct({},mr.defaultProps);var yz=function(t){var n=t.children;return te.createElement("div",{className:"rbc-row-content-scroll-container"},n)},xz=function(t,n){return t.left<=n&&t.right>=n},_z=function(t,n){return t[0].range===n[0].range&&t[0].events===n[0].events};function WC(){return bC(function(e){for(var t=e.range,n=e.events,a=e.maxRows,o=e.minRows,c=e.accessors,f=e.localizer,m=qC({dateRange:t,localizer:f}),v=m.first,x=m.last,_=n.map(function(C){return mz(C,t,c,f)}),w=sy(_,Math.max(a-1,1)),N=w.levels,E=w.extra,P=E.length>0?o-1:o;N.length<P;)N.push([]);return{first:v,last:x,levels:N,extra:E,range:t,slots:t.length,clone:function(j){var M=WC();return M(ct(ct({},e),j))},getDateForSlot:function(j){return t[j]},getSlotForDate:function(j){return t.find(function(M){return f.isSameDate(M,j)})},getEventsForSlot:function(j){return _.filter(function(M){return xz(M,j)}).map(function(M){return M.event})},continuesPrior:function(j){return f.continuesPrior(c.start(j),v)},continuesAfter:function(j){var M=c.start(j),R=c.end(j);return f.continuesAfter(M,R,x)}}},_z)}var hu=(function(e){function t(){var n;Ut(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=xn(this,t,[].concat(o)),n.handleSelectSlot=function(f){var m=n.props,v=m.range,x=m.onSelectSlot;x(v.slice(f.start,f.end+1),f)},n.handleShowMore=function(f,m){var v=n.props,x=v.range,_=v.onShowMore,w=n.slotMetrics(n.props),N=yT(n.containerRef.current,".rbc-row-bg")[0],E;N&&(E=N.children[f-1]);var P=w.getEventsForSlot(f);_(P,x[f-1],E,f,m)},n.getContainer=function(){var f=n.props.container;return f?f():n.containerRef.current},n.renderHeadingCell=function(f,m){var v=n.props,x=v.renderHeader,_=v.getNow,w=v.localizer;return x({date:f,key:"header_".concat(m),className:kt("rbc-date-cell",w.isSameDate(f,_())&&"rbc-now")})},n.renderDummy=function(){var f=n.props,m=f.className,v=f.range,x=f.renderHeader,_=f.showAllEvents;return te.createElement("div",{className:m,ref:n.containerRef},te.createElement("div",{className:kt("rbc-row-content",_&&"rbc-row-content-scrollable")},x&&te.createElement("div",{className:"rbc-row",ref:n.headingRowRef},v.map(n.renderHeadingCell)),te.createElement("div",{className:"rbc-row",ref:n.eventRowRef},te.createElement("div",{className:"rbc-row-segment"},te.createElement("div",{className:"rbc-event"},te.createElement("div",{className:"rbc-event-content"}," "))))))},n.containerRef=O.createRef(),n.headingRowRef=O.createRef(),n.eventRowRef=O.createRef(),n.slotMetrics=WC(),n}return _n(t,e),Wt(t,[{key:"getRowLimit",value:function(){var a,o=rv(this.eventRowRef.current),c=(a=this.headingRowRef)!==null&&a!==void 0&&a.current?rv(this.headingRowRef.current):0,f=rv(this.containerRef.current)-c;return Math.max(Math.floor(f/o),1)}},{key:"render",value:function(){var a=this.props,o=a.date,c=a.rtl,f=a.range,m=a.className,v=a.selected,x=a.selectable,_=a.renderForMeasure,w=a.accessors,N=a.getters,E=a.components,P=a.getNow,C=a.renderHeader,j=a.onSelect,M=a.localizer,R=a.onSelectStart,A=a.onSelectEnd,F=a.onDoubleClick,B=a.onKeyPress,q=a.resourceId,H=a.longPressThreshold,$=a.isAllDay,V=a.resizable,I=a.showAllEvents;if(_)return this.renderDummy();var U=this.slotMetrics(this.props),ee=U.levels,K=U.extra,ce=I?yz:ei,_e=E.weekWrapper,de={selected:v,accessors:w,getters:N,localizer:M,components:E,onSelect:j,onDoubleClick:F,onKeyPress:B,resourceId:q,slotMetrics:U,resizable:V};return te.createElement("div",{className:m,role:"rowgroup",ref:this.containerRef},te.createElement(pz,{localizer:M,date:o,getNow:P,rtl:c,range:f,selectable:x,container:this.getContainer,getters:N,onSelectStart:R,onSelectEnd:A,onSelectSlot:this.handleSelectSlot,components:E,longPressThreshold:H,resourceId:q}),te.createElement("div",{className:kt("rbc-row-content",I&&"rbc-row-content-scrollable"),role:"row"},C&&te.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},f.map(this.renderHeadingCell)),te.createElement(ce,null,te.createElement(_e,Object.assign({isAllDay:$},de,{rtl:this.props.rtl}),ee.map(function(he,Y){return te.createElement(BC,Object.assign({key:Y,segments:he},de))}),!!K.length&&te.createElement(UC,Object.assign({segments:K,onShowMore:this.handleShowMore},de))))))}}])})(te.Component);hu.defaultProps={minRows:0,maxRows:1/0};var sx=function(t){var n=t.label;return te.createElement("span",{role:"columnheader","aria-sort":"none"},n)},wz=function(t){var n=t.label,a=t.drilldownView,o=t.onDrillDown;return a?te.createElement("button",{type:"button",className:"rbc-button-link",onClick:o},n):te.createElement("span",null,n)},bz=["date","className"],Sz=function(t,n,a,o,c){return t.filter(function(f){return fu(f,n,a,o,c)})},of=(function(e){function t(){var n;Ut(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=xn(this,t,[].concat(o)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(f,m){var v=n.props,x=v.events,_=v.components,w=v.selectable,N=v.getNow,E=v.selected,P=v.date,C=v.localizer,j=v.longPressThreshold,M=v.accessors,R=v.getters,A=v.showAllEvents,F=n.state,B=F.needLimitMeasure,q=F.rowLimit,H=Sz(ud(x),f[0],f[f.length-1],M,C),$=gz(H,M,C);return te.createElement(hu,{key:m,ref:m===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:N,date:P,range:f,events:$,maxRows:A?1/0:q,selected:E,selectable:w,components:_,accessors:M,getters:R,localizer:C,renderHeader:n.readerDateHeading,renderForMeasure:B,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:j,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:A})},n.readerDateHeading=function(f){var m=f.date,v=f.className,x=ii(f,bz),_=n.props,w=_.date,N=_.getDrilldownView,E=_.localizer,P=E.neq(w,m,"month"),C=E.isSameDate(m,w),j=N(m),M=E.format(m,"dateFormat"),R=n.props.components.dateHeader||wz;return te.createElement("div",Object.assign({},x,{className:kt(v,P&&"rbc-off-range",C&&"rbc-current"),role:"cell"}),te.createElement(R,{label:M,date:m,drilldownView:j,isOffRange:P,onDrillDown:function(F){return n.handleHeadingClick(m,j,F)}}))},n.handleSelectSlot=function(f,m){n._pendingSelection=n._pendingSelection.concat(f),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(m)})},n.handleHeadingClick=function(f,m,v){v.preventDefault(),n.clearSelection(),mt(n.props.onDrillDown,[f,m])},n.handleSelectEvent=function(){n.clearSelection();for(var f=arguments.length,m=new Array(f),v=0;v<f;v++)m[v]=arguments[v];mt(n.props.onSelectEvent,m)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var f=arguments.length,m=new Array(f),v=0;v<f;v++)m[v]=arguments[v];mt(n.props.onDoubleClickEvent,m)},n.handleKeyPressEvent=function(){n.clearSelection();for(var f=arguments.length,m=new Array(f),v=0;v<f;v++)m[v]=arguments[v];mt(n.props.onKeyPressEvent,m)},n.handleShowMore=function(f,m,v,x,_){var w=n.props,N=w.popup,E=w.onDrillDown,P=w.onShowMore,C=w.getDrilldownView,j=w.doShowMoreDrillDown;if(n.clearSelection(),N){var M=tC(v,n.containerRef.current);n.setState({overlay:{date:m,events:f,position:M,target:_}})}else j&&mt(E,[m,C(m)||En.DAY]);mt(P,[f,m,x])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=O.createRef(),n.slotRowRef=O.createRef(),n._bgRows=[],n._pendingSelection=[],n}return _n(t,e),Wt(t,[{key:"componentDidMount",value:function(){var a=this,o;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){o||nC(function(){o=!1,a.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var a=this.props,o=a.date,c=a.localizer,f=a.className,m=c.visibleDays(o,c),v=nT(m,7);return this._weekCount=v.length,te.createElement("div",{className:kt("rbc-month-view",f),role:"table","aria-label":"Month View",ref:this.containerRef},te.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(v[0])),v.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(a){var o=this.props,c=o.localizer,f=o.components,m=a[0],v=a[a.length-1],x=f.header||sx;return c.range(m,v,"day").map(function(_,w){return te.createElement("div",{key:"header_"+w,className:"rbc-header"},te.createElement(x,{date:_,localizer:c,label:c.format(_,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var a,o,c=this,f=(a=(o=this.state)===null||o===void 0?void 0:o.overlay)!==null&&a!==void 0?a:{},m=this.props,v=m.accessors,x=m.localizer,_=m.components,w=m.getters,N=m.selected,E=m.popupOffset,P=m.handleDragStart,C=function(){return c.setState({overlay:null})};return te.createElement(ax,{overlay:f,accessors:v,localizer:x,components:_,getters:w,selected:N,popupOffset:E,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:P,show:!!f.position,overlayDisplay:this.overlayDisplay,onHide:C})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(a){var o=this._pendingSelection.slice();this._pendingSelection=[],o.sort(function(m,v){return+m-+v});var c=new Date(o[0]),f=new Date(o[o.length-1]);f.setDate(o[o.length-1].getDate()+1),mt(this.props.onSelectSlot,{slots:o,start:c,end:f,action:a.action,bounds:a.bounds,box:a.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(a,o){var c=a.date,f=a.localizer;return{date:c,needLimitMeasure:f.neq(c,o.date,"month")}}}])})(te.Component);of.range=function(e,t){var n=t.localizer,a=n.firstVisibleDay(e,n),o=n.lastVisibleDay(e,n);return{start:a,end:o}};of.navigate=function(e,t,n){var a=n.localizer;switch(t){case $n.PREVIOUS:return a.add(e,-1,"month");case $n.NEXT:return a.add(e,1,"month");default:return e}};of.title=function(e,t){var n=t.localizer;return n.format(e,"monthHeaderFormat")};var VS=function(t){var n=t.min,a=t.max,o=t.step,c=t.slots,f=t.localizer;return"".concat(+f.startOf(n,"minutes"))+"".concat(+f.startOf(a,"minutes"))+"".concat(o,"-").concat(c)};function ox(e){for(var t=e.min,n=e.max,a=e.step,o=e.timeslots,c=e.localizer,f=VS({step:a,localizer:c}),m=1+c.getTotalMin(t,n),v=c.getMinutesFromMidnight(t),x=Math.ceil((m-1)/(a*o)),_=x*o,w=new Array(x),N=new Array(_),E=0;E<x;E++){w[E]=new Array(o);for(var P=0;P<o;P++){var C=E*o+P,j=C*a;N[C]=w[E][P]=c.getSlotDate(t,v,j)}}var M=N.length*a;N.push(c.getSlotDate(t,v,M));function R(A){var F=c.diff(t,A,"minutes")+c.getDstOffset(t,A);return Math.min(F,m)}return{groups:w,update:function(F){return VS(F)!==f?ox(F):this},dateIsInGroup:function(F,B){var q=w[B+1];return c.inRange(F,w[B][0],q?q[0]:n,"minutes")},nextSlot:function(F){var B=N[Math.min(N.findIndex(function(q){return q===F||c.eq(q,F)})+1,N.length-1)];return c.eq(B,F)&&(B=c.add(F,a,"minutes")),B},closestSlotToPosition:function(F){var B=Math.min(N.length-1,Math.max(0,Math.floor(F*_)));return N[B]},closestSlotFromPoint:function(F,B){var q=Math.abs(B.top-B.bottom);return this.closestSlotToPosition((F.y-B.top)/q)},closestSlotFromDate:function(F){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(c.lt(F,t,"minutes"))return N[0];if(c.gt(F,n,"minutes"))return N[N.length-1];var q=c.diff(t,F,"minutes");return N[(q-q%a)/a+B]},startsBeforeDay:function(F){return c.lt(F,t,"day")},startsAfterDay:function(F){return c.gt(F,n,"day")},startsBefore:function(F){return c.lt(c.merge(t,F),t,"minutes")},startsAfter:function(F){return c.gt(c.merge(n,F),n,"minutes")},getRange:function(F,B,q,H){q||(F=c.min(n,c.max(t,F))),H||(B=c.min(n,c.max(t,B)));var $=R(F),V=R(B),I=V>a*_&&!c.eq(n,B)?($-a)/(a*_)*100:$/(a*_)*100;return{top:I,height:V/(a*_)*100-I,start:R(F),startDate:F,end:R(B),endDate:B}},getCurrentTimePosition:function(F){var B=R(F),q=B/(a*_)*100;return q}}}var Nz=(function(){function e(t,n){var a=n.accessors,o=n.slotMetrics;Ut(this,e);var c=o.getRange(a.start(t),a.end(t)),f=c.start,m=c.startDate,v=c.end,x=c.endDate,_=c.top,w=c.height;this.start=f,this.end=v,this.startMs=+m,this.endMs=+x,this.top=_,this.height=w,this.data=t}return Wt(e,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(o,c){return Math.max(o,c.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var a=100-this.container._width;return a/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,a=Math.min(100,this._width*1.7);if(this.rows)return a;if(this.leaves)return this.leaves.length>0?a:n;var o=this.row.leaves,c=o.indexOf(this);return c===o.length-1?n:a}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,a=n.leaves,o=n.xOffset,c=n._width,f=a.indexOf(this)+1;return o+f*c}}])})();function Cz(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function Ez(e){for(var t=MD(e,["startMs",function(m){return-m.endMs}]),n=[];t.length>0;){var a=t.shift();n.push(a);for(var o=0;o<t.length;o++){var c=t[o];if(!(a.endMs>c.startMs)){if(o>0){var f=t.splice(o,1)[0];n.push(f)}break}}}return n}function HC(e){for(var t=e.events,n=e.minimumStartDifference,a=e.slotMetrics,o=e.accessors,c=t.map(function(_){return new Nz(_,{slotMetrics:a,accessors:o})}),f=Ez(c),m=[],v=function(){var w=f[x],N=m.find(function(C){return C.end>w.start||Math.abs(w.start-C.start)<n});if(!N)return w.rows=[],m.push(w),1;w.container=N;for(var E=null,P=N.rows.length-1;!E&&P>=0;P--)Cz(N.rows[P],w,n)&&(E=N.rows[P]);E?(E.leaves.push(w),w.row=E):(w.leaves=[],N.rows.push(w))},x=0;x<f.length;x++)v();return f.map(function(_){return{event:_.data,style:{top:_.top,height:_.height,width:_.width,xOffset:Math.max(0,_.xOffset)}}})}function YC(e,t,n){for(var a=0;a<e.friends.length;++a)if(!(n.indexOf(e.friends[a])>-1)){t=t>e.friends[a].idx?t:e.friends[a].idx,n.push(e.friends[a]);var o=YC(e.friends[a],t,n);t=t>o?t:o}return t}function Pz(e){var t=e.events,n=e.minimumStartDifference,a=e.slotMetrics,o=e.accessors,c=HC({events:t,minimumStartDifference:n,slotMetrics:a,accessors:o});c.sort(function(_e,de){return _e=_e.style,de=de.style,_e.top!==de.top?_e.top>de.top?1:-1:_e.height!==de.height?_e.top+_e.height<de.top+de.height?1:-1:0});for(var f=0;f<c.length;++f)c[f].friends=[],delete c[f].style.left,delete c[f].style.left,delete c[f].idx,delete c[f].size;for(var m=0;m<c.length-1;++m)for(var v=c[m],x=v.style.top,_=v.style.top+v.style.height,w=m+1;w<c.length;++w){var N=c[w],E=N.style.top,P=N.style.top+N.style.height;(E>=x&&P<=_||P>x&&P<=_||E>=x&&E<_)&&(v.friends.push(N),N.friends.push(v))}for(var C=0;C<c.length;++C){for(var j=c[C],M=[],R=0;R<100;++R)M.push(1);for(var A=0;A<j.friends.length;++A)j.friends[A].idx!==void 0&&(M[j.friends[A].idx]=0);j.idx=M.indexOf(1)}for(var F=0;F<c.length;++F){var B=0;if(!c[F].size){var q=[],H=YC(c[F],0,q);B=100/(H+1),c[F].size=B;for(var $=0;$<q.length;++$)q[$].size=B}}for(var V=0;V<c.length;++V){var I=c[V];I.style.left=I.idx*I.size;for(var U=0,ee=0;ee<I.friends.length;++ee){var K=I.friends[ee].idx;U=U>K?U:K}U<=I.idx&&(I.size=100-I.idx*I.size);var ce=I.idx===0?0:3;I.style.width="calc(".concat(I.size,"% - ").concat(ce,"px)"),I.style.height="calc(".concat(I.style.height,"% - 2px)"),I.style.xOffset="calc(".concat(I.style.left,"% + ").concat(ce,"px)")}return c}var GS={overlap:HC,"no-overlap":Pz};function jz(e){return!!(e&&e.constructor&&e.call&&e.apply)}function kz(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in GS&&(n=GS[t]),jz(n)?n.apply(this,arguments):[]}var ZC=(function(e){function t(){return Ut(this,t),xn(this,t,arguments)}return _n(t,e),Wt(t,[{key:"render",value:function(){var a=this.props,o=a.renderSlot,c=a.resource,f=a.group,m=a.getters,v=a.components,x=v===void 0?{}:v,_=x.timeSlotWrapper,w=_===void 0?ei:_,N=m?m.slotGroupProp(f):{};return te.createElement("div",Object.assign({className:"rbc-timeslot-group"},N),f.map(function(E,P){var C=m?m.slotProp(E,c):{};return te.createElement(w,{key:P,value:E,resource:c},te.createElement("div",Object.assign({},C,{className:kt("rbc-time-slot",C.className)}),o&&o(E,P)))}))}}])})(O.Component);function rd(e){return typeof e=="string"?e:e+"%"}function Tz(e){var t=e.style,n=e.className,a=e.event,o=e.accessors,c=e.rtl,f=e.selected,m=e.label,v=e.continuesPrior,x=e.continuesAfter,_=e.getters,w=e.onClick,N=e.onDoubleClick,E=e.isBackgroundEvent,P=e.onKeyPress,C=e.components,j=C.event,M=C.eventWrapper,R=o.title(a),A=o.tooltip(a),F=o.end(a),B=o.start(a),q=_.eventProp(a,B,F,f),H=[te.createElement("div",{key:"1",className:"rbc-event-label"},m),te.createElement("div",{key:"2",className:"rbc-event-content"},j?te.createElement(j,{event:a,title:R}):R)],$=t.height,V=t.top,I=t.width,U=t.xOffset,ee=ct(ct({},q.style),{},vs({top:rd(V),height:rd($),width:rd(I)},c?"right":"left",rd(U)));return te.createElement(M,Object.assign({type:"time"},e),te.createElement("div",{role:"button",tabIndex:0,onClick:w,onDoubleClick:N,style:ee,onKeyDown:P,title:A?(typeof m=="string"?m+": ":"")+A:void 0,className:kt(E?"rbc-background-event":"rbc-event",n,q.className,{"rbc-selected":f,"rbc-event-continues-earlier":v,"rbc-event-continues-later":x})},H))}var Oz=function(t){var n=t.children,a=t.className,o=t.style,c=t.innerRef;return te.createElement("div",{className:a,style:o,ref:c},n)},Mz=te.forwardRef(function(e,t){return te.createElement(Oz,Object.assign({},e,{innerRef:t}))}),Dz=["dayProp"],zz=["eventContainerWrapper","timeIndicatorWrapper"],VC=(function(e){function t(){var n;Ut(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=xn(this,t,[].concat(o)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(f){var m=f.events,v=f.isBackgroundEvent,x=n.props,_=x.rtl,w=x.selected,N=x.accessors,E=x.localizer,P=x.getters,C=x.components,j=x.step,M=x.timeslots,R=x.dayLayoutAlgorithm,A=x.resizable,F=n,B=F.slotMetrics,q=E.messages,H=kz({events:m,accessors:N,slotMetrics:B,minimumStartDifference:Math.ceil(j*M/2),dayLayoutAlgorithm:R});return H.map(function($,V){var I,U=$.event,ee=$.style,K=N.end(U),ce=N.start(U),_e=(I=N.eventId(U))!==null&&I!==void 0?I:"evt_"+V,de="eventTimeRangeFormat",he,Y=B.startsBeforeDay(ce),fe=B.startsAfterDay(K);Y?de="eventTimeRangeEndFormat":fe&&(de="eventTimeRangeStartFormat"),Y&&fe?he=q.allDay:he=E.format({start:ce,end:K},de);var ne=Y||B.startsBefore(ce),z=fe||B.startsAfter(K);return te.createElement(Tz,{style:ee,event:U,label:he,key:_e,getters:P,rtl:_,components:C,continuesPrior:ne,continuesAfter:z,accessors:N,resource:n.props.resource,selected:sf(U,w),onClick:function(X){return n._select(ct(ct(ct({},U),n.props.resource&&{sourceResource:n.props.resource}),v&&{isBackgroundEvent:!0}),X)},onDoubleClick:function(X){return n._doubleClick(U,X)},isBackgroundEvent:v,onKeyPress:function(X){return n._keyPress(U,X)},resizable:A})})},n._selectable=function(){var f=n.containerRef.current,m=n.props,v=m.longPressThreshold,x=m.localizer,_=n._selector=new $C(function(){return f},{longPressThreshold:v}),w=function(C){var j=n.props.onSelecting,M=n.state||{},R=N(C),A=R.startDate,F=R.endDate;j&&(x.eq(M.startDate,A,"minutes")&&x.eq(M.endDate,F,"minutes")||j({start:A,end:F,resourceId:n.props.resource})===!1)||(n.state.start!==R.start||n.state.end!==R.end||n.state.selecting!==R.selecting)&&n.setState(R)},N=function(C){var j=n.slotMetrics.closestSlotFromPoint(C,Ps(f));n.state.selecting||(n._initialSlot=j);var M=n._initialSlot;x.lte(M,j)?j=n.slotMetrics.nextSlot(j):x.gt(M,j)&&(M=n.slotMetrics.nextSlot(M));var R=n.slotMetrics.getRange(x.min(M,j),x.max(M,j));return ct(ct({},R),{},{selecting:!0,top:"".concat(R.top,"%"),height:"".concat(R.height,"%")})},E=function(C,j){if(!Dd(n.containerRef.current,C)){var M=N(C),R=M.startDate,A=M.endDate;n._selectSlot({startDate:R,endDate:A,action:j,box:C})}n.setState({selecting:!1})};_.on("selecting",w),_.on("selectStart",w),_.on("beforeSelect",function(P){if(n.props.selectable==="ignoreEvents")return!Dd(n.containerRef.current,P)}),_.on("click",function(P){return E(P,"click")}),_.on("doubleClick",function(P){return E(P,"doubleClick")}),_.on("select",function(P){n.state.selecting&&(n._selectSlot(ct(ct({},n.state),{},{action:"select",bounds:P})),n.setState({selecting:!1}))}),_.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(f){for(var m=f.startDate,v=f.endDate,x=f.action,_=f.bounds,w=f.box,N=m,E=[];n.props.localizer.lte(N,v);)E.push(N),N=new Date(+N+n.props.step*60*1e3);mt(n.props.onSelectSlot,{slots:E,start:m,end:v,resourceId:n.props.resource,action:x,bounds:_,box:w})},n._select=function(){for(var f=arguments.length,m=new Array(f),v=0;v<f;v++)m[v]=arguments[v];mt(n.props.onSelectEvent,m)},n._doubleClick=function(){for(var f=arguments.length,m=new Array(f),v=0;v<f;v++)m[v]=arguments[v];mt(n.props.onDoubleClickEvent,m)},n._keyPress=function(){for(var f=arguments.length,m=new Array(f),v=0;v<f;v++)m[v]=arguments[v];mt(n.props.onKeyPressEvent,m)},n.slotMetrics=ox(n.props),n.containerRef=O.createRef(),n}return _n(t,e),Wt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(a,o){this.props.selectable&&!a.selectable&&this._selectable(),!this.props.selectable&&a.selectable&&this._teardownSelectable();var c=this.props,f=c.getNow,m=c.isNow,v=c.localizer,x=c.date,_=c.min,w=c.max,N=v.neq(a.getNow(),f(),"minutes");if(a.isNow!==m||N){if(this.clearTimeIndicatorInterval(),m){var E=!N&&v.eq(a.date,x,"minutes")&&o.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(E)}}else m&&(v.neq(a.min,_,"minutes")||v.neq(a.max,w,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var a=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!o&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){a.intervalTriggered=!0,a.positionTimeIndicator(),a.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var a=this.props,o=a.min,c=a.max,f=a.getNow,m=f();if(m>=o&&m<=c){var v=this.slotMetrics.getCurrentTimePosition(m);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:v})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var a=this.props,o=a.date,c=a.max,f=a.rtl,m=a.isNow,v=a.resource,x=a.accessors,_=a.localizer,w=a.getters,N=w.dayProp,E=ii(w,Dz),P=a.components,C=P.eventContainerWrapper,j=P.timeIndicatorWrapper,M=ii(P,zz);this.slotMetrics=this.slotMetrics.update(this.props);var R=this.slotMetrics,A=this.state,F=A.selecting,B=A.top,q=A.height,H=A.startDate,$=A.endDate,V={start:H,end:$},I=N(c,v),U=I.className,ee=I.style,K={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},ce=M.dayColumnWrapper||Mz;return te.createElement(ce,{ref:this.containerRef,date:o,style:ee,className:kt(U,"rbc-day-slot","rbc-time-column",m&&"rbc-now",m&&"rbc-today",F&&"rbc-slot-selecting"),slotMetrics:R,resource:v},R.groups.map(function(_e,de){return te.createElement(ZC,{key:de,group:_e,resource:v,getters:E,components:M})}),te.createElement(C,{localizer:_,resource:v,accessors:x,getters:E,components:M,slotMetrics:R},te.createElement("div",{className:kt("rbc-events-container",f&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),F&&te.createElement("div",{className:"rbc-slot-selection",style:{top:B,height:q}},te.createElement("span",null,_.format(V,"selectRangeFormat"))),m&&this.intervalTriggered&&te.createElement(j,K,te.createElement("div",K)))}}])})(te.Component);VC.defaultProps={dragThroughEvents:!0,timeslots:2};var GC=function(t){var n=t.label;return te.createElement(te.Fragment,null,n)},Rz=(function(e){function t(){var n;Ut(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=xn(this,t,[].concat(o)),n.handleHeaderClick=function(f,m,v){v.preventDefault(),mt(n.props.onDrillDown,[f,m])},n.renderRow=function(f){var m=n.props,v=m.events,x=m.rtl,_=m.selectable,w=m.getNow,N=m.range,E=m.getters,P=m.localizer,C=m.accessors,j=m.components,M=m.resizable,R=C.resourceId(f),A=f?v.filter(function(F){return C.resource(F)===R}):v;return te.createElement(hu,{isAllDay:!0,rtl:x,getNow:w,minRows:2,maxRows:n.props.allDayMaxRows+1,range:N,events:A,resourceId:R,className:"rbc-allday-cell",selectable:_,selected:n.props.selected,components:j,accessors:C,getters:E,localizer:P,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:M})},n}return _n(t,e),Wt(t,[{key:"renderHeaderCells",value:function(a){var o=this,c=this.props,f=c.localizer,m=c.getDrilldownView,v=c.getNow,x=c.getters.dayProp,_=c.components.header,w=_===void 0?sx:_,N=v();return a.map(function(E,P){var C=m(E),j=f.format(E,"dayFormat"),M=x(E),R=M.className,A=M.style,F=te.createElement(w,{date:E,label:j,localizer:f});return te.createElement("div",{key:P,style:A,className:kt("rbc-header",R,f.isSameDate(E,N)&&"rbc-today")},C?te.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(q){return o.handleHeaderClick(E,C,q)}},F):te.createElement("span",null,F))})}},{key:"render",value:function(){var a=this,o=this.props,c=o.width,f=o.rtl,m=o.resources,v=o.range,x=o.events,_=o.getNow,w=o.accessors,N=o.selectable,E=o.components,P=o.getters,C=o.scrollRef,j=o.localizer,M=o.isOverflowing,R=o.components,A=R.timeGutterHeader,F=R.resourceHeader,B=F===void 0?GC:F,q=o.resizable,H={};M&&(H[f?"marginLeft":"marginRight"]="".concat($y()-1,"px"));var $=m.groupEvents(x);return te.createElement("div",{style:H,ref:C,className:kt("rbc-time-header",M&&"rbc-overflowing")},te.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:c,minWidth:c,maxWidth:c}},A&&te.createElement(A,null)),m.map(function(V,I){var U=gr(V,2),ee=U[0],K=U[1];return te.createElement("div",{className:"rbc-time-header-content",key:ee||I},K&&te.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(I)},te.createElement("div",{className:"rbc-header"},te.createElement(B,{index:I,label:w.resourceTitle(K),resource:K}))),te.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(v.length<=1?" rbc-time-header-cell-single-day":"")},a.renderHeaderCells(v)),te.createElement(hu,{isAllDay:!0,rtl:f,getNow:_,minRows:2,maxRows:a.props.allDayMaxRows+1,range:v,events:$.get(ee)||[],resourceId:K&&ee,className:"rbc-allday-cell",selectable:N,selected:a.props.selected,components:E,accessors:w,getters:P,localizer:j,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:q}))}))}}])})(te.Component),Lz=(function(e){function t(){var n;Ut(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=xn(this,t,[].concat(o)),n.handleHeaderClick=function(f,m,v){v.preventDefault(),mt(n.props.onDrillDown,[f,m])},n}return _n(t,e),Wt(t,[{key:"renderHeaderCells",value:function(a){var o=this,c=this.props,f=c.localizer,m=c.getDrilldownView,v=c.getNow,x=c.getters.dayProp,_=c.components,w=_.header,N=w===void 0?sx:w,E=_.resourceHeader,P=E===void 0?GC:E,C=c.resources,j=c.accessors,M=c.events,R=c.rtl,A=c.selectable,F=c.components,B=c.getters,q=c.resizable,H=v(),$=C.groupEvents(M);return a.map(function(V,I){var U=m(V),ee=f.format(V,"dayFormat"),K=x(V),ce=K.className,_e=K.style,de=te.createElement(N,{date:V,label:ee,localizer:f});return te.createElement("div",{key:I,className:"rbc-time-header-content rbc-resource-grouping"},te.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(a.length<=1?" rbc-time-header-cell-single-day":"")},te.createElement("div",{style:_e,className:kt("rbc-header",ce,f.isSameDate(V,H)&&"rbc-today")},U?te.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(Y){return o.handleHeaderClick(V,U,Y)}},de):te.createElement("span",null,de))),te.createElement("div",{className:"rbc-row"},C.map(function(he,Y){var fe=gr(he,2),ne=fe[0],z=fe[1];return te.createElement("div",{key:"resource_".concat(ne,"_").concat(Y),className:kt("rbc-header",ce,f.isSameDate(V,H)&&"rbc-today")},te.createElement(P,{index:Y,label:j.resourceTitle(z),resource:z}))})),te.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},C.map(function(he,Y){var fe=gr(he,2),ne=fe[0],z=fe[1],D=($.get(ne)||[]).filter(function(X){return f.isSameDate(X.start,V)||f.isSameDate(X.end,V)});return te.createElement(hu,{key:"resource_".concat(ne,"_").concat(Y),isAllDay:!0,rtl:R,getNow:v,minRows:2,maxRows:o.props.allDayMaxRows+1,range:[V],events:D,resourceId:z&&ne,className:"rbc-allday-cell",selectable:A,selected:o.props.selected,components:F,accessors:j,getters:B,localizer:f,onSelect:o.props.onSelectEvent,onShowMore:o.props.onShowMore,onDoubleClick:o.props.onDoubleClickEvent,onKeyDown:o.props.onKeyPressEvent,onSelectSlot:o.props.onSelectSlot,longPressThreshold:o.props.longPressThreshold,resizable:q})})))})}},{key:"render",value:function(){var a=this.props,o=a.width,c=a.rtl,f=a.range,m=a.scrollRef,v=a.isOverflowing,x=a.components.timeGutterHeader,_={};return v&&(_[c?"marginLeft":"marginRight"]="".concat($y()-1,"px")),te.createElement("div",{style:_,ref:m,className:kt("rbc-time-header",v&&"rbc-overflowing")},te.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:o,minWidth:o,maxWidth:o}},x&&te.createElement(x,null)),this.renderHeaderCells(f))}}])})(te.Component);function Az(e){var t=e.min,n=e.max,a=e.localizer;return a.getTimezoneOffset(t)!==a.getTimezoneOffset(n)?{start:a.add(t,-1,"day"),end:a.add(n,-1,"day")}:{start:t,end:n}}var Iz=function(t){var n=t.min,a=t.max,o=t.timeslots,c=t.step,f=t.localizer,m=t.getNow,v=t.resource,x=t.components,_=t.getters,w=t.gutterRef,N=x.timeGutterWrapper,E=O.useMemo(function(){return Az({min:n,max:a,localizer:f})},[n?.toISOString(),a?.toISOString(),f]),P=E.start,C=E.end,j=O.useState(ox({min:P,max:C,timeslots:o,step:c,localizer:f})),M=gr(j,2),R=M[0],A=M[1];O.useEffect(function(){R&&A(R.update({min:P,max:C,timeslots:o,step:c,localizer:f}))},[P?.toISOString(),C?.toISOString(),o,c]);var F=O.useCallback(function(B,q){if(q)return null;var H=R.dateIsInGroup(m(),q);return te.createElement("span",{className:kt("rbc-label",H&&"rbc-now")},f.format(B,"timeGutterFormat"))},[R,f,m]);return te.createElement(N,{slotMetrics:R},te.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:w},R.groups.map(function(B,q){return te.createElement(ZC,{key:q,group:B,resource:v,components:x,renderSlot:F,getters:_})})))},Fz=te.forwardRef(function(e,t){return te.createElement(Iz,Object.assign({gutterRef:t},e))}),qg={};function $z(e,t){return{map:function(a){return e?e.map(function(o,c){return a([t.resourceId(o),o],c)}):[a([qg,null],0)]},groupEvents:function(a){var o=new Map;return e?(a.forEach(function(c){var f=t.resource(c)||qg;if(Array.isArray(f))f.forEach(function(v){var x=o.get(v)||[];x.push(c),o.set(v,x)});else{var m=o.get(f)||[];m.push(c),o.set(f,m)}}),o):(o.set(qg,a),o)}}}var $o=(function(e){function t(n){var a;return Ut(this,t),a=xn(this,t,[n]),a.handleScroll=function(o){a.scrollRef.current&&(a.scrollRef.current.scrollLeft=o.target.scrollLeft)},a.handleResize=function(){lw(a.rafHandle),a.rafHandle=nC(a.checkOverflow)},a.handleKeyPressEvent=function(){a.clearSelection();for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];mt(a.props.onKeyPressEvent,c)},a.handleSelectEvent=function(){a.clearSelection();for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];mt(a.props.onSelectEvent,c)},a.handleDoubleClickEvent=function(){a.clearSelection();for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];mt(a.props.onDoubleClickEvent,c)},a.handleShowMore=function(o,c,f,m,v){var x=a.props,_=x.popup,w=x.onDrillDown,N=x.onShowMore,E=x.getDrilldownView,P=x.doShowMoreDrillDown;if(a.clearSelection(),_){var C=tC(f,a.containerRef.current);a.setState({overlay:{date:c,events:o,position:ct(ct({},C),{},{width:"200px"}),target:v}})}else P&&mt(w,[c,E(c)||En.DAY]);mt(N,[o,c,m])},a.handleSelectAllDaySlot=function(o,c){var f=a.props.onSelectSlot,m=new Date(o[0]),v=new Date(o[o.length-1]);v.setDate(o[o.length-1].getDate()+1),mt(f,{slots:o,start:m,end:v,action:c.action,resourceId:c.resourceId})},a.overlayDisplay=function(){a.setState({overlay:null})},a.checkOverflow=function(){if(!a._updatingOverflow){var o=a.contentRef.current;if(o!=null&&o.scrollHeight){var c=o.scrollHeight>o.clientHeight;a.state.isOverflowing!==c&&(a._updatingOverflow=!0,a.setState({isOverflowing:c},function(){a._updatingOverflow=!1}))}}},a.memoizedResources=bC(function(o,c){return $z(o,c)}),a.state={gutterWidth:void 0,isOverflowing:null},a.scrollRef=te.createRef(),a.contentRef=te.createRef(),a.containerRef=te.createRef(),a._scrollRatio=null,a.gutterRef=O.createRef(),a}return _n(t,e),Wt(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),lw(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(a,o,c,f,m,v,x,_,w,N){var E=this.props,P=E.min,C=E.max,j=(f.get(o)||[]).filter(function(R){return v.inRange(a,x.start(R),x.end(R),"day")}),M=(m.get(o)||[]).filter(function(R){return v.inRange(a,x.start(R),x.end(R),"day")});return te.createElement(VC,Object.assign({},this.props,{localizer:v,min:v.merge(a,P),max:v.merge(a,C),resource:c&&o,components:_,isNow:v.isSameDate(a,N),key:"".concat(o,"-").concat(a),date:a,events:j,backgroundEvents:M,dayLayoutAlgorithm:w}))}},{key:"renderResourcesFirst",value:function(a,o,c,f,m,v,x,_,w){var N=this;return o.map(function(E){var P=gr(E,2),C=P[0],j=P[1];return a.map(function(M){return N.renderDayColumn(M,C,j,c,f,m,v,_,w,x)})})}},{key:"renderRangeFirst",value:function(a,o,c,f,m,v,x,_,w){var N=this;return a.map(function(E){return te.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:E},o.map(function(P){var C=gr(P,2),j=C[0],M=C[1];return te.createElement("div",{style:{flex:1},key:v.resourceId(M)},N.renderDayColumn(E,j,M,c,f,m,v,_,w,x))}))})}},{key:"renderEvents",value:function(a,o,c,f){var m=this.props,v=m.accessors,x=m.localizer,_=m.resourceGroupingLayout,w=m.components,N=m.dayLayoutAlgorithm,E=this.memoizedResources(this.props.resources,v),P=E.groupEvents(o),C=E.groupEvents(c);return _?this.renderRangeFirst(a,E,P,C,x,v,f,w,N):this.renderResourcesFirst(a,E,P,C,x,v,f,w,N)}},{key:"render",value:function(){var a,o=this.props,c=o.events,f=o.backgroundEvents,m=o.range,v=o.width,x=o.rtl,_=o.selected,w=o.getNow,N=o.resources,E=o.components,P=o.accessors,C=o.getters,j=o.localizer,M=o.min,R=o.max,A=o.showMultiDayTimes,F=o.longPressThreshold,B=o.resizable,q=o.resourceGroupingLayout;v=v||this.state.gutterWidth;var H=m[0],$=m[m.length-1];this.slots=m.length;var V=[],I=[],U=[];c.forEach(function(K){if(fu(K,H,$,P,j)){var ce=P.start(K),_e=P.end(K);P.allDay(K)||j.startAndEndAreDateOnly(ce,_e)||!A&&!j.isSameDate(ce,_e)?V.push(K):I.push(K)}}),f.forEach(function(K){fu(K,H,$,P,j)&&U.push(K)}),V.sort(function(K,ce){return oy(K,ce,P,j)});var ee={range:m,events:V,width:v,rtl:x,getNow:w,localizer:j,selected:_,allDayMaxRows:this.props.showAllEvents?1/0:(a=this.props.allDayMaxRows)!==null&&a!==void 0?a:1/0,resources:this.memoizedResources(N,P),selectable:this.props.selectable,accessors:P,getters:C,components:E,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:F,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:B};return te.createElement("div",{className:kt("rbc-time-view",N&&"rbc-time-view-resources"),ref:this.containerRef},N&&N.length>1&&q?te.createElement(Lz,ee):te.createElement(Rz,ee),this.props.popup&&this.renderOverlay(),te.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},te.createElement(Fz,{date:H,ref:this.gutterRef,localizer:j,min:j.merge(H,M),max:j.merge(H,R),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:E,className:"rbc-time-gutter",getters:C}),this.renderEvents(m,I,U,w())))}},{key:"renderOverlay",value:function(){var a,o,c=this,f=(a=(o=this.state)===null||o===void 0?void 0:o.overlay)!==null&&a!==void 0?a:{},m=this.props,v=m.accessors,x=m.localizer,_=m.components,w=m.getters,N=m.selected,E=m.popupOffset,P=m.handleDragStart,C=function(){return c.setState({overlay:null})};return te.createElement(ax,{overlay:f,accessors:v,localizer:x,components:_,getters:w,selected:N,popupOffset:E,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:P,show:!!f.position,overlayDisplay:this.overlayDisplay,onHide:C})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var a=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var o,c=(o=a.gutterRef)!==null&&o!==void 0&&o.current?iy(a.gutterRef.current):void 0;c&&a.state.gutterWidth!==c&&a.setState({gutterWidth:c})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var a=this.contentRef.current;a.scrollTop=a.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=a.min,c=a.max,f=a.scrollToTime,m=a.localizer,v=m.diff(m.merge(f,o),f,"milliseconds"),x=m.diff(o,c,"milliseconds");this._scrollRatio=v/x}}])})(O.Component);$o.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var Bz=["date","localizer","min","max","scrollToTime","enableAutoScroll"],lf=(function(e){function t(){return Ut(this,t),xn(this,t,arguments)}return _n(t,e),Wt(t,[{key:"render",value:function(){var a=this.props,o=a.date,c=a.localizer,f=a.min,m=f===void 0?c.startOf(new Date,"day"):f,v=a.max,x=v===void 0?c.endOf(new Date,"day"):v,_=a.scrollToTime,w=_===void 0?c.startOf(new Date,"day"):_,N=a.enableAutoScroll,E=N===void 0?!0:N,P=ii(a,Bz),C=t.range(o,{localizer:c});return te.createElement($o,Object.assign({},P,{range:C,eventOffset:10,localizer:c,min:m,max:x,scrollToTime:w,enableAutoScroll:E}))}}])})(te.Component);lf.range=function(e,t){var n=t.localizer;return[n.startOf(e,"day")]};lf.navigate=function(e,t,n){var a=n.localizer;switch(t){case $n.PREVIOUS:return a.add(e,-1,"day");case $n.NEXT:return a.add(e,1,"day");default:return e}};lf.title=function(e,t){var n=t.localizer;return n.format(e,"dayHeaderFormat")};var qz=["date","localizer","min","max","scrollToTime","enableAutoScroll"],za=(function(e){function t(){return Ut(this,t),xn(this,t,arguments)}return _n(t,e),Wt(t,[{key:"render",value:function(){var a=this.props,o=a.date,c=a.localizer,f=a.min,m=f===void 0?c.startOf(new Date,"day"):f,v=a.max,x=v===void 0?c.endOf(new Date,"day"):v,_=a.scrollToTime,w=_===void 0?c.startOf(new Date,"day"):_,N=a.enableAutoScroll,E=N===void 0?!0:N,P=ii(a,qz),C=t.range(o,this.props);return te.createElement($o,Object.assign({},P,{range:C,eventOffset:15,localizer:c,min:m,max:x,scrollToTime:w,enableAutoScroll:E}))}}])})(te.Component);za.defaultProps=$o.defaultProps;za.navigate=function(e,t,n){var a=n.localizer;switch(t){case $n.PREVIOUS:return a.add(e,-1,"week");case $n.NEXT:return a.add(e,1,"week");default:return e}};za.range=function(e,t){var n=t.localizer,a=n.startOfWeek(),o=n.startOf(e,"week",a),c=n.endOf(e,"week",a);return n.range(o,c)};za.title=function(e,t){var n=t.localizer,a=za.range(e,{localizer:n}),o=jC(a),c=o[0],f=o.slice(1);return n.format({start:c,end:f.pop()},"dayRangeHeaderFormat")};var Uz=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function lx(e,t){return za.range(e,t).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var ku=(function(e){function t(){return Ut(this,t),xn(this,t,arguments)}return _n(t,e),Wt(t,[{key:"render",value:function(){var a=this.props,o=a.date,c=a.localizer,f=a.min,m=f===void 0?c.startOf(new Date,"day"):f,v=a.max,x=v===void 0?c.endOf(new Date,"day"):v,_=a.scrollToTime,w=_===void 0?c.startOf(new Date,"day"):_,N=a.enableAutoScroll,E=N===void 0?!0:N,P=ii(a,Uz),C=lx(o,this.props);return te.createElement($o,Object.assign({},P,{range:C,eventOffset:15,localizer:c,min:m,max:x,scrollToTime:w,enableAutoScroll:E}))}}])})(te.Component);ku.defaultProps=$o.defaultProps;ku.range=lx;ku.navigate=za.navigate;ku.title=function(e,t){var n=t.localizer,a=lx(e,{localizer:n}),o=jC(a),c=o[0],f=o.slice(1);return n.format({start:c,end:f.pop()},"dayRangeHeaderFormat")};var uf=30;function cf(e){var t=e.accessors,n=e.components,a=e.date,o=e.events,c=e.getters,f=e.length,m=f===void 0?uf:f,v=e.localizer,x=e.onDoubleClickEvent,_=e.onSelectEvent,w=e.selected,N=O.useRef(null),E=O.useRef(null),P=O.useRef(null),C=O.useRef(null),j=O.useRef(null);O.useEffect(function(){A()});var M=function($,V,I){var U=n.event,ee=n.date;return V=V.filter(function(K){return fu(K,v.startOf($,"day"),v.endOf($,"day"),t,v)}),V.map(function(K,ce){var _e=t.title(K),de=t.end(K),he=t.start(K),Y=c.eventProp(K,he,de,sf(K,w)),fe=ce===0&&v.format($,"agendaDateFormat"),ne=ce===0?te.createElement("td",{rowSpan:V.length,className:"rbc-agenda-date-cell"},ee?te.createElement(ee,{day:$,label:fe}):fe):!1;return te.createElement("tr",{key:I+"_"+ce,className:Y.className,style:Y.style},ne,te.createElement("td",{className:"rbc-agenda-time-cell"},R($,K)),te.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(D){return _&&_(K,D)},onDoubleClick:function(D){return x&&x(K,D)}},U?te.createElement(U,{event:K,title:_e}):_e))},[])},R=function($,V){var I="",U=n.time,ee=v.messages.allDay,K=t.end(V),ce=t.start(V);return t.allDay(V)||(v.eq(ce,K)?ee=v.format(ce,"agendaTimeFormat"):v.isSameDate(ce,K)?ee=v.format({start:ce,end:K},"agendaTimeRangeFormat"):v.isSameDate($,ce)?ee=v.format(ce,"agendaTimeFormat"):v.isSameDate($,K)&&(ee=v.format(K,"agendaTimeFormat"))),v.gt($,ce,"day")&&(I="rbc-continues-prior"),v.lt($,K,"day")&&(I+=" rbc-continues-after"),te.createElement("span",{className:I.trim()},U?te.createElement(U,{event:V,day:$,label:ee}):ee)},A=function(){if(j.current){var $=N.current,V=j.current.firstChild;if(V){var I=C.current.scrollHeight>C.current.clientHeight,U=[],ee=U;U=[iy(V.children[0]),iy(V.children[1])],(ee[0]!==U[0]||ee[1]!==U[1])&&(E.current.style.width=U[0]+"px",P.current.style.width=U[1]+"px"),I?(UO($,"rbc-header-overflowing"),$.style.marginRight=$y()+"px"):WO($,"rbc-header-overflowing")}}},F=v.messages,B=v.add(a,m,"day"),q=v.range(a,B,"day");return o=o.filter(function(H){return fu(H,v.startOf(a,"day"),v.endOf(B,"day"),t,v)}),o.sort(function(H,$){return+t.start(H)-+t.start($)}),te.createElement("div",{className:"rbc-agenda-view"},o.length!==0?te.createElement(te.Fragment,null,te.createElement("table",{ref:N,className:"rbc-agenda-table"},te.createElement("thead",null,te.createElement("tr",null,te.createElement("th",{className:"rbc-header",ref:E},F.date),te.createElement("th",{className:"rbc-header",ref:P},F.time),te.createElement("th",{className:"rbc-header"},F.event)))),te.createElement("div",{className:"rbc-agenda-content",ref:C},te.createElement("table",{className:"rbc-agenda-table"},te.createElement("tbody",{ref:j},q.map(function(H,$){return M(H,o,$)}))))):te.createElement("span",{className:"rbc-agenda-empty"},F.noEventsInRange))}cf.range=function(e,t){var n=t.length,a=n===void 0?uf:n,o=t.localizer,c=o.add(e,a,"day");return{start:e,end:c}};cf.navigate=function(e,t,n){var a=n.length,o=a===void 0?uf:a,c=n.localizer;switch(t){case $n.PREVIOUS:return c.add(e,-o,"day");case $n.NEXT:return c.add(e,o,"day");default:return e}};cf.title=function(e,t){var n=t.length,a=n===void 0?uf:n,o=t.localizer,c=o.add(e,a,"day");return o.format({start:e,end:c},"agendaHeaderFormat")};var xd=vs(vs(vs(vs(vs({},En.MONTH,of),En.WEEK,za),En.WORK_WEEK,ku),En.DAY,lf),En.AGENDA,cf),Wz=["action","date","today"];function Hz(e,t){var n=t.action,a=t.date,o=t.today,c=ii(t,Wz);switch(e=typeof e=="string"?xd[e]:e,n){case $n.TODAY:a=o||new Date;break;case $n.DATE:break;default:eu(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),a=e.navigate(a,n,c)}return a}function Yz(e,t){var n=null;return typeof t=="function"?n=t(e):typeof t=="string"&&Bi(e)==="object"&&e!=null&&t in e&&(n=e[t]),n}var zi=function(t){return function(n){return Yz(n,t)}},Zz=["view","date","getNow","onNavigate"],Vz=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function KC(e){if(Array.isArray(e))return e;for(var t=[],n=0,a=Object.entries(e);n<a.length;n++){var o=gr(a[n],2),c=o[0],f=o[1];f&&t.push(c)}return t}function Gz(e,t){var n=t.views,a=KC(n);return a.indexOf(e)!==-1}var XC=(function(e){function t(){var n;Ut(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=xn(this,t,[].concat(o)),n.getViews=function(){var f=n.props.views;return Array.isArray(f)?g2(f,function(m,v){return m[v]=xd[v]},{}):Bi(f)==="object"?$D(f,function(m,v){return m===!0?xd[v]:m}):xd},n.getView=function(){var f=n.getViews();return f[n.props.view]},n.getDrilldownView=function(f){var m=n.props,v=m.view,x=m.drilldownView,_=m.getDrilldownView;return _?_(f,v,Object.keys(n.getViews())):x},n.handleRangeChange=function(f,m,v){var x=n.props,_=x.onRangeChange,w=x.localizer;_&&m.range&&_(m.range(f,{localizer:w}),v)},n.handleNavigate=function(f,m){var v=n.props,x=v.view,_=v.date,w=v.getNow,N=v.onNavigate,E=ii(v,Zz),P=n.getView(),C=w();_=Hz(P,ct(ct({},E),{},{action:f,date:m||_||C,today:C})),N(_,x,f),n.handleRangeChange(_,P)},n.handleViewChange=function(f){f!==n.props.view&&Gz(f,n.props)&&n.props.onView(f);var m=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),m[f],f)},n.handleSelectEvent=function(){for(var f=arguments.length,m=new Array(f),v=0;v<f;v++)m[v]=arguments[v];mt(n.props.onSelectEvent,m)},n.handleDoubleClickEvent=function(){for(var f=arguments.length,m=new Array(f),v=0;v<f;v++)m[v]=arguments[v];mt(n.props.onDoubleClickEvent,m)},n.handleKeyPressEvent=function(){for(var f=arguments.length,m=new Array(f),v=0;v<f;v++)m[v]=arguments[v];mt(n.props.onKeyPressEvent,m)},n.handleSelectSlot=function(f){mt(n.props.onSelectSlot,f)},n.handleDrillDown=function(f,m){var v=n.props.onDrillDown;if(v){v(f,m,n.drilldownView);return}m&&n.handleViewChange(m),n.handleNavigate($n.DATE,f)},n.state={context:t.getContext(n.props)},n}return _n(t,e),Wt(t,[{key:"render",value:function(){var a=this.props,o=a.view,c=a.toolbar,f=a.events,m=a.backgroundEvents,v=a.resourceGroupingLayout,x=a.style,_=a.className,w=a.elementProps,N=a.date,E=a.getNow,P=a.length,C=a.showMultiDayTimes,j=a.onShowMore,M=a.doShowMoreDrillDown;a.components,a.formats,a.messages,a.culture;var R=ii(a,Vz);N=N||E();var A=this.getView(),F=this.state.context,B=F.accessors,q=F.components,H=F.getters,$=F.localizer,V=F.viewNames,I=q.toolbar||J2,U=A.title(N,{localizer:$,length:P});return te.createElement("div",Object.assign({},w,{className:kt(_,"rbc-calendar",R.rtl&&"rbc-rtl"),style:x}),c&&te.createElement(I,{date:N,view:o,views:V,label:U,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:$}),te.createElement(A,Object.assign({},R,{events:f,backgroundEvents:m,date:N,getNow:E,length:P,localizer:$,getters:H,components:q,accessors:B,showMultiDayTimes:C,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:j,doShowMoreDrillDown:M,resourceGroupingLayout:v})))}}],[{key:"getDerivedStateFromProps",value:function(a){return{context:t.getContext(a)}}},{key:"getContext",value:function(a){var o=a.startAccessor,c=a.endAccessor,f=a.allDayAccessor,m=a.tooltipAccessor,v=a.titleAccessor,x=a.resourceAccessor,_=a.resourceIdAccessor,w=a.resourceTitleAccessor,N=a.eventIdAccessor,E=a.eventPropGetter,P=a.backgroundEventPropGetter,C=a.slotPropGetter,j=a.slotGroupPropGetter,M=a.dayPropGetter,R=a.view,A=a.views,F=a.localizer,B=a.culture,q=a.messages,H=q===void 0?{}:q,$=a.components,V=$===void 0?{}:$,I=a.formats,U=I===void 0?{}:I,ee=KC(A),K=ez(H);return{viewNames:ee,localizer:X2(F,B,U,K),getters:{eventProp:function(){return E&&E.apply(void 0,arguments)||{}},backgroundEventProp:function(){return P&&P.apply(void 0,arguments)||{}},slotProp:function(){return C&&C.apply(void 0,arguments)||{}},slotGroupProp:function(){return j&&j.apply(void 0,arguments)||{}},dayProp:function(){return M&&M.apply(void 0,arguments)||{}}},components:AD(V[R]||{},p2(V,ee),{eventWrapper:ei,backgroundEventWrapper:ei,eventContainerWrapper:ei,dateCellWrapper:ei,weekWrapper:ei,timeSlotWrapper:ei,timeGutterWrapper:ei,timeIndicatorWrapper:ei}),accessors:{start:zi(o),end:zi(c),allDay:zi(f),tooltip:zi(m),title:zi(v),resource:zi(x),resourceId:zi(_),resourceTitle:zi(w),eventId:zi(N)}}}}])})(te.Component);XC.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:En.MONTH,views:[En.MONTH,En.WEEK,En.DAY,En.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:En.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Kz=FN(XC,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Xz=function(t,n,a){var o=t.start,c=t.end;return a.format(o,"MMMM DD",n)+" – "+a.format(c,a.eq(o,c,"month")?"DD":"MMMM DD",n)},Jz=function(t,n,a){var o=t.start,c=t.end;return a.format(o,"L",n)+" – "+a.format(c,"L",n)},Ug=function(t,n,a){var o=t.start,c=t.end;return a.format(o,"LT",n)+" – "+a.format(c,"LT",n)},Qz=function(t,n,a){var o=t.start;return a.format(o,"LT",n)+" – "},eR=function(t,n,a){var o=t.end;return" – "+a.format(o,"LT",n)},tR={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:Ug,eventTimeRangeFormat:Ug,eventTimeRangeStartFormat:Qz,eventTimeRangeEndFormat:eR,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:Xz,agendaHeaderFormat:Jz,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:Ug};function Pa(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function nR(e){var t=function(D,X){return X?D.locale(X):D};function n(z){return e(z).toDate().getTimezoneOffset()}function a(z,D){var X,re,oe=e(z).local(),Q=e(D).local();if(!e.tz)return oe.toDate().getTimezoneOffset()-Q.toDate().getTimezoneOffset();var me=(X=oe==null||(re=oe._z)===null||re===void 0?void 0:re.name)!==null&&X!==void 0?X:e.tz.guess(),ye=e.tz.zone(me).utcOffset(+oe),pe=e.tz.zone(me).utcOffset(+Q);return ye-pe}function o(z){var D=e(z).startOf("day");return a(D,z)}function c(z,D,X){var re=Pa(X),oe=re?e(z).startOf(re):e(z),Q=re?e(D).startOf(re):e(D);return[oe,Q,re]}function f(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,D=arguments.length>1?arguments[1]:void 0,X=Pa(D);return X?e(z).startOf(X).toDate():e(z).toDate()}function m(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,D=arguments.length>1?arguments[1]:void 0,X=Pa(D);return X?e(z).endOf(X).toDate():e(z).toDate()}function v(z,D,X){var re=c(z,D,X),oe=gr(re,3),Q=oe[0],me=oe[1],ye=oe[2];return Q.isSame(me,ye)}function x(z,D,X){return!v(z,D,X)}function _(z,D,X){var re=c(z,D,X),oe=gr(re,3),Q=oe[0],me=oe[1],ye=oe[2];return Q.isAfter(me,ye)}function w(z,D,X){var re=c(z,D,X),oe=gr(re,3),Q=oe[0],me=oe[1],ye=oe[2];return Q.isBefore(me,ye)}function N(z,D,X){var re=c(z,D,X),oe=gr(re,3),Q=oe[0],me=oe[1],ye=oe[2];return Q.isSameOrBefore(me,ye)}function E(z,D,X){var re=c(z,D,X),oe=gr(re,3),Q=oe[0],me=oe[1],ye=oe[2];return Q.isSameOrBefore(me,ye)}function P(z,D,X){var re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",oe=Pa(re),Q=e(z),me=e(D),ye=e(X);return Q.isBetween(me,ye,oe,"[]")}function C(z,D){var X=e(z),re=e(D),oe=e.min(X,re);return oe.toDate()}function j(z,D){var X=e(z),re=e(D),oe=e.max(X,re);return oe.toDate()}function M(z,D){if(!z&&!D)return null;var X=e(D).format("HH:mm:ss"),re=e(z).startOf("day").format("MM/DD/YYYY");return e("".concat(re," ").concat(X),"MM/DD/YYYY HH:mm:ss").toDate()}function R(z,D,X){var re=Pa(X);return e(z).add(D,re).toDate()}function A(z,D){for(var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",re=Pa(X),oe=e(z).toDate(),Q=[];E(oe,D);)Q.push(oe),oe=R(oe,1,re);return Q}function F(z,D){var X=Pa(D),re=f(z,X);return v(re,z)?re:R(re,1,X)}function B(z,D){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",re=Pa(X),oe=e(z),Q=e(D);return Q.diff(oe,re)}function q(z){var D=e(z);return D.minutes()}function H(z){var D=z?e.localeData(z):e.localeData();return D?D.firstDayOfWeek():0}function $(z){return e(z).startOf("month").startOf("week").toDate()}function V(z){return e(z).endOf("month").endOf("week").toDate()}function I(z){for(var D=$(z),X=V(z),re=[];E(D,X);)re.push(D),D=R(D,1,"d");return re}function U(z,D,X){return e(z).startOf("day").minute(D+X).toDate()}function ee(z,D){return B(z,D,"minutes")}function K(z){var D=e(z).startOf("day"),X=e(z);return X.diff(D,"minutes")+o(z)}function ce(z,D){var X=e(z),re=e(D);return X.isBefore(re,"day")}function _e(z,D,X){var re=e(D),oe=e(X);return re.isSameOrAfter(oe,"minutes")}function de(z,D){var X=e(z),re=e(D),oe=e.duration(re.diff(X));return oe.days()}function he(z){var D=z.evtA,X=D.start,re=D.end,oe=D.allDay,Q=z.evtB,me=Q.start,ye=Q.end,pe=Q.allDay,Se=+f(X,"day")-+f(me,"day"),De=de(X,re),Ze=de(me,ye);return Se||Ze-De||!!pe-!!oe||+X-+me||+re-+ye}function Y(z){var D=z.event,X=D.start,re=D.end,oe=z.range,Q=oe.start,me=oe.end,ye=e(X).startOf("day"),pe=e(re),Se=e(Q),De=e(me),Ze=ye.isSameOrBefore(De,"day"),Qe=!ye.isSame(pe,"minutes"),Ht=Qe?pe.isAfter(Se,"minutes"):pe.isSameOrAfter(Se,"minutes");return Ze&&Ht}function fe(z,D){var X=e(z),re=e(D);return X.isSame(re,"day")}function ne(){var z=new Date,D=/-/.test(z.toString())?"-":"",X=z.getTimezoneOffset(),re=Number("".concat(D).concat(Math.abs(X))),oe=e().utcOffset();return oe>re?1:0}return new K2({formats:tR,firstOfWeek:H,firstVisibleDay:$,lastVisibleDay:V,visibleDays:I,format:function(D,X,re){return t(e(D),re).format(X)},lt:w,lte:E,gt:_,gte:N,eq:v,neq:x,merge:M,inRange:P,startOf:f,endOf:m,range:A,add:R,diff:B,ceil:F,min:C,max:j,minutes:q,getSlotDate:U,getTimezoneOffset:n,getDstOffset:a,getTotalMin:ee,getMinutesFromMidnight:K,continuesPrior:ce,continuesAfter:_e,sortEvents:he,inEventRange:Y,isSameDate:fe,daySpan:de,browserTZOffset:ne})}function rR(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var JC;function je(){return JC.apply(null,arguments)}function iR(e){JC=e}function Ir(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function _s(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function it(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ux(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(it(e,t))return!1;return!0}function An(e){return e===void 0}function Ui(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Tu(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function QC(e,t){var n=[],a,o=e.length;for(a=0;a<o;++a)n.push(t(e[a],a));return n}function ka(e,t){for(var n in t)it(t,n)&&(e[n]=t[n]);return it(t,"toString")&&(e.toString=t.toString),it(t,"valueOf")&&(e.valueOf=t.valueOf),e}function li(e,t,n,a){return bE(e,t,n,a,!0).utc()}function aR(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ge(e){return e._pf==null&&(e._pf=aR()),e._pf}var uy;Array.prototype.some?uy=Array.prototype.some:uy=function(e){var t=Object(this),n=t.length>>>0,a;for(a=0;a<n;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};function cx(e){var t=null,n=!1,a=e._d&&!isNaN(e._d.getTime());if(a&&(t=Ge(e),n=uy.call(t.parsedDateParts,function(o){return o!=null}),a=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(a=a&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=a;else return a;return e._isValid}function df(e){var t=li(NaN);return e!=null?ka(Ge(t),e):Ge(t).userInvalidated=!0,t}var KS=je.momentProperties=[],Wg=!1;function dx(e,t){var n,a,o,c=KS.length;if(An(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),An(t._i)||(e._i=t._i),An(t._f)||(e._f=t._f),An(t._l)||(e._l=t._l),An(t._strict)||(e._strict=t._strict),An(t._tzm)||(e._tzm=t._tzm),An(t._isUTC)||(e._isUTC=t._isUTC),An(t._offset)||(e._offset=t._offset),An(t._pf)||(e._pf=Ge(t)),An(t._locale)||(e._locale=t._locale),c>0)for(n=0;n<c;n++)a=KS[n],o=t[a],An(o)||(e[a]=o);return e}function Ou(e){dx(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Wg===!1&&(Wg=!0,je.updateOffset(this),Wg=!1)}function Fr(e){return e instanceof Ou||e!=null&&e._isAMomentObject!=null}function eE(e){je.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function wr(e,t){var n=!0;return ka(function(){if(je.deprecationHandler!=null&&je.deprecationHandler(null,e),n){var a=[],o,c,f,m=arguments.length;for(c=0;c<m;c++){if(o="",typeof arguments[c]=="object"){o+=`
[`+c+"] ";for(f in arguments[0])it(arguments[0],f)&&(o+=f+": "+arguments[0][f]+", ");o=o.slice(0,-2)}else o=arguments[c];a.push(o)}eE(e+`
Arguments: `+Array.prototype.slice.call(a).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var XS={};function tE(e,t){je.deprecationHandler!=null&&je.deprecationHandler(e,t),XS[e]||(eE(t),XS[e]=!0)}je.suppressDeprecationWarnings=!1;je.deprecationHandler=null;function ui(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function sR(e){var t,n;for(n in e)it(e,n)&&(t=e[n],ui(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function cy(e,t){var n=ka({},e),a;for(a in t)it(t,a)&&(_s(e[a])&&_s(t[a])?(n[a]={},ka(n[a],e[a]),ka(n[a],t[a])):t[a]!=null?n[a]=t[a]:delete n[a]);for(a in e)it(e,a)&&!it(t,a)&&_s(e[a])&&(n[a]=ka({},n[a]));return n}function fx(e){e!=null&&this.set(e)}var dy;Object.keys?dy=Object.keys:dy=function(e){var t,n=[];for(t in e)it(e,t)&&n.push(t);return n};var oR={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function lR(e,t,n){var a=this._calendar[e]||this._calendar.sameElse;return ui(a)?a.call(t,n):a}function ai(e,t,n){var a=""+Math.abs(e),o=t-a.length,c=e>=0;return(c?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+a}var hx=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,id=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Hg={},No={};function Ae(e,t,n,a){var o=a;typeof a=="string"&&(o=function(){return this[a]()}),e&&(No[e]=o),t&&(No[t[0]]=function(){return ai(o.apply(this,arguments),t[1],t[2])}),n&&(No[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function uR(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function cR(e){var t=e.match(hx),n,a;for(n=0,a=t.length;n<a;n++)No[t[n]]?t[n]=No[t[n]]:t[n]=uR(t[n]);return function(o){var c="",f;for(f=0;f<a;f++)c+=ui(t[f])?t[f].call(o,e):t[f];return c}}function _d(e,t){return e.isValid()?(t=nE(t,e.localeData()),Hg[t]=Hg[t]||cR(t),Hg[t](e)):e.localeData().invalidDate()}function nE(e,t){var n=5;function a(o){return t.longDateFormat(o)||o}for(id.lastIndex=0;n>=0&&id.test(e);)e=e.replace(id,a),id.lastIndex=0,n-=1;return e}var dR={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function fR(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(hx).map(function(a){return a==="MMMM"||a==="MM"||a==="DD"||a==="dddd"?a.slice(1):a}).join(""),this._longDateFormat[e])}var hR="Invalid date";function pR(){return this._invalidDate}var mR="%d",vR=/\d{1,2}/;function gR(e){return this._ordinal.replace("%d",e)}var yR={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function xR(e,t,n,a){var o=this._relativeTime[n];return ui(o)?o(e,t,n,a):o.replace(/%d/i,e)}function _R(e,t){var n=this._relativeTime[e>0?"future":"past"];return ui(n)?n(t):n.replace(/%s/i,t)}var JS={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function br(e){return typeof e=="string"?JS[e]||JS[e.toLowerCase()]:void 0}function px(e){var t={},n,a;for(a in e)it(e,a)&&(n=br(a),n&&(t[n]=e[a]));return t}var wR={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function bR(e){var t=[],n;for(n in e)it(e,n)&&t.push({unit:n,priority:wR[n]});return t.sort(function(a,o){return a.priority-o.priority}),t}var rE=/\d/,er=/\d\d/,iE=/\d{3}/,mx=/\d{4}/,ff=/[+-]?\d{6}/,gt=/\d\d?/,aE=/\d\d\d\d?/,sE=/\d\d\d\d\d\d?/,hf=/\d{1,3}/,vx=/\d{1,4}/,pf=/[+-]?\d{1,6}/,Bo=/\d+/,mf=/[+-]?\d+/,SR=/Z|[+-]\d\d:?\d\d/gi,vf=/Z|[+-]\d\d(?::?\d\d)?/gi,NR=/[+-]?\d+(\.\d{1,3})?/,Mu=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,qo=/^[1-9]\d?/,gx=/^([1-9]\d|\d)/,zd;zd={};function Te(e,t,n){zd[e]=ui(t)?t:function(a,o){return a&&n?n:t}}function CR(e,t){return it(zd,e)?zd[e](t._strict,t._locale):new RegExp(ER(e))}function ER(e){return Fi(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,a,o,c){return n||a||o||c}))}function Fi(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function vr(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Je(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=vr(t)),n}var fy={};function ut(e,t){var n,a=t,o;for(typeof e=="string"&&(e=[e]),Ui(t)&&(a=function(c,f){f[t]=Je(c)}),o=e.length,n=0;n<o;n++)fy[e[n]]=a}function Du(e,t){ut(e,function(n,a,o,c){o._w=o._w||{},t(n,o._w,o,c)})}function PR(e,t,n){t!=null&&it(fy,e)&&fy[e](t,n._a,n,e)}function gf(e){return e%4===0&&e%100!==0||e%400===0}var mn=0,Ai=1,ti=2,Bt=3,Lr=4,Ii=5,gs=6,jR=7,kR=8;Ae("Y",0,0,function(){var e=this.year();return e<=9999?ai(e,4):"+"+e});Ae(0,["YY",2],0,function(){return this.year()%100});Ae(0,["YYYY",4],0,"year");Ae(0,["YYYYY",5],0,"year");Ae(0,["YYYYYY",6,!0],0,"year");Te("Y",mf);Te("YY",gt,er);Te("YYYY",vx,mx);Te("YYYYY",pf,ff);Te("YYYYYY",pf,ff);ut(["YYYYY","YYYYYY"],mn);ut("YYYY",function(e,t){t[mn]=e.length===2?je.parseTwoDigitYear(e):Je(e)});ut("YY",function(e,t){t[mn]=je.parseTwoDigitYear(e)});ut("Y",function(e,t){t[mn]=parseInt(e,10)});function Xl(e){return gf(e)?366:365}je.parseTwoDigitYear=function(e){return Je(e)+(Je(e)>68?1900:2e3)};var oE=Uo("FullYear",!0);function TR(){return gf(this.year())}function Uo(e,t){return function(n){return n!=null?(lE(this,e,n),je.updateOffset(this,t),this):pu(this,e)}}function pu(e,t){if(!e.isValid())return NaN;var n=e._d,a=e._isUTC;switch(t){case"Milliseconds":return a?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return a?n.getUTCSeconds():n.getSeconds();case"Minutes":return a?n.getUTCMinutes():n.getMinutes();case"Hours":return a?n.getUTCHours():n.getHours();case"Date":return a?n.getUTCDate():n.getDate();case"Day":return a?n.getUTCDay():n.getDay();case"Month":return a?n.getUTCMonth():n.getMonth();case"FullYear":return a?n.getUTCFullYear():n.getFullYear();default:return NaN}}function lE(e,t,n){var a,o,c,f,m;if(!(!e.isValid()||isNaN(n))){switch(a=e._d,o=e._isUTC,t){case"Milliseconds":return void(o?a.setUTCMilliseconds(n):a.setMilliseconds(n));case"Seconds":return void(o?a.setUTCSeconds(n):a.setSeconds(n));case"Minutes":return void(o?a.setUTCMinutes(n):a.setMinutes(n));case"Hours":return void(o?a.setUTCHours(n):a.setHours(n));case"Date":return void(o?a.setUTCDate(n):a.setDate(n));case"FullYear":break;default:return}c=n,f=e.month(),m=e.date(),m=m===29&&f===1&&!gf(c)?28:m,o?a.setUTCFullYear(c,f,m):a.setFullYear(c,f,m)}}function OR(e){return e=br(e),ui(this[e])?this[e]():this}function MR(e,t){if(typeof e=="object"){e=px(e);var n=bR(e),a,o=n.length;for(a=0;a<o;a++)this[n[a].unit](e[n[a].unit])}else if(e=br(e),ui(this[e]))return this[e](t);return this}function DR(e,t){return(e%t+t)%t}var Ot;Array.prototype.indexOf?Ot=Array.prototype.indexOf:Ot=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function yx(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=DR(t,12);return e+=(t-n)/12,n===1?gf(e)?29:28:31-n%7%2}Ae("M",["MM",2],"Mo",function(){return this.month()+1});Ae("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Ae("MMMM",0,0,function(e){return this.localeData().months(this,e)});Te("M",gt,qo);Te("MM",gt,er);Te("MMM",function(e,t){return t.monthsShortRegex(e)});Te("MMMM",function(e,t){return t.monthsRegex(e)});ut(["M","MM"],function(e,t){t[Ai]=Je(e)-1});ut(["MMM","MMMM"],function(e,t,n,a){var o=n._locale.monthsParse(e,a,n._strict);o!=null?t[Ai]=o:Ge(n).invalidMonth=e});var zR="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),uE="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),cE=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,RR=Mu,LR=Mu;function AR(e,t){return e?Ir(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||cE).test(t)?"format":"standalone"][e.month()]:Ir(this._months)?this._months:this._months.standalone}function IR(e,t){return e?Ir(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[cE.test(t)?"format":"standalone"][e.month()]:Ir(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function FR(e,t,n){var a,o,c,f=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)c=li([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(c,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(c,"").toLocaleLowerCase();return n?t==="MMM"?(o=Ot.call(this._shortMonthsParse,f),o!==-1?o:null):(o=Ot.call(this._longMonthsParse,f),o!==-1?o:null):t==="MMM"?(o=Ot.call(this._shortMonthsParse,f),o!==-1?o:(o=Ot.call(this._longMonthsParse,f),o!==-1?o:null)):(o=Ot.call(this._longMonthsParse,f),o!==-1?o:(o=Ot.call(this._shortMonthsParse,f),o!==-1?o:null))}function $R(e,t,n){var a,o,c;if(this._monthsParseExact)return FR.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(o=li([2e3,a]),n&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[a]&&(c="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[a]=new RegExp(c.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[a].test(e))return a;if(n&&t==="MMM"&&this._shortMonthsParse[a].test(e))return a;if(!n&&this._monthsParse[a].test(e))return a}}function dE(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Je(t);else if(t=e.localeData().monthsParse(t),!Ui(t))return e}var n=t,a=e.date();return a=a<29?a:Math.min(a,yx(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,a):e._d.setMonth(n,a),e}function fE(e){return e!=null?(dE(this,e),je.updateOffset(this,!0),this):pu(this,"Month")}function BR(){return yx(this.year(),this.month())}function qR(e){return this._monthsParseExact?(it(this,"_monthsRegex")||hE.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(it(this,"_monthsShortRegex")||(this._monthsShortRegex=RR),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function UR(e){return this._monthsParseExact?(it(this,"_monthsRegex")||hE.call(this),e?this._monthsStrictRegex:this._monthsRegex):(it(this,"_monthsRegex")||(this._monthsRegex=LR),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function hE(){function e(v,x){return x.length-v.length}var t=[],n=[],a=[],o,c,f,m;for(o=0;o<12;o++)c=li([2e3,o]),f=Fi(this.monthsShort(c,"")),m=Fi(this.months(c,"")),t.push(f),n.push(m),a.push(m),a.push(f);t.sort(e),n.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function WR(e,t,n,a,o,c,f){var m;return e<100&&e>=0?(m=new Date(e+400,t,n,a,o,c,f),isFinite(m.getFullYear())&&m.setFullYear(e)):m=new Date(e,t,n,a,o,c,f),m}function mu(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Rd(e,t,n){var a=7+t-n,o=(7+mu(e,0,a).getUTCDay()-t)%7;return-o+a-1}function pE(e,t,n,a,o){var c=(7+n-a)%7,f=Rd(e,a,o),m=1+7*(t-1)+c+f,v,x;return m<=0?(v=e-1,x=Xl(v)+m):m>Xl(e)?(v=e+1,x=m-Xl(e)):(v=e,x=m),{year:v,dayOfYear:x}}function vu(e,t,n){var a=Rd(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1,c,f;return o<1?(f=e.year()-1,c=o+$i(f,t,n)):o>$i(e.year(),t,n)?(c=o-$i(e.year(),t,n),f=e.year()+1):(f=e.year(),c=o),{week:c,year:f}}function $i(e,t,n){var a=Rd(e,t,n),o=Rd(e+1,t,n);return(Xl(e)-a+o)/7}Ae("w",["ww",2],"wo","week");Ae("W",["WW",2],"Wo","isoWeek");Te("w",gt,qo);Te("ww",gt,er);Te("W",gt,qo);Te("WW",gt,er);Du(["w","ww","W","WW"],function(e,t,n,a){t[a.substr(0,1)]=Je(e)});function HR(e){return vu(e,this._week.dow,this._week.doy).week}var YR={dow:0,doy:6};function ZR(){return this._week.dow}function VR(){return this._week.doy}function GR(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function KR(e){var t=vu(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Ae("d",0,"do","day");Ae("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Ae("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Ae("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Ae("e",0,0,"weekday");Ae("E",0,0,"isoWeekday");Te("d",gt);Te("e",gt);Te("E",gt);Te("dd",function(e,t){return t.weekdaysMinRegex(e)});Te("ddd",function(e,t){return t.weekdaysShortRegex(e)});Te("dddd",function(e,t){return t.weekdaysRegex(e)});Du(["dd","ddd","dddd"],function(e,t,n,a){var o=n._locale.weekdaysParse(e,a,n._strict);o!=null?t.d=o:Ge(n).invalidWeekday=e});Du(["d","e","E"],function(e,t,n,a){t[a]=Je(e)});function XR(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function JR(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function xx(e,t){return e.slice(t,7).concat(e.slice(0,t))}var QR="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),mE="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),eL="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),tL=Mu,nL=Mu,rL=Mu;function iL(e,t){var n=Ir(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?xx(n,this._week.dow):e?n[e.day()]:n}function aL(e){return e===!0?xx(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function sL(e){return e===!0?xx(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function oL(e,t,n){var a,o,c,f=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)c=li([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(c,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(c,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(c,"").toLocaleLowerCase();return n?t==="dddd"?(o=Ot.call(this._weekdaysParse,f),o!==-1?o:null):t==="ddd"?(o=Ot.call(this._shortWeekdaysParse,f),o!==-1?o:null):(o=Ot.call(this._minWeekdaysParse,f),o!==-1?o:null):t==="dddd"?(o=Ot.call(this._weekdaysParse,f),o!==-1||(o=Ot.call(this._shortWeekdaysParse,f),o!==-1)?o:(o=Ot.call(this._minWeekdaysParse,f),o!==-1?o:null)):t==="ddd"?(o=Ot.call(this._shortWeekdaysParse,f),o!==-1||(o=Ot.call(this._weekdaysParse,f),o!==-1)?o:(o=Ot.call(this._minWeekdaysParse,f),o!==-1?o:null)):(o=Ot.call(this._minWeekdaysParse,f),o!==-1||(o=Ot.call(this._weekdaysParse,f),o!==-1)?o:(o=Ot.call(this._shortWeekdaysParse,f),o!==-1?o:null))}function lL(e,t,n){var a,o,c;if(this._weekdaysParseExact)return oL.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(o=li([2e3,1]).day(a),n&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(c="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[a]=new RegExp(c.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[a].test(e))return a;if(n&&t==="ddd"&&this._shortWeekdaysParse[a].test(e))return a;if(n&&t==="dd"&&this._minWeekdaysParse[a].test(e))return a;if(!n&&this._weekdaysParse[a].test(e))return a}}function uL(e){if(!this.isValid())return e!=null?this:NaN;var t=pu(this,"Day");return e!=null?(e=XR(e,this.localeData()),this.add(e-t,"d")):t}function cL(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function dL(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=JR(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function fL(e){return this._weekdaysParseExact?(it(this,"_weekdaysRegex")||_x.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(it(this,"_weekdaysRegex")||(this._weekdaysRegex=tL),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function hL(e){return this._weekdaysParseExact?(it(this,"_weekdaysRegex")||_x.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(it(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=nL),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function pL(e){return this._weekdaysParseExact?(it(this,"_weekdaysRegex")||_x.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(it(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=rL),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function _x(){function e(_,w){return w.length-_.length}var t=[],n=[],a=[],o=[],c,f,m,v,x;for(c=0;c<7;c++)f=li([2e3,1]).day(c),m=Fi(this.weekdaysMin(f,"")),v=Fi(this.weekdaysShort(f,"")),x=Fi(this.weekdays(f,"")),t.push(m),n.push(v),a.push(x),o.push(m),o.push(v),o.push(x);t.sort(e),n.sort(e),a.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function wx(){return this.hours()%12||12}function mL(){return this.hours()||24}Ae("H",["HH",2],0,"hour");Ae("h",["hh",2],0,wx);Ae("k",["kk",2],0,mL);Ae("hmm",0,0,function(){return""+wx.apply(this)+ai(this.minutes(),2)});Ae("hmmss",0,0,function(){return""+wx.apply(this)+ai(this.minutes(),2)+ai(this.seconds(),2)});Ae("Hmm",0,0,function(){return""+this.hours()+ai(this.minutes(),2)});Ae("Hmmss",0,0,function(){return""+this.hours()+ai(this.minutes(),2)+ai(this.seconds(),2)});function vE(e,t){Ae(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}vE("a",!0);vE("A",!1);function gE(e,t){return t._meridiemParse}Te("a",gE);Te("A",gE);Te("H",gt,gx);Te("h",gt,qo);Te("k",gt,qo);Te("HH",gt,er);Te("hh",gt,er);Te("kk",gt,er);Te("hmm",aE);Te("hmmss",sE);Te("Hmm",aE);Te("Hmmss",sE);ut(["H","HH"],Bt);ut(["k","kk"],function(e,t,n){var a=Je(e);t[Bt]=a===24?0:a});ut(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});ut(["h","hh"],function(e,t,n){t[Bt]=Je(e),Ge(n).bigHour=!0});ut("hmm",function(e,t,n){var a=e.length-2;t[Bt]=Je(e.substr(0,a)),t[Lr]=Je(e.substr(a)),Ge(n).bigHour=!0});ut("hmmss",function(e,t,n){var a=e.length-4,o=e.length-2;t[Bt]=Je(e.substr(0,a)),t[Lr]=Je(e.substr(a,2)),t[Ii]=Je(e.substr(o)),Ge(n).bigHour=!0});ut("Hmm",function(e,t,n){var a=e.length-2;t[Bt]=Je(e.substr(0,a)),t[Lr]=Je(e.substr(a))});ut("Hmmss",function(e,t,n){var a=e.length-4,o=e.length-2;t[Bt]=Je(e.substr(0,a)),t[Lr]=Je(e.substr(a,2)),t[Ii]=Je(e.substr(o))});function vL(e){return(e+"").toLowerCase().charAt(0)==="p"}var gL=/[ap]\.?m?\.?/i,yL=Uo("Hours",!0);function xL(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var yE={calendar:oR,longDateFormat:dR,invalidDate:hR,ordinal:mR,dayOfMonthOrdinalParse:vR,relativeTime:yR,months:zR,monthsShort:uE,week:YR,weekdays:QR,weekdaysMin:eL,weekdaysShort:mE,meridiemParse:gL},xt={},ql={},gu;function _L(e,t){var n,a=Math.min(e.length,t.length);for(n=0;n<a;n+=1)if(e[n]!==t[n])return n;return a}function QS(e){return e&&e.toLowerCase().replace("_","-")}function wL(e){for(var t=0,n,a,o,c;t<e.length;){for(c=QS(e[t]).split("-"),n=c.length,a=QS(e[t+1]),a=a?a.split("-"):null;n>0;){if(o=yf(c.slice(0,n).join("-")),o)return o;if(a&&a.length>=n&&_L(c,a)>=n-1)break;n--}t++}return gu}function bL(e){return!!(e&&e.match("^[^/\\\\]*$"))}function yf(e){var t=null,n;if(xt[e]===void 0&&typeof Sd<"u"&&Sd&&Sd.exports&&bL(e))try{t=gu._abbr,n=rR,n("./locale/"+e),Ma(t)}catch{xt[e]=null}return xt[e]}function Ma(e,t){var n;return e&&(An(t)?n=Yi(e):n=bx(e,t),n?gu=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),gu._abbr}function bx(e,t){if(t!==null){var n,a=yE;if(t.abbr=e,xt[e]!=null)tE("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=xt[e]._config;else if(t.parentLocale!=null)if(xt[t.parentLocale]!=null)a=xt[t.parentLocale]._config;else if(n=yf(t.parentLocale),n!=null)a=n._config;else return ql[t.parentLocale]||(ql[t.parentLocale]=[]),ql[t.parentLocale].push({name:e,config:t}),null;return xt[e]=new fx(cy(a,t)),ql[e]&&ql[e].forEach(function(o){bx(o.name,o.config)}),Ma(e),xt[e]}else return delete xt[e],null}function SL(e,t){if(t!=null){var n,a,o=yE;xt[e]!=null&&xt[e].parentLocale!=null?xt[e].set(cy(xt[e]._config,t)):(a=yf(e),a!=null&&(o=a._config),t=cy(o,t),a==null&&(t.abbr=e),n=new fx(t),n.parentLocale=xt[e],xt[e]=n),Ma(e)}else xt[e]!=null&&(xt[e].parentLocale!=null?(xt[e]=xt[e].parentLocale,e===Ma()&&Ma(e)):xt[e]!=null&&delete xt[e]);return xt[e]}function Yi(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return gu;if(!Ir(e)){if(t=yf(e),t)return t;e=[e]}return wL(e)}function NL(){return dy(xt)}function Sx(e){var t,n=e._a;return n&&Ge(e).overflow===-2&&(t=n[Ai]<0||n[Ai]>11?Ai:n[ti]<1||n[ti]>yx(n[mn],n[Ai])?ti:n[Bt]<0||n[Bt]>24||n[Bt]===24&&(n[Lr]!==0||n[Ii]!==0||n[gs]!==0)?Bt:n[Lr]<0||n[Lr]>59?Lr:n[Ii]<0||n[Ii]>59?Ii:n[gs]<0||n[gs]>999?gs:-1,Ge(e)._overflowDayOfYear&&(t<mn||t>ti)&&(t=ti),Ge(e)._overflowWeeks&&t===-1&&(t=jR),Ge(e)._overflowWeekday&&t===-1&&(t=kR),Ge(e).overflow=t),e}var CL=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,EL=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,PL=/Z|[+-]\d\d(?::?\d\d)?/,ad=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Yg=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],jL=/^\/?Date\((-?\d+)/i,kL=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,TL={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function xE(e){var t,n,a=e._i,o=CL.exec(a)||EL.exec(a),c,f,m,v,x=ad.length,_=Yg.length;if(o){for(Ge(e).iso=!0,t=0,n=x;t<n;t++)if(ad[t][1].exec(o[1])){f=ad[t][0],c=ad[t][2]!==!1;break}if(f==null){e._isValid=!1;return}if(o[3]){for(t=0,n=_;t<n;t++)if(Yg[t][1].exec(o[3])){m=(o[2]||" ")+Yg[t][0];break}if(m==null){e._isValid=!1;return}}if(!c&&m!=null){e._isValid=!1;return}if(o[4])if(PL.exec(o[4]))v="Z";else{e._isValid=!1;return}e._f=f+(m||"")+(v||""),Cx(e)}else e._isValid=!1}function OL(e,t,n,a,o,c){var f=[ML(e),uE.indexOf(t),parseInt(n,10),parseInt(a,10),parseInt(o,10)];return c&&f.push(parseInt(c,10)),f}function ML(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function DL(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function zL(e,t,n){if(e){var a=mE.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(a!==o)return Ge(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function RL(e,t,n){if(e)return TL[e];if(t)return 0;var a=parseInt(n,10),o=a%100,c=(a-o)/100;return c*60+o}function _E(e){var t=kL.exec(DL(e._i)),n;if(t){if(n=OL(t[4],t[3],t[2],t[5],t[6],t[7]),!zL(t[1],n,e))return;e._a=n,e._tzm=RL(t[8],t[9],t[10]),e._d=mu.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Ge(e).rfc2822=!0}else e._isValid=!1}function LL(e){var t=jL.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(xE(e),e._isValid===!1)delete e._isValid;else return;if(_E(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:je.createFromInputFallback(e)}je.createFromInputFallback=wr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function bo(e,t,n){return e??t??n}function AL(e){var t=new Date(je.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Nx(e){var t,n,a=[],o,c,f;if(!e._d){for(o=AL(e),e._w&&e._a[ti]==null&&e._a[Ai]==null&&IL(e),e._dayOfYear!=null&&(f=bo(e._a[mn],o[mn]),(e._dayOfYear>Xl(f)||e._dayOfYear===0)&&(Ge(e)._overflowDayOfYear=!0),n=mu(f,0,e._dayOfYear),e._a[Ai]=n.getUTCMonth(),e._a[ti]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=a[t]=o[t];for(;t<7;t++)e._a[t]=a[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Bt]===24&&e._a[Lr]===0&&e._a[Ii]===0&&e._a[gs]===0&&(e._nextDay=!0,e._a[Bt]=0),e._d=(e._useUTC?mu:WR).apply(null,a),c=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Bt]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==c&&(Ge(e).weekdayMismatch=!0)}}function IL(e){var t,n,a,o,c,f,m,v,x;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(c=1,f=4,n=bo(t.GG,e._a[mn],vu(vt(),1,4).year),a=bo(t.W,1),o=bo(t.E,1),(o<1||o>7)&&(v=!0)):(c=e._locale._week.dow,f=e._locale._week.doy,x=vu(vt(),c,f),n=bo(t.gg,e._a[mn],x.year),a=bo(t.w,x.week),t.d!=null?(o=t.d,(o<0||o>6)&&(v=!0)):t.e!=null?(o=t.e+c,(t.e<0||t.e>6)&&(v=!0)):o=c),a<1||a>$i(n,c,f)?Ge(e)._overflowWeeks=!0:v!=null?Ge(e)._overflowWeekday=!0:(m=pE(n,a,o,c,f),e._a[mn]=m.year,e._dayOfYear=m.dayOfYear)}je.ISO_8601=function(){};je.RFC_2822=function(){};function Cx(e){if(e._f===je.ISO_8601){xE(e);return}if(e._f===je.RFC_2822){_E(e);return}e._a=[],Ge(e).empty=!0;var t=""+e._i,n,a,o,c,f,m=t.length,v=0,x,_;for(o=nE(e._f,e._locale).match(hx)||[],_=o.length,n=0;n<_;n++)c=o[n],a=(t.match(CR(c,e))||[])[0],a&&(f=t.substr(0,t.indexOf(a)),f.length>0&&Ge(e).unusedInput.push(f),t=t.slice(t.indexOf(a)+a.length),v+=a.length),No[c]?(a?Ge(e).empty=!1:Ge(e).unusedTokens.push(c),PR(c,a,e)):e._strict&&!a&&Ge(e).unusedTokens.push(c);Ge(e).charsLeftOver=m-v,t.length>0&&Ge(e).unusedInput.push(t),e._a[Bt]<=12&&Ge(e).bigHour===!0&&e._a[Bt]>0&&(Ge(e).bigHour=void 0),Ge(e).parsedDateParts=e._a.slice(0),Ge(e).meridiem=e._meridiem,e._a[Bt]=FL(e._locale,e._a[Bt],e._meridiem),x=Ge(e).era,x!==null&&(e._a[mn]=e._locale.erasConvertYear(x,e._a[mn])),Nx(e),Sx(e)}function FL(e,t,n){var a;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(a=e.isPM(n),a&&t<12&&(t+=12),!a&&t===12&&(t=0)),t)}function $L(e){var t,n,a,o,c,f,m=!1,v=e._f.length;if(v===0){Ge(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<v;o++)c=0,f=!1,t=dx({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],Cx(t),cx(t)&&(f=!0),c+=Ge(t).charsLeftOver,c+=Ge(t).unusedTokens.length*10,Ge(t).score=c,m?c<a&&(a=c,n=t):(a==null||c<a||f)&&(a=c,n=t,f&&(m=!0));ka(e,n||t)}function BL(e){if(!e._d){var t=px(e._i),n=t.day===void 0?t.date:t.day;e._a=QC([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(a){return a&&parseInt(a,10)}),Nx(e)}}function qL(e){var t=new Ou(Sx(wE(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function wE(e){var t=e._i,n=e._f;return e._locale=e._locale||Yi(e._l),t===null||n===void 0&&t===""?df({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Fr(t)?new Ou(Sx(t)):(Tu(t)?e._d=t:Ir(n)?$L(e):n?Cx(e):UL(e),cx(e)||(e._d=null),e))}function UL(e){var t=e._i;An(t)?e._d=new Date(je.now()):Tu(t)?e._d=new Date(t.valueOf()):typeof t=="string"?LL(e):Ir(t)?(e._a=QC(t.slice(0),function(n){return parseInt(n,10)}),Nx(e)):_s(t)?BL(e):Ui(t)?e._d=new Date(t):je.createFromInputFallback(e)}function bE(e,t,n,a,o){var c={};return(t===!0||t===!1)&&(a=t,t=void 0),(n===!0||n===!1)&&(a=n,n=void 0),(_s(e)&&ux(e)||Ir(e)&&e.length===0)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=o,c._l=n,c._i=e,c._f=t,c._strict=a,qL(c)}function vt(e,t,n,a){return bE(e,t,n,a,!1)}var WL=wr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:df()}),HL=wr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:df()});function SE(e,t){var n,a;if(t.length===1&&Ir(t[0])&&(t=t[0]),!t.length)return vt();for(n=t[0],a=1;a<t.length;++a)(!t[a].isValid()||t[a][e](n))&&(n=t[a]);return n}function YL(){var e=[].slice.call(arguments,0);return SE("isBefore",e)}function ZL(){var e=[].slice.call(arguments,0);return SE("isAfter",e)}var VL=function(){return Date.now?Date.now():+new Date},Ul=["year","quarter","month","week","day","hour","minute","second","millisecond"];function GL(e){var t,n=!1,a,o=Ul.length;for(t in e)if(it(e,t)&&!(Ot.call(Ul,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(a=0;a<o;++a)if(e[Ul[a]]){if(n)return!1;parseFloat(e[Ul[a]])!==Je(e[Ul[a]])&&(n=!0)}return!0}function KL(){return this._isValid}function XL(){return $r(NaN)}function xf(e){var t=px(e),n=t.year||0,a=t.quarter||0,o=t.month||0,c=t.week||t.isoWeek||0,f=t.day||0,m=t.hour||0,v=t.minute||0,x=t.second||0,_=t.millisecond||0;this._isValid=GL(t),this._milliseconds=+_+x*1e3+v*6e4+m*1e3*60*60,this._days=+f+c*7,this._months=+o+a*3+n*12,this._data={},this._locale=Yi(),this._bubble()}function wd(e){return e instanceof xf}function hy(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function JL(e,t,n){var a=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),c=0,f;for(f=0;f<a;f++)Je(e[f])!==Je(t[f])&&c++;return c+o}function NE(e,t){Ae(e,0,0,function(){var n=this.utcOffset(),a="+";return n<0&&(n=-n,a="-"),a+ai(~~(n/60),2)+t+ai(~~n%60,2)})}NE("Z",":");NE("ZZ","");Te("Z",vf);Te("ZZ",vf);ut(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ex(vf,e)});var QL=/([\+\-]|\d\d)/gi;function Ex(e,t){var n=(t||"").match(e),a,o,c;return n===null?null:(a=n[n.length-1]||[],o=(a+"").match(QL)||["-",0,0],c=+(o[1]*60)+Je(o[2]),c===0?0:o[0]==="+"?c:-c)}function Px(e,t){var n,a;return t._isUTC?(n=t.clone(),a=(Fr(e)||Tu(e)?e.valueOf():vt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+a),je.updateOffset(n,!1),n):vt(e).local()}function py(e){return-Math.round(e._d.getTimezoneOffset())}je.updateOffset=function(){};function eA(e,t,n){var a=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Ex(vf,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=py(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),a!==e&&(!t||this._changeInProgress?PE(this,$r(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,je.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?a:py(this)}function tA(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function nA(e){return this.utcOffset(0,e)}function rA(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(py(this),"m")),this}function iA(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Ex(SR,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function aA(e){return this.isValid()?(e=e?vt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function sA(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function oA(){if(!An(this._isDSTShifted))return this._isDSTShifted;var e={},t;return dx(e,this),e=wE(e),e._a?(t=e._isUTC?li(e._a):vt(e._a),this._isDSTShifted=this.isValid()&&JL(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function lA(){return this.isValid()?!this._isUTC:!1}function uA(){return this.isValid()?this._isUTC:!1}function CE(){return this.isValid()?this._isUTC&&this._offset===0:!1}var cA=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,dA=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function $r(e,t){var n=e,a=null,o,c,f;return wd(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Ui(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(a=cA.exec(e))?(o=a[1]==="-"?-1:1,n={y:0,d:Je(a[ti])*o,h:Je(a[Bt])*o,m:Je(a[Lr])*o,s:Je(a[Ii])*o,ms:Je(hy(a[gs]*1e3))*o}):(a=dA.exec(e))?(o=a[1]==="-"?-1:1,n={y:ps(a[2],o),M:ps(a[3],o),w:ps(a[4],o),d:ps(a[5],o),h:ps(a[6],o),m:ps(a[7],o),s:ps(a[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(f=fA(vt(n.from),vt(n.to)),n={},n.ms=f.milliseconds,n.M=f.months),c=new xf(n),wd(e)&&it(e,"_locale")&&(c._locale=e._locale),wd(e)&&it(e,"_isValid")&&(c._isValid=e._isValid),c}$r.fn=xf.prototype;$r.invalid=XL;function ps(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function eN(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function fA(e,t){var n;return e.isValid()&&t.isValid()?(t=Px(t,e),e.isBefore(t)?n=eN(e,t):(n=eN(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function EE(e,t){return function(n,a){var o,c;return a!==null&&!isNaN(+a)&&(tE(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),c=n,n=a,a=c),o=$r(n,a),PE(this,o,e),this}}function PE(e,t,n,a){var o=t._milliseconds,c=hy(t._days),f=hy(t._months);e.isValid()&&(a=a??!0,f&&dE(e,pu(e,"Month")+f*n),c&&lE(e,"Date",pu(e,"Date")+c*n),o&&e._d.setTime(e._d.valueOf()+o*n),a&&je.updateOffset(e,c||f))}var hA=EE(1,"add"),pA=EE(-1,"subtract");function jE(e){return typeof e=="string"||e instanceof String}function mA(e){return Fr(e)||Tu(e)||jE(e)||Ui(e)||gA(e)||vA(e)||e===null||e===void 0}function vA(e){var t=_s(e)&&!ux(e),n=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,c,f=a.length;for(o=0;o<f;o+=1)c=a[o],n=n||it(e,c);return t&&n}function gA(e){var t=Ir(e),n=!1;return t&&(n=e.filter(function(a){return!Ui(a)&&jE(e)}).length===0),t&&n}function yA(e){var t=_s(e)&&!ux(e),n=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,c;for(o=0;o<a.length;o+=1)c=a[o],n=n||it(e,c);return t&&n}function xA(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function _A(e,t){arguments.length===1&&(arguments[0]?mA(arguments[0])?(e=arguments[0],t=void 0):yA(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||vt(),a=Px(n,this).startOf("day"),o=je.calendarFormat(this,a)||"sameElse",c=t&&(ui(t[o])?t[o].call(this,n):t[o]);return this.format(c||this.localeData().calendar(o,this,vt(n)))}function wA(){return new Ou(this)}function bA(e,t){var n=Fr(e)?e:vt(e);return this.isValid()&&n.isValid()?(t=br(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function SA(e,t){var n=Fr(e)?e:vt(e);return this.isValid()&&n.isValid()?(t=br(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function NA(e,t,n,a){var o=Fr(e)?e:vt(e),c=Fr(t)?t:vt(t);return this.isValid()&&o.isValid()&&c.isValid()?(a=a||"()",(a[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(a[1]===")"?this.isBefore(c,n):!this.isAfter(c,n))):!1}function CA(e,t){var n=Fr(e)?e:vt(e),a;return this.isValid()&&n.isValid()?(t=br(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(a=n.valueOf(),this.clone().startOf(t).valueOf()<=a&&a<=this.clone().endOf(t).valueOf())):!1}function EA(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function PA(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function jA(e,t,n){var a,o,c;if(!this.isValid())return NaN;if(a=Px(e,this),!a.isValid())return NaN;switch(o=(a.utcOffset()-this.utcOffset())*6e4,t=br(t),t){case"year":c=bd(this,a)/12;break;case"month":c=bd(this,a);break;case"quarter":c=bd(this,a)/3;break;case"second":c=(this-a)/1e3;break;case"minute":c=(this-a)/6e4;break;case"hour":c=(this-a)/36e5;break;case"day":c=(this-a-o)/864e5;break;case"week":c=(this-a-o)/6048e5;break;default:c=this-a}return n?c:vr(c)}function bd(e,t){if(e.date()<t.date())return-bd(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),a=e.clone().add(n,"months"),o,c;return t-a<0?(o=e.clone().add(n-1,"months"),c=(t-a)/(a-o)):(o=e.clone().add(n+1,"months"),c=(t-a)/(o-a)),-(n+c)||0}je.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";je.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function kA(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function TA(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?_d(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ui(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",_d(n,"Z")):_d(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function OA(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,a,o,c;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",c=t+'[")]',this.format(n+a+o+c)}function MA(e){e||(e=this.isUtc()?je.defaultFormatUtc:je.defaultFormat);var t=_d(this,e);return this.localeData().postformat(t)}function DA(e,t){return this.isValid()&&(Fr(e)&&e.isValid()||vt(e).isValid())?$r({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function zA(e){return this.from(vt(),e)}function RA(e,t){return this.isValid()&&(Fr(e)&&e.isValid()||vt(e).isValid())?$r({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function LA(e){return this.to(vt(),e)}function kE(e){var t;return e===void 0?this._locale._abbr:(t=Yi(e),t!=null&&(this._locale=t),this)}var TE=wr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function OE(){return this._locale}var Ld=1e3,Co=60*Ld,Ad=60*Co,ME=(365*400+97)*24*Ad;function Eo(e,t){return(e%t+t)%t}function DE(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-ME:new Date(e,t,n).valueOf()}function zE(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-ME:Date.UTC(e,t,n)}function AA(e){var t,n;if(e=br(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?zE:DE,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Eo(t+(this._isUTC?0:this.utcOffset()*Co),Ad);break;case"minute":t=this._d.valueOf(),t-=Eo(t,Co);break;case"second":t=this._d.valueOf(),t-=Eo(t,Ld);break}return this._d.setTime(t),je.updateOffset(this,!0),this}function IA(e){var t,n;if(e=br(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?zE:DE,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Ad-Eo(t+(this._isUTC?0:this.utcOffset()*Co),Ad)-1;break;case"minute":t=this._d.valueOf(),t+=Co-Eo(t,Co)-1;break;case"second":t=this._d.valueOf(),t+=Ld-Eo(t,Ld)-1;break}return this._d.setTime(t),je.updateOffset(this,!0),this}function FA(){return this._d.valueOf()-(this._offset||0)*6e4}function $A(){return Math.floor(this.valueOf()/1e3)}function BA(){return new Date(this.valueOf())}function qA(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function UA(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function WA(){return this.isValid()?this.toISOString():null}function HA(){return cx(this)}function YA(){return ka({},Ge(this))}function ZA(){return Ge(this).overflow}function VA(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Ae("N",0,0,"eraAbbr");Ae("NN",0,0,"eraAbbr");Ae("NNN",0,0,"eraAbbr");Ae("NNNN",0,0,"eraName");Ae("NNNNN",0,0,"eraNarrow");Ae("y",["y",1],"yo","eraYear");Ae("y",["yy",2],0,"eraYear");Ae("y",["yyy",3],0,"eraYear");Ae("y",["yyyy",4],0,"eraYear");Te("N",jx);Te("NN",jx);Te("NNN",jx);Te("NNNN",aI);Te("NNNNN",sI);ut(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,a){var o=n._locale.erasParse(e,a,n._strict);o?Ge(n).era=o:Ge(n).invalidEra=e});Te("y",Bo);Te("yy",Bo);Te("yyy",Bo);Te("yyyy",Bo);Te("yo",oI);ut(["y","yy","yyy","yyyy"],mn);ut(["yo"],function(e,t,n,a){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[mn]=n._locale.eraYearOrdinalParse(e,o):t[mn]=parseInt(e,10)});function GA(e,t){var n,a,o,c=this._eras||Yi("en")._eras;for(n=0,a=c.length;n<a;++n){switch(typeof c[n].since){case"string":o=je(c[n].since).startOf("day"),c[n].since=o.valueOf();break}switch(typeof c[n].until){case"undefined":c[n].until=1/0;break;case"string":o=je(c[n].until).startOf("day").valueOf(),c[n].until=o.valueOf();break}}return c}function KA(e,t,n){var a,o,c=this.eras(),f,m,v;for(e=e.toUpperCase(),a=0,o=c.length;a<o;++a)if(f=c[a].name.toUpperCase(),m=c[a].abbr.toUpperCase(),v=c[a].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(m===e)return c[a];break;case"NNNN":if(f===e)return c[a];break;case"NNNNN":if(v===e)return c[a];break}else if([f,m,v].indexOf(e)>=0)return c[a]}function XA(e,t){var n=e.since<=e.until?1:-1;return t===void 0?je(e.since).year():je(e.since).year()+(t-e.offset)*n}function JA(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return a[e].name;return""}function QA(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return a[e].narrow;return""}function eI(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return a[e].abbr;return""}function tI(){var e,t,n,a,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,a=this.clone().startOf("day").valueOf(),o[e].since<=a&&a<=o[e].until||o[e].until<=a&&a<=o[e].since)return(this.year()-je(o[e].since).year())*n+o[e].offset;return this.year()}function nI(e){return it(this,"_erasNameRegex")||kx.call(this),e?this._erasNameRegex:this._erasRegex}function rI(e){return it(this,"_erasAbbrRegex")||kx.call(this),e?this._erasAbbrRegex:this._erasRegex}function iI(e){return it(this,"_erasNarrowRegex")||kx.call(this),e?this._erasNarrowRegex:this._erasRegex}function jx(e,t){return t.erasAbbrRegex(e)}function aI(e,t){return t.erasNameRegex(e)}function sI(e,t){return t.erasNarrowRegex(e)}function oI(e,t){return t._eraYearOrdinalRegex||Bo}function kx(){var e=[],t=[],n=[],a=[],o,c,f,m,v,x=this.eras();for(o=0,c=x.length;o<c;++o)f=Fi(x[o].name),m=Fi(x[o].abbr),v=Fi(x[o].narrow),t.push(f),e.push(m),n.push(v),a.push(f),a.push(m),a.push(v);this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Ae(0,["gg",2],0,function(){return this.weekYear()%100});Ae(0,["GG",2],0,function(){return this.isoWeekYear()%100});function _f(e,t){Ae(0,[e,e.length],0,t)}_f("gggg","weekYear");_f("ggggg","weekYear");_f("GGGG","isoWeekYear");_f("GGGGG","isoWeekYear");Te("G",mf);Te("g",mf);Te("GG",gt,er);Te("gg",gt,er);Te("GGGG",vx,mx);Te("gggg",vx,mx);Te("GGGGG",pf,ff);Te("ggggg",pf,ff);Du(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,a){t[a.substr(0,2)]=Je(e)});Du(["gg","GG"],function(e,t,n,a){t[a]=je.parseTwoDigitYear(e)});function lI(e){return RE.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function uI(e){return RE.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function cI(){return $i(this.year(),1,4)}function dI(){return $i(this.isoWeekYear(),1,4)}function fI(){var e=this.localeData()._week;return $i(this.year(),e.dow,e.doy)}function hI(){var e=this.localeData()._week;return $i(this.weekYear(),e.dow,e.doy)}function RE(e,t,n,a,o){var c;return e==null?vu(this,a,o).year:(c=$i(e,a,o),t>c&&(t=c),pI.call(this,e,t,n,a,o))}function pI(e,t,n,a,o){var c=pE(e,t,n,a,o),f=mu(c.year,0,c.dayOfYear);return this.year(f.getUTCFullYear()),this.month(f.getUTCMonth()),this.date(f.getUTCDate()),this}Ae("Q",0,"Qo","quarter");Te("Q",rE);ut("Q",function(e,t){t[Ai]=(Je(e)-1)*3});function mI(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Ae("D",["DD",2],"Do","date");Te("D",gt,qo);Te("DD",gt,er);Te("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});ut(["D","DD"],ti);ut("Do",function(e,t){t[ti]=Je(e.match(gt)[0])});var LE=Uo("Date",!0);Ae("DDD",["DDDD",3],"DDDo","dayOfYear");Te("DDD",hf);Te("DDDD",iE);ut(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Je(e)});function vI(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Ae("m",["mm",2],0,"minute");Te("m",gt,gx);Te("mm",gt,er);ut(["m","mm"],Lr);var gI=Uo("Minutes",!1);Ae("s",["ss",2],0,"second");Te("s",gt,gx);Te("ss",gt,er);ut(["s","ss"],Ii);var yI=Uo("Seconds",!1);Ae("S",0,0,function(){return~~(this.millisecond()/100)});Ae(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Ae(0,["SSS",3],0,"millisecond");Ae(0,["SSSS",4],0,function(){return this.millisecond()*10});Ae(0,["SSSSS",5],0,function(){return this.millisecond()*100});Ae(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Ae(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Ae(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Ae(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Te("S",hf,rE);Te("SS",hf,er);Te("SSS",hf,iE);var Ta,AE;for(Ta="SSSS";Ta.length<=9;Ta+="S")Te(Ta,Bo);function xI(e,t){t[gs]=Je(("0."+e)*1e3)}for(Ta="S";Ta.length<=9;Ta+="S")ut(Ta,xI);AE=Uo("Milliseconds",!1);Ae("z",0,0,"zoneAbbr");Ae("zz",0,0,"zoneName");function _I(){return this._isUTC?"UTC":""}function wI(){return this._isUTC?"Coordinated Universal Time":""}var be=Ou.prototype;be.add=hA;be.calendar=_A;be.clone=wA;be.diff=jA;be.endOf=IA;be.format=MA;be.from=DA;be.fromNow=zA;be.to=RA;be.toNow=LA;be.get=OR;be.invalidAt=ZA;be.isAfter=bA;be.isBefore=SA;be.isBetween=NA;be.isSame=CA;be.isSameOrAfter=EA;be.isSameOrBefore=PA;be.isValid=HA;be.lang=TE;be.locale=kE;be.localeData=OE;be.max=HL;be.min=WL;be.parsingFlags=YA;be.set=MR;be.startOf=AA;be.subtract=pA;be.toArray=qA;be.toObject=UA;be.toDate=BA;be.toISOString=TA;be.inspect=OA;typeof Symbol<"u"&&Symbol.for!=null&&(be[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});be.toJSON=WA;be.toString=kA;be.unix=$A;be.valueOf=FA;be.creationData=VA;be.eraName=JA;be.eraNarrow=QA;be.eraAbbr=eI;be.eraYear=tI;be.year=oE;be.isLeapYear=TR;be.weekYear=lI;be.isoWeekYear=uI;be.quarter=be.quarters=mI;be.month=fE;be.daysInMonth=BR;be.week=be.weeks=GR;be.isoWeek=be.isoWeeks=KR;be.weeksInYear=fI;be.weeksInWeekYear=hI;be.isoWeeksInYear=cI;be.isoWeeksInISOWeekYear=dI;be.date=LE;be.day=be.days=uL;be.weekday=cL;be.isoWeekday=dL;be.dayOfYear=vI;be.hour=be.hours=yL;be.minute=be.minutes=gI;be.second=be.seconds=yI;be.millisecond=be.milliseconds=AE;be.utcOffset=eA;be.utc=nA;be.local=rA;be.parseZone=iA;be.hasAlignedHourOffset=aA;be.isDST=sA;be.isLocal=lA;be.isUtcOffset=uA;be.isUtc=CE;be.isUTC=CE;be.zoneAbbr=_I;be.zoneName=wI;be.dates=wr("dates accessor is deprecated. Use date instead.",LE);be.months=wr("months accessor is deprecated. Use month instead",fE);be.years=wr("years accessor is deprecated. Use year instead",oE);be.zone=wr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",tA);be.isDSTShifted=wr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",oA);function bI(e){return vt(e*1e3)}function SI(){return vt.apply(null,arguments).parseZone()}function IE(e){return e}var at=fx.prototype;at.calendar=lR;at.longDateFormat=fR;at.invalidDate=pR;at.ordinal=gR;at.preparse=IE;at.postformat=IE;at.relativeTime=xR;at.pastFuture=_R;at.set=sR;at.eras=GA;at.erasParse=KA;at.erasConvertYear=XA;at.erasAbbrRegex=rI;at.erasNameRegex=nI;at.erasNarrowRegex=iI;at.months=AR;at.monthsShort=IR;at.monthsParse=$R;at.monthsRegex=UR;at.monthsShortRegex=qR;at.week=HR;at.firstDayOfYear=VR;at.firstDayOfWeek=ZR;at.weekdays=iL;at.weekdaysMin=sL;at.weekdaysShort=aL;at.weekdaysParse=lL;at.weekdaysRegex=fL;at.weekdaysShortRegex=hL;at.weekdaysMinRegex=pL;at.isPM=vL;at.meridiem=xL;function Id(e,t,n,a){var o=Yi(),c=li().set(a,t);return o[n](c,e)}function FE(e,t,n){if(Ui(e)&&(t=e,e=void 0),e=e||"",t!=null)return Id(e,t,n,"month");var a,o=[];for(a=0;a<12;a++)o[a]=Id(e,a,n,"month");return o}function Tx(e,t,n,a){typeof e=="boolean"?(Ui(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Ui(t)&&(n=t,t=void 0),t=t||"");var o=Yi(),c=e?o._week.dow:0,f,m=[];if(n!=null)return Id(t,(n+c)%7,a,"day");for(f=0;f<7;f++)m[f]=Id(t,(f+c)%7,a,"day");return m}function NI(e,t){return FE(e,t,"months")}function CI(e,t){return FE(e,t,"monthsShort")}function EI(e,t,n){return Tx(e,t,n,"weekdays")}function PI(e,t,n){return Tx(e,t,n,"weekdaysShort")}function jI(e,t,n){return Tx(e,t,n,"weekdaysMin")}Ma("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Je(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});je.lang=wr("moment.lang is deprecated. Use moment.locale instead.",Ma);je.langData=wr("moment.langData is deprecated. Use moment.localeData instead.",Yi);var Ri=Math.abs;function kI(){var e=this._data;return this._milliseconds=Ri(this._milliseconds),this._days=Ri(this._days),this._months=Ri(this._months),e.milliseconds=Ri(e.milliseconds),e.seconds=Ri(e.seconds),e.minutes=Ri(e.minutes),e.hours=Ri(e.hours),e.months=Ri(e.months),e.years=Ri(e.years),this}function $E(e,t,n,a){var o=$r(t,n);return e._milliseconds+=a*o._milliseconds,e._days+=a*o._days,e._months+=a*o._months,e._bubble()}function TI(e,t){return $E(this,e,t,1)}function OI(e,t){return $E(this,e,t,-1)}function tN(e){return e<0?Math.floor(e):Math.ceil(e)}function MI(){var e=this._milliseconds,t=this._days,n=this._months,a=this._data,o,c,f,m,v;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=tN(my(n)+t)*864e5,t=0,n=0),a.milliseconds=e%1e3,o=vr(e/1e3),a.seconds=o%60,c=vr(o/60),a.minutes=c%60,f=vr(c/60),a.hours=f%24,t+=vr(f/24),v=vr(BE(t)),n+=v,t-=tN(my(v)),m=vr(n/12),n%=12,a.days=t,a.months=n,a.years=m,this}function BE(e){return e*4800/146097}function my(e){return e*146097/4800}function DI(e){if(!this.isValid())return NaN;var t,n,a=this._milliseconds;if(e=br(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+a/864e5,n=this._months+BE(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(my(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return t*24+a/36e5;case"minute":return t*1440+a/6e4;case"second":return t*86400+a/1e3;case"millisecond":return Math.floor(t*864e5)+a;default:throw new Error("Unknown unit "+e)}}function Zi(e){return function(){return this.as(e)}}var qE=Zi("ms"),zI=Zi("s"),RI=Zi("m"),LI=Zi("h"),AI=Zi("d"),II=Zi("w"),FI=Zi("M"),$I=Zi("Q"),BI=Zi("y"),qI=qE;function UI(){return $r(this)}function WI(e){return e=br(e),this.isValid()?this[e+"s"]():NaN}function ks(e){return function(){return this.isValid()?this._data[e]:NaN}}var HI=ks("milliseconds"),YI=ks("seconds"),ZI=ks("minutes"),VI=ks("hours"),GI=ks("days"),KI=ks("months"),XI=ks("years");function JI(){return vr(this.days()/7)}var Li=Math.round,So={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function QI(e,t,n,a,o){return o.relativeTime(t||1,!!n,e,a)}function e3(e,t,n,a){var o=$r(e).abs(),c=Li(o.as("s")),f=Li(o.as("m")),m=Li(o.as("h")),v=Li(o.as("d")),x=Li(o.as("M")),_=Li(o.as("w")),w=Li(o.as("y")),N=c<=n.ss&&["s",c]||c<n.s&&["ss",c]||f<=1&&["m"]||f<n.m&&["mm",f]||m<=1&&["h"]||m<n.h&&["hh",m]||v<=1&&["d"]||v<n.d&&["dd",v];return n.w!=null&&(N=N||_<=1&&["w"]||_<n.w&&["ww",_]),N=N||x<=1&&["M"]||x<n.M&&["MM",x]||w<=1&&["y"]||["yy",w],N[2]=t,N[3]=+e>0,N[4]=a,QI.apply(null,N)}function t3(e){return e===void 0?Li:typeof e=="function"?(Li=e,!0):!1}function n3(e,t){return So[e]===void 0?!1:t===void 0?So[e]:(So[e]=t,e==="s"&&(So.ss=t-1),!0)}function r3(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,a=So,o,c;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(a=Object.assign({},So,t),t.s!=null&&t.ss==null&&(a.ss=t.s-1)),o=this.localeData(),c=e3(this,!n,a,o),n&&(c=o.pastFuture(+this,c)),o.postformat(c)}var Zg=Math.abs;function _o(e){return(e>0)-(e<0)||+e}function wf(){if(!this.isValid())return this.localeData().invalidDate();var e=Zg(this._milliseconds)/1e3,t=Zg(this._days),n=Zg(this._months),a,o,c,f,m=this.asSeconds(),v,x,_,w;return m?(a=vr(e/60),o=vr(a/60),e%=60,a%=60,c=vr(n/12),n%=12,f=e?e.toFixed(3).replace(/\.?0+$/,""):"",v=m<0?"-":"",x=_o(this._months)!==_o(m)?"-":"",_=_o(this._days)!==_o(m)?"-":"",w=_o(this._milliseconds)!==_o(m)?"-":"",v+"P"+(c?x+c+"Y":"")+(n?x+n+"M":"")+(t?_+t+"D":"")+(o||a||e?"T":"")+(o?w+o+"H":"")+(a?w+a+"M":"")+(e?w+f+"S":"")):"P0D"}var tt=xf.prototype;tt.isValid=KL;tt.abs=kI;tt.add=TI;tt.subtract=OI;tt.as=DI;tt.asMilliseconds=qE;tt.asSeconds=zI;tt.asMinutes=RI;tt.asHours=LI;tt.asDays=AI;tt.asWeeks=II;tt.asMonths=FI;tt.asQuarters=$I;tt.asYears=BI;tt.valueOf=qI;tt._bubble=MI;tt.clone=UI;tt.get=WI;tt.milliseconds=HI;tt.seconds=YI;tt.minutes=ZI;tt.hours=VI;tt.days=GI;tt.weeks=JI;tt.months=KI;tt.years=XI;tt.humanize=r3;tt.toISOString=wf;tt.toString=wf;tt.toJSON=wf;tt.locale=kE;tt.localeData=OE;tt.toIsoString=wr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",wf);tt.lang=TE;Ae("X",0,0,"unix");Ae("x",0,0,"valueOf");Te("x",mf);Te("X",NR);ut("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});ut("x",function(e,t,n){n._d=new Date(Je(e))});//! moment.js
je.version="2.30.1";iR(vt);je.fn=be;je.min=YL;je.max=ZL;je.now=VL;je.utc=li;je.unix=bI;je.months=NI;je.isDate=Tu;je.locale=Ma;je.invalid=df;je.duration=$r;je.isMoment=Fr;je.weekdays=EI;je.parseZone=SI;je.localeData=Yi;je.isDuration=wd;je.monthsShort=CI;je.weekdaysMin=jI;je.defineLocale=bx;je.updateLocale=SL;je.locales=NL;je.weekdaysShort=PI;je.normalizeUnits=br;je.relativeTimeRounding=t3;je.relativeTimeThreshold=n3;je.calendarFormat=xA;je.prototype=be;je.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const i3=nR(je);function a3({spedizioni:e}){const t=e.map(n=>{const a=n.dataPianificata?new Date(n.dataPianificata):null,o=a?new Date(a.getTime()+3600*1e3):null,c=n.daPianificare===!0?"#f59e42":"#2563eb";return{id:n.id,title:`${n.aziendaDestinazione||""} (${n.tipo})`,start:a,end:o,resource:n,color:c}});return d.jsxs("div",{className:"bg-white rounded shadow p-6 mt-8",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Calendario Spedizioni"}),d.jsx(Kz,{localizer:i3,events:t,defaultView:"week",views:["week"],step:60,timeslots:1,style:{height:600},messages:{week:"Settimana"},min:new Date(1970,1,1,7,0),max:new Date(1970,1,1,19,0),eventPropGetter:n=>({style:{backgroundColor:n.color,color:"white",borderRadius:"6px",border:"none"}}),tooltipAccessor:n=>n.title,onSelectEvent:n=>{n&&n.id&&(window.location.href=`/spedizioni/${n.id}`)}})]})}function s3(){return typeof window>"u"?!1:/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(window.navigator.userAgent)}function o3(){const{user:e,token:t}=Ct(),{sidebarOpen:n}=O.useContext(TN),{setNotification:a}=qt(),[o,c]=O.useState(!1),[f,m]=O.useState({destinazione:"",dataRichiesta:"",tipo:"consegna",status:"In attesa",note:""}),[v,x]=O.useState(!1),[_,w]=O.useState(""),[N,E]=O.useState(""),[P,C]=O.useState([]);Bd({pollInterval:6e3,enablePushNotifications:!0});const[j,M]=O.useState(!1),[R,A]=O.useState([]),[F,B]=O.useState(""),[q,H]=O.useState(""),$=gn(),V=D=>String(D).padStart(2,"0"),I=D=>`${V(D.getDate())}/${V(D.getMonth()+1)}/${D.getFullYear()}`,U=D=>`${V(D.getHours())}:${V(D.getMinutes())}`,ee=D=>`${I(D)} alle ${U(D)}`;O.useEffect(()=>{if(e&&t){fetch(`${Ee}/api/posizioni`,{headers:{Authorization:`Bearer ${t}`}}).then(re=>re.json()).then(re=>C(re));const D=()=>{fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${t}`}}).then(re=>re.json()).then(re=>A(re))};D();const X=setInterval(D,2e3);return()=>clearInterval(X)}},[e,t]),O.useEffect(()=>{if(e&&t){let D=!0,X=0;const re=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${t}`}}).then(Q=>Q.json()).then(Q=>{D&&(X>0&&Q.length>X&&Q.slice(X).forEach(ye=>{a({text:`${ye.sender?.nome}: ${ye.text}`})}),X=Q.length)})};re();const oe=setInterval(re,2e3);return()=>{D=!1,clearInterval(oe)}}},[a,e,t]),O.useEffect(()=>{c(s3())},[]);const K=D=>{const{name:X,value:re}=D.target;m(oe=>({...oe,[X]:re}))},ce=()=>{e&&t&&fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${t}`}}).then(D=>D.json()).then(D=>A(D))},_e=async D=>{D.preventDefault(),x(!0),E(""),w("");try{const X=P.find(me=>String(me.id)===String(f.destinazione)),re={aziendaDestinazione:X?.azienda||"",indirizzo:X?.indirizzo||"",dataRichiesta:f.dataRichiesta,dataPianificata:f.dataRichiesta,tipo:f.tipo,status:f.status,daPianificare:!0,richiedente:e?{nome:e.nome,mail:e.mail,role:e.role}:null,note:f.note},oe=await fetch(`${Ee}/api/spedizioni`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(re)});if(!oe.ok)throw new Error;const Q=await oe.json();w("Richiesta di spedizione inviata!");try{const me=`${e?.nome||"Utente"} ha inviato una richiesta: ${re.aziendaDestinazione} per il ${ee(new Date(re.dataRichiesta))}${re.note?`
Note: ${re.note}`:""}`;await fetch(`${Ee}/api/messaggi`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({sender:e?{nome:e.nome,mail:e.mail,role:e.role}:{nome:"Sconosciuto"},text:me,tipo:"richiesta",spedizioneId:Q?.id||null})})}catch{}m({destinazione:"",dataRichiesta:"",tipo:"consegna",status:"In attesa",note:""}),M(!1),ce()}catch{E("Errore nell'invio della richiesta")}finally{x(!1)}},de=R.filter(D=>D.richiedente&&e&&D.richiedente.mail===e.mail&&D.status!=="Consegnata"),he=R.filter(D=>(!D.richiedente||e&&D.richiedente.mail!==e.mail)&&D.status!=="Consegnata"),Y=D=>D.filter(X=>X.daPianificare===!0),fe=D=>D.filter(X=>X.daPianificare===!1),ne=D=>D.filter(X=>{let re=!0,oe=!0;if(F&&(re=(X.aziendaDestinazione||"").toLowerCase().includes(F.toLowerCase())),q)if(X.dataRichiesta){const Q=new Date(X.dataRichiesta),me=new Date(q);oe=I(Q)===I(me)}else oe=!1;return re&&oe}),z=async D=>{if(window.confirm("Sei sicuro di voler eliminare questa richiesta di spedizione?"))try{if(!(await fetch(`${Ee}/api/spedizioni/${D}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error;w("Richiesta eliminata"),ce()}catch{E("Errore nell'eliminazione della richiesta")}};return d.jsxs("div",{className:o?"w-full flex flex-col items-center":`p-8 w-full transition-all duration-300 ${n?"max-w-[1800px]":"max-w-full"}`,children:[d.jsx("h1",{className:o?"text-xl font-bold mb-4":"text-2xl font-bold mb-4",children:"Richieste di Spedizione"}),_&&d.jsx("div",{className:"text-green-600 mb-2",children:_}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Le mie richieste"}),d.jsxs("div",{className:"flex flex-wrap gap-4 mb-8 items-center",children:[d.jsx("input",{type:"text",placeholder:"Filtra per destinazione...",className:"border rounded p-2 min-w-[220px]",value:F,onChange:D=>B(D.target.value)}),d.jsx("input",{type:"date",className:"border rounded p-2 min-w-[160px]",value:q,onChange:D=>H(D.target.value)}),d.jsx("button",{className:"border rounded p-2 text-gray-500",onClick:()=>{B(""),H("")},children:"Reset"}),d.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",onClick:()=>M(!0),children:"+ Nuova"})]}),d.jsx("h3",{className:"text-xl font-bold mb-4",children:"Da pianificare"}),d.jsx("div",{className:"w-full mb-8",children:d.jsxs("table",{className:"w-full border-separate border-spacing-y-2 table-fixed text-base",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-xs text-gray-500",children:[d.jsx("th",{className:"text-left w-[5%]",children:" "}),d.jsx("th",{className:"text-left w-[13%]",children:"DATA"}),d.jsx("th",{className:"text-left w-[10%]",children:"ORA"}),d.jsx("th",{className:"text-left w-[22%]",children:"DESTINAZIONE"}),d.jsx("th",{className:"text-left w-[13%]",children:"STATO"}),d.jsx("th",{className:"text-left w-[13%]",children:"TIPO"}),d.jsx("th",{className:"text-left w-[12%]",children:"AUTISTA"})]})}),d.jsx("tbody",{children:ne(Y(de)).map(D=>{const X=D.dataRichiesta?new Date(D.dataRichiesta):null,oe=X&&X<new Date;return d.jsxs("tr",{className:"bg-white hover:bg-blue-50 rounded shadow-lg text-base cursor-pointer group",onClick:()=>$(`/spedizioni/${D.id}`),children:[d.jsx("td",{className:"px-2 py-3",children:d.jsx(k0,{className:"inline text-gray-400"})}),d.jsx("td",{className:"px-2 py-3",children:d.jsx("span",{className:oe?"bg-red-100 text-red-600 rounded px-2 py-1 text-xs font-semibold":"bg-green-100 text-green-600 rounded px-2 py-1 text-xs font-semibold",children:X?I(X):"-"})}),d.jsx("td",{className:"px-2 py-3",children:X?U(X):"-"}),d.jsx("td",{className:"px-2 py-3 truncate",children:D.aziendaDestinazione||"-"}),d.jsx("td",{className:"px-2 py-3",children:D.status||"-"}),d.jsx("td",{className:"px-2 py-3",children:D.tipo}),d.jsx("td",{className:"px-2 py-3 truncate",children:D.autista?.nome||"-"}),d.jsx("td",{className:"px-2 py-3 text-right",children:d.jsx("button",{className:"text-red-500 hover:text-red-700 px-2 py-1 border rounded",onClick:Q=>{Q.stopPropagation(),z(D.id)},children:"Elimina"})})]},D.id)})})]})}),d.jsx("h3",{className:"text-xl font-bold mb-4",children:"Pianificate"}),d.jsx("div",{className:"w-full",children:d.jsxs("table",{className:"w-full border-separate border-spacing-y-2 table-fixed text-base",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-xs text-gray-500",children:[d.jsx("th",{className:"text-left w-[5%]",children:" "}),d.jsx("th",{className:"text-left w-[13%]",children:"DATA"}),d.jsx("th",{className:"text-left w-[10%]",children:"ORA"}),d.jsx("th",{className:"text-left w-[22%]",children:"DESTINAZIONE"}),d.jsx("th",{className:"text-left w-[13%]",children:"STATO"}),d.jsx("th",{className:"text-left w-[13%]",children:"TIPO"}),d.jsx("th",{className:"text-left w-[12%]",children:"AUTISTA"})]})}),d.jsx("tbody",{children:ne(fe(de)).map(D=>{const X=D.dataPianificata?new Date(D.dataPianificata):null,re=new Date,oe=D.status&&(D.status.toLowerCase().includes("completata")||D.status.toLowerCase().includes("consegnata")),Q=X&&X<re&&!oe;return d.jsxs("tr",{className:"bg-white hover:bg-green-50 rounded shadow-lg text-base cursor-pointer group",onClick:()=>$(`/spedizioni/${D.id}`),children:[d.jsx("td",{className:"px-2 py-3",children:d.jsx("span",{className:"inline text-green-400",children:"✓"})}),d.jsx("td",{className:"px-2 py-3",children:d.jsx("span",{className:Q?"bg-red-100 text-red-600 rounded px-2 py-1 text-xs font-semibold":"bg-green-100 text-green-600 rounded px-2 py-1 text-xs font-semibold",children:X?I(X):"-"})}),d.jsx("td",{className:"px-2 py-3",children:X?U(X):"-"}),d.jsx("td",{className:"px-2 py-3 truncate",children:D.aziendaDestinazione||"-"}),d.jsx("td",{className:"px-2 py-3",children:D.status||"-"}),d.jsx("td",{className:"px-2 py-3",children:D.tipo}),d.jsx("td",{className:"px-2 py-3 truncate",children:D.autista?.nome||"-"})]},D.id)})})]})})]}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Altre richieste"}),d.jsxs("div",{className:"flex flex-wrap gap-4 mb-8 items-center",children:[d.jsx("input",{type:"text",placeholder:"Filtra per destinazione...",className:"border rounded p-2 min-w-[220px]",value:F,onChange:D=>B(D.target.value)}),d.jsx("input",{type:"date",className:"border rounded p-2 min-w-[160px]",value:q,onChange:D=>H(D.target.value)}),d.jsx("button",{className:"border rounded p-2 text-gray-500",onClick:()=>{B(""),H("")},children:"Reset"})]}),d.jsx("h3",{className:"text-xl font-bold mb-4",children:"Da pianificare"}),d.jsx("div",{className:"w-full mb-8",children:d.jsxs("table",{className:"w-full border-separate border-spacing-y-2 table-fixed text-base",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-xs text-gray-500",children:[d.jsx("th",{className:"text-left w-[5%]",children:" "}),d.jsx("th",{className:"text-left w-[13%]",children:"DATA"}),d.jsx("th",{className:"text-left w-[10%]",children:"ORA"}),d.jsx("th",{className:"text-left w-[22%]",children:"DESTINAZIONE"}),d.jsx("th",{className:"text-left w-[13%]",children:"STATO"}),d.jsx("th",{className:"text-left w-[13%]",children:"TIPO"}),d.jsx("th",{className:"text-left w-[12%]",children:"AUTISTA"}),d.jsx("th",{className:"text-left w-[10%]",children:"RICHIESTA DA"})]})}),d.jsx("tbody",{children:ne(Y(he)).map(D=>{const X=D.dataRichiesta?new Date(D.dataRichiesta):null,oe=X&&X<new Date;return d.jsxs("tr",{className:"bg-white hover:bg-gray-50 rounded shadow-lg text-base cursor-pointer",onClick:()=>$(`/spedizioni/${D.id}`),children:[d.jsx("td",{className:"px-2 py-3",children:d.jsx(k0,{className:"inline text-gray-400"})}),d.jsx("td",{className:"px-2 py-3",children:d.jsx("span",{className:oe?"bg-red-100 text-red-600 rounded px-2 py-1 text-xs font-semibold":"bg-green-100 text-green-600 rounded px-2 py-1 text-xs font-semibold",children:X?I(X):"-"})}),d.jsx("td",{className:"px-2 py-3",children:X?U(X):"-"}),d.jsx("td",{className:"px-2 py-3 truncate",children:D.aziendaDestinazione||"-"}),d.jsx("td",{className:"px-2 py-3",children:D.status||"-"}),d.jsx("td",{className:"px-2 py-3",children:D.tipo}),d.jsx("td",{className:"px-2 py-3 truncate",children:D.autista?.nome||"-"}),d.jsx("td",{className:"px-2 py-3 truncate",children:D.richiedente?.nome||"-"})]},D.id)})})]})}),d.jsx("h3",{className:"text-xl font-bold mb-4",children:"Pianificate"}),d.jsx("div",{className:"w-full",children:d.jsxs("table",{className:"w-full border-separate border-spacing-y-2 table-fixed text-base",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-xs text-gray-500",children:[d.jsx("th",{className:"text-left w-[5%]",children:" "}),d.jsx("th",{className:"text-left w-[13%]",children:"DATA"}),d.jsx("th",{className:"text-left w-[10%]",children:"ORA"}),d.jsx("th",{className:"text-left w-[22%]",children:"DESTINAZIONE"}),d.jsx("th",{className:"text-left w-[13%]",children:"STATO"}),d.jsx("th",{className:"text-left w-[13%]",children:"TIPO"}),d.jsx("th",{className:"text-left w-[12%]",children:"AUTISTA"}),d.jsx("th",{className:"text-left w-[10%]",children:"RICHIESTA DA"})]})}),d.jsx("tbody",{children:ne(fe(he)).map(D=>{const X=D.dataPianificata?new Date(D.dataPianificata):null,re=new Date,oe=D.status&&(D.status.toLowerCase().includes("completata")||D.status.toLowerCase().includes("consegnata")),Q=X&&X<re&&!oe;return d.jsxs("tr",{className:"bg-white hover:bg-green-50 rounded shadow-lg text-base cursor-pointer",onClick:()=>$(`/spedizioni/${D.id}`),children:[d.jsx("td",{className:"px-2 py-3",children:d.jsx("span",{className:"inline text-green-400",children:"✓"})}),d.jsx("td",{className:"px-2 py-3",children:d.jsx("span",{className:Q?"bg-red-100 text-red-600 rounded px-2 py-1 text-xs font-semibold":"bg-green-100 text-green-600 rounded px-2 py-1 text-xs font-semibold",children:X?I(X):"-"})}),d.jsx("td",{className:"px-2 py-3",children:X?U(X):"-"}),d.jsx("td",{className:"px-2 py-3 truncate",children:D.aziendaDestinazione||"-"}),d.jsx("td",{className:"px-2 py-3",children:D.status||"-"}),d.jsx("td",{className:"px-2 py-3",children:D.tipo}),d.jsx("td",{className:"px-2 py-3 truncate",children:D.autista?.nome||"-"}),d.jsx("td",{className:"px-2 py-3 truncate",children:D.richiedente?.nome||"-"})]},D.id)})})]})})]}),j&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded shadow-lg p-6 w-full max-w-lg relative",children:[d.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 text-xl",onClick:()=>M(!1),children:"×"}),d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Nuova richiesta di spedizione"}),d.jsxs("form",{onSubmit:_e,className:"flex flex-col gap-3",children:[d.jsxs("label",{className:"font-semibold",children:["Destinazione",d.jsxs("select",{name:"destinazione",value:f.destinazione,onChange:K,className:"border p-2 rounded w-full mt-1",required:!0,children:[d.jsx("option",{value:"",children:"Seleziona destinazione..."}),P.map(D=>d.jsxs("option",{value:D.id,children:[D.azienda," - ",D.indirizzo]},D.id))]})]}),d.jsxs("label",{className:"font-semibold",children:["Data e ora richiesta",d.jsx("input",{name:"dataRichiesta",type:"datetime-local",className:"border p-2 rounded w-full mt-1",value:f.dataRichiesta,onChange:K,required:!0})]}),d.jsxs("label",{className:"font-semibold",children:["Tipologia",d.jsxs("select",{name:"tipo",value:f.tipo,onChange:K,className:"border p-2 rounded w-full mt-1",required:!0,children:[d.jsx("option",{value:"consegna",children:"Consegna"}),d.jsx("option",{value:"ritiro",children:"Ritiro"}),d.jsx("option",{value:"entrambi",children:"Entrambi"})]})]}),d.jsxs("label",{className:"font-semibold",children:["Stato",d.jsxs("select",{name:"status",value:f.status,onChange:K,className:"border p-2 rounded w-full mt-1",required:!0,children:[d.jsx("option",{value:"In attesa",children:"In attesa"}),d.jsx("option",{value:"In consegna",children:"In consegna"})]})]}),d.jsxs("label",{className:"font-semibold",children:["Note",d.jsx("textarea",{name:"note",value:f.note,onChange:K,className:"border p-2 rounded w-full mt-1",rows:3,placeholder:"Aggiungi eventuali note..."})]}),N&&d.jsx("div",{className:"text-red-600",children:N}),d.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",disabled:v,children:"Invia Richiesta"})]})]})}),d.jsx(a3,{spedizioni:R.filter(D=>(D.status==="In attesa"||D.status==="In consegna")&&D.status!=="Consegnata")})]})}function l3(){const[e,t]=O.useState([]),[n,a]=O.useState(!0),[o,c]=O.useState(""),[f,m]=O.useState(""),[v,x]=O.useState(""),[_,w]=O.useState(""),N=gn(),{setNotification:E}=qt(),{user:P,token:C}=Ct();O.useEffect(()=>{if(P&&C){let A=!0,F=0;const B=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${C}`}}).then(H=>H.json()).then(H=>{A&&(F>0&&H.length>F&&H.slice(F).forEach(V=>{E({text:`${V.sender?.nome}: ${V.text}`})}),F=H.length)})};B();const q=setInterval(B,2e3);return()=>{A=!1,clearInterval(q)}}},[E,P,C]),O.useEffect(()=>{P&&C&&fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${C}`}}).then(A=>A.json()).then(A=>{t(A),a(!1)}).catch(()=>{c("Errore nel caricamento delle spedizioni"),a(!1)})},[]);const j=e.filter(A=>{const F=`${A.aziendaDestinazione||""} ${A.indirizzo||""} ${A.autista?.nome||""} ${A.richiedente?.nome||""} ${A.note||""}`.toLowerCase(),B=f===""||F.includes(f.toLowerCase()),q=v===""||A.status===v,H=_===""||A.tipo===_;return B&&q&&H}),M={"In attesa":j.filter(A=>A.status==="In attesa"),"In consegna":j.filter(A=>A.status==="In consegna"),Consegnata:j.filter(A=>A.status==="Consegnata"),Fallita:j.filter(A=>A.status==="Fallita")},R=async A=>{if(window.confirm("Sei sicuro di voler eliminare questa spedizione?"))try{if(!(await fetch(`${Ee}/api/spedizioni/${A}`,{method:"DELETE",headers:{Authorization:`Bearer ${C}`}})).ok)throw new Error;t(B=>B.filter(q=>q.id!==A))}catch{c("Errore nell'eliminazione della spedizione")}};return d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Stato Consegne"}),d.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 items-center",children:[d.jsx("input",{type:"text",value:f,onChange:A=>m(A.target.value),placeholder:"Cerca per destinazione, indirizzo, autista, richiedente, note...",className:"border rounded p-2 min-w-[220px]"}),d.jsxs("select",{value:v,onChange:A=>x(A.target.value),className:"border rounded p-2",children:[d.jsx("option",{value:"",children:"Tutti gli stati"}),d.jsx("option",{value:"In attesa",children:"In attesa"}),d.jsx("option",{value:"In consegna",children:"In consegna"}),d.jsx("option",{value:"Consegnata",children:"Consegnata"}),d.jsx("option",{value:"Fallita",children:"Fallita"})]}),d.jsxs("select",{value:_,onChange:A=>w(A.target.value),className:"border rounded p-2",children:[d.jsx("option",{value:"",children:"Tutti i tipi"}),d.jsx("option",{value:"consegna",children:"Consegna"}),d.jsx("option",{value:"ritiro",children:"Ritiro"}),d.jsx("option",{value:"entrambi",children:"Entrambi"})]})]}),n?d.jsx("div",{className:"text-blue-600",children:"Caricamento..."}):o?d.jsx("div",{className:"text-red-600",children:o}):Object.entries(M).map(([A,F])=>d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"text-xl font-bold mb-2",children:A}),F.length===0?d.jsx("div",{className:"text-gray-400",children:"Nessuna consegna"}):d.jsxs("table",{className:"w-full border-separate border-spacing-y-2",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-xs text-gray-500",children:[d.jsx("th",{className:"text-left px-2",children:"Data richiesta"}),d.jsx("th",{className:"text-left px-2",children:"Destinazione"}),d.jsx("th",{className:"text-left px-2",children:"Tipo"}),d.jsx("th",{className:"text-left px-2",children:"Autista"}),d.jsx("th",{className:"text-left px-2",children:"Richiedente"}),A==="Fallita"&&d.jsx("th",{className:"text-left px-2",children:"Azioni"})]})}),d.jsx("tbody",{children:F.map(B=>d.jsxs("tr",{className:"bg-white hover:bg-gray-50 rounded shadow-sm cursor-pointer",children:[d.jsx("td",{className:"px-2 py-2 text-sm",onClick:()=>N(`/spedizioni/${B.id}`),children:B.dataRichiesta?new Date(B.dataRichiesta).toLocaleString():""}),d.jsx("td",{className:"px-2 py-2 text-sm",onClick:()=>N(`/spedizioni/${B.id}`),children:B.aziendaDestinazione||B.indirizzo}),d.jsx("td",{className:"px-2 py-2 text-sm",onClick:()=>N(`/spedizioni/${B.id}`),children:B.tipo}),d.jsx("td",{className:"px-2 py-2 text-sm",onClick:()=>N(`/spedizioni/${B.id}`),children:B.autista?.nome||"-"}),d.jsx("td",{className:"px-2 py-2 text-sm",onClick:()=>N(`/spedizioni/${B.id}`),children:B.richiedente?.nome||"-"}),A==="Fallita"&&d.jsx("td",{className:"px-2 py-2 text-sm",children:d.jsx("button",{className:"bg-red-600 text-white px-3 py-1 rounded",onClick:q=>{q.stopPropagation(),R(B.id)},children:"Elimina"})})]},B.id))})]})]},A))]})}function u3(){const t=["image/png","image/jpeg","image/jpg","image/webp"],[n,a]=O.useState([]),[o,c]=O.useState(""),[f,m]=O.useState(1),v=10,[x,_]=O.useState(!0),[w,N]=O.useState(!1),[E,P]=O.useState(!1),[C,j]=O.useState(null),[M,R]=O.useState(!1),[A,F]=O.useState(""),[B,q]=O.useState(""),[H,$]=O.useState({azienda:"",indirizzo:"",referente:"",telefono:"",email:"",logo:""}),[V,I]=O.useState(null),[U,ee]=O.useState(null),K=O.useRef(),ce=gn(),{setNotification:_e}=qt(),{user:de,token:he}=Ct();O.useEffect(()=>{de&&he&&(_(!0),fetch(`${Ee}/api/posizioni`,{headers:{Authorization:`Bearer ${he}`}}).then(pe=>pe.json()).then(pe=>{pe.sort((Se,De)=>Se.azienda.localeCompare(De.azienda)),a(pe),_(!1)}))},[de,he,w,E,M,B]),O.useEffect(()=>{if(de&&he){let pe=!0,Se=0;const De=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${he}`}}).then(Qe=>Qe.json()).then(Qe=>{pe&&(Se>0&&Qe.length>Se&&Qe.slice(Se).forEach(Be=>{_e({text:`${Be.sender?.nome}: ${Be.text}`})}),Se=Qe.length)})};De();const Ze=setInterval(De,2e3);return()=>{pe=!1,clearInterval(Ze)}}},[_e,de,he]);const Y=()=>{$({azienda:"",indirizzo:"",referente:"",telefono:"",email:"",logo:""}),I(null),ee(null),K.current&&(K.current.value="")},fe=pe=>pe?t.includes(pe.type)?pe.size>1048576?(F("Logo troppo grande (max 1MB)."),!1):!0:(F("Formato immagine non valido. Usa PNG, JPG, WEBP."),!1):!0,ne=async pe=>{if(pe.preventDefault(),R(!0),F(""),q(""),!fe(U)){R(!1);return}try{if(!de||!he)throw new Error("Non autenticato");const Se=new FormData;if(Object.entries(H).forEach(([Ze,Qe])=>{Ze!=="logo"&&Se.append(Ze,Qe)}),U&&Se.append("logo",U),!(await fetch(`${Ee}/api/posizioni`,{method:"POST",headers:{Authorization:`Bearer ${he}`},body:Se})).ok)throw new Error;N(!1),q("Posizione aggiunta!"),Y()}catch{F("Errore nel salvataggio")}finally{R(!1)}},z=pe=>{const Se=n[pe];j(Se.id),$({...Se}),I(Se.logo?`${Ee}/uploads/${Se.logo}`:null),ee(null),P(!0),F(""),q(""),K.current&&(K.current.value="")},D=async pe=>{if(pe.preventDefault(),R(!0),F(""),q(""),!fe(U)){R(!1);return}try{if(!de||!he)throw new Error("Non autenticato");const Se=new FormData;if(Object.entries(H).forEach(([Ze,Qe])=>{Ze!=="logo"&&Se.append(Ze,Qe)}),U&&Se.append("logo",U),!(await fetch(`${Ee}/api/posizioni/${C}`,{method:"PUT",headers:{Authorization:`Bearer ${he}`},body:Se})).ok)throw new Error;P(!1),q("Modifica salvata!"),Y()}catch{F("Errore nel salvataggio")}finally{R(!1)}},X=async()=>{R(!0),F(""),q("");try{if(!de||!he)throw new Error("Non autenticato");if(!(await fetch(`${Ee}/api/posizioni/${C}`,{method:"DELETE",headers:{Authorization:`Bearer ${he}`}})).ok)throw new Error;P(!1),q("Posizione eliminata!"),Y()}catch{F("Errore nell'eliminazione")}finally{R(!1)}},re=pe=>{const Se=pe.target.files[0];ee(Se||null),I(Se?URL.createObjectURL(Se):null)},oe=pe=>{ce(`/posizioni/${pe}`)},Q=n.filter(pe=>pe.azienda.toLowerCase().includes(o.toLowerCase())||pe.indirizzo.toLowerCase().includes(o.toLowerCase())||pe.referente.toLowerCase().includes(o.toLowerCase())),me=Math.ceil(Q.length/v),ye=Q.slice((f-1)*v,f*v);return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Posizioni"}),d.jsx("button",{onClick:()=>{N(!0),F(""),q(""),Y()},className:"bg-blue-600 text-white px-4 py-2 rounded font-semibold shadow hover:bg-blue-700",children:"+ Aggiungi"})]}),d.jsx("div",{className:"mb-4 flex items-center gap-2",children:d.jsx("input",{type:"text",className:"border p-2 rounded w-full max-w-md",placeholder:"Cerca per azienda, indirizzo o referente...",value:o,onChange:pe=>{c(pe.target.value),m(1)}})}),B&&d.jsx("div",{className:"text-green-600 mb-2",children:B}),x?d.jsx("div",{children:"Caricamento..."}):d.jsx("div",{className:"bg-white rounded shadow divide-y",children:ye.map((pe,Se)=>d.jsxs("div",{className:"flex items-center gap-4 py-4 px-2 hover:bg-gray-50",onClick:()=>oe(pe.id),style:{cursor:"pointer"},children:[d.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded flex items-center justify-center text-gray-400 text-2xl font-bold overflow-hidden",children:pe.logo&&typeof pe.logo=="string"&&pe.logo!==""?d.jsx("img",{src:`${Ee}/uploads/${pe.logo}`,alt:"logo",className:"object-contain w-full h-full",onError:De=>{De.target.onerror=null,De.target.src="https://placehold.co/64x64?text=Logo"}}):d.jsx("span",{className:"material-icons",children:"location_on"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-xs uppercase text-blue-800 font-bold tracking-wide",children:pe.referente}),d.jsx("div",{className:"text-lg font-bold text-gray-900 mb-1",children:pe.azienda}),d.jsx("div",{className:"text-gray-700 text-sm mb-1",children:pe.indirizzo}),d.jsxs("div",{className:"text-gray-500 text-xs mt-1",children:["Tel: ",pe.telefono," | Email: ",pe.email]})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-700 p-2 rounded-full",onClick:De=>{De.stopPropagation(),z(n.findIndex(Ze=>Ze.id===pe.id))},"aria-label":"Modifica",children:d.jsx("span",{className:"material-icons",children:"more_horiz"})})})]},pe.id||Se))}),d.jsxs("div",{className:"flex justify-center items-center gap-2 mt-4",children:[d.jsx("button",{className:"px-3 py-1 rounded bg-gray-200 text-gray-700 disabled:opacity-50",onClick:()=>m(f-1),disabled:f===1,children:"<"}),d.jsxs("span",{className:"px-2",children:["Pagina ",f," di ",me]}),d.jsx("button",{className:"px-3 py-1 rounded bg-gray-200 text-gray-700 disabled:opacity-50",onClick:()=>m(f+1),disabled:f===me||me===0,children:">"})]}),w&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:d.jsxs("div",{className:"bg-white rounded shadow p-6 w-full max-w-md relative",role:"dialog","aria-modal":"true",children:[d.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 text-xl",onClick:()=>{N(!1),Y()},"aria-label":"Chiudi",children:"×"}),d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Aggiungi Destinazione"}),A&&d.jsx("div",{className:"text-red-600 mb-2",children:A}),d.jsxs("form",{onSubmit:ne,className:"flex flex-col gap-3",children:[d.jsx("input",{className:"border p-2 rounded",placeholder:"Azienda",value:H.azienda,onChange:pe=>$(Se=>({...Se,azienda:pe.target.value})),required:!0}),d.jsx("input",{className:"border p-2 rounded",placeholder:"Indirizzo",value:H.indirizzo,onChange:pe=>$(Se=>({...Se,indirizzo:pe.target.value})),required:!0}),d.jsx("input",{className:"border p-2 rounded",placeholder:"Referente",value:H.referente,onChange:pe=>$(Se=>({...Se,referente:pe.target.value})),required:!0}),d.jsx("input",{className:"border p-2 rounded",placeholder:"Telefono",value:H.telefono,onChange:pe=>$(Se=>({...Se,telefono:pe.target.value})),required:!0}),d.jsx("input",{className:"border p-2 rounded",placeholder:"Email",value:H.email,onChange:pe=>$(Se=>({...Se,email:pe.target.value})),required:!0,type:"email"}),d.jsx("input",{className:"border p-2 rounded",type:"file",accept:"image/*",ref:K,onChange:re}),V&&d.jsx("img",{src:V,alt:"Anteprima logo",className:"h-16 object-contain mt-2"}),d.jsxs("div",{className:"flex gap-2 mt-2",children:[d.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",disabled:M,children:"Salva"}),d.jsx("button",{type:"button",className:"bg-gray-400 text-white px-4 py-2 rounded",onClick:()=>{N(!1),Y()},disabled:M,children:"Annulla"})]})]})]})}),E&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:d.jsxs("div",{className:"bg-white rounded shadow p-6 w-full max-w-md relative",role:"dialog","aria-modal":"true",children:[d.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 text-xl",onClick:()=>{P(!1),Y()},"aria-label":"Chiudi",children:"×"}),d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Modifica Destinazione"}),A&&d.jsx("div",{className:"text-red-600 mb-2",children:A}),d.jsxs("form",{onSubmit:D,className:"flex flex-col gap-3",children:[d.jsx("input",{className:"border p-2 rounded",placeholder:"Azienda",value:H.azienda,onChange:pe=>$(Se=>({...Se,azienda:pe.target.value})),required:!0}),d.jsx("input",{className:"border p-2 rounded",placeholder:"Indirizzo",value:H.indirizzo,onChange:pe=>$(Se=>({...Se,indirizzo:pe.target.value})),required:!0}),d.jsx("input",{className:"border p-2 rounded",placeholder:"Referente",value:H.referente,onChange:pe=>$(Se=>({...Se,referente:pe.target.value})),required:!0}),d.jsx("input",{className:"border p-2 rounded",placeholder:"Telefono",value:H.telefono,onChange:pe=>$(Se=>({...Se,telefono:pe.target.value})),required:!0}),d.jsx("input",{className:"border p-2 rounded",placeholder:"Email",value:H.email,onChange:pe=>$(Se=>({...Se,email:pe.target.value})),required:!0,type:"email"}),d.jsx("input",{className:"border p-2 rounded",type:"file",accept:"image/*",ref:K,onChange:re}),V&&d.jsx("img",{src:V,alt:"Anteprima logo",className:"h-16 object-contain mt-2"}),d.jsxs("div",{className:"flex gap-2 mt-2",children:[d.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",disabled:M,children:"Salva"}),d.jsx("button",{type:"button",className:"bg-red-600 text-white px-4 py-2 rounded",onClick:X,disabled:M,children:"Elimina"}),d.jsx("button",{type:"button",className:"bg-gray-400 text-white px-4 py-2 rounded",onClick:()=>{P(!1),Y()},disabled:M,children:"Annulla"})]})]})]})})]})}function c3(){const{setNotification:e,sendPushNotification:t,pushNotificationsEnabled:n,requestNotificationPermission:a,subscribeForPush:o}=qt(),{user:c,token:f,logout:m}=Ct(),{unreadCount:v}=EN(),[x,_]=O.useState([]),[w,N]=O.useState(!0),[E,P]=O.useState(!1),C=gn();O.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&P(!0)},[]);const j=async()=>{await a()?await o()?(P(!1),e({text:"Notifiche push abilitate e sottoscritte",type:"success"})):e({text:"Notifiche abilitate ma la sottoscrizione non è stata completata",type:"warning"}):e({text:"Permessi per le notifiche negati"})};O.useEffect(()=>{if(c&&f){let q=!0,H=new Set,$=new Map;const V=ee=>{if(!ee)return!1;const K=new Date(ee),ce=new Date;return K.getFullYear()===ce.getFullYear()&&K.getMonth()===ce.getMonth()&&K.getDate()===ce.getDate()},I=()=>{fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${f}`}}).then(ee=>{if(ee.status===401||ee.status===403){m(),C("/login"),e({text:"Sessione scaduta. Effettua nuovamente il login.",type:"error"});return}if(!ee.ok)throw new Error("Errore nel caricamento delle spedizioni");return ee.json()}).then(ee=>{if(!q||!ee)return;const K=ee.filter(de=>de.autista&&de.autista.id===c.id&&de.status!=="Consegnata"&&V(de.dataPianificata)),ce=new Set(K.map(de=>de.id));if(H.size>0){const de=[...ce].filter(he=>!H.has(he));de.length>0&&K.filter(Y=>de.includes(Y.id)).forEach(Y=>{if(e({text:`Nuova spedizione assegnata: ${Y.aziendaDestinazione}`}),n){const fe={consegna:"Nuova consegna assegnata!",ritiro:"Nuovo ritiro assegnato!",entrambi:"Nuova spedizione assegnata!"},ne={consegna:"🚚",ritiro:"📦",entrambi:"🔄"},z=fe[Y.tipo]||"Nuova spedizione assegnata!",D=ne[Y.tipo]||"🚛";t(z,{body:`${Y.aziendaDestinazione} - ${Y.indirizzo}`,icon:D,tag:"delivery-assignment",requireInteraction:!0,onClick:()=>{C(`/spedizioni-mobile/${Y.id}`)}}),$.set(Y.id,Y.status)}}),K.forEach(he=>{const Y=$.get(he.id);Y&&Y!==he.status&&(e({text:`Aggiornamento spedizione #${he.id}: ${he.status}`}),n&&t({"In consegna":"Consegna iniziata",Consegnata:"Consegna completata",Fallita:"Consegna fallita"}[he.status]||"Stato aggiornato",{body:`${he.aziendaDestinazione} - ${he.status}`,icon:he.status==="Consegnata"?"✅":he.status==="Fallita"?"❌":"🚚"})),$.set(he.id,he.status)})}H=ce;const _e=K.sort((de,he)=>{const Y={"In consegna":0,"In attesa":1,Fallita:2};return Y[de.status]!==Y[he.status]?Y[de.status]-Y[he.status]:new Date(de.dataPianificata)-new Date(he.dataPianificata)});_(_e)}).catch(()=>{q&&e({text:"Errore nel caricamento delle spedizioni"})}).finally(()=>{q&&N(!1)})};I();const U=setInterval(I,5e3);return()=>{q=!1,clearInterval(U)}}else N(!1)},[c,f,e,t,n,C]);const M=q=>{switch(q){case"In attesa":return"bg-blue-100 text-blue-800";case"In consegna":return"bg-orange-100 text-orange-800";case"Consegnata":return"bg-green-100 text-green-800";case"Fallita":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},R=q=>{switch(q){case"consegna":return"";case"ritiro":return"";case"entrambi":return"";default:return""}},A=async(q,H)=>{try{if(!c||!f)return;const $=await fetch(`${Ee}/api/spedizioni/${q}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({status:H})});if($.status===401||$.status===403){m(),C("/login"),e({text:"Sessione scaduta. Effettua nuovamente il login.",type:"error"});return}if(!$.ok)throw new Error;const V=x.find(U=>U.id===q);_(U=>U.map(ee=>ee.id===q?{...ee,status:H}:ee).filter(ee=>ee.status!=="Consegnata"));const I=`Spedizione ${H.toLowerCase()} con successo`;if(e({text:I}),H==="Consegnata")try{const ee={text:`Ho consegnato la spedizione #${q}${V&&V.aziendaDestinazione?" - "+V.aziendaDestinazione:""}`,spedizioneId:q};c&&(ee.sender={nome:c.nome||c.name||(c.mail?c.mail.split("@")[0]:"Autista"),mail:c.mail});const K=await fetch(`${Ee}/api/messaggi`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify(ee)});if(K.status===401||K.status===403){m(),C("/login"),e({text:"Sessione scaduta. Effettua nuovamente il login.",type:"error"});return}}catch(U){console.warn("Errore nell'invio del messaggio di consegna:",U),e({text:"Consegna registrata ma impossibile inviare messaggio di notifica",type:"warning"})}n&&V&&t({"In consegna":"Consegna iniziata",Consegnata:"Consegna completata",Fallita:"Consegna fallita"}[H]||"Stato aggiornato",{body:`${V.aziendaDestinazione} - ${H}`,icon:H==="Consegnata"?"✅":H==="Fallita"?"❌":"🚚"})}catch{e({text:"Errore nell'aggiornamento dello stato"})}},F=(q,H)=>{const $=encodeURIComponent(`${q}`),V=/iPad|iPhone|iPod/.test(navigator.userAgent),I=/Android/.test(navigator.userAgent);let U;V?U=`maps://maps.apple.com/?q=${$}`:I?U=`geo:0,0?q=${$}`:U=`https://www.google.com/maps/search/?api=1&query=${$}`,window.location.href=U,setTimeout(()=>{if(V||I){const ee=`https://www.google.com/maps/search/?api=1&query=${$}`;window.open(ee,"_blank")}},500)},B=q=>q?new Date(q).toLocaleDateString("it-IT",{weekday:"short",day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}):"-";return w?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Caricamento consegne..."})]})}):d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E&&d.jsx("div",{className:"bg-blue-600 text-white p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-sm",children:"Abilita le notifiche push"}),d.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Ricevi notifiche per nuove spedizioni e messaggi anche quando l'app è in background"})]}),d.jsxs("div",{className:"flex gap-2 ml-3",children:[d.jsx("button",{onClick:j,className:"bg-white text-blue-600 text-xs px-3 py-1 rounded font-medium hover:bg-gray-100 transition-colors",children:"Abilita"}),d.jsx("button",{onClick:()=>P(!1),className:"text-white text-xs px-2 py-1 rounded hover:bg-blue-700 transition-colors",children:"✕"})]})]})}),d.jsx("div",{className:"p-4",children:x.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-6xl mb-4",children:"🚚"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Nessuna consegna assegnata"}),d.jsx("p",{className:"text-gray-500",children:"Al momento non ci sono spedizioni da completare"})]}):d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Le mie consegne"}),d.jsxs("p",{className:"text-gray-600",children:[x.length," spedizion",x.length!==1?"i":"e"," assegnat",x.length!==1?"e":"a"]})]}),x.map(q=>d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 border-l-4 border-blue-500 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>C(`/spedizioni-mobile/${q.id}`),children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-3xl mr-3",children:R(q.tipo)}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold tracking-wide shadow ${q.tipo==="consegna"?"bg-blue-600 text-white":q.tipo==="ritiro"?"bg-green-600 text-white":q.tipo==="entrambi"?"bg-purple-600 text-white":"bg-gray-300 text-gray-800"}`,children:q.tipo?q.tipo.charAt(0).toUpperCase()+q.tipo.slice(1):"Tipo"}),d.jsx("button",{onClick:H=>{H.stopPropagation(),F(q.indirizzo,q.aziendaDestinazione)},className:"bg-blue-500 hover:bg-blue-600 text-white text-xs py-1 px-2 rounded-md font-medium transition-colors flex items-center gap-1",children:d.jsx("span",{className:"material-icons text-xs",children:"navigation"})})]}),d.jsx("h3",{className:"font-bold text-gray-900 text-lg leading-tight",children:q.aziendaDestinazione}),d.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${M(q.status)} mt-1`,children:q.status})]})]}),d.jsx("div",{className:"text-xs text-gray-500 text-right",children:d.jsxs("div",{children:["#",q.id.toString().slice(-4)]})})]}),d.jsxs("div",{className:"flex items-start mb-3",children:[d.jsx("span",{className:"material-icons text-gray-400 text-sm mr-2 mt-0.5",children:"place"}),d.jsx("p",{className:"text-gray-700 text-sm leading-relaxed flex-1",children:q.indirizzo})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 text-xs",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"material-icons text-gray-400 text-sm mr-1",children:"schedule"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Richiesta"}),d.jsx("div",{className:"font-medium text-gray-700",children:B(q.dataRichiesta)})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"material-icons text-green-500 text-sm mr-1",children:"event"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Pianificata"}),d.jsx("div",{className:"font-medium text-gray-700",children:B(q.dataPianificata)})]})]})]}),d.jsxs("div",{className:"border-t pt-3 mt-3",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[q.richiedente&&d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"material-icons text-gray-400 text-sm mr-1",children:"person"}),d.jsx("span",{className:"text-gray-600",children:"Richiesta da: "}),d.jsx("span",{className:"font-medium text-gray-800",children:q.richiedente.nome})]}),q.note&&d.jsxs("div",{className:"flex items-start",children:[d.jsx("span",{className:"material-icons text-gray-400 text-sm mr-1 mt-0.5",children:"notes"}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-600",children:"Note: "}),d.jsx("div",{className:"text-gray-800 whitespace-pre-wrap break-words",children:q.note})]})]})]}),d.jsxs("div",{className:"flex gap-2 mt-3",children:[q.status==="In attesa"&&d.jsxs("button",{onClick:H=>{H.stopPropagation(),A(q.id,"In consegna")},className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white text-xs py-2 px-3 rounded-md font-medium transition-colors flex items-center justify-center gap-1",children:[d.jsx("span",{className:"material-icons text-sm",children:"local_shipping"}),"Inizia consegna"]}),q.status==="In consegna"&&d.jsxs("button",{onClick:H=>{H.stopPropagation(),window.confirm("Sei sicuro di voler segnare questa spedizione come consegnata?")&&A(q.id,"Consegnata")},className:"flex-1 bg-green-500 hover:bg-green-600 text-white text-xs py-2 px-3 rounded-md font-medium transition-colors flex items-center justify-center gap-1",children:[d.jsx("span",{className:"material-icons text-sm",children:"check_circle"}),"Consegnata"]}),(q.status==="In attesa"||q.status==="In consegna")&&d.jsxs("button",{onClick:H=>{H.stopPropagation(),window.confirm("Sei sicuro di voler segnare questa spedizione come fallita?")&&A(q.id,"Fallita")},className:"bg-red-500 hover:bg-red-600 text-white text-xs py-2 px-3 rounded-md font-medium transition-colors flex items-center justify-center gap-1",children:[d.jsx("span",{className:"material-icons text-sm",children:"error"}),"Fallita"]})]})]}),d.jsx("div",{className:"flex justify-end mt-2",children:d.jsx("span",{className:"material-icons text-gray-300",children:"chevron_right"})})]},q.id))]})}),d.jsxs("div",{className:"fixed bottom-4 right-4 flex flex-col gap-3",children:[!1,d.jsx("button",{onClick:()=>C("/autista/mappa"),className:"bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-full shadow-lg transition-colors","aria-label":"Mappa odierna",children:d.jsx("span",{className:"material-icons",children:"map"})}),d.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full shadow-lg transition-colors","aria-label":"Aggiorna",children:d.jsx("span",{className:"material-icons",children:"refresh"})})]})]})}function d3(){const[e,t]=O.useState(!1);O.useRef(!1);const{user:n,token:a}=Ct(),{setNotification:o,sendPushNotification:c,pushNotificationsEnabled:f,requestNotificationPermission:m}=qt(),[v,x]=O.useState([]),[_,w]=O.useState(""),[N,E]=O.useState(!0),[P,C]=O.useState(""),[j,M]=O.useState(null),[R,A]=O.useState(!1),F=O.useRef(null);O.useRef(null);const B=O.useRef({});O.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&A(!0)},[]);const q=async()=>{await m()?(A(!1),o({text:"Notifiche push abilitate!"})):o({text:"Permessi per le notifiche negati"})};O.useEffect(()=>{if(n&&a){let $=!0;const V=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${a}`}}).then(U=>U.json()).then(U=>{$&&(v.length>0&&U.length>v.length&&U.slice(v.length).forEach(K=>{K.sender?.mail!==n?.mail&&(o({text:`${K.sender?.nome}: ${K.text}`}),f&&c(`Nuovo messaggio da ${K.sender?.nome}`,{body:K.text,icon:"💬",tag:"chat-message",requireInteraction:!1,onClick:()=>{window.focus(),setTimeout(()=>{F.current?.scrollIntoView({behavior:"smooth"})},100)}}))}),x(U),E(!1))}).catch(()=>{C("Errore nel caricamento dei messaggi"),E(!1)})};V();const I=setInterval(V,2e3);return()=>{$=!1,clearInterval(I)}}},[n,a,v.length,o,c,f]);const H=async $=>{if($.preventDefault(),!!_.trim())try{if(!n||!a)throw new Error("Non autenticato");const V={sender:{nome:n?.nome||"Anonimo",mail:n?.mail||""},text:_};j&&(V.replyTo=j);const U=await(await fetch(`${Ee}/api/messaggi`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(V)})).json();x(ee=>[...ee,U]),w(""),M(null),C(""),setTimeout(()=>{const ee=document.getElementById("chat-scrollable");if(ee){const K=ee.scrollHeight-ee.scrollTop-ee.clientHeight<10;t(!K)}},0)}catch{C("Errore nell'invio del messaggio")}};return O.useEffect(()=>{v.length>0&&(F.current?.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{const $=document.getElementById("chat-scrollable");if($){const V=$.scrollHeight-$.scrollTop-$.clientHeight<10;t(!V)}},0))},[v]),O.useEffect(()=>{const $=document.getElementById("chat-scrollable");if(!$)return;const V=()=>{const I=$.scrollHeight-$.scrollTop-$.clientHeight<10;t(!I)};return $.addEventListener("scroll",V),setTimeout(V,0),()=>$.removeEventListener("scroll",V)},[]),d.jsxs("div",{className:"p-8 max-w-5xl mx-auto",children:[R&&d.jsx("div",{className:"bg-blue-600 text-white p-4 mb-6 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-sm",children:"Abilita le notifiche push"}),d.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Ricevi notifiche per nuovi messaggi anche quando l'app è in background"})]}),d.jsxs("div",{className:"flex gap-2 ml-3",children:[d.jsx("button",{onClick:q,className:"bg-white text-blue-600 text-xs px-3 py-1 rounded font-medium hover:bg-gray-100 transition-colors",children:"Abilita"}),d.jsx("button",{onClick:()=>A(!1),className:"text-white text-xs px-2 py-1 rounded hover:bg-blue-700 transition-colors",children:"✕"})]})]})}),d.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Chat"}),d.jsxs("div",{id:"chat-scrollable",className:"bg-white rounded shadow p-6 mb-6 h-[600px] overflow-y-auto flex flex-col relative",children:[e&&d.jsx("button",{type:"button",className:"absolute right-4 bottom-4 bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 transition-all",style:{zIndex:10},onClick:()=>F.current?.scrollIntoView({behavior:"smooth"}),children:"Vai all'ultimo messaggio"}),N?d.jsx("div",{className:"text-blue-600",children:"Caricamento messaggi..."}):P?d.jsx("div",{className:"text-red-600",children:P}):v.map($=>{if($.sender?.nome==="Sistema")return d.jsx("div",{className:"mb-4 flex justify-center",children:d.jsxs("div",{className:"flex flex-col items-center w-full",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("span",{className:"material-icons text-gray-400 text-xl",children:"info"}),d.jsx("span",{className:"font-semibold text-gray-500 text-base",children:"Messaggio di sistema"})]}),d.jsxs("div",{className:"bg-gray-100 text-gray-700 px-6 py-3 rounded-lg mt-2 text-center max-w-2xl shadow",style:{whiteSpace:"pre-line"},children:[$.text,d.jsx("span",{className:"ml-2 text-xs text-gray-400",children:$.timestamp?new Date($.timestamp).toLocaleTimeString():""})]})]})},$.id);const V=$.sender?.nome?.trim().toLowerCase()===n?.nome?.trim().toLowerCase();let I=null;$.replyTo&&(I=v.find(ee=>ee.id===$.replyTo)),B.current[$.id]||(B.current[$.id]=te.createRef());const U=()=>{const ee=B.current[$.replyTo];ee&&ee.current&&(ee.current.scrollIntoView({behavior:"smooth",block:"center"}),ee.current.classList.add("ring-4","ring-blue-400"),setTimeout(()=>{ee.current.classList.remove("ring-4","ring-blue-400")},1500))};return d.jsx("div",{ref:B.current[$.id],className:`mb-2 flex ${V?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:"flex flex-col items-start max-w-xl",children:[d.jsx("span",{className:`font-bold mb-1 text-sm ${V?"text-blue-700":"text-gray-700"}`,children:$.sender?.nome}),I&&d.jsxs("div",{className:"mb-1 px-3 py-2 rounded bg-gray-200 text-xs text-gray-600 border-l-4 border-blue-400 cursor-pointer hover:bg-blue-100",onClick:U,title:"Vai al messaggio originale",children:[d.jsxs("span",{className:"font-semibold",children:["Risposta a ",I.sender?.nome,":"]})," ",I.text]}),d.jsxs("div",{className:`px-4 py-3 rounded-lg break-words ${V?"bg-blue-100 text-blue-900":"bg-gray-100 text-gray-800"}`,children:[d.jsx("span",{children:$.text}),d.jsx("span",{className:"ml-2 text-xs text-gray-400",children:$.timestamp?new Date($.timestamp).toLocaleTimeString():""})]}),d.jsx("button",{className:"mt-1 text-xs text-blue-600 underline cursor-pointer self-end",onClick:()=>M($.id),children:"Rispondi"})]})},$.id)}),d.jsx("div",{ref:F})]}),d.jsxs("form",{onSubmit:H,className:"flex gap-2 flex-col",children:[j&&d.jsxs("div",{className:"mb-2 p-2 bg-blue-50 border-l-4 border-blue-400 text-sm text-blue-700 flex items-center justify-between",children:[d.jsxs("span",{children:["Rispondendo a: ",d.jsx("b",{children:v.find($=>$.id===j)?.sender?.nome}),' — "',v.find($=>$.id===j)?.text,'"']}),d.jsx("button",{type:"button",className:"ml-4 text-xs text-red-500 underline",onClick:()=>M(null),children:"Annulla"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:_,onChange:$=>w($.target.value),className:"flex-1 border rounded p-3 text-lg",placeholder:"Scrivi un messaggio...",disabled:N}),d.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-3 rounded text-lg font-semibold",disabled:N||!_.trim(),children:"Invia"})]})]})]})}function sd(e,t,n){const a=t.join(";"),o=e.map(x=>t.map(_=>{let w=x[_];return w===void 0&&(_==="mail"&&(w=x.mail||x.email||""),_==="role"&&(w=x.role||x.ruolo||""),_==="autista"&&(w=x.autista?.nome||""),_==="sender"&&(w=x.sender?.nome||""),_==="createdAt"&&(w=x.createdAt?new Date(x.createdAt).toLocaleString():""),_==="dataPianificata"&&(w=x.dataPianificata?new Date(x.dataPianificata).toLocaleDateString():""),_==="oraPianificata"&&(w=x.dataPianificata?new Date(x.dataPianificata).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"")),w!=null?String(w).replace(/;/g,","):""}).join(";")),c=a+`
`+o.join(`
`),f=new Blob([c],{type:"text/csv"}),m=URL.createObjectURL(f),v=document.createElement("a");v.href=m,v.download=n,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(m)}function f3(){return typeof window>"u"?!1:/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(window.navigator.userAgent)}function h3(){const{setNotification:e}=qt(),{user:t,token:n}=Ct(),[a,o]=O.useState(!1),[c,f]=O.useState([]),[m,v]=O.useState([]),[x,_]=O.useState([]),[w,N]=O.useState([]);return O.useEffect(()=>{o(f3())},[]),O.useEffect(()=>{if(console.log("Admin effect",t,n),!t||typeof n!="string"||n.trim()===""){console.log("Early return: user or token missing",t,n);return}(async()=>{try{console.log("FETCH utenti header:",{Authorization:`Bearer ${n}`});const P=await fetch(`${Ee}/api/utenti`,{headers:{Authorization:`Bearer ${n}`}});if(!P.ok)throw new Error("Utenti fetch failed: "+P.status);const C=await P.json();f(C),console.log("FETCH spedizioni header:",{Authorization:`Bearer ${n}`});const j=await fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${n}`}});if(!j.ok)throw new Error("Spedizioni fetch failed: "+j.status);const M=await j.json();v(M),console.log("FETCH posizioni header:",{Authorization:`Bearer ${n}`});const R=await fetch(`${Ee}/api/posizioni`,{headers:{Authorization:`Bearer ${n}`}});if(!R.ok)throw new Error("Posizioni fetch failed: "+R.status);const A=await R.json();_(A),console.log("FETCH messaggi header:",{Authorization:`Bearer ${n}`});const F=await fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${n}`}});if(!F.ok)throw new Error("Messaggi fetch failed: "+F.status);const B=await F.json();N(B)}catch(P){e({text:"Errore: "+P.message})}})()},[t,n]),d.jsxs("div",{className:a?"p-0 max-w-full mx-auto w-full flex flex-col items-center":"px-0 max-w-6xl mx-auto w-full",children:[d.jsx("h1",{className:a?"text-xl font-bold mb-2":"text-2xl font-bold mb-2 sm:mb-4",children:"Admin - Database"}),d.jsxs("div",{className:"mb-8 w-full",children:[d.jsx("button",{className:"mb-2 px-4 py-2 bg-green-600 text-white rounded font-semibold",onClick:()=>sd(c,c.length>0?Object.keys(c[0]):[],"utenti.csv"),children:"Export CSV"}),d.jsx("h2",{className:"text-lg font-bold mb-2",children:"Utenti"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-[1000px] w-full table-auto border text-base",children:[d.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10",children:d.jsx("tr",{children:c.length>0&&Object.keys(c[0]).filter(E=>E!=="password").map(E=>d.jsx("th",{className:"px-4 py-2 font-semibold text-gray-700 border-b",children:E},E))})}),d.jsx("tbody",{children:c.map((E,P)=>d.jsx("tr",{className:P%2===0?"bg-white":"bg-gray-50",children:Object.keys(c[0]||{}).filter(C=>C!=="password").map(C=>d.jsx("td",{className:"px-6 py-3 border-b align-top max-w-[400px] break-words",children:typeof E[C]=="object"&&E[C]!==null?d.jsx("table",{className:"bg-gray-100 rounded text-xs mt-1",children:d.jsx("tbody",{children:Object.entries(E[C]).map(([j,M])=>d.jsxs("tr",{children:[d.jsx("td",{className:"font-semibold text-gray-600 px-2 py-1",children:j}),d.jsx("td",{className:"px-2 py-1",children:String(M)})]},j))})}):String(E[C])},C))},E.id||E.mail||E.nome))})]})})]}),d.jsxs("div",{className:"mb-8 w-full",children:[d.jsx("button",{className:"mb-2 px-4 py-2 bg-green-600 text-white rounded font-semibold",onClick:()=>sd(m,m.length>0?Object.keys(m[0]):[],"spedizioni.csv"),children:"Export CSV"}),d.jsx("h2",{className:"text-lg font-bold mb-2",children:"Spedizioni"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-[1200px] w-full table-auto border text-base",children:[d.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10",children:d.jsx("tr",{children:m.length>0&&Object.keys(m[0]).map(E=>d.jsx("th",{className:"px-4 py-2 font-semibold text-gray-700 border-b",children:E},E))})}),d.jsx("tbody",{children:m.map((E,P)=>d.jsx("tr",{className:P%2===0?"bg-white":"bg-gray-50",children:Object.keys(m[0]||{}).map(C=>d.jsx("td",{className:"px-6 py-3 border-b align-top max-w-[400px] break-words",children:typeof E[C]=="object"&&E[C]!==null?d.jsx("table",{className:"bg-gray-100 rounded text-xs mt-1",children:d.jsx("tbody",{children:Object.entries(E[C]).map(([j,M])=>d.jsxs("tr",{children:[d.jsx("td",{className:"font-semibold text-gray-600 px-2 py-1",children:j}),d.jsx("td",{className:"px-2 py-1",children:String(M)})]},j))})}):String(E[C])},C))},E.id||E.aziendaDestinazione))})]})})]}),d.jsxs("div",{className:"mb-8 w-full",children:[d.jsx("button",{className:"mb-2 px-4 py-2 bg-green-600 text-white rounded font-semibold",onClick:()=>sd(x,x.length>0?Object.keys(x[0]):[],"posizioni.csv"),children:"Export CSV"}),d.jsx("h2",{className:"text-lg font-bold mb-2",children:"Posizioni"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-[1000px] w-full table-auto border text-base",children:[d.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10",children:d.jsx("tr",{children:x.length>0&&Object.keys(x[0]).map(E=>d.jsx("th",{className:"px-4 py-2 font-semibold text-gray-700 border-b",children:E},E))})}),d.jsx("tbody",{children:x.map((E,P)=>d.jsx("tr",{className:P%2===0?"bg-white":"bg-gray-50",children:Object.keys(x[0]||{}).map(C=>d.jsx("td",{className:"px-6 py-3 border-b align-top max-w-[400px] break-words",children:typeof E[C]=="object"&&E[C]!==null?d.jsx("table",{className:"bg-gray-100 rounded text-xs mt-1",children:d.jsx("tbody",{children:Object.entries(E[C]).map(([j,M])=>d.jsxs("tr",{children:[d.jsx("td",{className:"font-semibold text-gray-600 px-2 py-1",children:j}),d.jsx("td",{className:"px-2 py-1",children:String(M)})]},j))})}):String(E[C])},C))},E.id||E.nome))})]})})]}),d.jsxs("div",{className:"mb-8 w-full",children:[d.jsx("button",{className:"mb-2 px-4 py-2 bg-green-600 text-white rounded font-semibold",onClick:()=>sd(w,w.length>0?Object.keys(w[0]):[],"messaggi.csv"),children:"Export CSV"}),d.jsx("h2",{className:"text-lg font-bold mb-2",children:"Messaggi"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-[1000px] w-full table-auto border text-base",children:[d.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10",children:d.jsx("tr",{children:w.length>0&&Object.keys(w[0]).map(E=>d.jsx("th",{className:"px-4 py-2 font-semibold text-gray-700 border-b",children:E},E))})}),d.jsx("tbody",{children:w.map((E,P)=>d.jsx("tr",{className:P%2===0?"bg-white":"bg-gray-50",children:Object.keys(w[0]||{}).map(C=>d.jsx("td",{className:"px-6 py-3 border-b align-top max-w-[400px] break-words",children:typeof E[C]=="object"&&E[C]!==null?d.jsx("table",{className:"bg-gray-100 rounded text-xs mt-1",children:d.jsx("tbody",{children:Object.entries(E[C]).map(([j,M])=>d.jsxs("tr",{children:[d.jsx("td",{className:"font-semibold text-gray-600 px-2 py-1",children:j}),d.jsx("td",{className:"px-2 py-1",children:String(M)})]},j))})}):String(E[C])},C))},E.id||E.text))})]})})]})]})}function p3(){const[e,t]=O.useState(""),[n,a]=O.useState(""),[o,c]=O.useState(""),{login:f,users:m,error:v,logout:x}=Ct(),{setNotification:_}=qt(),w=gn();O.useEffect(()=>{},[]),O.useEffect(()=>{let E=!0,P=0;const C=()=>{const R=JSON.parse(localStorage.getItem("user"));R?.token&&fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${R.token}`}}).then(A=>A.json()).then(A=>{E&&(Array.isArray(A)&&P>0&&A.length>P&&A.slice(P).forEach(B=>{_({text:`${B.sender?.nome}: ${B.text}`})}),P=Array.isArray(A)?A.length:0)})};if(!JSON.parse(localStorage.getItem("user"))?.token)return;C();const M=setInterval(C,2e3);return()=>{E=!1,clearInterval(M)}},[_]);const N=async E=>{if(E.preventDefault(),await f(e,n)){c("");const C=JSON.parse(localStorage.getItem("user"));C?.role==="admin"?w("/"):C?.role==="autista"?w("/autista"):C?.role==="pianificatore"?w("/pianificazione"):C?.role==="richiedente"?w("/richieste"):w("/")}else c("Email o password non corretti.")};return d.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:d.jsxs("form",{onSubmit:N,className:"bg-white p-8 rounded shadow w-80",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Login"}),(o||v)&&d.jsx("div",{className:"text-red-600 text-center mb-4",children:o||v}),d.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:E=>t(E.target.value),className:"w-full p-2 mb-4 border rounded",required:!0}),d.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:E=>a(E.target.value),className:"w-full p-2 mb-6 border rounded",required:!0}),d.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded font-semibold",children:"Accedi"})]})})}function m3(){const{user:e,token:t,users:n,addUser:a,updateUser:o,deleteUser:c,loading:f,error:m}=Ct(),{setNotification:v}=qt(),[x,_]=O.useState({username:"",password:"",nome:"",mail:"",ruolo:"admin"}),[w,N]=O.useState(null),[E,P]=O.useState(!1),[C,j]=O.useState(null),[M,R]=O.useState(!1),[A,F]=O.useState(!1);if(O.useEffect(()=>{if(e&&t){let K=!0,ce=0;const _e=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${t}`}}).then(he=>he.json()).then(he=>{K&&(ce>0&&he.length>ce&&he.slice(ce).forEach(fe=>{v({text:`${fe.sender?.nome}: ${fe.text}`})}),ce=he.length)})};_e();const de=setInterval(_e,2e3);return()=>{K=!1,clearInterval(de)}}},[v,e,t]),!e||e.role!=="admin")return d.jsx("div",{className:"p-8 text-center text-red-600",children:"Accesso negato"});const B=K=>{_({...x,[K.target.name]:K.target.value})},q=async K=>{K.preventDefault();const ce={...x,role:x.ruolo};delete ce.ruolo,await a(ce),_({username:"",password:"",nome:"",mail:"",ruolo:"admin"}),R(!1)},H=K=>{N(K.id),_({...K,ruolo:K.role}),P(!0)},$=async K=>{K.preventDefault();const ce={...x,role:x.ruolo,id:w};delete ce.ruolo,await o(w,ce),N(null),P(!1),_({username:"",password:"",nome:"",mail:"",ruolo:"admin"})},V=async K=>{window.confirm("Sei sicuro di voler eliminare questo utente?")&&await c(K)},I=K=>{j(C===K?null:K)},U=()=>j(null),ee={admin:n.filter(K=>K.role==="admin"),autista:n.filter(K=>K.role==="autista"),pianificatore:n.filter(K=>K.role==="pianificatore"),richiedente:n.filter(K=>K.role==="richiedente")};return d.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Utenti"}),f&&d.jsx("div",{className:"mb-4 text-blue-600",children:"Caricamento utenti..."}),m&&d.jsx("div",{className:"mb-4 text-red-600",children:m}),d.jsx("div",{className:"flex justify-end mb-6",children:d.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded font-semibold",onClick:()=>R(!0),disabled:f,children:"+ Aggiungi Utente"})}),d.jsx("div",{className:"bg-white rounded shadow p-4",children:Object.entries(ee).map(([K,ce])=>d.jsxs("div",{className:"mb-6",children:[d.jsx("div",{className:"font-semibold text-lg mb-2 capitalize",children:K==="admin"?"Amministratore":K.charAt(0).toUpperCase()+K.slice(1)}),d.jsxs("table",{className:"w-full border-separate border-spacing-y-2",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-xs text-gray-500",children:[d.jsx("th",{className:"text-left px-2",children:"Nome"}),d.jsx("th",{className:"text-left px-2",children:"Email"}),d.jsx("th",{className:"text-center px-2",children:"Foto"}),d.jsx("th",{className:"text-left px-2",children:"Ruolo"}),d.jsx("th",{className:"text-center px-2"})]})}),d.jsx("tbody",{children:ce.map(_e=>d.jsxs("tr",{className:"bg-white hover:bg-gray-50 rounded shadow-sm",children:[d.jsx("td",{className:"px-2 py-2 font-medium text-sm",children:_e.nome}),d.jsx("td",{className:"px-2 py-2 text-sm",children:_e.mail}),d.jsx("td",{className:"px-2 py-2 text-center",children:d.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-gray-200 rounded-full",children:d.jsx(Sy,{size:24,className:"text-gray-400"})})}),d.jsx("td",{className:"px-2 py-2 text-sm",children:K==="admin"?"Amministratore":_e.role.charAt(0).toUpperCase()+_e.role.slice(1)}),d.jsxs("td",{className:"px-2 py-2 text-center relative",children:[d.jsx("button",{className:"text-gray-400 hover:text-blue-600 mr-2",title:"Azioni",onClick:()=>I(_e.id),disabled:f,children:"…"}),C===_e.id&&d.jsxs("div",{className:"absolute right-0 mt-2 bg-white border rounded shadow z-10 min-w-[120px]",children:[d.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100",onClick:()=>{H(_e),U()},disabled:f,children:"Modifica"}),d.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 text-red-600",onClick:()=>{V(_e.id),U()},disabled:f,children:"Elimina"})]})]})]},_e.id))})]})]},K))}),M&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded shadow-lg p-8 w-full max-w-md",children:[d.jsx("h3",{className:"text-xl font-bold mb-4",children:"Aggiungi Utente"}),d.jsxs("form",{onSubmit:q,className:"flex flex-col gap-4",children:[d.jsxs("label",{className:"text-sm font-semibold",children:["Username",d.jsx("input",{name:"username",value:x.username,onChange:B,placeholder:"Username",className:"border p-2 rounded w-full mt-1",required:!0,disabled:f})]}),d.jsxs("label",{className:"text-sm font-semibold",children:["Password",d.jsxs("div",{className:"relative",children:[d.jsx("input",{name:"password",type:A?"text":"password",value:x.password,onChange:B,placeholder:"Password",className:"border p-2 rounded w-full mt-1 pr-10",required:!0,disabled:f}),d.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-500",onClick:()=>F(K=>!K),tabIndex:-1,children:A?"Nascondi":"Mostra"})]})]}),d.jsxs("label",{className:"text-sm font-semibold",children:["Nome",d.jsx("input",{name:"nome",value:x.nome,onChange:B,placeholder:"Nome",className:"border p-2 rounded w-full mt-1",required:!0,disabled:f})]}),d.jsxs("label",{className:"text-sm font-semibold",children:["Mail",d.jsx("input",{name:"mail",value:x.mail,onChange:B,placeholder:"Mail",className:"border p-2 rounded w-full mt-1",required:!0,disabled:f})]}),d.jsxs("label",{className:"text-sm font-semibold",children:["Ruolo",d.jsxs("select",{name:"ruolo",value:x.ruolo,onChange:B,className:"border p-2 rounded w-full mt-1",disabled:f,children:[d.jsx("option",{value:"admin",children:"Admin"}),d.jsx("option",{value:"pianificatore",children:"Pianificatore"}),d.jsx("option",{value:"richiedente",children:"Richiedente"}),d.jsx("option",{value:"autista",children:"Autista"})]})]}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",disabled:f,children:"Aggiungi"}),d.jsx("button",{type:"button",className:"bg-gray-400 text-white px-4 py-2 rounded",onClick:()=>{R(!1),_({username:"",password:"",nome:"",mail:"",ruolo:"admin"})},disabled:f,children:"Annulla"})]})]})]})}),E&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded shadow-lg p-8 w-full max-w-md",children:[d.jsx("h3",{className:"text-xl font-bold mb-4",children:"Modifica Utente"}),d.jsxs("form",{onSubmit:$,className:"flex flex-col gap-4",children:[d.jsxs("label",{className:"text-sm font-semibold",children:["Username",d.jsx("input",{name:"username",value:x.username,onChange:B,placeholder:"Username",className:"border p-2 rounded w-full mt-1",required:!0,disabled:f})]}),d.jsxs("label",{className:"text-sm font-semibold",children:["Password",d.jsxs("div",{className:"relative",children:[d.jsx("input",{name:"password",type:A?"text":"password",value:x.password,onChange:B,placeholder:"Password",className:"border p-2 rounded w-full mt-1 pr-10",required:!0,disabled:f}),d.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-500",onClick:()=>F(K=>!K),tabIndex:-1,children:A?"Nascondi":"Mostra"})]})]}),d.jsxs("label",{className:"text-sm font-semibold",children:["Nome",d.jsx("input",{name:"nome",value:x.nome,onChange:B,placeholder:"Nome",className:"border p-2 rounded w-full mt-1",required:!0,disabled:f})]}),d.jsxs("label",{className:"text-sm font-semibold",children:["Mail",d.jsx("input",{name:"mail",value:x.mail,onChange:B,placeholder:"Mail",className:"border p-2 rounded w-full mt-1",required:!0,disabled:f})]}),d.jsxs("label",{className:"text-sm font-semibold",children:["Ruolo",d.jsxs("select",{name:"ruolo",value:x.ruolo,onChange:B,className:"border p-2 rounded w-full mt-1",disabled:f,children:[d.jsx("option",{value:"admin",children:"Admin"}),d.jsx("option",{value:"pianificatore",children:"Pianificatore"}),d.jsx("option",{value:"richiedente",children:"Richiedente"}),d.jsx("option",{value:"autista",children:"Autista"})]})]}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",disabled:f,children:"Salva"}),d.jsx("button",{type:"button",className:"bg-gray-400 text-white px-4 py-2 rounded",onClick:()=>{N(null),P(!1),_({username:"",password:"",nome:"",mail:"",ruolo:"admin"})},disabled:f,children:"Annulla"})]})]})]})})]})}function UE(e,t){const n=O.useRef(t);O.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const v3=1;function g3(e){return Object.freeze({__version:v3,map:e})}function WE(e,t){return Object.freeze({...e,...t})}const HE=O.createContext(null),YE=HE.Provider;function bf(){const e=O.useContext(HE);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function ZE(e){function t(n,a){const{instance:o,context:c}=e(n).current;return O.useImperativeHandle(a,()=>o),n.children==null?null:te.createElement(YE,{value:c},n.children)}return O.forwardRef(t)}function y3(e){function t(n,a){const[o,c]=O.useState(!1),{instance:f}=e(n,c).current;O.useImperativeHandle(a,()=>f),O.useEffect(function(){o&&f.update()},[f,o,n.children]);const m=f._contentNode;return m?iN.createPortal(n.children,m):null}return O.forwardRef(t)}function x3(e){function t(n,a){const{instance:o}=e(n).current;return O.useImperativeHandle(a,()=>o),null}return O.forwardRef(t)}function Ox(e,t){const n=O.useRef();O.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Sf(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function _3(e,t){return function(a,o){const c=bf(),f=e(Sf(a,c),c);return UE(c.map,a.attribution),Ox(f.current,a.eventHandlers),t(f.current,c,a,o),f}}var Vl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var w3=Vl.exports,nN;function b3(){return nN||(nN=1,(function(e,t){(function(n,a){a(t)})(w3,(function(n){var a="1.9.4";function o(i){var l,h,g,S;for(h=1,g=arguments.length;h<g;h++){S=arguments[h];for(l in S)i[l]=S[l]}return i}var c=Object.create||(function(){function i(){}return function(l){return i.prototype=l,new i}})();function f(i,l){var h=Array.prototype.slice;if(i.bind)return i.bind.apply(i,h.call(arguments,1));var g=h.call(arguments,2);return function(){return i.apply(l,g.length?g.concat(h.call(arguments)):arguments)}}var m=0;function v(i){return"_leaflet_id"in i||(i._leaflet_id=++m),i._leaflet_id}function x(i,l,h){var g,S,T,Z;return Z=function(){g=!1,S&&(T.apply(h,S),S=!1)},T=function(){g?S=arguments:(i.apply(h,arguments),setTimeout(Z,l),g=!0)},T}function _(i,l,h){var g=l[1],S=l[0],T=g-S;return i===g&&h?i:((i-S)%T+T)%T+S}function w(){return!1}function N(i,l){if(l===!1)return i;var h=Math.pow(10,l===void 0?6:l);return Math.round(i*h)/h}function E(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function P(i){return E(i).split(/\s+/)}function C(i,l){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?c(i.options):{});for(var h in l)i.options[h]=l[h];return i.options}function j(i,l,h){var g=[];for(var S in i)g.push(encodeURIComponent(h?S.toUpperCase():S)+"="+encodeURIComponent(i[S]));return(!l||l.indexOf("?")===-1?"?":"&")+g.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function R(i,l){return i.replace(M,function(h,g){var S=l[g];if(S===void 0)throw new Error("No value provided for variable "+h);return typeof S=="function"&&(S=S(l)),S})}var A=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function F(i,l){for(var h=0;h<i.length;h++)if(i[h]===l)return h;return-1}var B="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function q(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var H=0;function $(i){var l=+new Date,h=Math.max(0,16-(l-H));return H=l+h,window.setTimeout(i,h)}var V=window.requestAnimationFrame||q("RequestAnimationFrame")||$,I=window.cancelAnimationFrame||q("CancelAnimationFrame")||q("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function U(i,l,h){if(h&&V===$)i.call(l);else return V.call(window,f(i,l))}function ee(i){i&&I.call(window,i)}var K={__proto__:null,extend:o,create:c,bind:f,get lastId(){return m},stamp:v,throttle:x,wrapNum:_,falseFn:w,formatNum:N,trim:E,splitWords:P,setOptions:C,getParamString:j,template:R,isArray:A,indexOf:F,emptyImageUrl:B,requestFn:V,cancelFn:I,requestAnimFrame:U,cancelAnimFrame:ee};function ce(){}ce.extend=function(i){var l=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,g=c(h);g.constructor=l,l.prototype=g;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(l[S]=this[S]);return i.statics&&o(l,i.statics),i.includes&&(_e(i.includes),o.apply(null,[g].concat(i.includes))),o(g,i),delete g.statics,delete g.includes,g.options&&(g.options=h.options?c(h.options):{},o(g.options,i.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,Z=g._initHooks.length;T<Z;T++)g._initHooks[T].call(this)}},l},ce.include=function(i){var l=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=l,this.mergeOptions(i.options)),this},ce.mergeOptions=function(i){return o(this.prototype.options,i),this},ce.addInitHook=function(i){var l=Array.prototype.slice.call(arguments,1),h=typeof i=="function"?i:function(){this[i].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function _e(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=A(i)?i:[i];for(var l=0;l<i.length;l++)i[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var de={on:function(i,l,h){if(typeof i=="object")for(var g in i)this._on(g,i[g],l);else{i=P(i);for(var S=0,T=i.length;S<T;S++)this._on(i[S],l,h)}return this},off:function(i,l,h){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var g in i)this._off(g,i[g],l);else{i=P(i);for(var S=arguments.length===1,T=0,Z=i.length;T<Z;T++)S?this._off(i[T]):this._off(i[T],l,h)}return this},_on:function(i,l,h,g){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(i,l,h)===!1){h===this&&(h=void 0);var S={fn:l,ctx:h};g&&(S.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(S)}},_off:function(i,l,h){var g,S,T;if(this._events&&(g=this._events[i],!!g)){if(arguments.length===1){if(this._firingCount)for(S=0,T=g.length;S<T;S++)g[S].fn=w;delete this._events[i];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var Z=this._listens(i,l,h);if(Z!==!1){var ie=g[Z];this._firingCount&&(ie.fn=w,this._events[i]=g=g.slice()),g.splice(Z,1)}}},fire:function(i,l,h){if(!this.listens(i,h))return this;var g=o({},l,{type:i,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var S=this._events[i];if(S){this._firingCount=this._firingCount+1||1;for(var T=0,Z=S.length;T<Z;T++){var ie=S[T],le=ie.fn;ie.once&&this.off(i,le,ie.ctx),le.call(ie.ctx||this,g)}this._firingCount--}}return h&&this._propagateEvent(g),this},listens:function(i,l,h,g){typeof i!="string"&&console.warn('"string" type argument expected');var S=l;typeof l!="function"&&(g=!!l,S=void 0,h=void 0);var T=this._events&&this._events[i];if(T&&T.length&&this._listens(i,S,h)!==!1)return!0;if(g){for(var Z in this._eventParents)if(this._eventParents[Z].listens(i,l,h,g))return!0}return!1},_listens:function(i,l,h){if(!this._events)return!1;var g=this._events[i]||[];if(!l)return!!g.length;h===this&&(h=void 0);for(var S=0,T=g.length;S<T;S++)if(g[S].fn===l&&g[S].ctx===h)return S;return!1},once:function(i,l,h){if(typeof i=="object")for(var g in i)this._on(g,i[g],l,!0);else{i=P(i);for(var S=0,T=i.length;S<T;S++)this._on(i[S],l,h,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[v(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[v(i)],this},_propagateEvent:function(i){for(var l in this._eventParents)this._eventParents[l].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};de.addEventListener=de.on,de.removeEventListener=de.clearAllEventListeners=de.off,de.addOneTimeEventListener=de.once,de.fireEvent=de.fire,de.hasEventListeners=de.listens;var he=ce.extend(de);function Y(i,l,h){this.x=h?Math.round(i):i,this.y=h?Math.round(l):l}var fe=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(i){return this.clone()._add(ne(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(ne(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new Y(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new Y(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=fe(this.x),this.y=fe(this.y),this},distanceTo:function(i){i=ne(i);var l=i.x-this.x,h=i.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(i){return i=ne(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=ne(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function ne(i,l,h){return i instanceof Y?i:A(i)?new Y(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new Y(i.x,i.y):new Y(i,l,h)}function z(i,l){if(i)for(var h=l?[i,l]:i,g=0,S=h.length;g<S;g++)this.extend(h[g])}z.prototype={extend:function(i){var l,h;if(!i)return this;if(i instanceof Y||typeof i[0]=="number"||"x"in i)l=h=ne(i);else if(i=D(i),l=i.min,h=i.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(i){return ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return ne(this.min.x,this.max.y)},getTopRight:function(){return ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var l,h;return typeof i[0]=="number"||i instanceof Y?i=ne(i):i=D(i),i instanceof z?(l=i.min,h=i.max):l=h=i,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(i){i=D(i);var l=this.min,h=this.max,g=i.min,S=i.max,T=S.x>=l.x&&g.x<=h.x,Z=S.y>=l.y&&g.y<=h.y;return T&&Z},overlaps:function(i){i=D(i);var l=this.min,h=this.max,g=i.min,S=i.max,T=S.x>l.x&&g.x<h.x,Z=S.y>l.y&&g.y<h.y;return T&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var l=this.min,h=this.max,g=Math.abs(l.x-h.x)*i,S=Math.abs(l.y-h.y)*i;return D(ne(l.x-g,l.y-S),ne(h.x+g,h.y+S))},equals:function(i){return i?(i=D(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function D(i,l){return!i||i instanceof z?i:new z(i,l)}function X(i,l){if(i)for(var h=l?[i,l]:i,g=0,S=h.length;g<S;g++)this.extend(h[g])}X.prototype={extend:function(i){var l=this._southWest,h=this._northEast,g,S;if(i instanceof oe)g=i,S=i;else if(i instanceof X){if(g=i._southWest,S=i._northEast,!g||!S)return this}else return i?this.extend(Q(i)||re(i)):this;return!l&&!h?(this._southWest=new oe(g.lat,g.lng),this._northEast=new oe(S.lat,S.lng)):(l.lat=Math.min(g.lat,l.lat),l.lng=Math.min(g.lng,l.lng),h.lat=Math.max(S.lat,h.lat),h.lng=Math.max(S.lng,h.lng)),this},pad:function(i){var l=this._southWest,h=this._northEast,g=Math.abs(l.lat-h.lat)*i,S=Math.abs(l.lng-h.lng)*i;return new X(new oe(l.lat-g,l.lng-S),new oe(h.lat+g,h.lng+S))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof oe||"lat"in i?i=Q(i):i=re(i);var l=this._southWest,h=this._northEast,g,S;return i instanceof X?(g=i.getSouthWest(),S=i.getNorthEast()):g=S=i,g.lat>=l.lat&&S.lat<=h.lat&&g.lng>=l.lng&&S.lng<=h.lng},intersects:function(i){i=re(i);var l=this._southWest,h=this._northEast,g=i.getSouthWest(),S=i.getNorthEast(),T=S.lat>=l.lat&&g.lat<=h.lat,Z=S.lng>=l.lng&&g.lng<=h.lng;return T&&Z},overlaps:function(i){i=re(i);var l=this._southWest,h=this._northEast,g=i.getSouthWest(),S=i.getNorthEast(),T=S.lat>l.lat&&g.lat<h.lat,Z=S.lng>l.lng&&g.lng<h.lng;return T&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,l){return i?(i=re(i),this._southWest.equals(i.getSouthWest(),l)&&this._northEast.equals(i.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function re(i,l){return i instanceof X?i:new X(i,l)}function oe(i,l,h){if(isNaN(i)||isNaN(l))throw new Error("Invalid LatLng object: ("+i+", "+l+")");this.lat=+i,this.lng=+l,h!==void 0&&(this.alt=+h)}oe.prototype={equals:function(i,l){if(!i)return!1;i=Q(i);var h=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return h<=(l===void 0?1e-9:l)},toString:function(i){return"LatLng("+N(this.lat,i)+", "+N(this.lng,i)+")"},distanceTo:function(i){return ye.distance(this,Q(i))},wrap:function(){return ye.wrapLatLng(this)},toBounds:function(i){var l=180*i/40075017,h=l/Math.cos(Math.PI/180*this.lat);return re([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function Q(i,l,h){return i instanceof oe?i:A(i)&&typeof i[0]!="object"?i.length===3?new oe(i[0],i[1],i[2]):i.length===2?new oe(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new oe(i.lat,"lng"in i?i.lng:i.lon,i.alt):l===void 0?null:new oe(i,l,h)}var me={latLngToPoint:function(i,l){var h=this.projection.project(i),g=this.scale(l);return this.transformation._transform(h,g)},pointToLatLng:function(i,l){var h=this.scale(l),g=this.transformation.untransform(i,h);return this.projection.unproject(g)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(i),g=this.transformation.transform(l.min,h),S=this.transformation.transform(l.max,h);return new z(g,S)},infinite:!1,wrapLatLng:function(i){var l=this.wrapLng?_(i.lng,this.wrapLng,!0):i.lng,h=this.wrapLat?_(i.lat,this.wrapLat,!0):i.lat,g=i.alt;return new oe(h,l,g)},wrapLatLngBounds:function(i){var l=i.getCenter(),h=this.wrapLatLng(l),g=l.lat-h.lat,S=l.lng-h.lng;if(g===0&&S===0)return i;var T=i.getSouthWest(),Z=i.getNorthEast(),ie=new oe(T.lat-g,T.lng-S),le=new oe(Z.lat-g,Z.lng-S);return new X(ie,le)}},ye=o({},me,{wrapLng:[-180,180],R:6371e3,distance:function(i,l){var h=Math.PI/180,g=i.lat*h,S=l.lat*h,T=Math.sin((l.lat-i.lat)*h/2),Z=Math.sin((l.lng-i.lng)*h/2),ie=T*T+Math.cos(g)*Math.cos(S)*Z*Z,le=2*Math.atan2(Math.sqrt(ie),Math.sqrt(1-ie));return this.R*le}}),pe=6378137,Se={R:pe,MAX_LATITUDE:85.0511287798,project:function(i){var l=Math.PI/180,h=this.MAX_LATITUDE,g=Math.max(Math.min(h,i.lat),-h),S=Math.sin(g*l);return new Y(this.R*i.lng*l,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(i){var l=180/Math.PI;return new oe((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*l,i.x*l/this.R)},bounds:(function(){var i=pe*Math.PI;return new z([-i,-i],[i,i])})()};function De(i,l,h,g){if(A(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=l,this._c=h,this._d=g}De.prototype={transform:function(i,l){return this._transform(i.clone(),l)},_transform:function(i,l){return l=l||1,i.x=l*(this._a*i.x+this._b),i.y=l*(this._c*i.y+this._d),i},untransform:function(i,l){return l=l||1,new Y((i.x/l-this._b)/this._a,(i.y/l-this._d)/this._c)}};function Ze(i,l,h,g){return new De(i,l,h,g)}var Qe=o({},ye,{code:"EPSG:3857",projection:Se,transformation:(function(){var i=.5/(Math.PI*Se.R);return Ze(i,.5,-i,.5)})()}),Ht=o({},Qe,{code:"EPSG:900913"});function Be(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Jt(i,l){var h="",g,S,T,Z,ie,le;for(g=0,T=i.length;g<T;g++){for(ie=i[g],S=0,Z=ie.length;S<Z;S++)le=ie[S],h+=(S?"L":"M")+le.x+" "+le.y;h+=l?Re.svg?"z":"x":""}return h||"M0 0"}var He=document.documentElement.style,Yt="ActiveXObject"in window,rn=Yt&&!document.addEventListener,Zt="msLaunchUri"in navigator&&!("documentMode"in document),Dt=an("webkit"),Vt=an("android"),_t=an("android 2")||an("android 3"),Bn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),tr=Vt&&an("Google")&&Bn<537&&!("AudioNode"in window),Sr=!!window.opera,nr=!Zt&&an("chrome"),Qt=an("gecko")&&!Dt&&!Sr&&!Yt,Fa=!nr&&an("safari"),Nr=an("phantom"),Br="OTransition"in He,Ts=navigator.platform.indexOf("Win")===0,Pn=Yt&&"transition"in He,jn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_t,zu="MozPerspective"in He,Ho=!window.L_DISABLE_3D&&(Pn||jn||zu)&&!Br&&!Nr,ci=typeof orientation<"u"||an("mobile"),Yo=ci&&Dt,Zo=ci&&jn,Os=!window.PointerEvent&&window.MSPointerEvent,di=!!(window.PointerEvent||Os),fi="ontouchstart"in window||!!window.TouchEvent,Ru=!window.L_NO_TOUCH&&(fi||di),Lu=ci&&Sr,Au=ci&&Qt,Iu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fu=(function(){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",w,l),window.removeEventListener("testPassiveEventSupport",w,l)}catch{}return i})(),Vo=(function(){return!!document.createElement("canvas").getContext})(),Ms=!!(document.createElementNS&&Be("svg").createSVGRect),$a=!!Ms&&(function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Go=!Ms&&(function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var l=i.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),Ba=navigator.platform.indexOf("Mac")===0,Of=navigator.platform.indexOf("Linux")===0;function an(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Re={ie:Yt,ielt9:rn,edge:Zt,webkit:Dt,android:Vt,android23:_t,androidStock:tr,opera:Sr,chrome:nr,gecko:Qt,safari:Fa,phantom:Nr,opera12:Br,win:Ts,ie3d:Pn,webkit3d:jn,gecko3d:zu,any3d:Ho,mobile:ci,mobileWebkit:Yo,mobileWebkit3d:Zo,msPointer:Os,pointer:di,touch:Ru,touchNative:fi,mobileOpera:Lu,mobileGecko:Au,retina:Iu,passiveEvents:Fu,canvas:Vo,svg:Ms,vml:Go,inlineSvg:$a,mac:Ba,linux:Of},qa=Re.msPointer?"MSPointerDown":"pointerdown",Ds=Re.msPointer?"MSPointerMove":"pointermove",$u=Re.msPointer?"MSPointerUp":"pointerup",Bu=Re.msPointer?"MSPointerCancel":"pointercancel",Ko={touchstart:qa,touchmove:Ds,touchend:$u,touchcancel:Bu},qr={touchstart:wt,touchmove:zs,touchend:zs,touchcancel:zs},hi={},Xo=!1;function Mf(i,l,h){return l==="touchstart"&&Df(),qr[l]?(h=qr[l].bind(this,h),i.addEventListener(Ko[l],h,!1),h):(console.warn("wrong event specified:",l),w)}function qu(i,l,h){if(!Ko[l]){console.warn("wrong event specified:",l);return}i.removeEventListener(Ko[l],h,!1)}function Uu(i){hi[i.pointerId]=i}function Wu(i){hi[i.pointerId]&&(hi[i.pointerId]=i)}function Jo(i){delete hi[i.pointerId]}function Df(){Xo||(document.addEventListener(qa,Uu,!0),document.addEventListener(Ds,Wu,!0),document.addEventListener($u,Jo,!0),document.addEventListener(Bu,Jo,!0),Xo=!0)}function zs(i,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in hi)l.touches.push(hi[h]);l.changedTouches=[l],i(l)}}function wt(i,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&bt(l),zs(i,l)}function zf(i){var l={},h,g;for(g in i)h=i[g],l[g]=h&&h.bind?h.bind(i):h;return i=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Qo=200;function Hu(i,l){i.addEventListener("dblclick",l);var h=0,g;function S(T){if(T.detail!==1){g=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var Z=vi(T);if(!(Z.some(function(le){return le instanceof HTMLLabelElement&&le.attributes.for})&&!Z.some(function(le){return le instanceof HTMLInputElement||le instanceof HTMLSelectElement}))){var ie=Date.now();ie-h<=Qo?(g++,g===2&&l(zf(T))):g=1,h=ie}}}return i.addEventListener("click",S),{dblclick:l,simDblclick:S}}function Rs(i,l){i.removeEventListener("dblclick",l.dblclick),i.removeEventListener("click",l.simDblclick)}var el=Xi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Vi=Xi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ua=Vi==="webkitTransition"||Vi==="OTransition"?Vi+"End":"transitionend";function qn(i){return typeof i=="string"?document.getElementById(i):i}function Wa(i,l){var h=i.style[l]||i.currentStyle&&i.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(i,null);h=g?g[l]:null}return h==="auto"?null:h}function Ye(i,l,h){var g=document.createElement(i);return g.className=l||"",h&&h.appendChild(g),g}function ht(i){var l=i.parentNode;l&&l.removeChild(i)}function Ls(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Gi(i){var l=i.parentNode;l&&l.lastChild!==i&&l.appendChild(i)}function Cr(i){var l=i.parentNode;l&&l.firstChild!==i&&l.insertBefore(i,l.firstChild)}function Ki(i,l){if(i.classList!==void 0)return i.classList.contains(l);var h=As(i);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function We(i,l){if(i.classList!==void 0)for(var h=P(l),g=0,S=h.length;g<S;g++)i.classList.add(h[g]);else if(!Ki(i,l)){var T=As(i);tl(i,(T?T+" ":"")+l)}}function dt(i,l){i.classList!==void 0?i.classList.remove(l):tl(i,E((" "+As(i)+" ").replace(" "+l+" "," ")))}function tl(i,l){i.className.baseVal===void 0?i.className=l:i.className.baseVal=l}function As(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function sn(i,l){"opacity"in i.style?i.style.opacity=l:"filter"in i.style&&Yu(i,l)}function Yu(i,l){var h=!1,g="DXImageTransform.Microsoft.Alpha";try{h=i.filters.item(g)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):i.style.filter+=" progid:"+g+"(opacity="+l+")"}function Xi(i){for(var l=document.documentElement.style,h=0;h<i.length;h++)if(i[h]in l)return i[h];return!1}function Un(i,l,h){var g=l||new Y(0,0);i.style[el]=(Re.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(h?" scale("+h+")":"")}function Et(i,l){i._leaflet_pos=l,Re.any3d?Un(i,l):(i.style.left=l.x+"px",i.style.top=l.y+"px")}function Er(i){return i._leaflet_pos||new Y(0,0)}var et,Ji,Is;if("onselectstart"in document)et=function(){qe(window,"selectstart",bt)},Ji=function(){ot(window,"selectstart",bt)};else{var pi=Xi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);et=function(){if(pi){var i=document.documentElement.style;Is=i[pi],i[pi]="none"}},Ji=function(){pi&&(document.documentElement.style[pi]=Is,Is=void 0)}}function Fs(){qe(window,"dragstart",bt)}function $s(){ot(window,"dragstart",bt)}var Ha,Ya;function Qi(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Wn(),Ha=i,Ya=i.style.outlineStyle,i.style.outlineStyle="none",qe(window,"keydown",Wn))}function Wn(){Ha&&(Ha.style.outlineStyle=Ya,Ha=void 0,Ya=void 0,ot(window,"keydown",Wn))}function Pr(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function rr(i){var l=i.getBoundingClientRect();return{x:l.width/i.offsetWidth||1,y:l.height/i.offsetHeight||1,boundingClientRect:l}}var Za={__proto__:null,TRANSFORM:el,TRANSITION:Vi,TRANSITION_END:Ua,get:qn,getStyle:Wa,create:Ye,remove:ht,empty:Ls,toFront:Gi,toBack:Cr,hasClass:Ki,addClass:We,removeClass:dt,setClass:tl,getClass:As,setOpacity:sn,testProp:Xi,setTransform:Un,setPosition:Et,getPosition:Er,get disableTextSelection(){return et},get enableTextSelection(){return Ji},disableImageDrag:Fs,enableImageDrag:$s,preventOutline:Qi,restoreOutline:Wn,getSizedParentNode:Pr,getScale:rr};function qe(i,l,h,g){if(l&&typeof l=="object")for(var S in l)rl(i,S,l[S],h);else{l=P(l);for(var T=0,Z=l.length;T<Z;T++)rl(i,l[T],h,g)}return this}var Lt="_leaflet_events";function ot(i,l,h,g){if(arguments.length===1)nl(i),delete i[Lt];else if(l&&typeof l=="object")for(var S in l)Bs(i,S,l[S],h);else if(l=P(l),arguments.length===2)nl(i,function(ie){return F(l,ie)!==-1});else for(var T=0,Z=l.length;T<Z;T++)Bs(i,l[T],h,g);return this}function nl(i,l){for(var h in i[Lt]){var g=h.split(/\d/)[0];(!l||l(g))&&Bs(i,g,null,null,h)}}var mi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function rl(i,l,h,g){var S=l+v(h)+(g?"_"+v(g):"");if(i[Lt]&&i[Lt][S])return this;var T=function(ie){return h.call(g||i,ie||window.event)},Z=T;!Re.touchNative&&Re.pointer&&l.indexOf("touch")===0?T=Mf(i,l,T):Re.touch&&l==="dblclick"?T=Hu(i,T):"addEventListener"in i?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?i.addEventListener(mi[l]||l,T,Re.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(T=function(ie){ie=ie||window.event,Ka(i,ie)&&Z(ie)},i.addEventListener(mi[l],T,!1)):i.addEventListener(l,Z,!1):i.attachEvent("on"+l,T),i[Lt]=i[Lt]||{},i[Lt][S]=T}function Bs(i,l,h,g,S){S=S||l+v(h)+(g?"_"+v(g):"");var T=i[Lt]&&i[Lt][S];if(!T)return this;!Re.touchNative&&Re.pointer&&l.indexOf("touch")===0?qu(i,l,T):Re.touch&&l==="dblclick"?Rs(i,T):"removeEventListener"in i?i.removeEventListener(mi[l]||l,T,!1):i.detachEvent("on"+l,T),i[Lt][S]=null}function ir(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function qs(i){return rl(i,"wheel",ir),this}function Va(i){return qe(i,"mousedown touchstart dblclick contextmenu",ir),i._leaflet_disable_click=!0,this}function bt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Hn(i){return bt(i),ir(i),this}function vi(i){if(i.composedPath)return i.composedPath();for(var l=[],h=i.target;h;)l.push(h),h=h.parentNode;return l}function Ga(i,l){if(!l)return new Y(i.clientX,i.clientY);var h=rr(l),g=h.boundingClientRect;return new Y((i.clientX-g.left)/h.x-l.clientLeft,(i.clientY-g.top)/h.y-l.clientTop)}var Rf=Re.linux&&Re.chrome?window.devicePixelRatio:Re.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Zu(i){return Re.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Rf:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Ka(i,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==i;)h=h.parentNode}catch{return!1}return h!==i}var Us={__proto__:null,on:qe,off:ot,stopPropagation:ir,disableScrollPropagation:qs,disableClickPropagation:Va,preventDefault:bt,stop:Hn,getPropagationPath:vi,getMousePosition:Ga,getWheelDelta:Zu,isExternalTarget:Ka,addListener:qe,removeListener:ot},Ws=he.extend({run:function(i,l,h,g){this.stop(),this._el=i,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=Er(i),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(i){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),i):(this._runFrame(1),this._complete())},_runFrame:function(i,l){var h=this._startPos.add(this._offset.multiplyBy(i));l&&h._round(),Et(this._el,h),this.fire("step")},_complete:function(){ee(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Xe=he.extend({options:{crs:Qe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,l){l=C(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(Q(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Vi&&Re.any3d&&!Re.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),qe(this._proxy,Ua,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),i=this._limitCenter(Q(i),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=o({animate:h.animate},h.zoom),h.pan=o({animate:h.animate,duration:h.duration},h.pan));var g=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,l,h.zoom):this._tryAnimatedPan(i,h.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(i,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(i,l){return this._loaded?this.setView(this.getCenter(),i,{zoom:l}):(this._zoom=i,this)},zoomIn:function(i,l){return i=i||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,l)},zoomOut:function(i,l){return i=i||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,l)},setZoomAround:function(i,l,h){var g=this.getZoomScale(l),S=this.getSize().divideBy(2),T=i instanceof Y?i:this.latLngToContainerPoint(i),Z=T.subtract(S).multiplyBy(1-1/g),ie=this.containerPointToLatLng(S.add(Z));return this.setView(ie,l,{zoom:h})},_getBoundsCenterZoom:function(i,l){l=l||{},i=i.getBounds?i.getBounds():re(i);var h=ne(l.paddingTopLeft||l.padding||[0,0]),g=ne(l.paddingBottomRight||l.padding||[0,0]),S=this.getBoundsZoom(i,!1,h.add(g));if(S=typeof l.maxZoom=="number"?Math.min(l.maxZoom,S):S,S===1/0)return{center:i.getCenter(),zoom:S};var T=g.subtract(h).divideBy(2),Z=this.project(i.getSouthWest(),S),ie=this.project(i.getNorthEast(),S),le=this.unproject(Z.add(ie).divideBy(2).add(T),S);return{center:le,zoom:S}},fitBounds:function(i,l){if(i=re(i),!i.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(i,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,l){return this.setView(i,this._zoom,{pan:l})},panBy:function(i,l){if(i=ne(i).round(),l=l||{},!i.x&&!i.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ws,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){We(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,l,h){if(h=h||{},h.animate===!1||!Re.any3d)return this.setView(i,l,h);this._stop();var g=this.project(this.getCenter()),S=this.project(i),T=this.getSize(),Z=this._zoom;i=Q(i),l=l===void 0?Z:l;var ie=Math.max(T.x,T.y),le=ie*this.getZoomScale(Z,l),ve=S.distanceTo(g)||1,Pe=1.42,Ie=Pe*Pe;function Ve(st){var pa=st?-1:1,Gf=st?le:ie,Kf=le*le-ie*ie+pa*Ie*Ie*ve*ve,Si=2*Gf*Ie*ve,Ni=Kf/Si,Ci=Math.sqrt(Ni*Ni+1)-Ni,io=Ci<1e-9?-18:Math.log(Ci);return io}function At(st){return(Math.exp(st)-Math.exp(-st))/2}function zt(st){return(Math.exp(st)+Math.exp(-st))/2}function Sn(st){return At(st)/zt(st)}var ln=Ve(0);function fa(st){return ie*(zt(ln)/zt(ln+Pe*st))}function Nl(st){return ie*(zt(ln)*Sn(ln+Pe*st)-At(ln))/Ie}function Kr(st){return 1-Math.pow(1-st,1.5)}var pc=Date.now(),bi=(Ve(1)-ln)/Pe,lr=h.duration?1e3*h.duration:1e3*bi*.8;function ha(){var st=(Date.now()-pc)/lr,pa=Kr(st)*bi;st<=1?(this._flyToFrame=U(ha,this),this._move(this.unproject(g.add(S.subtract(g).multiplyBy(Nl(pa)/ve)),Z),this.getScaleZoom(ie/fa(pa),Z),{flyTo:!0})):this._move(i,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),ha.call(this),this},flyToBounds:function(i,l){var h=this._getBoundsCenterZoom(i,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(i){return i=re(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var l=this.options.minZoom;return this.options.minZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var l=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,l){this._enforcingBounds=!0;var h=this.getCenter(),g=this._limitCenter(h,this._zoom,re(i));return h.equals(g)||this.panTo(g,l),this._enforcingBounds=!1,this},panInside:function(i,l){l=l||{};var h=ne(l.paddingTopLeft||l.padding||[0,0]),g=ne(l.paddingBottomRight||l.padding||[0,0]),S=this.project(this.getCenter()),T=this.project(i),Z=this.getPixelBounds(),ie=D([Z.min.add(h),Z.max.subtract(g)]),le=ie.getSize();if(!ie.contains(T)){this._enforcingBounds=!0;var ve=T.subtract(ie.getCenter()),Pe=ie.extend(T).getSize().subtract(le);S.x+=ve.x<0?-Pe.x:Pe.x,S.y+=ve.y<0?-Pe.y:Pe.y,this.panTo(this.unproject(S),l),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),g=l.divideBy(2).round(),S=h.divideBy(2).round(),T=g.subtract(S);return!T.x&&!T.y?this:(i.animate&&i.pan?this.panBy(T):(i.pan&&this._rawPanBy(T),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=f(this._handleGeolocationResponse,this),h=f(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,i):navigator.geolocation.getCurrentPosition(l,h,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var l=i.code,h=i.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var l=i.coords.latitude,h=i.coords.longitude,g=new oe(l,h),S=g.toBounds(i.coords.accuracy*2),T=this._locateOptions;if(T.setView){var Z=this.getBoundsZoom(S);this.setView(g,T.maxZoom?Math.min(Z,T.maxZoom):Z)}var ie={latlng:g,bounds:S,timestamp:i.timestamp};for(var le in i.coords)typeof i.coords[le]=="number"&&(ie[le]=i.coords[le]);this.fire("locationfound",ie)}},addHandler:function(i,l){if(!l)return this;var h=this[i]=new l(this);return this._handlers.push(h),this.options[i]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ht(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ee(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)ht(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,l){var h="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),g=Ye("div",h,l||this._mapPane);return i&&(this._panes[i]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),l=this.unproject(i.getBottomLeft()),h=this.unproject(i.getTopRight());return new X(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,l,h){i=re(i),h=ne(h||[0,0]);var g=this.getZoom()||0,S=this.getMinZoom(),T=this.getMaxZoom(),Z=i.getNorthWest(),ie=i.getSouthEast(),le=this.getSize().subtract(h),ve=D(this.project(ie,g),this.project(Z,g)).getSize(),Pe=Re.any3d?this.options.zoomSnap:1,Ie=le.x/ve.x,Ve=le.y/ve.y,At=l?Math.max(Ie,Ve):Math.min(Ie,Ve);return g=this.getScaleZoom(At,g),Pe&&(g=Math.round(g/(Pe/100))*(Pe/100),g=l?Math.ceil(g/Pe)*Pe:Math.floor(g/Pe)*Pe),Math.max(S,Math.min(T,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,l){var h=this._getTopLeftPoint(i,l);return new z(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(i)/h.scale(l)},getScaleZoom:function(i,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var g=h.zoom(i*h.scale(l));return isNaN(g)?1/0:g},project:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(Q(i),l)},unproject:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(ne(i),l)},layerPointToLatLng:function(i){var l=ne(i).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(i){var l=this.project(Q(i))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(Q(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(re(i))},distance:function(i,l){return this.options.crs.distance(Q(i),Q(l))},containerPointToLayerPoint:function(i){return ne(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return ne(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var l=this.containerPointToLayerPoint(ne(i));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Q(i)))},mouseEventToContainerPoint:function(i){return Ga(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var l=this._container=qn(i);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");qe(l,"scroll",this._onScroll,this),this._containerId=v(l)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Re.any3d,We(i,"leaflet-container"+(Re.touch?" leaflet-touch":"")+(Re.retina?" leaflet-retina":"")+(Re.ielt9?" leaflet-oldie":"")+(Re.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Wa(i,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Et(this._mapPane,new Y(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(We(i.markerPane,"leaflet-zoom-hide"),We(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,l,h){Et(this._mapPane,new Y(0,0));var g=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var S=this._zoom!==l;this._moveStart(S,h)._move(i,l)._moveEnd(S),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(i,l){return i&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(i,l,h,g){l===void 0&&(l=this._zoom);var S=this._zoom!==l;return this._zoom=l,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),g?h&&h.pinch&&this.fire("zoom",h):((S||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ee(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Et(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[v(this._container)]=this;var l=i?ot:qe;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Re.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ee(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,l){for(var h=[],g,S=l==="mouseout"||l==="mouseover",T=i.target||i.srcElement,Z=!1;T;){if(g=this._targets[v(T)],g&&(l==="click"||l==="preclick")&&this._draggableMoved(g)){Z=!0;break}if(g&&g.listens(l,!0)&&(S&&!Ka(T,i)||(h.push(g),S))||T===this._container)break;T=T.parentNode}return!h.length&&!Z&&!S&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var l=i.target||i.srcElement;if(!(!this._loaded||l._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(l))){var h=i.type;h==="mousedown"&&Qi(l),this._fireDOMEvent(i,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,l,h){if(i.type==="click"){var g=o({},i);g.type="preclick",this._fireDOMEvent(g,g.type,h)}var S=this._findEventTargets(i,l);if(h){for(var T=[],Z=0;Z<h.length;Z++)h[Z].listens(l,!0)&&T.push(h[Z]);S=T.concat(S)}if(S.length){l==="contextmenu"&&bt(i);var ie=S[0],le={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var ve=ie.getLatLng&&(!ie._radius||ie._radius<=10);le.containerPoint=ve?this.latLngToContainerPoint(ie.getLatLng()):this.mouseEventToContainerPoint(i),le.layerPoint=this.containerPointToLayerPoint(le.containerPoint),le.latlng=ve?ie.getLatLng():this.layerPointToLatLng(le.layerPoint)}for(Z=0;Z<S.length;Z++)if(S[Z].fire(l,le,!0),le.originalEvent._stopped||S[Z].options.bubblingMouseEvents===!1&&F(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,l=this._handlers.length;i<l;i++)this._handlers[i].disable()},whenReady:function(i,l){return this._loaded?i.call(l||this,{target:this}):this.on("load",i,l),this},_getMapPanePos:function(){return Er(this._mapPane)||new Y(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,l){var h=i&&l!==void 0?this._getNewPixelOrigin(i,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,l){var h=this.getSize()._divideBy(2);return this.project(i,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,l,h){var g=this._getNewPixelOrigin(h,l);return this.project(i,l)._subtract(g)},_latLngBoundsToNewLayerBounds:function(i,l,h){var g=this._getNewPixelOrigin(h,l);return D([this.project(i.getSouthWest(),l)._subtract(g),this.project(i.getNorthWest(),l)._subtract(g),this.project(i.getSouthEast(),l)._subtract(g),this.project(i.getNorthEast(),l)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,l,h){if(!h)return i;var g=this.project(i,l),S=this.getSize().divideBy(2),T=new z(g.subtract(S),g.add(S)),Z=this._getBoundsOffset(T,h,l);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?i:this.unproject(g.add(Z),l)},_limitOffset:function(i,l){if(!l)return i;var h=this.getPixelBounds(),g=new z(h.min.add(i),h.max.add(i));return i.add(this._getBoundsOffset(g,l))},_getBoundsOffset:function(i,l,h){var g=D(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),S=g.min.subtract(i.min),T=g.max.subtract(i.max),Z=this._rebound(S.x,-T.x),ie=this._rebound(S.y,-T.y);return new Y(Z,ie)},_rebound:function(i,l){return i+l>0?Math.round(i-l)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(l))},_limitZoom:function(i){var l=this.getMinZoom(),h=this.getMaxZoom(),g=Re.any3d?this.options.zoomSnap:1;return g&&(i=Math.round(i/g)*g),Math.max(l,Math.min(h,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){dt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,l){var h=this._getCenterOffset(i)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var i=this._proxy=Ye("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(l){var h=el,g=this._proxy.style[h];Un(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),g===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ht(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),l=this.getZoom();Un(this._proxy,this.project(i,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(l),S=this._getCenterOffset(i)._divideBy(1-1/g);return h.animate!==!0&&!this.getSize().contains(S)?!1:(U(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(i,l,!0)},this),!0)},_animateZoom:function(i,l,h,g){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=l,We(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:l,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&dt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ur(i,l){return new Xe(i,l)}var wn=ce.extend({options:{position:"topright"},initialize:function(i){C(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var l=this._map;return l&&l.removeControl(this),this.options.position=i,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var l=this._container=this.onAdd(i),h=this.getPosition(),g=i._controlCorners[h];return We(l,"leaflet-control"),h.indexOf("bottom")!==-1?g.insertBefore(l,g.firstChild):g.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ht(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Wr=function(i){return new wn(i)};Xe.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},l="leaflet-",h=this._controlContainer=Ye("div",l+"control-container",this._container);function g(S,T){var Z=l+S+" "+l+T;i[S+T]=Ye("div",Z,h)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)ht(this._controlCorners[i]);ht(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var il=wn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,l,h,g){return h<g?-1:g<h?1:0}},initialize:function(i,l,h){C(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in i)this._addLayer(i[g],g);for(g in l)this._addLayer(l[g],g,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return wn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,l){return this._addLayer(i,l),this._map?this._update():this},addOverlay:function(i,l){return this._addLayer(i,l,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var l=this._getLayer(v(i));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){We(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(We(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):dt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return dt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",l=this._container=Ye("div",i),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Va(l),qs(l);var g=this._section=Ye("section",i+"-list");h&&(this._map.on("click",this.collapse,this),qe(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=Ye("a",i+"-toggle",l);S.href="#",S.title="Layers",S.setAttribute("role","button"),qe(S,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){bt(T),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Ye("div",i+"-base",g),this._separator=Ye("div",i+"-separator",g),this._overlaysList=Ye("div",i+"-overlays",g),l.appendChild(g)},_getLayer:function(i){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&v(this._layers[l].layer)===i)return this._layers[l]},_addLayer:function(i,l,h){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(f(function(g,S){return this.options.sortFunction(g.layer,S.layer,g.name,S.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ls(this._baseLayersList),Ls(this._overlaysList),this._layerControlInputs=[];var i,l,h,g,S=0;for(h=0;h<this._layers.length;h++)g=this._layers[h],this._addItem(g),l=l||g.overlay,i=i||!g.overlay,S+=g.overlay?0:1;return this.options.hideSingleBase&&(i=i&&S>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=l&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var l=this._getLayer(v(i.target)),h=l.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(i,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(l?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=h,g.firstChild},_addItem:function(i){var l=document.createElement("label"),h=this._map.hasLayer(i.layer),g;i.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=h):g=this._createRadioElement("leaflet-base-layers_"+v(this),h),this._layerControlInputs.push(g),g.layerId=v(i.layer),qe(g,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+i.name;var T=document.createElement("span");l.appendChild(T),T.appendChild(g),T.appendChild(S);var Z=i.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,l,h,g=[],S=[];this._handlingClick=!0;for(var T=i.length-1;T>=0;T--)l=i[T],h=this._getLayer(l.layerId).layer,l.checked?g.push(h):l.checked||S.push(h);for(T=0;T<S.length;T++)this._map.hasLayer(S[T])&&this._map.removeLayer(S[T]);for(T=0;T<g.length;T++)this._map.hasLayer(g[T])||this._map.addLayer(g[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,l,h,g=this._map.getZoom(),S=i.length-1;S>=0;S--)l=i[S],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&g<h.options.minZoom||h.options.maxZoom!==void 0&&g>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,qe(i,"click",bt),this.expand();var l=this;setTimeout(function(){ot(i,"click",bt),l._preventClick=!1})}}),Hs=function(i,l,h){return new il(i,l,h)},ea=wn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var l="leaflet-control-zoom",h=Ye("div",l+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,l,h,g,S){var T=Ye("a",h,g);return T.innerHTML=i,T.href="#",T.title=l,T.setAttribute("role","button"),T.setAttribute("aria-label",l),Va(T),qe(T,"click",Hn),qe(T,"click",S,this),qe(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var i=this._map,l="leaflet-disabled";dt(this._zoomInButton,l),dt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(We(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(We(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xe.mergeOptions({zoomControl:!0}),Xe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ea,this.addControl(this.zoomControl))});var Vu=function(i){return new ea(i)},on=wn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var l="leaflet-control-scale",h=Ye("div",l),g=this.options;return this._addScales(g,l+"-line",h),i.on(g.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),h},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,l,h){i.metric&&(this._mScale=Ye("div",l,h)),i.imperial&&(this._iScale=Ye("div",l,h))},_update:function(){var i=this._map,l=i.getSize().y/2,h=i.distance(i.containerPointToLatLng([0,l]),i.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var l=this._getRoundNum(i),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/i)},_updateImperial:function(i){var l=i*3.2808399,h,g,S;l>5280?(h=l/5280,g=this._getRoundNum(h),this._updateScale(this._iScale,g+" mi",g/h)):(S=this._getRoundNum(l),this._updateScale(this._iScale,S+" ft",S/l))},_updateScale:function(i,l,h){i.style.width=Math.round(this.options.maxWidth*h)+"px",i.innerHTML=l},_getRoundNum:function(i){var l=Math.pow(10,(Math.floor(i)+"").length-1),h=i/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),ta=function(i){return new on(i)},al='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',gi=wn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Re.inlineSvg?al+" ":"")+"Leaflet</a>"},initialize:function(i){C(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=Ye("div","leaflet-control-attribution"),Va(this._container);for(var l in i._layers)i._layers[l].getAttribution&&this.addAttribution(i._layers[l].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var l in this._attributions)this._attributions[l]&&i.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),i.length&&h.push(i.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Xe.mergeOptions({attributionControl:!0}),Xe.addInitHook(function(){this.options.attributionControl&&new gi().addTo(this)});var Lf=function(i){return new gi(i)};wn.Layers=il,wn.Zoom=ea,wn.Scale=on,wn.Attribution=gi,Wr.layers=Hs,Wr.zoom=Vu,Wr.scale=ta,Wr.attribution=Lf;var kn=ce.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});kn.addTo=function(i,l){return i.addHandler(l,this),this};var sl={Events:de},na=Re.touch?"touchstart mousedown":"mousedown",Yn=he.extend({options:{clickTolerance:3},initialize:function(i,l,h,g){C(this,g),this._element=i,this._dragStartTarget=l||i,this._preventOutline=h},enable:function(){this._enabled||(qe(this._dragStartTarget,na,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Yn._dragging===this&&this.finishDrag(!0),ot(this._dragStartTarget,na,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Ki(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Yn._dragging===this&&this.finishDrag();return}if(!(Yn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Yn._dragging=this,this._preventOutline&&Qi(this._element),Fs(),et(),!this._moving)){this.fire("down");var l=i.touches?i.touches[0]:i,h=Pr(this._element);this._startPoint=new Y(l.clientX,l.clientY),this._startPos=Er(this._element),this._parentScale=rr(h);var g=i.type==="mousedown";qe(document,g?"mousemove":"touchmove",this._onMove,this),qe(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var l=i.touches&&i.touches.length===1?i.touches[0]:i,h=new Y(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,bt(i),this._moved||(this.fire("dragstart"),this._moved=!0,We(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),We(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Et(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){dt(document.body,"leaflet-dragging"),this._lastTarget&&(dt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ot(document,"mousemove touchmove",this._onMove,this),ot(document,"mouseup touchend touchcancel",this._onUp,this),$s(),Ji();var l=this._moved&&this._moving;this._moving=!1,Yn._dragging=!1,l&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function ol(i,l,h){var g,S=[1,4,2,8],T,Z,ie,le,ve,Pe,Ie,Ve;for(T=0,Pe=i.length;T<Pe;T++)i[T]._code=yi(i[T],l);for(ie=0;ie<4;ie++){for(Ie=S[ie],g=[],T=0,Pe=i.length,Z=Pe-1;T<Pe;Z=T++)le=i[T],ve=i[Z],le._code&Ie?ve._code&Ie||(Ve=Zs(ve,le,Ie,l,h),Ve._code=yi(Ve,l),g.push(Ve)):(ve._code&Ie&&(Ve=Zs(ve,le,Ie,l,h),Ve._code=yi(Ve,l),g.push(Ve)),g.push(le));i=g}return i}function Gu(i,l){var h,g,S,T,Z,ie,le,ve,Pe;if(!i||i.length===0)throw new Error("latlngs not passed");Tn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Ie=Q([0,0]),Ve=re(i),At=Ve.getNorthWest().distanceTo(Ve.getSouthWest())*Ve.getNorthEast().distanceTo(Ve.getNorthWest());At<1700&&(Ie=ll(i));var zt=i.length,Sn=[];for(h=0;h<zt;h++){var ln=Q(i[h]);Sn.push(l.project(Q([ln.lat-Ie.lat,ln.lng-Ie.lng])))}for(ie=le=ve=0,h=0,g=zt-1;h<zt;g=h++)S=Sn[h],T=Sn[g],Z=S.y*T.x-T.y*S.x,le+=(S.x+T.x)*Z,ve+=(S.y+T.y)*Z,ie+=Z*3;ie===0?Pe=Sn[0]:Pe=[le/ie,ve/ie];var fa=l.unproject(ne(Pe));return Q([fa.lat+Ie.lat,fa.lng+Ie.lng])}function ll(i){for(var l=0,h=0,g=0,S=0;S<i.length;S++){var T=Q(i[S]);l+=T.lat,h+=T.lng,g++}return Q([l/g,h/g])}var Af={__proto__:null,clipPolygon:ol,polygonCenter:Gu,centroid:ll};function Ys(i,l){if(!l||!i.length)return i.slice();var h=l*l;return i=$f(i,h),i=Ff(i,h),i}function Ku(i,l,h){return Math.sqrt(xi(i,l,h,!0))}function If(i,l,h){return xi(i,l,h)}function Ff(i,l){var h=i.length,g=typeof Uint8Array<"u"?Uint8Array:Array,S=new g(h);S[0]=S[h-1]=1,ul(i,S,l,0,h-1);var T,Z=[];for(T=0;T<h;T++)S[T]&&Z.push(i[T]);return Z}function ul(i,l,h,g,S){var T=0,Z,ie,le;for(ie=g+1;ie<=S-1;ie++)le=xi(i[ie],i[g],i[S],!0),le>T&&(Z=ie,T=le);T>h&&(l[Z]=1,ul(i,l,h,g,Z),ul(i,l,h,Z,S))}function $f(i,l){for(var h=[i[0]],g=1,S=0,T=i.length;g<T;g++)Bf(i[g],i[S])>l&&(h.push(i[g]),S=g);return S<T-1&&h.push(i[T-1]),h}var cl;function Xu(i,l,h,g,S){var T=g?cl:yi(i,h),Z=yi(l,h),ie,le,ve;for(cl=Z;;){if(!(T|Z))return[i,l];if(T&Z)return!1;ie=T||Z,le=Zs(i,l,ie,h,S),ve=yi(le,h),ie===T?(i=le,T=ve):(l=le,Z=ve)}}function Zs(i,l,h,g,S){var T=l.x-i.x,Z=l.y-i.y,ie=g.min,le=g.max,ve,Pe;return h&8?(ve=i.x+T*(le.y-i.y)/Z,Pe=le.y):h&4?(ve=i.x+T*(ie.y-i.y)/Z,Pe=ie.y):h&2?(ve=le.x,Pe=i.y+Z*(le.x-i.x)/T):h&1&&(ve=ie.x,Pe=i.y+Z*(ie.x-i.x)/T),new Y(ve,Pe,S)}function yi(i,l){var h=0;return i.x<l.min.x?h|=1:i.x>l.max.x&&(h|=2),i.y<l.min.y?h|=4:i.y>l.max.y&&(h|=8),h}function Bf(i,l){var h=l.x-i.x,g=l.y-i.y;return h*h+g*g}function xi(i,l,h,g){var S=l.x,T=l.y,Z=h.x-S,ie=h.y-T,le=Z*Z+ie*ie,ve;return le>0&&(ve=((i.x-S)*Z+(i.y-T)*ie)/le,ve>1?(S=h.x,T=h.y):ve>0&&(S+=Z*ve,T+=ie*ve)),Z=i.x-S,ie=i.y-T,g?Z*Z+ie*ie:new Y(S,T)}function Tn(i){return!A(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Ju(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Tn(i)}function Qu(i,l){var h,g,S,T,Z,ie,le,ve;if(!i||i.length===0)throw new Error("latlngs not passed");Tn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Pe=Q([0,0]),Ie=re(i),Ve=Ie.getNorthWest().distanceTo(Ie.getSouthWest())*Ie.getNorthEast().distanceTo(Ie.getNorthWest());Ve<1700&&(Pe=ll(i));var At=i.length,zt=[];for(h=0;h<At;h++){var Sn=Q(i[h]);zt.push(l.project(Q([Sn.lat-Pe.lat,Sn.lng-Pe.lng])))}for(h=0,g=0;h<At-1;h++)g+=zt[h].distanceTo(zt[h+1])/2;if(g===0)ve=zt[0];else for(h=0,T=0;h<At-1;h++)if(Z=zt[h],ie=zt[h+1],S=Z.distanceTo(ie),T+=S,T>g){le=(T-g)/S,ve=[ie.x-le*(ie.x-Z.x),ie.y-le*(ie.y-Z.y)];break}var ln=l.unproject(ne(ve));return Q([ln.lat+Pe.lat,ln.lng+Pe.lng])}var ec={__proto__:null,simplify:Ys,pointToSegmentDistance:Ku,closestPointOnSegment:If,clipSegment:Xu,_getEdgeIntersection:Zs,_getBitCode:yi,_sqClosestPointOnSegment:xi,isFlat:Tn,_flat:Ju,polylineCenter:Qu},dl={project:function(i){return new Y(i.lng,i.lat)},unproject:function(i){return new oe(i.y,i.x)},bounds:new z([-180,-90],[180,90])},fl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var l=Math.PI/180,h=this.R,g=i.lat*l,S=this.R_MINOR/h,T=Math.sqrt(1-S*S),Z=T*Math.sin(g),ie=Math.tan(Math.PI/4-g/2)/Math.pow((1-Z)/(1+Z),T/2);return g=-h*Math.log(Math.max(ie,1e-10)),new Y(i.lng*l*h,g)},unproject:function(i){for(var l=180/Math.PI,h=this.R,g=this.R_MINOR/h,S=Math.sqrt(1-g*g),T=Math.exp(-i.y/h),Z=Math.PI/2-2*Math.atan(T),ie=0,le=.1,ve;ie<15&&Math.abs(le)>1e-7;ie++)ve=S*Math.sin(Z),ve=Math.pow((1-ve)/(1+ve),S/2),le=Math.PI/2-2*Math.atan(T*ve)-Z,Z+=le;return new oe(Z*l,i.x*l/h)}},qf={__proto__:null,LonLat:dl,Mercator:fl,SphericalMercator:Se},Uf=o({},ye,{code:"EPSG:3395",projection:fl,transformation:(function(){var i=.5/(Math.PI*fl.R);return Ze(i,.5,-i,.5)})()}),tc=o({},ye,{code:"EPSG:4326",projection:dl,transformation:Ze(1/180,1,-1/180,.5)}),Wf=o({},me,{projection:dl,transformation:Ze(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,l){var h=l.lng-i.lng,g=l.lat-i.lat;return Math.sqrt(h*h+g*g)},infinite:!0});me.Earth=ye,me.EPSG3395=Uf,me.EPSG3857=Qe,me.EPSG900913=Ht,me.EPSG4326=tc,me.Simple=Wf;var Zn=he.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[v(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[v(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var l=i.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Xe.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var l=v(i);return this._layers[l]?this:(this._layers[l]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var l=v(i);return this._layers[l]?(this._loaded&&i.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return v(i)in this._layers},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},_addLayers:function(i){i=i?A(i)?i:[i]:[];for(var l=0,h=i.length;l<h;l++)this.addLayer(i[l])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[v(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var l=v(i);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,l=-1/0,h=this._getZoomSpan();for(var g in this._zoomBoundLayers){var S=this._zoomBoundLayers[g].options;i=S.minZoom===void 0?i:Math.min(i,S.minZoom),l=S.maxZoom===void 0?l:Math.max(l,S.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=i===1/0?void 0:i,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Hr=Zn.extend({initialize:function(i,l){C(this,l),this._layers={};var h,g;if(i)for(h=0,g=i.length;h<g;h++)this.addLayer(i[h])},addLayer:function(i){var l=this.getLayerId(i);return this._layers[l]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var l=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(i){var l=typeof i=="number"?i:this.getLayerId(i);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var l=Array.prototype.slice.call(arguments,1),h,g;for(h in this._layers)g=this._layers[h],g[i]&&g[i].apply(g,l);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return v(i)}}),Xa=function(i,l){return new Hr(i,l)},jr=Hr.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Hr.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Hr.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new X;for(var l in this._layers){var h=this._layers[l];i.extend(h.getBounds?h.getBounds():h.getLatLng())}return i}}),nc=function(i,l){return new jr(i,l)},_i=ce.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){C(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,l){var h=this._getIconUrl(i);if(!h){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(g,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(i,l){var h=this.options,g=h[l+"Size"];typeof g=="number"&&(g=[g,g]);var S=ne(g),T=ne(l==="shadow"&&h.shadowAnchor||h.iconAnchor||S&&S.divideBy(2,!0));i.className="leaflet-marker-"+l+" "+(h.className||""),T&&(i.style.marginLeft=-T.x+"px",i.style.marginTop=-T.y+"px"),S&&(i.style.width=S.x+"px",i.style.height=S.y+"px")},_createImg:function(i,l){return l=l||document.createElement("img"),l.src=i,l},_getIconUrl:function(i){return Re.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function rc(i){return new _i(i)}var ra=_i.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof ra.imagePath!="string"&&(ra.imagePath=this._detectIconPath()),(this.options.imagePath||ra.imagePath)+_i.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var l=function(h,g,S){var T=g.exec(h);return T&&T[S]};return i=l(i,/^url\((['"])?(.+)\1\)$/,2),i&&l(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=Ye("div","leaflet-default-icon-path",document.body),l=Wa(i,"background-image")||Wa(i,"backgroundImage");if(document.body.removeChild(i),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),hl=kn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Yn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),We(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&dt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var l=this._marker,h=l._map,g=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,T=Er(l._icon),Z=h.getPixelBounds(),ie=h.getPixelOrigin(),le=D(Z.min._subtract(ie).add(S),Z.max._subtract(ie).subtract(S));if(!le.contains(T)){var ve=ne((Math.max(le.max.x,T.x)-le.max.x)/(Z.max.x-le.max.x)-(Math.min(le.min.x,T.x)-le.min.x)/(Z.min.x-le.min.x),(Math.max(le.max.y,T.y)-le.max.y)/(Z.max.y-le.max.y)-(Math.min(le.min.y,T.y)-le.min.y)/(Z.min.y-le.min.y)).multiplyBy(g);h.panBy(ve,{animate:!1}),this._draggable._newPos._add(ve),this._draggable._startPos._add(ve),Et(l._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=U(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(ee(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,i)))},_onDrag:function(i){var l=this._marker,h=l._shadow,g=Er(l._icon),S=l._map.layerPointToLatLng(g);h&&Et(h,g),l._latlng=S,i.latlng=S,i.oldLatLng=this._oldLatLng,l.fire("move",i).fire("drag",i)},_onDragEnd:function(i){ee(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),kr=Zn.extend({options:{icon:new ra,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,l){C(this,l),this._latlng=Q(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var l=this._latlng;return this._latlng=Q(i),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=i.icon.createIcon(this._icon),g=!1;h!==this._icon&&(this._icon&&this._removeIcon(),g=!0,i.title&&(h.title=i.title),h.tagName==="IMG"&&(h.alt=i.alt||"")),We(h,l),i.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&qe(h,"focus",this._panOnFocus,this);var S=i.icon.createShadow(this._shadow),T=!1;S!==this._shadow&&(this._removeShadow(),T=!0),S&&(We(S,l),S.alt=""),this._shadow=S,i.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&T&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(this._icon,"focus",this._panOnFocus,this),ht(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ht(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Et(this._icon,i),this._shadow&&Et(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(We(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),hl)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new hl(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&sn(this._icon,i),this._shadow&&sn(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var l=this.options.icon.options,h=l.iconSize?ne(l.iconSize):ne(0,0),g=l.iconAnchor?ne(l.iconAnchor):ne(0,0);i.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:h.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Hf(i,l){return new kr(i,l)}var Yr=Zn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return C(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vs=Yr.extend({options:{fill:!0,radius:10},initialize:function(i,l){C(this,l),this._latlng=Q(i),this._radius=this.options.radius},setLatLng:function(i){var l=this._latlng;return this._latlng=Q(i),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var l=i&&i.radius||this._radius;return Yr.prototype.setStyle.call(this,i),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,l=this._radiusY||i,h=this._clickTolerance(),g=[i+h,l+h];this._pxBounds=new z(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ic(i,l){return new Vs(i,l)}var Gs=Vs.extend({initialize:function(i,l,h){if(typeof l=="number"&&(l=o({},h,{radius:l})),C(this,l),this._latlng=Q(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new X(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Yr.prototype.setStyle,_project:function(){var i=this._latlng.lng,l=this._latlng.lat,h=this._map,g=h.options.crs;if(g.distance===ye.distance){var S=Math.PI/180,T=this._mRadius/ye.R/S,Z=h.project([l+T,i]),ie=h.project([l-T,i]),le=Z.add(ie).divideBy(2),ve=h.unproject(le).lat,Pe=Math.acos((Math.cos(T*S)-Math.sin(l*S)*Math.sin(ve*S))/(Math.cos(l*S)*Math.cos(ve*S)))/S;(isNaN(Pe)||Pe===0)&&(Pe=T/Math.cos(Math.PI/180*l)),this._point=le.subtract(h.getPixelOrigin()),this._radius=isNaN(Pe)?0:le.x-h.project([ve,i-Pe]).x,this._radiusY=le.y-Z.y}else{var Ie=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Ie).x}this._updateBounds()}});function Ja(i,l,h){return new Gs(i,l,h)}var bn=Yr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,l){C(this,l),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var l=1/0,h=null,g=xi,S,T,Z=0,ie=this._parts.length;Z<ie;Z++)for(var le=this._parts[Z],ve=1,Pe=le.length;ve<Pe;ve++){S=le[ve-1],T=le[ve];var Ie=g(i,S,T,!0);Ie<l&&(l=Ie,h=g(i,S,T))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qu(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,l){return l=l||this._defaultShape(),i=Q(i),l.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new X,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Tn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var l=[],h=Tn(i),g=0,S=i.length;g<S;g++)h?(l[g]=Q(i[g]),this._bounds.extend(l[g])):l[g]=this._convertLatLngs(i[g]);return l},_project:function(){var i=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),l=new Y(i,i);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(i,l,h){var g=i[0]instanceof oe,S=i.length,T,Z;if(g){for(Z=[],T=0;T<S;T++)Z[T]=this._map.latLngToLayerPoint(i[T]),h.extend(Z[T]);l.push(Z)}else for(T=0;T<S;T++)this._projectLatlngs(i[T],l,h)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,g,S,T,Z,ie,le;for(h=0,S=0,T=this._rings.length;h<T;h++)for(le=this._rings[h],g=0,Z=le.length;g<Z-1;g++)ie=Xu(le[g],le[g+1],i,g,!0),ie&&(l[S]=l[S]||[],l[S].push(ie[0]),(ie[1]!==le[g+1]||g===Z-2)&&(l[S].push(ie[1]),S++))}},_simplifyPoints:function(){for(var i=this._parts,l=this.options.smoothFactor,h=0,g=i.length;h<g;h++)i[h]=Ys(i[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,l){var h,g,S,T,Z,ie,le=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(h=0,T=this._parts.length;h<T;h++)for(ie=this._parts[h],g=0,Z=ie.length,S=Z-1;g<Z;S=g++)if(!(!l&&g===0)&&Ku(i,ie[S],ie[g])<=le)return!0;return!1}});function Yf(i,l){return new bn(i,l)}bn._flat=Ju;var Tr=bn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Gu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var l=bn.prototype._convertLatLngs.call(this,i),h=l.length;return h>=2&&l[0]instanceof oe&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(i){bn.prototype._setLatLngs.call(this,i),Tn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Tn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,l=this.options.weight,h=new Y(l,l);if(i=new z(i.min.subtract(h),i.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,S=this._rings.length,T;g<S;g++)T=ol(this._rings[g],i,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var l=!1,h,g,S,T,Z,ie,le,ve;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(T=0,le=this._parts.length;T<le;T++)for(h=this._parts[T],Z=0,ve=h.length,ie=ve-1;Z<ve;ie=Z++)g=h[Z],S=h[ie],g.y>i.y!=S.y>i.y&&i.x<(S.x-g.x)*(i.y-g.y)/(S.y-g.y)+g.x&&(l=!l);return l||bn.prototype._containsPoint.call(this,i,!0)}});function Zf(i,l){return new Tr(i,l)}var ar=jr.extend({initialize:function(i,l){C(this,l),this._layers={},i&&this.addData(i)},addData:function(i){var l=A(i)?i:i.features,h,g,S;if(l){for(h=0,g=l.length;h<g;h++)S=l[h],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var T=this.options;if(T.filter&&!T.filter(i))return this;var Z=ia(i,T);return Z?(Z.feature=eo(i),Z.defaultOptions=Z.options,this.resetStyle(Z),T.onEachFeature&&T.onEachFeature(i,Z),this.addLayer(Z)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(l){this._setLayerStyle(l,i)},this)},_setLayerStyle:function(i,l){i.setStyle&&(typeof l=="function"&&(l=l(i.feature)),i.setStyle(l))}});function ia(i,l){var h=i.type==="Feature"?i.geometry:i,g=h?h.coordinates:null,S=[],T=l&&l.pointToLayer,Z=l&&l.coordsToLatLng||Xs,ie,le,ve,Pe;if(!g&&!h)return null;switch(h.type){case"Point":return ie=Z(g),Ks(T,i,ie,l);case"MultiPoint":for(ve=0,Pe=g.length;ve<Pe;ve++)ie=Z(g[ve]),S.push(Ks(T,i,ie,l));return new jr(S);case"LineString":case"MultiLineString":return le=Qa(g,h.type==="LineString"?0:1,Z),new bn(le,l);case"Polygon":case"MultiPolygon":return le=Qa(g,h.type==="Polygon"?1:2,Z),new Tr(le,l);case"GeometryCollection":for(ve=0,Pe=h.geometries.length;ve<Pe;ve++){var Ie=ia({geometry:h.geometries[ve],type:"Feature",properties:i.properties},l);Ie&&S.push(Ie)}return new jr(S);case"FeatureCollection":for(ve=0,Pe=h.features.length;ve<Pe;ve++){var Ve=ia(h.features[ve],l);Ve&&S.push(Ve)}return new jr(S);default:throw new Error("Invalid GeoJSON object.")}}function Ks(i,l,h,g){return i?i(l,h):new kr(h,g&&g.markersInheritOptions&&g)}function Xs(i){return new oe(i[1],i[0],i[2])}function Qa(i,l,h){for(var g=[],S=0,T=i.length,Z;S<T;S++)Z=l?Qa(i[S],l-1,h):(h||Xs)(i[S]),g.push(Z);return g}function Js(i,l){return i=Q(i),i.alt!==void 0?[N(i.lng,l),N(i.lat,l),N(i.alt,l)]:[N(i.lng,l),N(i.lat,l)]}function Qs(i,l,h,g){for(var S=[],T=0,Z=i.length;T<Z;T++)S.push(l?Qs(i[T],Tn(i[T])?0:l-1,h,g):Js(i[T],g));return!l&&h&&S.length>0&&S.push(S[0].slice()),S}function aa(i,l){return i.feature?o({},i.feature,{geometry:l}):eo(l)}function eo(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var pl={toGeoJSON:function(i){return aa(this,{type:"Point",coordinates:Js(this.getLatLng(),i)})}};kr.include(pl),Gs.include(pl),Vs.include(pl),bn.include({toGeoJSON:function(i){var l=!Tn(this._latlngs),h=Qs(this._latlngs,l?1:0,!1,i);return aa(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),Tr.include({toGeoJSON:function(i){var l=!Tn(this._latlngs),h=l&&!Tn(this._latlngs[0]),g=Qs(this._latlngs,h?2:l?1:0,!0,i);return l||(g=[g]),aa(this,{type:(h?"Multi":"")+"Polygon",coordinates:g})}}),Hr.include({toMultiPoint:function(i){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(i).geometry.coordinates)}),aa(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(i){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(i);var h=l==="GeometryCollection",g=[];return this.eachLayer(function(S){if(S.toGeoJSON){var T=S.toGeoJSON(i);if(h)g.push(T.geometry);else{var Z=eo(T);Z.type==="FeatureCollection"?g.push.apply(g,Z.features):g.push(Z)}}}),h?aa(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function ac(i,l){return new ar(i,l)}var Vn=ac,Zr=Zn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,l,h){this._url=i,this._bounds=re(l),C(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(We(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ht(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Gi(this._image),this},bringToBack:function(){return this._map&&Cr(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=re(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",l=this._image=i?this._url:Ye("img");if(We(l,"leaflet-image-layer"),this._zoomAnimated&&We(l,"leaflet-zoom-animated"),this.options.className&&We(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onload=f(this.fire,this,"load"),l.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(i){var l=this._map.getZoomScale(i.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Un(this._image,h,l)},_reset:function(){var i=this._image,l=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();Et(i,l.min),i.style.width=h.x+"px",i.style.height=h.y+"px"},_updateOpacity:function(){sn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),sc=function(i,l,h){return new Zr(i,l,h)},ml=Zr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",l=this._image=i?this._url:Ye("video");if(We(l,"leaflet-image-layer"),this._zoomAnimated&&We(l,"leaflet-zoom-animated"),this.options.className&&We(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onloadeddata=f(this.fire,this,"load"),i){for(var h=l.getElementsByTagName("source"),g=[],S=0;S<h.length;S++)g.push(h[S].src);this._url=h.length>0?g:[l.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var Z=Ye("source");Z.src=this._url[T],l.appendChild(Z)}}});function oc(i,l,h){return new ml(i,l,h)}var vl=Zr.extend({_initImage:function(){var i=this._image=this._url;We(i,"leaflet-image-layer"),this._zoomAnimated&&We(i,"leaflet-zoom-animated"),this.options.className&&We(i,this.options.className),i.onselectstart=w,i.onmousemove=w}});function gl(i,l,h){return new vl(i,l,h)}var sr=Zn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,l){i&&(i instanceof oe||A(i))?(this._latlng=Q(i),C(this,l)):(C(this,i),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&sn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&sn(this._container,1),this.bringToFront(),this.options.interactive&&(We(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(sn(this._container,0),this._removeTimeout=setTimeout(f(ht,void 0,this._container),200)):ht(this._container),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=Q(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Gi(this._container),this},bringToBack:function(){return this._map&&Cr(this._container),this},_prepareOpen:function(i){var l=this._source;if(!l._map)return!1;if(l instanceof jr){l=null;var h=this._source._layers;for(var g in h)if(h[g]._map){l=h[g];break}if(!l)return!1;this._source=l}if(!i)if(l.getCenter)i=l.getCenter();else if(l.getLatLng)i=l.getLatLng();else if(l.getBounds)i=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")i.innerHTML=l;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),l=ne(this.options.offset),h=this._getAnchor();this._zoomAnimated?Et(this._container,i.add(h)):l=l.add(i).add(h);var g=this._containerBottom=-l.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=g+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Xe.include({_initOverlay:function(i,l,h,g){var S=l;return S instanceof i||(S=new i(g).setContent(l)),h&&S.setLatLng(h),S}}),Zn.include({_initOverlay:function(i,l,h,g){var S=h;return S instanceof i?(C(S,g),S._source=this):(S=l&&!g?l:new i(g,this),S.setContent(h)),S}});var to=sr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,sr.prototype.openOn.call(this,i)},onAdd:function(i){sr.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Yr||this._source.on("preclick",ir))},onRemove:function(i){sr.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Yr||this._source.off("preclick",ir))},getEvents:function(){var i=sr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",l=this._container=Ye("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Ye("div",i+"-content-wrapper",l);if(this._contentNode=Ye("div",i+"-content",h),Va(l),qs(this._contentNode),qe(l,"contextmenu",ir),this._tipContainer=Ye("div",i+"-tip-container",l),this._tip=Ye("div",i+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=Ye("a",i+"-close-button",l);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',qe(g,"click",function(S){bt(S),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,l=i.style;l.width="",l.whiteSpace="nowrap";var h=i.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var g=i.offsetHeight,S=this.options.maxHeight,T="leaflet-popup-scrolled";S&&g>S?(l.height=S+"px",We(i,T)):dt(i,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),h=this._getAnchor();Et(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,l=parseInt(Wa(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,g=this._containerWidth,S=new Y(this._containerLeft,-h-this._containerBottom);S._add(Er(this._container));var T=i.layerPointToContainerPoint(S),Z=ne(this.options.autoPanPadding),ie=ne(this.options.autoPanPaddingTopLeft||Z),le=ne(this.options.autoPanPaddingBottomRight||Z),ve=i.getSize(),Pe=0,Ie=0;T.x+g+le.x>ve.x&&(Pe=T.x+g-ve.x+le.x),T.x-Pe-ie.x<0&&(Pe=T.x-ie.x),T.y+h+le.y>ve.y&&(Ie=T.y+h-ve.y+le.y),T.y-Ie-ie.y<0&&(Ie=T.y-ie.y),(Pe||Ie)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([Pe,Ie]))}},_getAnchor:function(){return ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),sa=function(i,l){return new to(i,l)};Xe.mergeOptions({closePopupOnClick:!0}),Xe.include({openPopup:function(i,l,h){return this._initOverlay(to,i,l,h).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Zn.include({bindPopup:function(i,l){return this._popup=this._initOverlay(to,this._popup,i,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof jr||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Hn(i);var l=i.layer||i.target;if(this._popup._source===l&&!(l instanceof Yr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=l,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var oa=sr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){sr.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){sr.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=sr.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",l=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ye("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var l,h,g=this._map,S=this._container,T=g.latLngToContainerPoint(g.getCenter()),Z=g.layerPointToContainerPoint(i),ie=this.options.direction,le=S.offsetWidth,ve=S.offsetHeight,Pe=ne(this.options.offset),Ie=this._getAnchor();ie==="top"?(l=le/2,h=ve):ie==="bottom"?(l=le/2,h=0):ie==="center"?(l=le/2,h=ve/2):ie==="right"?(l=0,h=ve/2):ie==="left"?(l=le,h=ve/2):Z.x<T.x?(ie="right",l=0,h=ve/2):(ie="left",l=le+(Pe.x+Ie.x)*2,h=ve/2),i=i.subtract(ne(l,h,!0)).add(Pe).add(Ie),dt(S,"leaflet-tooltip-right"),dt(S,"leaflet-tooltip-left"),dt(S,"leaflet-tooltip-top"),dt(S,"leaflet-tooltip-bottom"),We(S,"leaflet-tooltip-"+ie),Et(S,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&sn(this._container,i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(l)},_getAnchor:function(){return ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),es=function(i,l){return new oa(i,l)};Xe.include({openTooltip:function(i,l,h){return this._initOverlay(oa,i,l,h).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Zn.include({bindTooltip:function(i,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(oa,this._tooltip,i,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var l=i?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof jr||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&(qe(l,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),qe(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var l=i.latlng,h,g;this._tooltip.options.sticky&&i.originalEvent&&(h=this._map.mouseEventToContainerPoint(i.originalEvent),g=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(l)}});var no=_i.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var l=i&&i.tagName==="DIV"?i:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Ls(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var g=ne(h.bgPos);l.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function lc(i){return new no(i)}_i.Default=ra;var Vr=Zn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Re.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){C(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),ht(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Gi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Cr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof Y?i:new Y(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var l=this.getPane().children,h=-i(-1/0,1/0),g=0,S=l.length,T;g<S;g++)T=l[g].style.zIndex,l[g]!==this._container&&T&&(h=i(h,+T));isFinite(h)&&(this.options.zIndex=h+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Re.ielt9){sn(this._container,this.options.opacity);var i=+new Date,l=!1,h=!1;for(var g in this._tiles){var S=this._tiles[g];if(!(!S.current||!S.loaded)){var T=Math.min(1,(i-S.loaded)/200);sn(S.el,T),T<1?l=!0:(S.active?h=!0:this._onOpaqueTile(S),S.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(ee(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Ye("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,l=this.options.maxZoom;if(i!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===i?(this._levels[h].el.style.zIndex=l-Math.abs(i-h),this._onUpdateLevel(h)):(ht(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var g=this._levels[i],S=this._map;return g||(g=this._levels[i]={},g.el=Ye("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=l,g.origin=S.project(S.unproject(S.getPixelOrigin()),i).round(),g.zoom=i,this._setZoomTransform(g,S.getCenter(),S.getZoom()),w(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var i,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)l=this._tiles[i],l.retain=l.current;for(i in this._tiles)if(l=this._tiles[i],l.current&&!l.active){var g=l.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var l in this._tiles)this._tiles[l].coords.z===i&&this._removeTile(l)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)ht(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,l,h,g){var S=Math.floor(i/2),T=Math.floor(l/2),Z=h-1,ie=new Y(+S,+T);ie.z=+Z;var le=this._tileCoordsToKey(ie),ve=this._tiles[le];return ve&&ve.active?(ve.retain=!0,!0):(ve&&ve.loaded&&(ve.retain=!0),Z>g?this._retainParent(S,T,Z,g):!1)},_retainChildren:function(i,l,h,g){for(var S=2*i;S<2*i+2;S++)for(var T=2*l;T<2*l+2;T++){var Z=new Y(S,T);Z.z=h+1;var ie=this._tileCoordsToKey(Z),le=this._tiles[ie];if(le&&le.active){le.retain=!0;continue}else le&&le.loaded&&(le.retain=!0);h+1<g&&this._retainChildren(S,T,h+1,g)}},_resetView:function(i){var l=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var l=this.options;return l.minNativeZoom!==void 0&&i<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<i?l.maxNativeZoom:i},_setView:function(i,l,h,g){var S=Math.round(l);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var T=this.options.updateWhenZooming&&S!==this._tileZoom;(!g||T)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(i),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(i,l)},_setZoomTransforms:function(i,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],i,l)},_setZoomTransform:function(i,l,h){var g=this._map.getZoomScale(h,i.zoom),S=i.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(l,h)).round();Re.any3d?Un(i.el,S,g):Et(i.el,S)},_resetGrid:function(){var i=this._map,l=i.options.crs,h=this._tileSize=this.getTileSize(),g=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,l.wrapLng[0]],g).x/h.x),Math.ceil(i.project([0,l.wrapLng[1]],g).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([l.wrapLat[0],0],g).y/h.x),Math.ceil(i.project([l.wrapLat[1],0],g).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),g=l.getZoomScale(h,this._tileZoom),S=l.project(i,this._tileZoom).floor(),T=l.getSize().divideBy(g*2);return new z(S.subtract(T),S.add(T))},_update:function(i){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(i===void 0&&(i=l.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(i),S=this._pxBoundsToTileRange(g),T=S.getCenter(),Z=[],ie=this.options.keepBuffer,le=new z(S.getBottomLeft().subtract([ie,-ie]),S.getTopRight().add([ie,-ie]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ve in this._tiles){var Pe=this._tiles[ve].coords;(Pe.z!==this._tileZoom||!le.contains(new Y(Pe.x,Pe.y)))&&(this._tiles[ve].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(i,h);return}for(var Ie=S.min.y;Ie<=S.max.y;Ie++)for(var Ve=S.min.x;Ve<=S.max.x;Ve++){var At=new Y(Ve,Ie);if(At.z=this._tileZoom,!!this._isValidTile(At)){var zt=this._tiles[this._tileCoordsToKey(At)];zt?zt.current=!0:Z.push(At)}}if(Z.sort(function(ln,fa){return ln.distanceTo(T)-fa.distanceTo(T)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Sn=document.createDocumentFragment();for(Ve=0;Ve<Z.length;Ve++)this._addTile(Z[Ve],Sn);this._level.el.appendChild(Sn)}}}},_isValidTile:function(i){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(i.x<h.min.x||i.x>h.max.x)||!l.wrapLat&&(i.y<h.min.y||i.y>h.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(i);return re(this.options.bounds).overlaps(g)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var l=this._map,h=this.getTileSize(),g=i.scaleBy(h),S=g.add(h),T=l.unproject(g,i.z),Z=l.unproject(S,i.z);return[T,Z]},_tileCoordsToBounds:function(i){var l=this._tileCoordsToNwSe(i),h=new X(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var l=i.split(":"),h=new Y(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(i){var l=this._tiles[i];l&&(ht(l.el),delete this._tiles[i],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){We(i,"leaflet-tile");var l=this.getTileSize();i.style.width=l.x+"px",i.style.height=l.y+"px",i.onselectstart=w,i.onmousemove=w,Re.ielt9&&this.options.opacity<1&&sn(i,this.options.opacity)},_addTile:function(i,l){var h=this._getTilePos(i),g=this._tileCoordsToKey(i),S=this.createTile(this._wrapCoords(i),f(this._tileReady,this,i));this._initTile(S),this.createTile.length<2&&U(f(this._tileReady,this,i,null,S)),Et(S,h),this._tiles[g]={el:S,coords:i,current:!0},l.appendChild(S),this.fire("tileloadstart",{tile:S,coords:i})},_tileReady:function(i,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:i});var g=this._tileCoordsToKey(i);h=this._tiles[g],h&&(h.loaded=+new Date,this._map._fadeAnimated?(sn(h.el,0),ee(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(We(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Re.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var l=new Y(this._wrapX?_(i.x,this._wrapX):i.x,this._wrapY?_(i.y,this._wrapY):i.y);return l.z=i.z,l},_pxBoundsToTileRange:function(i){var l=this.getTileSize();return new z(i.min.unscaleBy(l).floor(),i.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function la(i){return new Vr(i)}var Gr=Vr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,l){this._url=i,l=C(this,l),l.detectRetina&&Re.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,l){return this._url===i&&l===void 0&&(l=!0),this._url=i,l||this.redraw(),this},createTile:function(i,l){var h=document.createElement("img");return qe(h,"load",f(this._tileOnLoad,this,l,h)),qe(h,"error",f(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(i),h},getTileUrl:function(i){var l={r:Re.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-i.y;this.options.tms&&(l.y=h),l["-y"]=h}return R(this._url,o(l,this.options))},_tileOnLoad:function(i,l){Re.ielt9?setTimeout(f(i,this,null,l),0):i(null,l)},_tileOnError:function(i,l,h){var g=this.options.errorTileUrl;g&&l.getAttribute("src")!==g&&(l.src=g),i(h,l)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,g=this.options.zoomOffset;return h&&(i=l-i),i+g},_getSubdomain:function(i){var l=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var i,l;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(l=this._tiles[i].el,l.onload=w,l.onerror=w,!l.complete)){l.src=B;var h=this._tiles[i].coords;ht(l),delete this._tiles[i],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(i){var l=this._tiles[i];if(l)return l.el.setAttribute("src",B),Vr.prototype._removeTile.call(this,i)},_tileReady:function(i,l,h){if(!(!this._map||h&&h.getAttribute("src")===B))return Vr.prototype._tileReady.call(this,i,l,h)}});function yl(i,l){return new Gr(i,l)}var ts=Gr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,l){this._url=i;var h=o({},this.defaultWmsParams);for(var g in l)g in this.options||(h[g]=l[g]);l=C(this,l);var S=l.detectRetina&&Re.retina?2:1,T=this.getTileSize();h.width=T.x*S,h.height=T.y*S,this.wmsParams=h},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Gr.prototype.onAdd.call(this,i)},getTileUrl:function(i){var l=this._tileCoordsToNwSe(i),h=this._crs,g=D(h.project(l[0]),h.project(l[1])),S=g.min,T=g.max,Z=(this._wmsVersion>=1.3&&this._crs===tc?[S.y,S.x,T.y,T.x]:[S.x,S.y,T.x,T.y]).join(","),ie=Gr.prototype.getTileUrl.call(this,i);return ie+j(this.wmsParams,ie,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(i,l){return o(this.wmsParams,i),l||this.redraw(),this}});function uc(i,l){return new ts(i,l)}Gr.WMS=ts,yl.wms=uc;var or=Zn.extend({options:{padding:.1},initialize:function(i){C(this,i),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),We(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,l){var h=this._map.getZoomScale(l,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,l),T=g.multiplyBy(-h).add(S).subtract(this._map._getNewPixelOrigin(i,l));Re.any3d?Un(this._container,T,h):Et(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-i)).round();this._bounds=new z(h,h.add(l.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),xl=or.extend({options:{tolerance:0},getEvents:function(){var i=or.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){or.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");qe(i,"mousemove",this._onMouseMove,this),qe(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),qe(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){ee(this._redrawRequest),delete this._ctx,ht(this._container),ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var l in this._layers)i=this._layers[l],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){or.prototype._update.call(this);var i=this._bounds,l=this._container,h=i.getSize(),g=Re.retina?2:1;Et(l,i.min),l.width=g*h.x,l.height=g*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",Re.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){or.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[v(i)]=i;var l=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var l=i._order,h=l.next,g=l.prev;h?h.prev=g:this._drawLast=g,g?g.next=h:this._drawFirst=h,delete i._order,delete this._layers[v(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var l=i.options.dashArray.split(/[, ]+/),h=[],g,S;for(S=0;S<l.length;S++){if(g=Number(l[S]),isNaN(g))return;h.push(g)}i.options._dashArray=h}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var l=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(i._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(i._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var l=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)i=g.layer,(!l||i._pxBounds&&i._pxBounds.intersects(l))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,l){if(this._drawing){var h,g,S,T,Z=i._parts,ie=Z.length,le=this._ctx;if(ie){for(le.beginPath(),h=0;h<ie;h++){for(g=0,S=Z[h].length;g<S;g++)T=Z[h][g],le[g?"lineTo":"moveTo"](T.x,T.y);l&&le.closePath()}this._fillStroke(le,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var l=i._point,h=this._ctx,g=Math.max(Math.round(i._radius),1),S=(Math.max(Math.round(i._radiusY),1)||g)/g;S!==1&&(h.save(),h.scale(1,S)),h.beginPath(),h.arc(l.x,l.y/S,g,0,Math.PI*2,!1),S!==1&&h.restore(),this._fillStroke(h,i)}},_fillStroke:function(i,l){var h=l.options;h.fill&&(i.globalAlpha=h.fillOpacity,i.fillStyle=h.fillColor||h.color,i.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(i.setLineDash&&i.setLineDash(l.options&&l.options._dashArray||[]),i.globalAlpha=h.opacity,i.lineWidth=h.weight,i.strokeStyle=h.color,i.lineCap=h.lineCap,i.lineJoin=h.lineJoin,i.stroke())},_onClick:function(i){for(var l=this._map.mouseEventToLayerPoint(i),h,g,S=this._drawFirst;S;S=S.next)h=S.layer,h.options.interactive&&h._containsPoint(l)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(h))&&(g=h);this._fireEvent(g?[g]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,l)}},_handleMouseOut:function(i){var l=this._hoveredLayer;l&&(dt(this._container,"leaflet-interactive"),this._fireEvent([l],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,l){if(!this._mouseHoverThrottled){for(var h,g,S=this._drawFirst;S;S=S.next)h=S.layer,h.options.interactive&&h._containsPoint(l)&&(g=h);g!==this._hoveredLayer&&(this._handleMouseOut(i),g&&(We(this._container,"leaflet-interactive"),this._fireEvent([g],i,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,l,h){this._map._fireDOMEvent(l,h||l.type,i)},_bringToFront:function(i){var l=i._order;if(l){var h=l.next,g=l.prev;if(h)h.prev=g;else return;g?g.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(i)}},_bringToBack:function(i){var l=i._order;if(l){var h=l.next,g=l.prev;if(g)g.next=h;else return;h?h.prev=g:g&&(this._drawLast=g),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(i)}}});function _l(i){return Re.canvas?new xl(i):null}var ua=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),cc={_initContainer:function(){this._container=Ye("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(or.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var l=i._container=ua("shape");We(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",i._path=ua("path"),l.appendChild(i._path),this._updateStyle(i),this._layers[v(i)]=i},_addPath:function(i){var l=i._container;this._container.appendChild(l),i.options.interactive&&i.addInteractiveTarget(l)},_removePath:function(i){var l=i._container;ht(l),i.removeInteractiveTarget(l),delete this._layers[v(i)]},_updateStyle:function(i){var l=i._stroke,h=i._fill,g=i.options,S=i._container;S.stroked=!!g.stroke,S.filled=!!g.fill,g.stroke?(l||(l=i._stroke=ua("stroke")),S.appendChild(l),l.weight=g.weight+"px",l.color=g.color,l.opacity=g.opacity,g.dashArray?l.dashStyle=A(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=g.lineCap.replace("butt","flat"),l.joinstyle=g.lineJoin):l&&(S.removeChild(l),i._stroke=null),g.fill?(h||(h=i._fill=ua("fill")),S.appendChild(h),h.color=g.fillColor||g.color,h.opacity=g.fillOpacity):h&&(S.removeChild(h),i._fill=null)},_updateCircle:function(i){var l=i._point.round(),h=Math.round(i._radius),g=Math.round(i._radiusY||h);this._setPath(i,i._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+g+" 0,"+65535*360)},_setPath:function(i,l){i._path.v=l},_bringToFront:function(i){Gi(i._container)},_bringToBack:function(i){Cr(i._container)}},Gn=Re.vml?ua:Be,wi=or.extend({_initContainer:function(){this._container=Gn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Gn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ht(this._container),ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){or.prototype._update.call(this);var i=this._bounds,l=i.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),Et(h,i.min),h.setAttribute("viewBox",[i.min.x,i.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(i){var l=i._path=Gn("path");i.options.className&&We(l,i.options.className),i.options.interactive&&We(l,"leaflet-interactive"),this._updateStyle(i),this._layers[v(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){ht(i._path),i.removeInteractiveTarget(i._path),delete this._layers[v(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var l=i._path,h=i.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(i,l){this._setPath(i,Jt(i._parts,l))},_updateCircle:function(i){var l=i._point,h=Math.max(Math.round(i._radius),1),g=Math.max(Math.round(i._radiusY),1)||h,S="a"+h+","+g+" 0 1,0 ",T=i._empty()?"M0 0":"M"+(l.x-h)+","+l.y+S+h*2+",0 "+S+-h*2+",0 ";this._setPath(i,T)},_setPath:function(i,l){i._path.setAttribute("d",l)},_bringToFront:function(i){Gi(i._path)},_bringToBack:function(i){Cr(i._path)}});Re.vml&&wi.include(cc);function ro(i){return Re.svg||Re.vml?new wi(i):null}Xe.include({getRenderer:function(i){var l=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var l=this._paneRenderers[i];return l===void 0&&(l=this._createRenderer({pane:i}),this._paneRenderers[i]=l),l},_createRenderer:function(i){return this.options.preferCanvas&&_l(i)||ro(i)}});var dc=Tr.extend({initialize:function(i,l){Tr.prototype.initialize.call(this,this._boundsToLatLngs(i),l)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=re(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Vf(i,l){return new dc(i,l)}wi.create=Gn,wi.pointsToPath=Jt,ar.geometryToLayer=ia,ar.coordsToLatLng=Xs,ar.coordsToLatLngs=Qa,ar.latLngToCoords=Js,ar.latLngsToCoords=Qs,ar.getFeature=aa,ar.asFeature=eo,Xe.mergeOptions({boxZoom:!0});var ca=kn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){qe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ht(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),et(),Fs(),this._startPoint=this._map.mouseEventToContainerPoint(i),qe(document,{contextmenu:Hn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=Ye("div","leaflet-zoom-box",this._container),We(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var l=new z(this._point,this._startPoint),h=l.getSize();Et(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(ht(this._box),dt(this._container,"leaflet-crosshair")),Ji(),$s(),ot(document,{contextmenu:Hn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var l=new X(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xe.addInitHook("addHandler","boxZoom",ca),Xe.mergeOptions({doubleClickZoom:!0});var fc=kn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var l=this._map,h=l.getZoom(),g=l.options.zoomDelta,S=i.originalEvent.shiftKey?h-g:h+g;l.options.doubleClickZoom==="center"?l.setZoom(S):l.setZoomAround(i.containerPoint,S)}});Xe.addInitHook("addHandler","doubleClickZoom",fc),Xe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var wl=kn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Yn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}We(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){dt(this._map._container,"leaflet-grab"),dt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=re(this._map.options.maxBounds);this._offsetLimit=D(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,l){return i-(i-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;i.x<l.min.x&&(i.x=this._viscousLimit(i.x,l.min.x)),i.y<l.min.y&&(i.y=this._viscousLimit(i.y,l.min.y)),i.x>l.max.x&&(i.x=this._viscousLimit(i.x,l.max.x)),i.y>l.max.y&&(i.y=this._viscousLimit(i.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,l=Math.round(i/2),h=this._initialWorldOffset,g=this._draggable._newPos.x,S=(g-l+h)%i+l-h,T=(g+l+h)%i-l-h,Z=Math.abs(S+h)<Math.abs(T+h)?S:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(i){var l=this._map,h=l.options,g=!h.inertia||i.noInertia||this._times.length<2;if(l.fire("dragend",i),g)l.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,Z=h.easeLinearity,ie=S.multiplyBy(Z/T),le=ie.distanceTo([0,0]),ve=Math.min(h.inertiaMaxSpeed,le),Pe=ie.multiplyBy(ve/le),Ie=ve/(h.inertiaDeceleration*Z),Ve=Pe.multiplyBy(-Ie/2).round();!Ve.x&&!Ve.y?l.fire("moveend"):(Ve=l._limitOffset(Ve,l.options.maxBounds),U(function(){l.panBy(Ve,{duration:Ie,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});Xe.addInitHook("addHandler","dragging",wl),Xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bl=kn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),qe(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,l=document.documentElement,h=i.scrollTop||l.scrollTop,g=i.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(g,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var l=this._panKeys={},h=this.keyCodes,g,S;for(g=0,S=h.left.length;g<S;g++)l[h.left[g]]=[-1*i,0];for(g=0,S=h.right.length;g<S;g++)l[h.right[g]]=[i,0];for(g=0,S=h.down.length;g<S;g++)l[h.down[g]]=[0,i];for(g=0,S=h.up.length;g<S;g++)l[h.up[g]]=[0,-1*i]},_setZoomDelta:function(i){var l=this._zoomKeys={},h=this.keyCodes,g,S;for(g=0,S=h.zoomIn.length;g<S;g++)l[h.zoomIn[g]]=i;for(g=0,S=h.zoomOut.length;g<S;g++)l[h.zoomOut[g]]=-i},_addHooks:function(){qe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var l=i.keyCode,h=this._map,g;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(g=this._panKeys[l],i.shiftKey&&(g=ne(g).multiplyBy(3)),h.options.maxBounds&&(g=h._limitOffset(ne(g),h.options.maxBounds)),h.options.worldCopyJump){var S=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(g)));h.panTo(S)}else h.panBy(g)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Hn(i)}}});Xe.addInitHook("addHandler","keyboard",bl),Xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var lt=kn.extend({addHooks:function(){qe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var l=Zu(i),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var g=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),g),Hn(i)},_performZoom:function(){var i=this._map,l=i.getZoom(),h=this._map.options.zoomSnap||0;i._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,T=h?Math.ceil(S/h)*h:S,Z=i._limitZoom(l+(this._delta>0?T:-T))-l;this._delta=0,this._startTime=null,Z&&(i.options.scrollWheelZoom==="center"?i.setZoom(l+Z):i.setZoomAround(this._lastMousePos,l+Z))}});Xe.addInitHook("addHandler","scrollWheelZoom",lt);var Sl=600;Xe.mergeOptions({tapHold:Re.touchNative&&Re.safari&&Re.mobile,tapTolerance:15});var ns=kn.extend({addHooks:function(){qe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var l=i.touches[0];this._startPos=this._newPos=new Y(l.clientX,l.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(qe(document,"touchend",bt),qe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Sl),qe(document,"touchend touchcancel contextmenu",this._cancel,this),qe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){ot(document,"touchend",bt),ot(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)},_onMove:function(i){var l=i.touches[0];this._newPos=new Y(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,l){var h=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Xe.addInitHook("addHandler","tapHold",ns),Xe.mergeOptions({touchZoom:Re.touch,bounceAtZoomLimits:!0});var da=kn.extend({addHooks:function(){We(this._map._container,"leaflet-touch-zoom"),qe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var l=this._map;if(!(!i.touches||i.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(i.touches[0]),g=l.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(g)._divideBy(2))),this._startDist=h.distanceTo(g),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),qe(document,"touchmove",this._onTouchMove,this),qe(document,"touchend touchcancel",this._onTouchEnd,this),bt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(i.touches[0]),g=l.mouseEventToContainerPoint(i.touches[1]),S=h.distanceTo(g)/this._startDist;if(this._zoom=l.getScaleZoom(S,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&S<1||this._zoom>l.getMaxZoom()&&S>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var T=h._add(g)._divideBy(2)._subtract(this._centerPoint);if(S===1&&T.x===0&&T.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),ee(this._animRequest);var Z=f(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(Z,this,!0),bt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ee(this._animRequest),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xe.addInitHook("addHandler","touchZoom",da),Xe.BoxZoom=ca,Xe.DoubleClickZoom=fc,Xe.Drag=wl,Xe.Keyboard=bl,Xe.ScrollWheelZoom=lt,Xe.TapHold=ns,Xe.TouchZoom=da,n.Bounds=z,n.Browser=Re,n.CRS=me,n.Canvas=xl,n.Circle=Gs,n.CircleMarker=Vs,n.Class=ce,n.Control=wn,n.DivIcon=no,n.DivOverlay=sr,n.DomEvent=Us,n.DomUtil=Za,n.Draggable=Yn,n.Evented=he,n.FeatureGroup=jr,n.GeoJSON=ar,n.GridLayer=Vr,n.Handler=kn,n.Icon=_i,n.ImageOverlay=Zr,n.LatLng=oe,n.LatLngBounds=X,n.Layer=Zn,n.LayerGroup=Hr,n.LineUtil=ec,n.Map=Xe,n.Marker=kr,n.Mixin=sl,n.Path=Yr,n.Point=Y,n.PolyUtil=Af,n.Polygon=Tr,n.Polyline=bn,n.Popup=to,n.PosAnimation=Ws,n.Projection=qf,n.Rectangle=dc,n.Renderer=or,n.SVG=wi,n.SVGOverlay=vl,n.TileLayer=Gr,n.Tooltip=oa,n.Transformation=De,n.Util=K,n.VideoOverlay=ml,n.bind=f,n.bounds=D,n.canvas=_l,n.circle=Ja,n.circleMarker=ic,n.control=Wr,n.divIcon=lc,n.extend=o,n.featureGroup=nc,n.geoJSON=ac,n.geoJson=Vn,n.gridLayer=la,n.icon=rc,n.imageOverlay=sc,n.latLng=Q,n.latLngBounds=re,n.layerGroup=Xa,n.map=Ur,n.marker=Hf,n.point=ne,n.polygon=Zf,n.polyline=Yf,n.popup=sa,n.rectangle=Vf,n.setOptions=C,n.stamp=v,n.svg=ro,n.svgOverlay=gl,n.tileLayer=yl,n.tooltip=es,n.transformation=Ze,n.version=a,n.videoOverlay=oc;var hc=window.L;n.noConflict=function(){return window.L=hc,this},window.L=n}))})(Vl,Vl.exports)),Vl.exports}var Wo=b3();const si=vn(Wo);function Nf(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Cf(e,t){return t==null?function(a,o){const c=O.useRef();return c.current||(c.current=e(a,o)),c}:function(a,o){const c=O.useRef();c.current||(c.current=e(a,o));const f=O.useRef(a),{instance:m}=c.current;return O.useEffect(function(){f.current!==a&&(t(m,a,f.current),f.current=a)},[m,a,o]),c}}function VE(e,t){O.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function GE(e){return function(n){const a=bf(),o=e(Sf(n,a),a);return UE(a.map,n.attribution),Ox(o.current,n.eventHandlers),VE(o.current,a),o}}function S3(e,t){const n=O.useRef();O.useEffect(function(){if(t.pathOptions!==n.current){const o=t.pathOptions??{};e.instance.setStyle(o),n.current=o}},[e,t])}function N3(e){return function(n){const a=bf(),o=e(Sf(n,a),a);return Ox(o.current,n.eventHandlers),VE(o.current,a),S3(o.current,n),o}}function C3(e,t){const n=Cf(e,t),a=GE(n);return ZE(a)}function E3(e,t){const n=Cf(e),a=_3(n,t);return y3(a)}function P3(e,t){const n=Cf(e,t),a=N3(n);return ZE(a)}function j3(e,t){const n=Cf(e,t),a=GE(n);return x3(a)}function k3(e,t,n){const{opacity:a,zIndex:o}=t;a!=null&&a!==n.opacity&&e.setOpacity(a),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function Ef(){return bf().map}const KE=P3(function({data:t,...n},a){const o=new Wo.GeoJSON(t,n);return Nf(o,WE(a,{overlayContainer:o}))},function(t,n,a){n.style!==a.style&&(n.style==null?t.resetStyle():t.setStyle(n.style))});function vy(){return vy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vy.apply(this,arguments)}function T3({bounds:e,boundsOptions:t,center:n,children:a,className:o,id:c,placeholder:f,style:m,whenReady:v,zoom:x,..._},w){const[N]=O.useState({className:o,id:c,style:m}),[E,P]=O.useState(null);O.useImperativeHandle(w,()=>E?.map??null,[E]);const C=O.useCallback(M=>{if(M!==null&&E===null){const R=new Wo.Map(M,_);n!=null&&x!=null?R.setView(n,x):e!=null&&R.fitBounds(e,t),v!=null&&R.whenReady(v),P(g3(R))}},[]);O.useEffect(()=>()=>{E?.map.remove()},[E]);const j=E?te.createElement(YE,{value:E},a):f??null;return te.createElement("div",vy({},N,{ref:C}),j)}const Pf=O.forwardRef(T3),jf=C3(function({position:t,...n},a){const o=new Wo.Marker(t,n);return Nf(o,WE(a,{overlayContainer:o}))},function(t,n,a){n.position!==a.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==a.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==a.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==a.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),kf=E3(function(t,n){const a=new Wo.Popup(t,n.overlayContainer);return Nf(a,n)},function(t,n,{position:a},o){O.useEffect(function(){const{instance:f}=t;function m(x){x.popup===f&&(f.update(),o(!0))}function v(x){x.popup===f&&o(!1)}return n.map.on({popupopen:m,popupclose:v}),n.overlayContainer==null?(a!=null&&f.setLatLng(a),f.openOn(n.map)):n.overlayContainer.bindPopup(f),function(){n.map.off({popupopen:m,popupclose:v}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(f)}},[t,n,o,a])}),Tf=j3(function({url:t,...n},a){const o=new Wo.TileLayer(t,Sf(n,a));return Nf(o,a)},function(t,n,a){k3(t,n,a);const{url:o}=n;o!=null&&o!==a.url&&t.setUrl(o)});function O3({coords:e}){const t=Ef();return O.useEffect(()=>{t.setView(e)},[e,t]),null}function M3(){const{id:e}=by(),[t,n]=O.useState(null),{user:a,token:o}=Ct(),[c,f]=O.useState(!0),[m,v]=O.useState(!1),[x,_]=O.useState(null),[w,N]=O.useState(!1),[E,P]=O.useState(""),[C,j]=O.useState([45.4642,9.19]),[M,R]=O.useState(null),[A,F]=O.useState(null),[B,q]=O.useState([]),[H,$]=O.useState(!1),[V,I]=O.useState([]),U=gn(),{setNotification:ee}=qt();O.useEffect(()=>{a&&o&&fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${o}`}}).then(Y=>Y.json()).then(Y=>{const fe=Y.find(ne=>String(ne.id)===String(e));n(fe),_(fe),f(!1),fe?.indirizzo&&fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(fe.indirizzo)}`).then(ne=>ne.json()).then(ne=>{ne&&ne.length>0&&j([parseFloat(ne[0].lat),parseFloat(ne[0].lon)])})})},[e]),O.useEffect(()=>{a&&o&&fetch(`${Ee}/api/posizioni`,{headers:{Authorization:`Bearer ${o}`}}).then(Y=>Y.json()).then(Y=>q(Y))},[]);function K(Y,fe,ne,z){const X=(ne-Y)*Math.PI/180,re=(z-fe)*Math.PI/180,oe=Math.sin(X/2)*Math.sin(X/2)+Math.cos(Y*Math.PI/180)*Math.cos(ne*Math.PI/180)*Math.sin(re/2)*Math.sin(re/2);return 6371*(2*Math.atan2(Math.sqrt(oe),Math.sqrt(1-oe)))}O.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(Y=>R([Y.coords.latitude,Y.coords.longitude]),()=>R(null))},[]),O.useEffect(()=>{if(M&&C){const Y=K(M[0],M[1],C[0],C[1]);F(Y)}},[M,C]);const ce=Y=>{const{name:fe,value:ne}=Y.target;_(z=>({...z,[fe]:ne}))},_e=async Y=>{Y.preventDefault(),N(!0),P("");try{if(!a||!o)throw new Error("Non autenticato");await fetch(`${Ee}/api/spedizioni/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(x)}),n(x),v(!1)}catch{P("Errore nel salvataggio")}finally{N(!1)}};if(O.useEffect(()=>{if(a&&o){let Y=!0,fe=0;const ne=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${o}`}}).then(D=>D.json()).then(D=>{Y&&(fe>0&&D.length>fe&&D.slice(fe).forEach(re=>{ee({text:`${re.sender?.nome}: ${re.text}`})}),fe=D.length)})};ne();const z=setInterval(ne,2e3);return()=>{Y=!1,clearInterval(z)}}},[ee,a,o]),c)return d.jsx("div",{className:"p-8",children:"Caricamento..."});if(!t)return d.jsx("div",{className:"p-8 text-red-600",children:"Spedizione non trovata"});const de=a&&(a.role==="admin"||a.role==="pianificatore"||t?.richiedente&&t.richiedente.mail===a.mail),he=H?d.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-40",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-lg relative border border-blue-100",children:[d.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-blue-700 text-2xl font-bold px-2 py-1 rounded transition",onClick:()=>$(!1),"aria-label":"Chiudi",children:"×"}),d.jsxs("h2",{className:"text-xl font-bold text-blue-700 mb-4",children:["Spedizioni attive di ",t?.autista?.nome]}),V.length===0?d.jsx("div",{className:"text-gray-500",children:"Nessuna spedizione attiva assegnata"}):d.jsx("ul",{className:"divide-y divide-blue-100",children:V.map(Y=>d.jsxs("li",{className:"py-3 flex flex-col gap-1 cursor-pointer hover:bg-blue-50 rounded transition",onClick:()=>{$(!1),U(`/spedizioni/${Y.id}`)},children:[d.jsx("span",{className:"font-semibold text-blue-700",children:Y.aziendaDestinazione}),d.jsx("span",{className:"text-sm text-gray-600",children:Y.indirizzo}),d.jsxs("span",{className:"text-xs text-gray-500",children:["Status: ",Y.status]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["Data pianificata: ",Y.dataPianificata?new Date(Y.dataPianificata).toLocaleString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"]})]},Y.id))})]})}):null;return d.jsxs(d.Fragment,{children:[he,d.jsxs("div",{className:"p-6",children:[d.jsx("button",{onClick:()=>U(-1),className:"mb-4 text-blue-600",children:"← Indietro"}),d.jsxs("div",{className:"flex justify-between items-center bg-blue-700 text-white rounded-t-lg p-6 mb-6",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs uppercase font-bold mb-2",children:t.tipo?.split(",").map(Y=>Y.charAt(0).toUpperCase()+Y.slice(1)).join(", ")}),d.jsx("h1",{className:"text-3xl font-bold mb-1",children:t.aziendaDestinazione}),d.jsx("div",{className:"text-lg mb-2",children:t.aziendaDestinazione}),d.jsx("div",{className:"mb-2 flex gap-2 items-center",children:["In attesa","In consegna","Fallita","Consegnata","Completata"].map(Y=>d.jsx("button",{type:"button",className:`px-3 py-1 rounded-full text-xs font-semibold border focus:outline-none transition-all duration-100 ${t.status===Y||Y==="Completata"&&t.status==="Consegnata"?Y==="Fallita"?"bg-red-100 text-red-700 border-red-300":Y==="In consegna"?"bg-orange-100 text-orange-700 border-orange-300":Y==="Consegnata"||Y==="Completata"?"bg-green-100 text-green-700 border-green-300":"bg-blue-100 text-blue-700 border-blue-300":"bg-white text-gray-400 border-gray-200 hover:bg-gray-100 hover:text-gray-700"}
                  `,onClick:async()=>{if(m)_(fe=>({...fe,status:Y}));else{if(Y==="Consegnata"&&!window.confirm("Sei sicuro di voler segnare questa spedizione come consegnata?"))return;N(!0),P("");try{if(!a||!o)throw new Error("Non autenticato");const fe={...t,status:Y};await fetch(`${Ee}/api/spedizioni/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(fe)}),n(fe)}catch{P("Errore nel salvataggio stato")}finally{N(!1)}}},disabled:w,children:Y},Y))}),d.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[d.jsx("span",{className:"material-icons text-yellow-400 align-middle",children:"event_note"}),d.jsx("span",{className:"font-semibold",children:"Da pianificare:"}),d.jsx("span",{className:t.daPianificare?"bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full text-xs font-bold":"bg-gray-100 text-gray-500 px-2 py-1 rounded-full text-xs font-bold",children:t.daPianificare?"Sì":"No"})]}),d.jsxs("div",{className:"mt-4 text-lg font-semibold",children:["Richiesta da",d.jsx("br",{}),d.jsx("span",{className:"text-white font-normal",children:t.richiedente?.nome})]})]}),de&&d.jsx("button",{onClick:()=>v(!0),className:"bg-white text-blue-700 px-4 py-2 rounded font-semibold shadow hover:bg-blue-50",children:"Modifica"})]}),m&&de&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:d.jsxs("div",{className:"bg-white rounded shadow p-6 mb-6 flex flex-col gap-4 max-w-2xl w-full relative",children:[d.jsx("button",{type:"button",className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 text-xl",onClick:()=>v(!1),disabled:w,"aria-label":"Chiudi",children:"×"}),d.jsxs("form",{onSubmit:_e,children:[E&&d.jsx("div",{className:"text-red-600",children:E}),d.jsxs("label",{className:"font-semibold",children:["Destinazione",d.jsxs("select",{name:"indirizzo",value:x.indirizzo||"",onChange:Y=>{const fe=B.find(ne=>ne.indirizzo===Y.target.value);_(ne=>({...ne,indirizzo:fe?fe.indirizzo:Y.target.value,aziendaDestinazione:fe?fe.azienda:ne.aziendaDestinazione}))},className:"border p-2 rounded w-full mt-1",required:!0,children:[d.jsx("option",{value:"",children:"Seleziona destinazione..."}),B.map((Y,fe)=>d.jsxs("option",{value:Y.indirizzo,children:[Y.azienda," - ",Y.indirizzo]},fe))]})]}),d.jsxs("label",{className:"font-semibold",children:["Tipo",d.jsxs("select",{name:"tipo",value:x.tipo||"",onChange:ce,className:"border p-2 rounded w-full mt-1",children:[d.jsx("option",{value:"consegna",children:"Consegna"}),d.jsx("option",{value:"ritiro",children:"Ritiro"}),d.jsx("option",{value:"entrambi",children:"Entrambi"})]})]}),d.jsxs("label",{className:"font-semibold",children:["Status",d.jsxs("select",{name:"status",value:x.status||"",onChange:ce,className:"border p-2 rounded w-full mt-1",children:[d.jsx("option",{value:"In attesa",children:"In attesa"}),d.jsx("option",{value:"In consegna",children:"In consegna"}),d.jsx("option",{value:"Consegnata",children:"Consegnata"}),d.jsx("option",{value:"Fallita",children:"Fallita"})]})]}),a?.role==="admin"&&d.jsxs("label",{className:"font-semibold flex items-center gap-2",children:["Da pianificare",d.jsx("input",{name:"daPianificare",type:"checkbox",checked:x.daPianificare,onChange:Y=>_(fe=>({...fe,daPianificare:Y.target.checked}))}),d.jsx("span",{className:x.daPianificare?"bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full text-xs font-bold":"bg-gray-100 text-gray-500 px-2 py-1 rounded-full text-xs font-bold",children:x.daPianificare?"Sì":"No"})]}),d.jsxs("label",{className:"font-semibold",children:["Data richiesta",d.jsx("input",{name:"dataRichiesta",type:"datetime-local",value:x.dataRichiesta?x.dataRichiesta.slice(0,16):"",onChange:ce,className:"border p-2 rounded w-full mt-1"})]}),d.jsxs("label",{className:"font-semibold",children:["Data pianificata",d.jsx("input",{name:"dataPianificata",type:"datetime-local",value:x.dataPianificata?x.dataPianificata.slice(0,16):"",onChange:ce,className:"border p-2 rounded w-full mt-1"})]}),d.jsxs("label",{className:"font-semibold",children:["Note",d.jsx("textarea",{name:"note",value:x.note||"",onChange:ce,className:"border p-2 rounded w-full mt-1",rows:3,placeholder:"Inserisci eventuali note..."})]}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",disabled:w,children:"Salva"}),d.jsx("button",{type:"button",className:"bg-gray-400 text-white px-4 py-2 rounded",onClick:()=>v(!1),disabled:w,children:"Annulla"})]})]})]})}),!m&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white rounded shadow p-6 mb-6 flex flex-col md:flex-row gap-6",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h2",{className:"text-2xl font-bold mb-2",children:t.aziendaDestinazione}),d.jsxs("div",{className:"mb-2 text-sm text-gray-700 font-semibold flex items-center gap-2",children:[d.jsx("span",{className:"material-icons text-gray-400 align-middle",children:"location_on"}),d.jsxs("span",{children:[d.jsx("b",{children:"Indirizzo"}),d.jsx("br",{}),d.jsx("span",{className:"text-gray-600 font-normal",children:t.indirizzo})]})]}),d.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[d.jsx("span",{className:"material-icons text-gray-400 align-middle",children:"category"}),d.jsxs("span",{children:["Tipo: ",d.jsx("b",{children:t.tipo})]})]}),d.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[d.jsx("span",{className:"material-icons text-gray-400 align-middle",children:"straighten"}),d.jsxs("span",{children:["Distanza: ",d.jsx("span",{className:"text-gray-500",children:A!==null?A.toFixed(2)+" km":"..."})]})]}),d.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[d.jsx("span",{className:"material-icons text-gray-400 align-middle",children:"event"}),d.jsxs("span",{children:["Data assegnata: ",t.dataPianificata?new Date(t.dataPianificata).toLocaleString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"]})]}),d.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[d.jsx("span",{className:"material-icons text-gray-400 align-middle",children:"event_available"}),d.jsxs("span",{children:["Data richiesta: ",t.dataRichiesta?new Date(t.dataRichiesta).toLocaleString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"]})]}),d.jsxs("div",{className:"mt-4 bg-gray-50 rounded p-3 flex items-start gap-2",children:[d.jsx("span",{className:"material-icons text-gray-400 align-middle",children:"chat_bubble_outline"}),d.jsx("div",{className:"whitespace-pre-wrap break-words",children:t.note||"Nessuna nota"})]})]}),d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsx("div",{className:"w-full h-56 bg-gray-100 rounded flex items-center justify-center",children:d.jsxs(Pf,{center:C,zoom:13,style:{height:"220px",width:"100%",borderRadius:"0.5rem"},scrollWheelZoom:!1,children:[d.jsx(O3,{coords:C}),d.jsx(Tf,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),d.jsx(jf,{position:C,icon:si.icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),children:d.jsxs(kf,{children:[t.aziendaDestinazione,d.jsx("br",{}),t.indirizzo]})})]})})})]}),d.jsx("div",{className:"bg-white rounded shadow p-6 mb-6",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-stretch gap-6",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:"Informazioni Veicolo"}),d.jsx("div",{className:"text-gray-500 text-sm font-semibold mb-1",children:"Note"}),d.jsx("div",{className:"mb-2 text-base text-black whitespace-pre-wrap break-words",children:t.note||"-"})]}),d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[d.jsx("div",{className:"text-xs font-bold text-blue-700 mb-1",children:"AUTISTA"}),d.jsx("div",{className:"text-2xl font-bold mb-2 text-black text-center",children:t.autista&&t.autista.nome?t.autista.nome:d.jsx("span",{className:"text-gray-400 text-base",children:"Nessun autista assegnato"})}),d.jsxs("button",{className:"bg-blue-50 hover:bg-blue-100 text-blue-700 px-8 py-3 rounded-lg font-semibold shadow flex flex-col items-center gap-1 transition-all duration-150 mt-2",style:{minWidth:"180px"},onClick:async()=>{if(!t.autista||!t.autista.id||!a||!o)return;const ne=(await(await fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${o}`}})).json()).filter(z=>z.autista&&z.autista.id===t.autista.id&&["In attesa","In consegna"].includes(z.status));I(ne),$(!0)},disabled:!t.autista||!t.autista.id,children:[d.jsx("span",{className:"material-icons text-blue-700 text-2xl",children:"person"}),d.jsx("span",{className:"text-xs font-medium",children:"Info Autista"})]})]})]})}),d.jsxs("div",{className:"bg-white rounded shadow p-6 mb-6",children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:"Conferma Consegna"}),d.jsxs("div",{className:"mb-2",children:["Foto",d.jsx("br",{}),t.fotoConferma?d.jsx("img",{src:t.fotoConferma,alt:"Foto conferma",className:"max-w-xs rounded"}):d.jsx("img",{src:"https://placehold.co/100x100?text=Foto",alt:"Placeholder",className:"max-w-xs rounded border"})]}),d.jsxs("div",{className:"mb-2",children:["Firma",d.jsx("br",{}),d.jsx("input",{type:"text",disabled:!0,className:"border p-2 rounded w-full"})]})]})]})]})]})}function D3(){const{id:e}=by(),[t,n]=O.useState(null),{user:a,token:o}=Ct(),[c,f]=O.useState(!0),[m,v]=O.useState(!1),[x,_]=O.useState(""),w=gn(),{setNotification:N}=qt();O.useEffect(()=>{a&&o&&fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${o}`}}).then(P=>P.json()).then(P=>{const C=P.find(j=>String(j.id)===String(e));n(C),f(!1)})},[e,a,o]);const E=async P=>{v(!0),_("");try{if(!a||!o)throw new Error("Non autenticato");const C={...t,status:P};await fetch(`${Ee}/api/spedizioni/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(C)}),n(C),N({text:`Stato aggiornato a ${P}`})}catch{_("Errore nel salvataggio stato")}finally{v(!1)}if(P==="Consegnata")try{const C=e,j=t?.aziendaDestinazione||"",R={text:`Ho consegnato la spedizione #${C}${j?" - "+j:""}`,spedizioneId:C};a&&(R.sender={nome:a.nome||a.name||(a.mail?a.mail.split("@")[0]:"Autista"),mail:a.mail}),o&&await fetch(`${Ee}/api/messaggi`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(R)})}catch(C){console.warn("Errore nell'invio del messaggio di consegna:",C),N({text:"Consegna registrata ma impossibile inviare messaggio di notifica",type:"warning"})}};return c?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Caricamento spedizione..."})]})}):t?d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("div",{className:"bg-white shadow-sm border-b px-4 py-2 fixed top-0 left-0 w-full z-20",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"text-sm text-gray-600",children:["Benvenuto, ",d.jsx("span",{className:"font-medium",children:a?.nome})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>w(-1),className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-1 rounded font-semibold shadow","aria-label":"Indietro",children:[d.jsx("span",{className:"material-icons text-base align-middle mr-1",children:"arrow_back"}),"Indietro"]}),d.jsx("button",{onClick:()=>{window.confirm("Vuoi disconnetterti?")&&w("/login")},className:"text-xs text-red-600 hover:text-red-800 font-medium",children:"Disconnetti"})]})]})}),d.jsx("main",{className:"pt-[48px] p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("span",{className:"text-3xl",children:(t.tipo==="consegna"||t.tipo==="ritiro","")}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-gray-800 mb-1",children:t.aziendaDestinazione}),d.jsxs("div",{className:"text-xs text-gray-500 mb-1 font-semibold",children:["Tipo: ",t.tipo?t.tipo.charAt(0).toUpperCase()+t.tipo.slice(1):"-"]}),d.jsxs("div",{className:"text-gray-500 text-sm flex items-center gap-2",children:[d.jsx("span",{children:t.indirizzo}),d.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(t.indirizzo)}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-xs flex items-center gap-1",title:"Apri mappa",children:d.jsx("span",{className:"material-icons text-xl",children:"location_on"})})]}),t.telefonoDestinazione&&d.jsxs("div",{className:"text-xs text-gray-700 flex items-center gap-1 mt-1",children:[d.jsx("span",{className:"material-icons text-sm text-gray-400",children:"call"}),d.jsx("a",{href:`tel:${t.telefonoDestinazione}`,className:"text-blue-600 underline",children:t.telefonoDestinazione})]}),t.emailDestinazione&&d.jsxs("div",{className:"text-xs text-gray-700 flex items-center gap-1 mt-1",children:[d.jsx("span",{className:"material-icons text-sm text-gray-400",children:"email"}),d.jsx("a",{href:`mailto:${t.emailDestinazione}`,className:"text-blue-600 underline",children:t.emailDestinazione})]})]})]}),d.jsx("div",{className:"flex gap-2 mb-2",children:d.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${t.status==="In attesa"?"bg-blue-100 text-blue-800":t.status==="In consegna"?"bg-orange-100 text-orange-800":t.status==="Consegnata"?"bg-green-100 text-green-800":t.status==="Fallita"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:t.status})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 text-xs",children:[d.jsxs("div",{children:[d.jsx("span",{className:"material-icons text-gray-400 text-sm mr-1",children:"schedule"}),d.jsx("span",{className:"text-gray-500",children:"Richiesta: "}),d.jsx("span",{className:"font-medium text-gray-700",children:t.dataRichiesta?new Date(t.dataRichiesta).toLocaleString("it-IT"):"-"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"material-icons text-green-500 text-sm mr-1",children:"event"}),d.jsx("span",{className:"text-gray-500",children:"Pianificata: "}),d.jsx("span",{className:"font-medium text-gray-700",children:t.dataPianificata?new Date(t.dataPianificata).toLocaleString("it-IT"):"-"})]})]}),t.note&&d.jsxs("div",{className:"mb-4 text-base text-gray-700",children:[d.jsx("span",{className:"material-icons text-gray-400 text-lg mr-1 align-top",children:"notes"}),d.jsx("span",{className:"font-semibold",children:"Note:"}),d.jsx("div",{className:"mt-1 whitespace-pre-line bg-gray-100 rounded p-2 text-gray-800 text-sm",children:t.note})]}),t.richiedente&&d.jsxs("div",{className:"mb-2 text-xs text-gray-700 flex items-center",children:[d.jsx("span",{className:"material-icons text-gray-400 text-sm mr-1",children:"person"}),d.jsx("span",{className:"font-semibold",children:"Richiedente:"})," ",t.richiedente.nome]}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[t.status==="In attesa"&&d.jsxs("button",{onClick:()=>E("In consegna"),disabled:m,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white text-xs py-2 px-3 rounded-md font-medium transition-colors flex items-center justify-center gap-1",children:[d.jsx("span",{className:"material-icons text-sm",children:"local_shipping"}),"Inizia consegna"]}),t.status==="In consegna"&&d.jsxs("button",{onClick:()=>{window.confirm("Sei sicuro di voler segnare questa spedizione come fallita?")&&E("Consegnata")},disabled:m,className:"flex-1 bg-green-500 hover:bg-green-600 text-white text-xs py-2 px-3 rounded-md font-medium transition-colors flex items-center justify-center gap-1",children:[d.jsx("span",{className:"material-icons text-sm",children:"check_circle"}),"Consegnata"]}),(t.status==="In attesa"||t.status==="In consegna")&&d.jsxs("button",{onClick:()=>{window.confirm("Sei sicuro di voler segnare questa spedizione come fallita?")&&E("Fallita")},disabled:m,className:"bg-red-500 hover:bg-red-600 text-white text-xs py-2 px-3 rounded-md font-medium transition-colors flex items-center justify-center gap-1",children:[d.jsx("span",{className:"material-icons text-sm",children:"error"}),"Fallita"]})]}),x&&d.jsx("div",{className:"text-red-600 text-xs mt-2",children:x})]})})]}):d.jsx("div",{className:"p-8 text-red-600",children:"Spedizione non trovata"})}function z3({coords:e}){const t=Ef();return O.useEffect(()=>{t.setView(e)},[e,t]),null}function R3(){const{id:e}=by(),[t,n]=O.useState(null),[a,o]=O.useState([]),[c,f]=O.useState([45.4642,9.19]),m=gn(),{setNotification:v}=qt(),{user:x,token:_}=Ct();return O.useEffect(()=>{x&&_&&fetch(`${Ee}/api/posizioni`,{headers:{Authorization:`Bearer ${_}`}}).then(w=>w.json()).then(w=>{const N=w.find(E=>String(E.id)===String(e));n(N),N?.indirizzo&&fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(N.indirizzo)}`).then(E=>E.json()).then(E=>{E&&E.length>0&&f([parseFloat(E[0].lat),parseFloat(E[0].lon)])})})},[e]),O.useEffect(()=>{x&&_&&fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${_}`}}).then(w=>w.json()).then(w=>{o(w.filter(N=>N.indirizzo===t?.indirizzo))})},[t]),O.useEffect(()=>{if(x&&_){let w=!0,N=0;const E=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${_}`}}).then(C=>C.json()).then(C=>{w&&(N>0&&C.length>N&&C.slice(N).forEach(M=>{v({text:`${M.sender?.nome}: ${M.text}`})}),N=C.length)})};E();const P=setInterval(E,2e3);return()=>{w=!1,clearInterval(P)}}},[v,x,_]),t?d.jsxs("div",{className:"p-8",children:[d.jsx("button",{onClick:()=>m(-1),className:"mb-4 text-blue-600",children:"← Indietro"}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mb-8",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.azienda}),d.jsx("div",{className:"mb-2 text-lg text-gray-700",children:t.indirizzo}),d.jsxs("div",{className:"mb-2 text-sm text-gray-500",children:["Referente: ",t.referente]}),d.jsxs("div",{className:"mb-2 text-sm text-gray-500",children:["Telefono: ",t.telefono]}),d.jsxs("div",{className:"mb-2 text-sm text-gray-500",children:["Email: ",t.email]})]}),d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsx("div",{className:"w-full h-56 bg-gray-100 rounded flex items-center justify-center",children:d.jsxs(Pf,{center:c,zoom:13,style:{height:"220px",width:"100%",borderRadius:"0.5rem"},scrollWheelZoom:!1,children:[d.jsx(z3,{coords:c}),d.jsx(Tf,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),d.jsx(jf,{position:c,icon:si.icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),children:d.jsxs(kf,{children:[t.azienda,d.jsx("br",{}),t.indirizzo]})})]})})})]}),d.jsxs("div",{className:"bg-white rounded shadow p-6 mb-6",children:[d.jsx("h2",{className:"font-bold text-xl mb-4",children:"Spedizioni associate"}),a.length===0?d.jsx("div",{className:"text-gray-500",children:"Nessuna spedizione associata a questa posizione."}):d.jsxs("table",{className:"w-full border-separate border-spacing-y-2 table-fixed text-base",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-xs text-gray-500",children:[d.jsx("th",{className:"text-left",children:"Tipo"}),d.jsx("th",{className:"text-left",children:"Richiedente"}),d.jsx("th",{className:"text-left",children:"Stato"}),d.jsx("th",{className:"text-left",children:"Data richiesta"})]})}),d.jsx("tbody",{children:a.map(w=>d.jsxs("tr",{className:"bg-gray-50 hover:bg-blue-50 rounded shadow-sm cursor-pointer",onClick:()=>m(`/spedizioni/${w.id}`),children:[d.jsx("td",{className:"px-2 py-2",children:w.tipo}),d.jsx("td",{className:"px-2 py-2",children:w.richiedente?.nome||"-"}),d.jsx("td",{className:"px-2 py-2",children:w.status}),d.jsx("td",{className:"px-2 py-2",children:w.dataRichiesta?new Date(w.dataRichiesta).toLocaleString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"})]},w.id))})]})]})]}):d.jsx("div",{className:"p-8",children:"Caricamento posizione..."})}function L3(){const{user:e,token:t}=Ct(),{setNotification:n,sendPushNotification:a,pushNotificationsEnabled:o,requestNotificationPermission:c}=qt(),f=gn(),[m,v]=O.useState([]),[x,_]=O.useState(""),[w,N]=O.useState(!0),[E,P]=O.useState(""),[C,j]=O.useState(!1),M=O.useRef(null);O.useEffect(()=>{(!e||!(e.role==="autista"||e.role==="admin"))&&f("/",{replace:!0})},[e,f]),O.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&j(!0)},[]);const R=async()=>{await c()?(j(!1),n({text:"Notifiche push abilitate!"})):n({text:"Permessi per le notifiche negati"})};O.useEffect(()=>{if(e&&t){let F=!0,B,q=0;const H=()=>{document.visibilityState==="visible"&&fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${t}`}}).then($=>$.json()).then($=>{if(!F)return;q>0&&$.length>q&&$.slice(q).forEach(U=>{U.sender?.mail!==e?.mail&&(n({text:`${U.sender?.nome}: ${U.text}`}),o&&a(`Nuovo messaggio da ${U.sender?.nome}`,{body:U.text,icon:"💬",tag:"chat-message",requireInteraction:!1,onClick:()=>{window.focus()}}))}),q=$.length;const V=$.length>50?$.slice(-50):$;v(V),N(!1)}).catch(()=>{P("Errore nel caricamento dei messaggi"),N(!1)})};return H(),B=setInterval(H,3e3),document.addEventListener("visibilitychange",H),()=>{F=!1,clearInterval(B),document.removeEventListener("visibilitychange",H)}}},[e,t,n,a,o]),O.useEffect(()=>{M.current&&M.current.scrollIntoView({behavior:"smooth"})},[m]);const A=async F=>{if(F.preventDefault(),!!x.trim()){N(!0);try{if(!(await fetch(`${Ee}/api/messaggi`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({sender:{nome:e.nome,mail:e.mail},text:x})})).ok)throw new Error;_(""),n({text:"Messaggio inviato"})}catch{n({text:"Errore nell'invio del messaggio"})}finally{N(!1)}}};return w?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Caricamento chat..."})]})}):d.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[C&&d.jsx("div",{className:"bg-blue-600 text-white p-3 mt-[64px]",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-sm",children:"Abilita le notifiche push"}),d.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Ricevi notifiche per nuovi messaggi anche in background"})]}),d.jsxs("div",{className:"flex gap-2 ml-3",children:[d.jsx("button",{onClick:R,className:"bg-white text-blue-600 text-xs px-3 py-1 rounded font-medium hover:bg-gray-100 transition-colors",children:"Abilita"}),d.jsx("button",{onClick:()=>j(!1),className:"text-white text-xs px-2 py-1 rounded hover:bg-blue-700 transition-colors",children:"✕"})]})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-3 mt-[64px]",style:{maxHeight:"calc(100vh - 64px - 56px)"},children:m.length===0?d.jsx("div",{className:"text-center text-gray-400 mt-10",children:"Nessun messaggio"}):d.jsxs("div",{className:"space-y-2",children:[m.map((F,B)=>d.jsxs("div",{className:`flex flex-col items-${F.sender?.mail===e.mail?"end":"start"}`,children:[d.jsxs("div",{className:`inline-block px-3 py-2 rounded-lg text-sm shadow-sm mb-1 max-w-xs ${F.sender?.mail===e.mail?"bg-green-500 text-white":"bg-white text-gray-800 border"}`,children:[d.jsx("span",{className:"font-semibold text-xs block mb-1",children:F.sender?.nome||"Anonimo"}),d.jsx("span",{children:F.text})]}),d.jsx("span",{className:"text-xs text-gray-400",children:new Date(F.timestamp).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})})]},B)),d.jsx("div",{ref:M})]})}),d.jsxs("form",{onSubmit:A,className:"p-3 bg-white border-t flex gap-2",children:[d.jsx("input",{type:"text",value:x,onChange:F=>_(F.target.value),placeholder:"Scrivi un messaggio...",className:"flex-1 border rounded px-3 py-2 text-sm focus:outline-none focus:ring focus:border-green-400",maxLength:500}),d.jsx("button",{type:"submit",disabled:w||!x.trim(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold text-sm shadow disabled:opacity-50",children:"Invia"})]})]})}function A3(){const{user:e,token:t}=Ct(),{setNotification:n}=qt(),[a,o]=O.useState(()=>new Date().toISOString().split("T")[0]),[c,f]=O.useState([]),[m,v]=O.useState(!0),[x,_]=O.useState([]),[w,N]=O.useState("");Bd({pollInterval:5e3,enablePushNotifications:!0}),O.useEffect(()=>{if(e&&e.role!=="admin"&&e.role!=="pianificatore"){n({text:"Accesso negato. Solo pianificatori e admin possono accedere a questa pagina."});return}},[e,n]),O.useEffect(()=>{e&&t&&(e.role==="admin"||e.role==="pianificatore")&&E()},[a,e,t]),O.useEffect(()=>{_(w===""?c:c.filter(B=>B.autista?.nome===w))},[c,w]);const E=async()=>{v(!0);try{const B=await fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${t}`}});if(!B.ok)throw new Error("Errore nel caricamento");const H=(await B.json()).filter($=>new Date($.dataPianificata).toISOString().split("T")[0]===a&&$.status!=="Consegnata").sort(($,V)=>{const I=new Date($.dataPianificata).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}),U=new Date(V.dataPianificata).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"});return I.localeCompare(U)});f(H)}catch{n({text:"Errore nel caricamento delle spedizioni"})}finally{v(!1)}},P=B=>new Date(B).toLocaleDateString("it-IT"),C=()=>[...new Set(c.map(q=>q.autista?.nome).filter(Boolean))].sort(),j=()=>{const B={};return x.forEach(q=>{const H=q.autista?.nome||"Non assegnato";B[H]||(B[H]=[]),B[H].push(q)}),B},M=()=>{const B=["Data","Ora","Autista","Destinazione","Indirizzo","Richiedente","Tipo","Note"],q=x.map(U=>[P(U.dataPianificata),new Date(U.dataPianificata).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}),U.autista?.nome||"",U.aziendaDestinazione||"",U.indirizzo||"",U.richiedente?.nome||"",U.tipo||"",(U.note||"").replace(/\n/g," | ")]),H=[B.join(","),...q.map(U=>U.map(ee=>`"${ee.toString().replace(/"/g,'""')}"`).join(","))].join("\\n"),$=new Blob([H],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a"),I=URL.createObjectURL($);V.setAttribute("href",I),V.setAttribute("download",`preparazione_magazzino_${a}.csv`),V.style.visibility="hidden",document.body.appendChild(V),V.click(),document.body.removeChild(V)},R=()=>{const B=["Data","Ora","Autista","Destinazione","Indirizzo","Richiedente","Tipo","Note"];let q='<table border="1">';q+=`<tr>${B.map(I=>`<th>${I}</th>`).join("")}</tr>`,x.forEach(I=>{q+=`<tr>
        <td>${P(I.dataPianificata)}</td>
        <td>${new Date(I.dataPianificata).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})}</td>
        <td>${I.autista?.nome||""}</td>
        <td>${I.aziendaDestinazione||""}</td>
        <td>${I.indirizzo||""}</td>
        <td>${I.richiedente?.nome||""}</td>
        <td>${I.tipo||""}</td>
        <td style="white-space: pre-wrap;">${(I.note||"").replace(/</g,"&lt;").replace(/>/g,"&gt;")}</td>
      </tr>`}),q+="</table>";const H=new Blob([q],{type:"application/vnd.ms-excel"}),$=document.createElement("a"),V=URL.createObjectURL(H);$.setAttribute("href",V),$.setAttribute("download",`preparazione_magazzino_${a}.xls`),$.style.visibility="hidden",document.body.appendChild($),$.click(),document.body.removeChild($)},A=()=>{const B=document.getElementById("tabella-magazzino").innerHTML,q=document.body.innerHTML;document.body.innerHTML=`
      <html>
        <head>
          <title>Preparazione Magazzino - ${P(a)}</title>
          <style>
            body { font-family: Arial, sans-serif; }
            table { width: 100%; border-collapse: collapse; font-size: 12px; }
            th, td { border: 1px solid #000; padding: 4px; text-align: left; }
            th { background-color: #f0f0f0; font-weight: bold; }
            .autista-header { background-color: #e8f4fd; font-weight: bold; }
            .page-break { page-break-before: always; }
            @media print { .no-print { display: none; } }
          </style>
        </head>
        <body>
          <h1>Preparazione Magazzino - ${P(a)}</h1>
          ${B}
        </body>
      </html>
    `,window.print(),document.body.innerHTML=q,window.location.reload()},F=j();return!e||e.role!=="admin"&&e.role!=="pianificatore"?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(ms,{className:"mx-auto h-12 w-12 text-gray-400"}),d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Accesso negato"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Solo gli amministratori e i pianificatori possono accedere a questa pagina."})]})}):d.jsxs(d.Fragment,{children:[d.jsx(PN,{}),d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("div",{className:"bg-white shadow",children:d.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:d.jsx("div",{className:"py-6",children:d.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(ms,{className:"h-8 w-8 text-blue-600"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Preparazione Magazzino"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Organizzazione spedizioni per la preparazione"})]})]}),d.jsxs("div",{className:"mt-4 md:mt-0 flex items-center space-x-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Gj,{className:"h-5 w-5 text-gray-400"}),d.jsx("input",{type:"date",value:a,onChange:B=>o(B.target.value),className:"rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ek,{className:"h-5 w-5 text-gray-400"}),d.jsxs("select",{value:w,onChange:B=>N(B.target.value),className:"rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Tutti gli autisti"}),C().map(B=>d.jsx("option",{value:B,children:B},B))]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("button",{onClick:A,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[d.jsx(ms,{className:"h-4 w-4 mr-2"}),"Stampa"]}),d.jsxs("button",{onClick:M,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[d.jsx(Jj,{className:"h-4 w-4 mr-2"}),"CSV"]}),d.jsxs("button",{onClick:R,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[d.jsx(Qj,{className:"h-4 w-4 mr-2"}),"Excel"]})]})]})]})})})}),d.jsx("div",{className:"py-6",children:d.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:m?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):d.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[d.jsx("div",{id:"tabella-magazzino",className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-20",children:"#"}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-28",children:"Data"}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-16",children:"Ora"}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Autista"}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Destinazione"}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indirizzo"}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-28",children:"Richiedente"}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Tipo"}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Note"})]})}),d.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[Object.entries(F).map(([B,q])=>d.jsxs(te.Fragment,{children:[d.jsx("tr",{className:"bg-blue-50",children:d.jsx("td",{colSpan:"9",className:"px-3 py-2 text-sm font-semibold text-blue-900 bg-blue-100",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(bN,{className:"h-4 w-4 mr-2"}),B," (",q.length," spedizioni)"]})})}),q.map((H,$)=>d.jsxs("tr",{className:$%2===0?"bg-white":"bg-gray-50",children:[d.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-500",children:$+1}),d.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:P(H.dataPianificata)}),d.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:new Date(H.dataPianificata).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})}),d.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:H.autista?.nome||"-"}),d.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:H.aziendaDestinazione||"-"}),d.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:H.indirizzo||"-"}),d.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:H.richiedente?.nome||"-"}),d.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${H.tipo==="consegna"?"bg-green-100 text-green-800":H.tipo==="ritiro"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:H.tipo==="consegna"?"Consegna":H.tipo==="ritiro"?"Ritiro":H.tipo==="entrambi"?"Entrambi":"Non specificato"})}),d.jsx("td",{className:"px-3 py-2 text-sm text-gray-500 max-w-xs",children:d.jsx("div",{className:"whitespace-pre-wrap break-words",title:H.note,children:H.note||"-"})})]},H.id))]},B)),x.length===0&&d.jsx("tr",{children:d.jsxs("td",{colSpan:"9",className:"px-3 py-8 text-center text-sm text-gray-500",children:[d.jsx(ms,{className:"mx-auto h-12 w-12 text-gray-400 mb-2"}),d.jsx("p",{children:"Nessuna spedizione trovata per la data selezionata"})]})})]})]})}),x.length>0&&d.jsx("div",{className:"bg-gray-50 px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:d.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[d.jsx(ms,{className:"h-4 w-4 mr-2"}),"Totale: ",x.length," spedizioni",w&&d.jsxs("span",{className:"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:["Filtrate per: ",w]})]})})]})})})]})]})}function I3(){const[e,t]=O.useState([]),n=c=>t(f=>[...f,typeof c=="string"?c:JSON.stringify(c)]),a=async()=>{if(n("Starting push debug..."),!("serviceWorker"in navigator)){n("serviceWorker not supported in this browser");return}try{const c=await navigator.serviceWorker.ready;if(n("Service worker ready: "+(c.scope||"no-scope")),!c.pushManager){const N="registration.pushManager is undefined in this browser (Push API not supported or restricted)";n(N);try{await fetch(`${Ee}/api/push/log-subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:N,ua:navigator.userAgent})}),n("Posted diagnostic to server")}catch(E){n("Failed to post diagnostic: "+E.message)}return}const f=await c.pushManager.getSubscription();if(n("Current subscription: "+(f?"exists":"null")),f){n(f);try{await fetch(`${Ee}/api/push/log-subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({note:"debug-existing-sub",sub:f,ua:navigator.userAgent})}),n("Logged existing subscription to server")}catch(N){n("Failed to log existing sub: "+N.message)}return}n("Fetching public key from backend...");const m=await fetch(`${Ee}/api/push/public-key`);if(!m.ok)throw new Error("Failed to get public key: "+m.status);const{publicKey:v}=await m.json();n("Public key length: "+(v||"").length),n("Requesting pushManager.subscribe()...");const x=o(v),_=await c.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:x});n("Subscription created"),n(_),n("Sending subscription to backend...");const w=await fetch(`${Ee}/api/push/subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)});n("Backend responded: "+w.status);try{const N=await w.text();n("Body: "+N)}catch{}}catch(c){n("ERROR: "+(c&&c.message?c.message:String(c)));try{await fetch(`${Ee}/api/push/log-subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:c&&c.message?c.message:String(c),ua:navigator.userAgent})}),n("Diagnostic posted to server")}catch(f){n("Failed to post diagnostic: "+f.message)}}};function o(c){const f="=".repeat((4-c.length%4)%4),m=(c+f).replace(/-/g,"+").replace(/_/g,"/"),v=atob(m),x=new Uint8Array(v.length);for(let _=0;_<v.length;++_)x[_]=v.charCodeAt(_);return x}return d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Push debug"}),d.jsx("p",{className:"text-sm mb-4",children:"Premi il pulsante per forzare la creazione della subscription e inviare risultati al server."}),d.jsx("button",{className:"bg-blue-600 text-white px-3 py-1 rounded",onClick:a,children:"Esegui test push"}),d.jsx("div",{className:"mt-4 p-3 bg-gray-100 rounded h-64 overflow-auto",children:e.map((c,f)=>d.jsx("div",{className:"text-xs font-mono",children:c},f))})]})}const Fd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",XE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete si.Icon.Default.prototype._getIconUrl;si.Icon.Default.mergeOptions({iconRetinaUrl:Fd,iconUrl:Fd,shadowUrl:XE});function F3(){const{user:e,token:t}=Ct(),[n,a]=O.useState([]),[o,c]=O.useState([45.96,12.67]),[f,m]=O.useState(!0),[v,x]=O.useState(!1),_=O.useRef(null),[w,N]=O.useState(!1),[E,P]=O.useState(null),[C,j]=O.useState(!1),M=gn(),R=$=>{if(!$)return!1;const V=new Date($),I=new Date;return V.getFullYear()===I.getFullYear()&&V.getMonth()===I.getMonth()&&V.getDate()===I.getDate()};O.useEffect(()=>{if(!e||!t)return;(async()=>{try{const[V,I]=await Promise.all([fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${t}`}}),fetch(`${Ee}/api/posizioni`,{headers:{Authorization:`Bearer ${t}`}})]),U=await V.json(),ee=await I.json(),K=U.filter(de=>de.autista&&String(de.autista.id)===String(e.id)&&de.status!=="Consegnata"&&R(de.dataPianificata)),ce=async de=>{const he=`geocode:${de}`,Y=localStorage.getItem(he);if(Y)return JSON.parse(Y);try{const fe=`https://nominatim.openstreetmap.org/search?format=json&limit=1&q=${encodeURIComponent(de)}`,ne=await fetch(fe,{headers:{"Accept-Language":"it"}});if(!ne.ok)return null;const z=await ne.json();if(Array.isArray(z)&&z.length>0){const{lat:D,lon:X}=z[0],re={lat:Number(D),lng:Number(X)};try{localStorage.setItem(he,JSON.stringify(re))}catch{}return re}}catch(fe){console.warn("Geocoding error",fe)}return null},_e=[];for(const de of K){let he=null,Y=null;const fe=ee.find(ne=>ne.azienda&&de.aziendaDestinazione&&ne.azienda.toLowerCase().includes(de.aziendaDestinazione.toLowerCase().split(" ")[0]));if(fe&&fe.lat&&fe.lng&&(he=Number(fe.lat),Y=Number(fe.lng)),(!he||!Y)&&de.indirizzo){const ne=`${de.indirizzo} || ''}`.trim(),z=await ce(ne);z&&(he=z.lat,Y=z.lng)}he&&Y&&_e.push({id:de.id,azienda:de.aziendaDestinazione,indirizzo:de.indirizzo,lat:he,lng:Y,status:de.status,tipo:de.tipo,dataPianificata:de.dataPianificata})}_e.length>0&&c([_e[0].lat,_e[0].lng]),a(_e)}catch(V){console.error("Errore caricamento map markers",V)}finally{m(!1)}})()},[e,t]);const A=async($=2e3,V=100)=>{const I=Date.now();for(;!_.current&&Date.now()-I<$;)await new Promise(U=>setTimeout(U,V));return!!_.current},F=async()=>{if(console.log("Fitting to markers",n),console.log("mapRef.current (before wait)",_.current),!_.current){const $=await A(3e3,150);if(console.log("waitForMap result",$,"mapRef.current",_.current),!$)return}if(!(!n||n.length===0))try{try{_.current.invalidateSize()}catch{}const $=n.map(I=>[Number(I.lat),Number(I.lng)]),V=si.latLngBounds($);if(n.length===1){const[I,U]=$[0];_.current.setView([I,U],14)}else _.current.fitBounds(V,{padding:[50,50],maxZoom:16})}catch($){console.warn("fitBounds failed",$)}};function B(){const $=Ef();return O.useEffect(()=>{$&&!_.current&&(_.current=$,x(!0))},[$]),null}O.useEffect(()=>{F()},[n]);const q=async()=>{if(!(!H||H.length<2)){j(!0);try{const V=`https://router.project-osrm.org/route/v1/driving/${H.map(ee=>`${Number(ee.lng)},${Number(ee.lat)}`).join(";")}?overview=full&geometries=geojson&steps=false`,I=await fetch(V);if(!I.ok)throw new Error("Routing service error");const U=await I.json();if(U&&U.routes&&U.routes[0]&&U.routes[0].geometry){const ee=U.routes[0].geometry;P(ee);try{await A(3e3,150);const ce=si.geoJSON(ee).getBounds();ce&&ce.isValid&&ce.isValid()&&_.current.fitBounds(ce,{padding:[60,60]})}catch{}}}catch($){console.error("computeRoute error",$),alert("Impossibile calcolare il percorso (servizio routing non disponibile)")}finally{j(!1)}}},H=O.useMemo(()=>!n||n.length===0?[]:[...n].filter($=>$.dataPianificata).map($=>({...$,ts:new Date($.dataPianificata).getTime()})).sort(($,V)=>$.ts-V.ts),[n]);return f?d.jsx("div",{className:"p-4",children:"Caricamento mappa..."}):e?d.jsxs("div",{className:"min-h-screen",children:[d.jsxs("div",{className:"p-4 flex items-center justify-between",children:[d.jsx("div",{children:d.jsx("h1",{className:"text-xl font-bold mb-2",children:"Mappa spedizioni"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>M("/autista"),className:"bg-gray-100 hover:bg-gray-200 text-gray-800 px-3 py-2 rounded-md text-sm",children:"← Torna ad Autista"}),d.jsx("button",{onClick:()=>F(),className:`px-3 py-2 rounded-md text-sm ${v?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,title:v?"Adatta mappa ai marker (debug)":"La mappa non è ancora pronta",disabled:!v,children:"Adatta mappa"})]})]}),d.jsx("div",{style:{height:"70vh"},children:d.jsxs(Pf,{center:o,zoom:12,style:{height:"100%",width:"100%"},children:[d.jsx(Tf,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),d.jsx(B,{}),n.map($=>d.jsx(jf,{position:[$.lat,$.lng],children:d.jsx(kf,{children:d.jsxs("div",{className:"text-sm",children:[d.jsx("div",{className:"font-semibold",children:$.azienda}),d.jsx("div",{className:"text-xs text-gray-600",children:$.indirizzo}),d.jsx("div",{className:"mt-2 flex gap-2",children:d.jsx("button",{className:"text-xs text-blue-600",onClick:()=>M(`/spedizioni-mobile/${$.id}`),children:"Apri dettaglio"})})]})})},$.id)),E&&d.jsx(KE,{data:E,style:{color:"blue",weight:5,opacity:.7}})]})}),d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>N($=>!$),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-md text-sm",children:w?"Nascondi itinerario":"Mostra itinerario"}),d.jsx("button",{onClick:()=>q(),disabled:C||H.length<2,className:`px-3 py-2 rounded-md text-sm ${C||H.length<2?"bg-gray-200 text-gray-400":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:C?"Calcolo in corso...":"Calcola percorso"}),d.jsx("button",{onClick:()=>P(null),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-md text-sm",children:"Cancella percorso"})]}),w&&d.jsxs("div",{className:"mt-4",children:[d.jsx("h2",{className:"font-semibold mb-2",children:"Itinerario (ordine per data/ora)"}),d.jsx("ol",{className:"list-decimal ml-6",children:H.map($=>d.jsxs("li",{className:"mb-2",children:[d.jsx("div",{className:"font-medium",children:$.azienda}),d.jsx("div",{className:"text-sm text-gray-600",children:$.indirizzo}),d.jsx("div",{className:"text-xs text-gray-500",children:new Date($.dataPianificata).toLocaleString()}),d.jsx("div",{className:"mt-1",children:d.jsx("button",{className:"text-xs text-blue-600",onClick:()=>M(`/spedizioni-mobile/${$.id}`),children:"Apri dettaglio"})})]},$.id))})]})]})]}):d.jsx("div",{className:"p-4 text-red-600",children:"Accesso negato"})}delete si.Icon.Default.prototype._getIconUrl;si.Icon.Default.mergeOptions({iconRetinaUrl:Fd,iconUrl:Fd,shadowUrl:XE});function $3(){const{user:e,token:t}=Ct(),[n,a]=O.useState([]),[o,c]=O.useState([]),[f,m]=O.useState([]),[v,x]=O.useState([45.96,12.67]),[_,w]=O.useState(!0),[N,E]=O.useState(!1),P=O.useRef(null),[C,j]=O.useState(!1),[M,R]=O.useState(new Date().toISOString().slice(0,10)),[A,F]=O.useState(""),[B,q]=O.useState(()=>{const Q=new Date,me=String(Q.getHours()).padStart(2,"0"),ye=String(Q.getMinutes()).padStart(2,"0");return`${me}:${ye}`}),[H,$]=O.useState(null),[V,I]=O.useState(!1),[U,ee]=O.useState(null),[K,ce]=O.useState(null),[_e,de]=O.useState([]),he=gn(),Y=async Q=>{const me=`geocode:${Q}`,ye=localStorage.getItem(me);if(ye)return JSON.parse(ye);try{const pe=`https://nominatim.openstreetmap.org/search?format=json&limit=1&q=${encodeURIComponent(Q)}`,Se=await fetch(pe,{headers:{"Accept-Language":"it"}});if(!Se.ok)return null;const De=await Se.json();if(Array.isArray(De)&&De.length>0){const{lat:Ze,lon:Qe}=De[0],Ht={lat:Number(Ze),lng:Number(Qe)};try{localStorage.setItem(me,JSON.stringify(Ht))}catch{}return Ht}}catch(pe){console.warn("Geocoding error",pe)}return null};O.useEffect(()=>{if(!t)return;(async()=>{try{const[me,ye]=await Promise.all([fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${t}`}}),fetch(`${Ee}/api/posizioni`,{headers:{Authorization:`Bearer ${t}`}})]),pe=await me.json(),Se=await ye.json();a(pe),c(Se);try{const De=Se.find(Ze=>Ze.azienda&&Ze.azienda.toLowerCase().includes("eltek"));De&&De.lat&&De.lng&&ee({lat:Number(De.lat),lng:Number(De.lng)})}catch{}}catch(me){console.error("load error",me)}finally{w(!1)}})()},[t]);const fe=O.useMemo(()=>{const Q=new Map;for(const me of n)me.autista&&Q.set(String(me.autista.id),me.autista.nome);return Array.from(Q.entries()).map(([me,ye])=>({id:me,nome:ye}))},[n]),ne=O.useMemo(()=>n?n.filter(Q=>{const me=Q.dataPianificata?Q.dataPianificata.slice(0,10):null;return!(M&&me!==M||!Q.autista||!Q.autista.id||Q.status==="Consegnata"||Q.status==="Fallita"||A&&String(Q.autista.id)!==String(A))}):[],[n,M,A]);O.useEffect(()=>{(async()=>{const me=[];for(const ye of ne){let pe=null,Se=null;const De=o.find(Ze=>Ze.azienda&&ye.aziendaDestinazione&&Ze.azienda.toLowerCase().includes(ye.aziendaDestinazione.toLowerCase().split(" ")[0]));if(De&&De.lat&&De.lng&&(pe=Number(De.lat),Se=Number(De.lng)),(!pe||!Se)&&ye.indirizzo){const Ze=await Y(ye.indirizzo||"");Ze&&(pe=Ze.lat,Se=Ze.lng)}pe&&Se&&me.push({id:ye.id,azienda:ye.aziendaDestinazione,indirizzo:ye.indirizzo,lat:pe,lng:Se,dataPianificata:ye.dataPianificata,tipo:ye.tipo,note:ye.note})}m(me),me.length>0&&x([me[0].lat,me[0].lng])})()},[ne,o]);const z=async(Q=2e3,me=100)=>{const ye=Date.now();for(;!P.current&&Date.now()-ye<Q;)await new Promise(pe=>setTimeout(pe,me));return!!P.current},D=async()=>{if(P.current||await z(3e3,150),!P.current||!f||f.length===0)return;try{P.current.invalidateSize()}catch{}const Q=f.map(ye=>[Number(ye.lat),Number(ye.lng)]),me=si.latLngBounds(Q);f.length===1?P.current.setView([Q[0][0],Q[0][1]],14):P.current.fitBounds(me,{padding:[60,60]})};function X(){const Q=Ef();return O.useEffect(()=>{Q&&!P.current&&(P.current=Q,E(!0))},[Q]),null}O.useEffect(()=>{D()},[f]);const re=O.useMemo(()=>!f||f.length===0?[]:[...f].filter(Q=>Q.dataPianificata).map(Q=>({...Q,ts:new Date(Q.dataPianificata).getTime()})).sort((Q,me)=>Q.ts-me.ts),[f]),oe=async()=>{if(!(!re||re.length<1)){if(!U){alert("Home (ELTEK) non trovata nelle posizioni; assicurati che esista in posizioni.json");return}I(!0);try{const ye=`https://router.project-osrm.org/route/v1/driving/${[{lat:U.lat,lng:U.lng},...re.map(De=>({lat:De.lat,lng:De.lng})),{lat:U.lat,lng:U.lng}].map(De=>`${Number(De.lng)},${Number(De.lat)}`).join(";")}?overview=full&geometries=geojson&steps=false`,pe=await fetch(ye);if(!pe.ok)throw new Error("Routing service error");const Se=await pe.json();if(Se&&Se.routes&&Se.routes[0]){const De=Se.routes[0];if(De.geometry&&$(De.geometry),De.legs){ce(De.legs),j(!0);let Ze=new Date;try{if(M&&B){const Be=new Date(`${M}T${B}`);isNaN(Be.getTime())||(Ze=Be)}}catch{}const Qe=[];let Ht=0;for(let Be=0;Be<De.legs.length;Be++){const Jt=De.legs[Be];if(Ht+=Jt.duration||0,Be>=0&&Be<De.legs.length){const He=Be+1;if(He>=1&&He<=re.length){const Yt=He-1,rn=new Date(Ze.getTime()+Ht*1e3);Qe[Yt]={eta:rn,durationFromPrev:Jt.duration,distance:Jt.distance}}}}de(Qe)}try{await z(3e3,150);const Qe=si.geoJSON(De.geometry).getBounds();Qe&&Qe.isValid&&Qe.isValid()&&P.current&&P.current.fitBounds(Qe,{padding:[60,60]})}catch{}}}catch(Q){console.error("computeRoute error",Q),alert("Impossibile calcolare il percorso")}finally{I(!1)}}};return d.jsxs("div",{className:"min-h-screen",children:[d.jsxs("div",{className:"p-4 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold mb-2",children:"Mappa spedizioni - Tutti"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Filtra per data e autista assegnato."})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"date",value:M,onChange:Q=>R(Q.target.value),className:"border px-2 py-1 rounded"}),d.jsx("input",{type:"time",value:B,onChange:Q=>q(Q.target.value),className:"border px-2 py-1 rounded"}),d.jsxs("select",{value:A,onChange:Q=>F(Q.target.value),className:"border px-2 py-1 rounded",children:[d.jsx("option",{value:"",children:"Tutti gli autisti"}),fe.map(Q=>d.jsx("option",{value:Q.id,children:Q.nome},Q.id))]})]})]}),d.jsx("div",{style:{height:"70vh"},children:d.jsxs(Pf,{center:v,zoom:12,style:{height:"100%",width:"100%"},children:[d.jsx(Tf,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),d.jsx(X,{}),f.map(Q=>d.jsx(jf,{position:[Q.lat,Q.lng],children:d.jsx(kf,{children:d.jsxs("div",{className:"text-sm",children:[d.jsx("div",{className:"font-semibold",children:Q.azienda}),d.jsx("div",{className:"text-xs text-gray-600",children:Q.indirizzo}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Tipo: ",d.jsx("b",{children:Q.tipo||"-"})]}),Q.note&&d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Note: ",d.jsx("span",{className:"whitespace-pre-wrap",children:Q.note})]}),d.jsx("div",{className:"mt-2",children:d.jsx("button",{onClick:()=>he(`/spedizioni/${Q.id}`),className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-sm",children:"Mostra dettaglio"})})]})})},Q.id)),H&&d.jsx(KE,{data:H,style:{color:"blue",weight:5,opacity:.7}})]})}),d.jsxs("div",{className:"p-4 flex gap-2",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>D(),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded",children:"Adatta mappa"}),d.jsx("button",{onClick:()=>oe(),disabled:V||re.length<1||!U,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2 rounded",children:V?"Calcolo...":"Calcola percorso da home"}),d.jsx("button",{onClick:()=>$(null),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded",children:"Cancella percorso"})]}),d.jsx("div",{className:"ml-4 text-sm text-gray-600",children:U?`Home: ELTEK (${U.lat.toFixed(4)}, ${U.lng.toFixed(4)})`:"Home non impostata"})]}),C&&d.jsxs("div",{className:"p-4",children:[d.jsx("h2",{className:"font-semibold mb-2",children:"Itinerario"}),d.jsxs("ol",{className:"list-decimal ml-6",children:[re.map((Q,me)=>d.jsx("li",{className:"mb-2",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:Q.azienda}),d.jsx("div",{className:"text-sm text-gray-600",children:Q.indirizzo}),d.jsx("div",{className:"text-xs text-gray-500",children:Q.dataPianificata&&new Date(Q.dataPianificata).toLocaleString()}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Tipo: ",d.jsx("b",{children:(Q.tipo||"-").toString()})]}),Q.note&&d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Note: ",d.jsx("span",{className:"whitespace-pre-wrap",children:Q.note})]}),_e[me]&&d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Arrivo stimato: ",new Date(_e[me].eta).toLocaleTimeString()," — Durata tappa: ",Math.round(_e[me].durationFromPrev/60)," min — Distanza: ",Math.round(_e[me].distance/1e3*10)/10," km"]})]}),d.jsx("div",{className:"ml-4",children:d.jsx("button",{onClick:()=>he(`/spedizioni/${Q.id}`),className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-sm",children:"Dettaglio"})})]})},Q.id)),K&&K.length>0&&d.jsxs("li",{className:"mt-3",children:[d.jsx("div",{className:"font-medium",children:"Ritorno a ELTEK"}),d.jsx("div",{className:"text-xs text-gray-500",children:K[K.length-1]&&`Durata: ${Math.round(K[K.length-1].duration/60)} min — Distanza: ${Math.round(K[K.length-1].distance/1e3*10)/10} km`})]})]})]})]})}function B3(){const{notification:e}=qt();if(!e)return null;const t=e.type==="success"?"bg-green-600":e.type==="error"?"bg-red-600":e.type==="warning"?"bg-yellow-600 text-black":"bg-blue-600";return d.jsxs("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-50 ${t} text-white px-6 py-3 rounded shadow-lg min-w-[300px] text-center`,children:[d.jsxs("span",{className:"font-bold mr-2",children:[e.title||"Messaggio",":"]}),d.jsx("span",{children:e.text})]})}var q3={};const Ee=q3.REACT_APP_BASE_URL||"https://ideal-space-carnival-p4g9q6q659c7w7q-3001.app.github.dev";function pn({allowedRoles:e,children:t}){const{user:n,error:a}=Ct();return a==="Sessione scaduta"?d.jsx(sp,{to:"/login",replace:!0}):n?e&&!e.includes(n.role)?d.jsx(sp,{to:"/",replace:!0}):t:d.jsx(sp,{to:"/login",replace:!0})}function U3(){const{user:e}=Ct();return d.jsx(qj,{children:d.jsx(rk,{children:d.jsxs(ik,{user:e,children:[d.jsx(B3,{}),d.jsx(wk,{children:d.jsx(ok,{children:d.jsxs(Rj,{children:[d.jsx($t,{path:"/login",element:d.jsx(p3,{})}),d.jsx($t,{path:"/admin",element:d.jsx(pn,{allowedRoles:["admin"],children:d.jsx(h3,{})})}),d.jsx($t,{path:"/autista",element:d.jsx(pn,{allowedRoles:["admin","autista"],children:d.jsx(c3,{})})}),d.jsx($t,{path:"/autista/mappa",element:d.jsx(pn,{allowedRoles:["admin","autista"],children:d.jsx(F3,{})})}),d.jsx($t,{path:"/spedizioni/mappa",element:d.jsx(pn,{allowedRoles:["admin","pianificatore","richiedente"],children:d.jsx($3,{})})}),d.jsx($t,{path:"/pianificazione",element:d.jsx(pn,{allowedRoles:["admin","pianificatore"],children:d.jsx(fk,{})})}),d.jsx($t,{path:"/preparazione-magazzino",element:d.jsx(pn,{allowedRoles:["admin","pianificatore"],children:d.jsx(A3,{})})}),d.jsx($t,{path:"/richieste",element:d.jsx(pn,{allowedRoles:["admin","richiedente"],children:d.jsx(o3,{})})}),d.jsx($t,{path:"/stato-consegne",element:d.jsx(pn,{allowedRoles:["admin","pianificatore","richiedente"],children:d.jsx(l3,{})})}),d.jsx($t,{path:"/chat-mobile",element:d.jsx(pn,{allowedRoles:["admin","autista"],children:d.jsx(L3,{})})}),d.jsx($t,{path:"/spedizioni-mobile/:id",element:d.jsx(pn,{allowedRoles:["autista"],children:d.jsx(D3,{})})}),d.jsx($t,{path:"/posizioni",element:d.jsx(pn,{allowedRoles:["admin","pianificatore","richiedente","autista"],children:d.jsx(u3,{})})}),d.jsx($t,{path:"/posizioni/:id",element:d.jsx(pn,{allowedRoles:["admin","pianificatore","richiedente","autista"],children:d.jsx(R3,{})})}),d.jsx($t,{path:"/chat",element:d.jsx(pn,{allowedRoles:["admin","pianificatore","richiedente","autista"],children:d.jsx(d3,{})})}),d.jsx($t,{path:"/gestione-utenti",element:d.jsx(pn,{allowedRoles:["admin"],children:d.jsx(m3,{})})}),d.jsx($t,{path:"/push-debug",element:d.jsx(I3,{})}),d.jsx($t,{path:"/spedizioni/:id",element:d.jsx(pn,{allowedRoles:["admin","pianificatore","richiedente","autista"],children:d.jsx(M3,{})})}),d.jsx($t,{path:"/",element:d.jsx(pn,{allowedRoles:["admin","pianificatore","richiedente","autista"],children:d.jsx(uk,{})})})]})})})]})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("Service Worker registered successfully:",e.scope)}).catch(e=>{console.log("Service Worker registration failed:",e)})});WP.createRoot(document.getElementById("root")).render(d.jsx(Yj,{children:d.jsx(U3,{})}))});export default W3();
