var CC=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var L3=CC((z3,bd)=>{function kC(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(a,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function fn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wh={exports:{}},Al={},Uh={exports:{}},Ze={},t0;function jC(){if(t0)return Ze;t0=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.iterator;function N(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,E={};function k(M,U,se){this.props=M,this.context=U,this.refs=E,this.updater=se||P}k.prototype.isReactComponent={},k.prototype.setState=function(M,U){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,U,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function O(){}O.prototype=k.prototype;function A(M,U,se){this.props=M,this.context=U,this.refs=E,this.updater=se||P}var I=A.prototype=new O;I.constructor=A,C(I,k.prototype),I.isPureReactComponent=!0;var F=Array.isArray,D=Object.prototype.hasOwnProperty,B={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function H(M,U,se){var le,ue={},fe=null,je=null;if(U!=null)for(le in U.ref!==void 0&&(je=U.ref),U.key!==void 0&&(fe=""+U.key),U)D.call(U,le)&&!Z.hasOwnProperty(le)&&(ue[le]=U[le]);var Ce=arguments.length-2;if(Ce===1)ue.children=se;else if(1<Ce){for(var he=Array(Ce),Ne=0;Ne<Ce;Ne++)he[Ne]=arguments[Ne+2];ue.children=he}if(M&&M.defaultProps)for(le in Ce=M.defaultProps,Ce)ue[le]===void 0&&(ue[le]=Ce[le]);return{$$typeof:e,type:M,key:fe,ref:je,props:ue,_owner:B.current}}function G(M,U){return{$$typeof:e,type:M.type,key:U,ref:M.ref,props:M.props,_owner:M._owner}}function $(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function W(M){var U={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return U[se]})}var re=/\/+/g;function J(M,U){return typeof M=="object"&&M!==null&&M.key!=null?W(""+M.key):U.toString(36)}function ce(M,U,se,le,ue){var fe=typeof M;(fe==="undefined"||fe==="boolean")&&(M=null);var je=!1;if(M===null)je=!0;else switch(fe){case"string":case"number":je=!0;break;case"object":switch(M.$$typeof){case e:case t:je=!0}}if(je)return je=M,ue=ue(je),M=le===""?"."+J(je,0):le,F(ue)?(se="",M!=null&&(se=M.replace(re,"$&/")+"/"),ce(ue,U,se,"",function(Ne){return Ne})):ue!=null&&($(ue)&&(ue=G(ue,se+(!ue.key||je&&je.key===ue.key?"":(""+ue.key).replace(re,"$&/")+"/")+M)),U.push(ue)),1;if(je=0,le=le===""?".":le+":",F(M))for(var Ce=0;Ce<M.length;Ce++){fe=M[Ce];var he=le+J(fe,Ce);je+=ce(fe,U,se,he,ue)}else if(he=N(M),typeof he=="function")for(M=he.call(M),Ce=0;!(fe=M.next()).done;)fe=fe.value,he=le+J(fe,Ce++),je+=ce(fe,U,se,he,ue);else if(fe==="object")throw U=String(M),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return je}function ge(M,U,se){if(M==null)return M;var le=[],ue=0;return ce(M,le,"","",function(fe){return U.call(se,fe,ue++)}),le}function me(M){if(M._status===-1){var U=M._result;U=U(),U.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=U)}if(M._status===1)return M._result.default;throw M._result}var xe={current:null},z={transition:null},ne={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:z,ReactCurrentOwner:B};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:ge,forEach:function(M,U,se){ge(M,function(){U.apply(this,arguments)},se)},count:function(M){var U=0;return ge(M,function(){U++}),U},toArray:function(M){return ge(M,function(U){return U})||[]},only:function(M){if(!$(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ze.Component=k,Ze.Fragment=n,Ze.Profiler=o,Ze.PureComponent=A,Ze.StrictMode=a,Ze.Suspense=v,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Ze.act=Q,Ze.cloneElement=function(M,U,se){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var le=C({},M.props),ue=M.key,fe=M.ref,je=M._owner;if(U!=null){if(U.ref!==void 0&&(fe=U.ref,je=B.current),U.key!==void 0&&(ue=""+U.key),M.type&&M.type.defaultProps)var Ce=M.type.defaultProps;for(he in U)D.call(U,he)&&!Z.hasOwnProperty(he)&&(le[he]=U[he]===void 0&&Ce!==void 0?Ce[he]:U[he])}var he=arguments.length-2;if(he===1)le.children=se;else if(1<he){Ce=Array(he);for(var Ne=0;Ne<he;Ne++)Ce[Ne]=arguments[Ne+2];le.children=Ce}return{$$typeof:e,type:M.type,key:ue,ref:fe,props:le,_owner:je}},Ze.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:c,_context:M},M.Consumer=M},Ze.createElement=H,Ze.createFactory=function(M){var U=H.bind(null,M);return U.type=M,U},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(M){return{$$typeof:m,render:M}},Ze.isValidElement=$,Ze.lazy=function(M){return{$$typeof:x,_payload:{_status:-1,_result:M},_init:me}},Ze.memo=function(M,U){return{$$typeof:_,type:M,compare:U===void 0?null:U}},Ze.startTransition=function(M){var U=z.transition;z.transition={};try{M()}finally{z.transition=U}},Ze.unstable_act=Q,Ze.useCallback=function(M,U){return xe.current.useCallback(M,U)},Ze.useContext=function(M){return xe.current.useContext(M)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(M){return xe.current.useDeferredValue(M)},Ze.useEffect=function(M,U){return xe.current.useEffect(M,U)},Ze.useId=function(){return xe.current.useId()},Ze.useImperativeHandle=function(M,U,se){return xe.current.useImperativeHandle(M,U,se)},Ze.useInsertionEffect=function(M,U){return xe.current.useInsertionEffect(M,U)},Ze.useLayoutEffect=function(M,U){return xe.current.useLayoutEffect(M,U)},Ze.useMemo=function(M,U){return xe.current.useMemo(M,U)},Ze.useReducer=function(M,U,se){return xe.current.useReducer(M,U,se)},Ze.useRef=function(M){return xe.current.useRef(M)},Ze.useState=function(M){return xe.current.useState(M)},Ze.useSyncExternalStore=function(M,U,se){return xe.current.useSyncExternalStore(M,U,se)},Ze.useTransition=function(){return xe.current.useTransition()},Ze.version="18.3.1",Ze}var n0;function ay(){return n0||(n0=1,Uh.exports=jC()),Uh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function TC(){if(r0)return Al;r0=1;var e=ay(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(m,v,_){var x,w={},N=null,P=null;_!==void 0&&(N=""+_),v.key!==void 0&&(N=""+v.key),v.ref!==void 0&&(P=v.ref);for(x in v)a.call(v,x)&&!c.hasOwnProperty(x)&&(w[x]=v[x]);if(m&&m.defaultProps)for(x in v=m.defaultProps,v)w[x]===void 0&&(w[x]=v[x]);return{$$typeof:t,type:m,key:N,ref:P,props:w,_owner:o.current}}return Al.Fragment=n,Al.jsx=d,Al.jsxs=d,Al}var i0;function OC(){return i0||(i0=1,Wh.exports=TC()),Wh.exports}var f=OC(),R=ay();const X=fn(R),MC=kC({__proto__:null,default:X},[R]);var Jc={},Hh={exports:{}},Mn={},Yh={exports:{}},Zh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function DC(){return a0||(a0=1,(function(e){function t(z,ne){var Q=z.length;z.push(ne);e:for(;0<Q;){var M=Q-1>>>1,U=z[M];if(0<o(U,ne))z[M]=ne,z[Q]=U,Q=M;else break e}}function n(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var ne=z[0],Q=z.pop();if(Q!==ne){z[0]=Q;e:for(var M=0,U=z.length,se=U>>>1;M<se;){var le=2*(M+1)-1,ue=z[le],fe=le+1,je=z[fe];if(0>o(ue,Q))fe<U&&0>o(je,ue)?(z[M]=je,z[fe]=Q,M=fe):(z[M]=ue,z[le]=Q,M=le);else if(fe<U&&0>o(je,Q))z[M]=je,z[fe]=Q,M=fe;else break e}}return ne}function o(z,ne){var Q=z.sortIndex-ne.sortIndex;return Q!==0?Q:z.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();e.unstable_now=function(){return d.now()-m}}var v=[],_=[],x=1,w=null,N=3,P=!1,C=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(z){for(var ne=n(_);ne!==null;){if(ne.callback===null)a(_);else if(ne.startTime<=z)a(_),ne.sortIndex=ne.expirationTime,t(v,ne);else break;ne=n(_)}}function F(z){if(E=!1,I(z),!C)if(n(v)!==null)C=!0,me(D);else{var ne=n(_);ne!==null&&xe(F,ne.startTime-z)}}function D(z,ne){C=!1,E&&(E=!1,O(H),H=-1),P=!0;var Q=N;try{for(I(ne),w=n(v);w!==null&&(!(w.expirationTime>ne)||z&&!W());){var M=w.callback;if(typeof M=="function"){w.callback=null,N=w.priorityLevel;var U=M(w.expirationTime<=ne);ne=e.unstable_now(),typeof U=="function"?w.callback=U:w===n(v)&&a(v),I(ne)}else a(v);w=n(v)}if(w!==null)var se=!0;else{var le=n(_);le!==null&&xe(F,le.startTime-ne),se=!1}return se}finally{w=null,N=Q,P=!1}}var B=!1,Z=null,H=-1,G=5,$=-1;function W(){return!(e.unstable_now()-$<G)}function re(){if(Z!==null){var z=e.unstable_now();$=z;var ne=!0;try{ne=Z(!0,z)}finally{ne?J():(B=!1,Z=null)}}else B=!1}var J;if(typeof A=="function")J=function(){A(re)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ge=ce.port2;ce.port1.onmessage=re,J=function(){ge.postMessage(null)}}else J=function(){k(re,0)};function me(z){Z=z,B||(B=!0,J())}function xe(z,ne){H=k(function(){z(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){C||P||(C=!0,me(D))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return n(v)},e.unstable_next=function(z){switch(N){case 1:case 2:case 3:var ne=3;break;default:ne=N}var Q=N;N=ne;try{return z()}finally{N=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,ne){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=N;N=z;try{return ne()}finally{N=Q}},e.unstable_scheduleCallback=function(z,ne,Q){var M=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?M+Q:M):Q=M,z){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Q+U,z={id:x++,callback:ne,priorityLevel:z,startTime:Q,expirationTime:U,sortIndex:-1},Q>M?(z.sortIndex=Q,t(_,z),n(v)===null&&z===n(_)&&(E?(O(H),H=-1):E=!0,xe(F,Q-M))):(z.sortIndex=U,t(v,z),C||P||(C=!0,me(D))),z},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(z){var ne=N;return function(){var Q=N;N=ne;try{return z.apply(this,arguments)}finally{N=Q}}}})(Zh)),Zh}var s0;function LC(){return s0||(s0=1,Yh.exports=DC()),Yh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function RC(){if(o0)return Mn;o0=1;var e=ay(),t=LC();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function c(r,s){d(r,s),d(r+"Capture",s)}function d(r,s){for(o[r]=s,r=0;r<s.length;r++)a.add(s[r])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},w={};function N(r){return v.call(w,r)?!0:v.call(x,r)?!1:_.test(r)?w[r]=!0:(x[r]=!0,!1)}function P(r,s,u,p){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,s,u,p){if(s===null||typeof s>"u"||P(r,s,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function E(r,s,u,p,y,b,j){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=r,this.type=s,this.sanitizeURL=b,this.removeEmptyString=j}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new E(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];k[s]=new E(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new E(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new E(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new E(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new E(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new E(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new E(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new E(r,5,!1,r.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function A(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(O,A);k[s]=new E(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(O,A);k[s]=new E(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(O,A);k[s]=new E(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new E(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new E(r,1,!1,r.toLowerCase(),null,!0,!0)});function I(r,s,u,p){var y=k.hasOwnProperty(s)?k[s]:null;(y!==null?y.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(C(s,u,y,p)&&(u=null),p||y===null?N(s)&&(u===null?r.removeAttribute(s):r.setAttribute(s,""+u)):y.mustUseProperty?r[y.propertyName]=u===null?y.type===3?!1:"":u:(s=y.attributeName,p=y.attributeNamespace,u===null?r.removeAttribute(s):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,p?r.setAttributeNS(p,s,u):r.setAttribute(s,u))))}var F=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),B=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),W=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),z=Symbol.iterator;function ne(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var Q=Object.assign,M;function U(r){if(M===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+r}var se=!1;function le(r,s){if(!r||se)return"";se=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(oe){var p=oe}Reflect.construct(r,[],s)}else{try{s.call()}catch(oe){p=oe}r.call(s.prototype)}else{try{throw Error()}catch(oe){p=oe}r()}}catch(oe){if(oe&&p&&typeof oe.stack=="string"){for(var y=oe.stack.split(`
`),b=p.stack.split(`
`),j=y.length-1,q=b.length-1;1<=j&&0<=q&&y[j]!==b[q];)q--;for(;1<=j&&0<=q;j--,q--)if(y[j]!==b[q]){if(j!==1||q!==1)do if(j--,q--,0>q||y[j]!==b[q]){var V=`
`+y[j].replace(" at new "," at ");return r.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",r.displayName)),V}while(1<=j&&0<=q);break}}}finally{se=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?U(r):""}function ue(r){switch(r.tag){case 5:return U(r.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return r=le(r.type,!1),r;case 11:return r=le(r.type.render,!1),r;case 1:return r=le(r.type,!0),r;default:return""}}function fe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Z:return"Fragment";case B:return"Portal";case G:return"Profiler";case H:return"StrictMode";case J:return"Suspense";case ce:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case W:return(r.displayName||"Context")+".Consumer";case $:return(r._context.displayName||"Context")+".Provider";case re:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ge:return s=r.displayName||null,s!==null?s:fe(r.type)||"Memo";case me:s=r._payload,r=r._init;try{return fe(r(s))}catch{}}return null}function je(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(s);case 8:return s===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ce(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function he(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ne(r){var s=he(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),p=""+r[s];if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return y.call(this)},set:function(j){p=""+j,b.call(this,j)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(j){p=""+j},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function rt(r){r._valueTracker||(r._valueTracker=Ne(r))}function gt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var u=s.getValue(),p="";return r&&(p=he(r)?r.checked?"true":"false":r.value),r=p,r!==u?(s.setValue(r),!0):!1}function dt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function er(r,s){var u=s.checked;return Q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function Ve(r,s){var u=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;u=Ce(s.value!=null?s.value:u),r._wrapperState={initialChecked:p,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Fn(r,s){s=s.checked,s!=null&&I(r,"checked",s,!1)}function Ye(r,s){Fn(r,s);var u=Ce(s.value),p=s.type;if(u!=null)p==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(p==="submit"||p==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?bn(r,s.type,u):s.hasOwnProperty("defaultValue")&&bn(r,s.type,Ce(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function en(r,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,u||s===r.value||(r.value=s),r.defaultValue=s}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function bn(r,s,u){(s!=="number"||dt(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var Ut=Array.isArray;function Dt(r,s,u,p){if(r=r.options,s){s={};for(var y=0;y<u.length;y++)s["$"+u[y]]=!0;for(u=0;u<r.length;u++)y=s.hasOwnProperty("$"+r[u].value),r[u].selected!==y&&(r[u].selected=y),y&&p&&(r[u].defaultSelected=!0)}else{for(u=""+Ce(u),s=null,y=0;y<r.length;y++){if(r[y].value===u){r[y].selected=!0,p&&(r[y].defaultSelected=!0);return}s!==null||r[y].disabled||(s=r[y])}s!==null&&(s.selected=!0)}}function Ht(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function xt(r,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(n(92));if(Ut(u)){if(1<u.length)throw Error(n(93));u=u[0]}s=u}s==null&&(s=""),u=s}r._wrapperState={initialValue:Ce(u)}}function $n(r,s){var u=Ce(s.value),p=Ce(s.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),s.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),p!=null&&(r.defaultValue=""+p)}function tr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Sr(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nr(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Sr(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Gt,Ia=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,p,y){MSApp.execUnsafeLocalFunction(function(){return r(s,u,p,y)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Gt=Gt||document.createElement("div"),Gt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Gt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Nr(r,s){if(s){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=s;return}}r.textContent=s}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},js=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(r){js.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Br[s]=Br[r]})});function Sn(r,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||Br.hasOwnProperty(r)&&Br[r]?(""+s).trim():s+"px"}function Nn(r,s){r=r.style;for(var u in s)if(s.hasOwnProperty(u)){var p=u.indexOf("--")===0,y=Sn(u,s[u],p);u==="float"&&(u="cssFloat"),p?r.setProperty(u,y):r[u]=y}}var Du=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wo(r,s){if(s){if(Du[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function ui(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uo=null;function Ho(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ts=null,ci=null,di=null;function Lu(r){if(r=Si(r)){if(typeof Ts!="function")throw Error(n(280));var s=r.stateNode;s&&(s=ro(s),Ts(r.stateNode,r.type,s))}}function Ru(r){ci?di?di.push(r):di=[r]:ci=r}function zu(){if(ci){var r=ci,s=di;if(di=ci=null,Lu(r),s)for(r=0;r<s.length;r++)Lu(s[r])}}function Au(r,s){return r(s)}function Iu(){}var Yo=!1;function Os(r,s,u){if(Yo)return r(s,u);Yo=!0;try{return Au(r,s,u)}finally{Yo=!1,(ci!==null||di!==null)&&(Iu(),zu())}}function Fa(r,s){var u=r.stateNode;if(u===null)return null;var p=ro(u);if(p===null)return null;u=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,s,typeof u));return u}var Zo=!1;if(m)try{var $a={};Object.defineProperty($a,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{Zo=!1}function xf(r,s,u,p,y,b,j,q,V){var oe=Array.prototype.slice.call(arguments,3);try{s.apply(u,oe)}catch(ve){this.onError(ve)}}var tn=!1,Le=null,Ba=!1,Ms=null,Fu={onError:function(r){tn=!0,Le=r}};function $u(r,s,u,p,y,b,j,q,V){tn=!1,Le=null,xf.apply(Fu,arguments)}function Vo(r,s,u,p,y,b,j,q,V){if($u.apply(this,arguments),tn){if(tn){var oe=Le;tn=!1,Le=null}else throw Error(n(198));Ba||(Ba=!0,Ms=oe)}}function qr(r){var s=r,u=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(u=s.return),r=s.return;while(r)}return s.tag===3?u:null}function fi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Go(r){if(qr(r)!==r)throw Error(n(188))}function wf(r){var s=r.alternate;if(!s){if(s=qr(r),s===null)throw Error(n(188));return s!==r?null:r}for(var u=r,p=s;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return Go(y),r;if(b===p)return Go(y),s;b=b.sibling}throw Error(n(188))}if(u.return!==p.return)u=y,p=b;else{for(var j=!1,q=y.child;q;){if(q===u){j=!0,u=y,p=b;break}if(q===p){j=!0,p=y,u=b;break}q=q.sibling}if(!j){for(q=b.child;q;){if(q===u){j=!0,u=b,p=y;break}if(q===p){j=!0,p=b,u=y;break}q=q.sibling}if(!j)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:s}function Bu(r){return r=wf(r),r!==null?qu(r):null}function qu(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=qu(r);if(s!==null)return s;r=r.sibling}return null}var Wu=t.unstable_scheduleCallback,Ko=t.unstable_cancelCallback,bf=t.unstable_shouldYield,Ds=t.unstable_requestPaint,wt=t.unstable_now,Sf=t.unstable_getCurrentPriorityLevel,Xo=t.unstable_ImmediatePriority,Uu=t.unstable_UserBlockingPriority,Ls=t.unstable_NormalPriority,Jo=t.unstable_LowPriority,Zi=t.unstable_IdlePriority,qa=null,Bn=null;function Wa(r){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(qa,r,void 0,(r.current.flags&128)===128)}catch{}}var We=Math.clz32?Math.clz32:Vi,ft=Math.log,Rs=Math.LN2;function Vi(r){return r>>>=0,r===0?32:31-(ft(r)/Rs|0)|0}var Er=64,Gi=4194304;function qe(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ut(r,s){var u=r.pendingLanes;if(u===0)return 0;var p=0,y=r.suspendedLanes,b=r.pingedLanes,j=u&268435455;if(j!==0){var q=j&~y;q!==0?p=qe(q):(b&=j,b!==0&&(p=qe(b)))}else j=u&~y,j!==0?p=qe(j):b!==0&&(p=qe(b));if(p===0)return 0;if(s!==0&&s!==p&&(s&y)===0&&(y=p&-p,b=s&-s,y>=b||y===16&&(b&4194240)!==0))return s;if((p&4)!==0&&(p|=u&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=p;0<s;)u=31-We(s),y=1<<u,p|=r[u],s&=~y;return p}function Qo(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zs(r,s){for(var u=r.suspendedLanes,p=r.pingedLanes,y=r.expirationTimes,b=r.pendingLanes;0<b;){var j=31-We(b),q=1<<j,V=y[j];V===-1?((q&u)===0||(q&p)!==0)&&(y[j]=Qo(q,s)):V<=s&&(r.expiredLanes|=q),b&=~q}}function nn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Hu(){var r=Er;return Er<<=1,(Er&4194240)===0&&(Er=64),r}function Ki(r){for(var s=[],u=0;31>u;u++)s.push(r);return s}function qn(r,s,u){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-We(s),r[s]=u}function Et(r,s){var u=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var p=r.eventTimes;for(r=r.expirationTimes;0<u;){var y=31-We(u),b=1<<y;s[y]=0,p[y]=-1,r[y]=-1,u&=~b}}function Pr(r,s){var u=r.entangledLanes|=s;for(r=r.entanglements;u;){var p=31-We(u),y=1<<p;y&s|r[p]&s&&(r[p]|=s),u&=~y}}var Xe=0;function Xi(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var As,hi,Is,Fs,Ua,Ha=!1,Ji=[],Wn=null,Cr=null,rr=null,Ya=new Map,$e=new Map,zt=[],at="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function el(r,s){switch(r){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":Ya.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":$e.delete(s.pointerId)}}function pi(r,s,u,p,y,b){return r===null||r.nativeEvent!==b?(r={blockedOn:s,domEventName:u,eventSystemFlags:p,nativeEvent:b,targetContainers:[y]},s!==null&&(s=Si(s),s!==null&&hi(s)),r):(r.eventSystemFlags|=p,s=r.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),r)}function tl(r,s,u,p,y){switch(s){case"focusin":return Wn=pi(Wn,r,s,u,p,y),!0;case"dragenter":return Cr=pi(Cr,r,s,u,p,y),!0;case"mouseover":return rr=pi(rr,r,s,u,p,y),!0;case"pointerover":var b=y.pointerId;return Ya.set(b,pi(Ya.get(b)||null,r,s,u,p,y)),!0;case"gotpointercapture":return b=y.pointerId,$e.set(b,pi($e.get(b)||null,r,s,u,p,y)),!0}return!1}function $s(r){var s=bi(r.target);if(s!==null){var u=qr(s);if(u!==null){if(s=u.tag,s===13){if(s=fi(u),s!==null){r.blockedOn=s,Ua(r.priority,function(){Is(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ir(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var u=Ws(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var p=new u.constructor(u.type,u);Uo=p,u.target.dispatchEvent(p),Uo=null}else return s=Si(u),s!==null&&hi(s),r.blockedOn=u,!1;s.shift()}return!0}function Bs(r,s,u){ir(r)&&u.delete(s)}function Za(){Ha=!1,Wn!==null&&ir(Wn)&&(Wn=null),Cr!==null&&ir(Cr)&&(Cr=null),rr!==null&&ir(rr)&&(rr=null),Ya.forEach(Bs),$e.forEach(Bs)}function bt(r,s){r.blockedOn===s&&(r.blockedOn=null,Ha||(Ha=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Za)))}function Un(r){function s(y){return bt(y,r)}if(0<Ji.length){bt(Ji[0],r);for(var u=1;u<Ji.length;u++){var p=Ji[u];p.blockedOn===r&&(p.blockedOn=null)}}for(Wn!==null&&bt(Wn,r),Cr!==null&&bt(Cr,r),rr!==null&&bt(rr,r),Ya.forEach(s),$e.forEach(s),u=0;u<zt.length;u++)p=zt[u],p.blockedOn===r&&(p.blockedOn=null);for(;0<zt.length&&(u=zt[0],u.blockedOn===null);)$s(u),u.blockedOn===null&&zt.shift()}var mi=F.ReactCurrentBatchConfig,Va=!0;function Nf(r,s,u,p){var y=Xe,b=mi.transition;mi.transition=null;try{Xe=1,Ga(r,s,u,p)}finally{Xe=y,mi.transition=b}}function Yu(r,s,u,p){var y=Xe,b=mi.transition;mi.transition=null;try{Xe=4,Ga(r,s,u,p)}finally{Xe=y,mi.transition=b}}function Ga(r,s,u,p){if(Va){var y=Ws(r,s,u,p);if(y===null)i(r,s,p,qs,u),el(r,p);else if(tl(y,r,s,u,p))p.stopPropagation();else if(el(r,p),s&4&&-1<at.indexOf(r)){for(;y!==null;){var b=Si(y);if(b!==null&&As(b),b=Ws(r,s,u,p),b===null&&i(r,s,p,qs,u),b===y)break;y=b}y!==null&&p.stopPropagation()}else i(r,s,p,null,u)}}var qs=null;function Ws(r,s,u,p){if(qs=null,r=Ho(p),r=bi(r),r!==null)if(s=qr(r),s===null)r=null;else if(u=s.tag,u===13){if(r=fi(s),r!==null)return r;r=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return qs=r,null}function Ge(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sf()){case Xo:return 1;case Uu:return 4;case Ls:case Jo:return 16;case Zi:return 536870912;default:return 16}default:return 16}}var Wr=null,mn=null,Ur=null;function nl(){if(Ur)return Ur;var r,s=mn,u=s.length,p,y="value"in Wr?Wr.value:Wr.textContent,b=y.length;for(r=0;r<u&&s[r]===y[r];r++);var j=u-r;for(p=1;p<=j&&s[u-p]===y[b-p];p++);return Ur=y.slice(r,1<p?1-p:void 0)}function Us(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Qi(){return!0}function Zu(){return!1}function rn(r){function s(u,p,y,b,j){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=b,this.target=j,this.currentTarget=null;for(var q in r)r.hasOwnProperty(q)&&(u=r[q],this[q]=u?u(b):b[q]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Qi:Zu,this.isPropagationStopped=Zu,this}return Q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),s}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=rn(ea),vi=Q({},ea,{view:0,detail:0}),Ef=rn(vi),En,il,ta,Hn=Q({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yi,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ta&&(ta&&r.type==="mousemove"?(En=r.screenX-ta.screenX,il=r.screenY-ta.screenY):il=En=0,ta=r),En)},movementY:function(r){return"movementY"in r?r.movementY:il}}),al=rn(Hn),Vu=Q({},Hn,{dataTransfer:0}),sl=rn(Vu),Pf=Q({},vi,{relatedTarget:0}),Hs=rn(Pf),Gu=Q({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),Cf=rn(Gu),kf=Q({},ea,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ol=rn(kf),jf=Q({},ea,{data:0}),ll=rn(jf),Ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ys={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tf(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=gi[r])?!!s[r]:!1}function yi(){return Tf}var Pn=Q({},vi,{key:function(r){if(r.key){var s=Ku[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Us(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ys[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yi,charCode:function(r){return r.type==="keypress"?Us(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Us(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Xu=rn(Pn),Ju=Q({},Hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qu=rn(Ju),ul=Q({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yi}),cl=rn(ul),Of=Q({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mf=rn(Of),ec=Q({},Hn,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Df=rn(ec),Yn=[9,13,27,32],Hr=m&&"CompositionEvent"in window,Ka=null;m&&"documentMode"in document&&(Ka=document.documentMode);var kr=m&&"TextEvent"in window&&!Ka,tc=m&&(!Hr||Ka&&8<Ka&&11>=Ka),_i=" ",nc=!1;function na(r,s){switch(r){case"keyup":return Yn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dl(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var jr=!1;function Lf(r,s){switch(r){case"compositionend":return dl(s);case"keypress":return s.which!==32?null:(nc=!0,_i);case"textInput":return r=s.data,r===_i&&nc?null:r;default:return null}}function Yr(r,s){if(jr)return r==="compositionend"||!Hr&&na(r,s)?(r=nl(),Ur=mn=Wr=null,jr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return tc&&s.locale!=="ko"?null:s.data;default:return null}}var Zs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Zs[r.type]:s==="textarea"}function Vs(r,s,u,p){Ru(p),s=h(s,"onChange"),0<s.length&&(u=new rl("onChange","change",null,u,p),r.push({event:u,listeners:s}))}var Xa=null,vn=null;function Rf(r){xl(r,0)}function Tr(r){var s=Ni(r);if(gt(s))return r}function zf(r,s){if(r==="change")return s}var ar=!1;if(m){var ra;if(m){var Gs="oninput"in document;if(!Gs){var Ks=document.createElement("div");Ks.setAttribute("oninput","return;"),Gs=typeof Ks.oninput=="function"}ra=Gs}else ra=!1;ar=ra&&(!document.documentMode||9<document.documentMode)}function Ja(){Xa&&(Xa.detachEvent("onpropertychange",Xs),vn=Xa=null)}function Xs(r){if(r.propertyName==="value"&&Tr(vn)){var s=[];Vs(s,vn,r,Ho(r)),Os(Rf,s)}}function Js(r,s,u){r==="focusin"?(Ja(),Xa=s,vn=u,Xa.attachEvent("onpropertychange",Xs)):r==="focusout"&&Ja()}function ia(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Tr(vn)}function Qs(r,s){if(r==="click")return Tr(s)}function fl(r,s){if(r==="input"||r==="change")return Tr(s)}function ic(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Zn=typeof Object.is=="function"?Object.is:ic;function Zr(r,s){if(Zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var u=Object.keys(r),p=Object.keys(s);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!v.call(s,y)||!Zn(r[y],s[y]))return!1}return!0}function ac(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function hl(r,s){var u=ac(r);r=0;for(var p;u;){if(u.nodeType===3){if(p=r+u.textContent.length,r<=s&&p>=s)return{node:u,offset:s-r};r=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ac(u)}}function sc(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?sc(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function pl(){for(var r=window,s=dt();s instanceof r.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)r=s.contentWindow;else break;s=dt(r.document)}return s}function ml(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function sr(r){var s=pl(),u=r.focusedElem,p=r.selectionRange;if(s!==u&&u&&u.ownerDocument&&sc(u.ownerDocument.documentElement,u)){if(p!==null&&ml(u)){if(s=p.start,r=p.end,r===void 0&&(r=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(r,u.value.length);else if(r=(s=u.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var y=u.textContent.length,b=Math.min(p.start,y);p=p.end===void 0?b:Math.min(p.end,y),!r.extend&&b>p&&(y=p,p=b,b=y),y=hl(u,b);var j=hl(u,p);y&&j&&(r.rangeCount!==1||r.anchorNode!==y.node||r.anchorOffset!==y.offset||r.focusNode!==j.node||r.focusOffset!==j.offset)&&(s=s.createRange(),s.setStart(y.node,y.offset),r.removeAllRanges(),b>p?(r.addRange(s),r.extend(j.node,j.offset)):(s.setEnd(j.node,j.offset),r.addRange(s)))}}for(s=[],r=u;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)r=s[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var eo=m&&"documentMode"in document&&11>=document.documentMode,aa=null,sa=null,Qa=null,to=!1;function oc(r,s,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;to||aa==null||aa!==dt(p)||(p=aa,"selectionStart"in p&&ml(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Qa&&Zr(Qa,p)||(Qa=p,p=h(sa,"onSelect"),0<p.length&&(s=new rl("onSelect","select",null,s,u),r.push({event:s,listeners:p}),s.target=aa)))}function Vr(r,s){var u={};return u[r.toLowerCase()]=s.toLowerCase(),u["Webkit"+r]="webkit"+s,u["Moz"+r]="moz"+s,u}var oa={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionend:Vr("Transition","TransitionEnd")},Gr={},vl={};m&&(vl=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function es(r){if(Gr[r])return Gr[r];if(!oa[r])return r;var s=oa[r],u;for(u in s)if(s.hasOwnProperty(u)&&u in vl)return Gr[r]=s[u];return r}var lc=es("animationend"),or=es("animationiteration"),gl=es("animationstart"),yl=es("transitionend"),la=new Map,uc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(r,s){la.set(r,s),c(s,[r])}for(var xi=0;xi<uc.length;xi++){var no=uc[xi],cc=no.toLowerCase(),Af=no[0].toUpperCase()+no.slice(1);Vn(cc,"on"+Af)}Vn(lc,"onAnimationEnd"),Vn(or,"onAnimationIteration"),Vn(gl,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(yl,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dc=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function _l(r,s,u){var p=r.type||"unknown-event";r.currentTarget=u,Vo(p,s,void 0,r),r.currentTarget=null}function xl(r,s){s=(s&4)!==0;for(var u=0;u<r.length;u++){var p=r[u],y=p.event;p=p.listeners;e:{var b=void 0;if(s)for(var j=p.length-1;0<=j;j--){var q=p[j],V=q.instance,oe=q.currentTarget;if(q=q.listener,V!==b&&y.isPropagationStopped())break e;_l(y,q,oe),b=V}else for(j=0;j<p.length;j++){if(q=p[j],V=q.instance,oe=q.currentTarget,q=q.listener,V!==b&&y.isPropagationStopped())break e;_l(y,q,oe),b=V}}}if(Ba)throw r=Ms,Ba=!1,Ms=null,r}function st(r,s){var u=s[ha];u===void 0&&(u=s[ha]=new Set);var p=r+"__bubble";u.has(p)||(fc(s,r,2,!1),u.add(p))}function wl(r,s,u){var p=0;s&&(p|=4),fc(u,r,p,s)}var ts="_reactListening"+Math.random().toString(36).slice(2);function ca(r){if(!r[ts]){r[ts]=!0,a.forEach(function(u){u!=="selectionchange"&&(dc.has(u)||wl(u,!1,r),wl(u,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ts]||(s[ts]=!0,wl("selectionchange",!1,s))}}function fc(r,s,u,p){switch(Ge(s)){case 1:var y=Nf;break;case 4:y=Yu;break;default:y=Ga}u=y.bind(null,s,u,r),y=void 0,!Zo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),p?y!==void 0?r.addEventListener(s,u,{capture:!0,passive:y}):r.addEventListener(s,u,!0):y!==void 0?r.addEventListener(s,u,{passive:y}):r.addEventListener(s,u,!1)}function i(r,s,u,p,y){var b=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var j=p.tag;if(j===3||j===4){var q=p.stateNode.containerInfo;if(q===y||q.nodeType===8&&q.parentNode===y)break;if(j===4)for(j=p.return;j!==null;){var V=j.tag;if((V===3||V===4)&&(V=j.stateNode.containerInfo,V===y||V.nodeType===8&&V.parentNode===y))return;j=j.return}for(;q!==null;){if(j=bi(q),j===null)return;if(V=j.tag,V===5||V===6){p=b=j;continue e}q=q.parentNode}}p=p.return}Os(function(){var oe=b,ve=Ho(u),ye=[];e:{var pe=la.get(r);if(pe!==void 0){var ke=rl,Me=r;switch(r){case"keypress":if(Us(u)===0)break e;case"keydown":case"keyup":ke=Xu;break;case"focusin":Me="focus",ke=Hs;break;case"focusout":Me="blur",ke=Hs;break;case"beforeblur":case"afterblur":ke=Hs;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=sl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=cl;break;case lc:case or:case gl:ke=Cf;break;case yl:ke=Mf;break;case"scroll":ke=Ef;break;case"wheel":ke=Df;break;case"copy":case"cut":case"paste":ke=ol;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=Qu}var De=(s&4)!==0,jt=!De&&r==="scroll",te=De?pe!==null?pe+"Capture":null:pe;De=[];for(var K=oe,ie;K!==null;){ie=K;var we=ie.stateNode;if(ie.tag===5&&we!==null&&(ie=we,te!==null&&(we=Fa(K,te),we!=null&&De.push(l(K,we,ie)))),jt)break;K=K.return}0<De.length&&(pe=new ke(pe,Me,null,u,ve),ye.push({event:pe,listeners:De}))}}if((s&7)===0){e:{if(pe=r==="mouseover"||r==="pointerover",ke=r==="mouseout"||r==="pointerout",pe&&u!==Uo&&(Me=u.relatedTarget||u.fromElement)&&(bi(Me)||Me[it]))break e;if((ke||pe)&&(pe=ve.window===ve?ve:(pe=ve.ownerDocument)?pe.defaultView||pe.parentWindow:window,ke?(Me=u.relatedTarget||u.toElement,ke=oe,Me=Me?bi(Me):null,Me!==null&&(jt=qr(Me),Me!==jt||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(ke=null,Me=oe),ke!==Me)){if(De=al,we="onMouseLeave",te="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(De=Qu,we="onPointerLeave",te="onPointerEnter",K="pointer"),jt=ke==null?pe:Ni(ke),ie=Me==null?pe:Ni(Me),pe=new De(we,K+"leave",ke,u,ve),pe.target=jt,pe.relatedTarget=ie,we=null,bi(ve)===oe&&(De=new De(te,K+"enter",Me,u,ve),De.target=ie,De.relatedTarget=jt,we=De),jt=we,ke&&Me)t:{for(De=ke,te=Me,K=0,ie=De;ie;ie=g(ie))K++;for(ie=0,we=te;we;we=g(we))ie++;for(;0<K-ie;)De=g(De),K--;for(;0<ie-K;)te=g(te),ie--;for(;K--;){if(De===te||te!==null&&De===te.alternate)break t;De=g(De),te=g(te)}De=null}else De=null;ke!==null&&S(ye,pe,ke,De,!1),Me!==null&&jt!==null&&S(ye,jt,Me,De,!0)}}e:{if(pe=oe?Ni(oe):window,ke=pe.nodeName&&pe.nodeName.toLowerCase(),ke==="select"||ke==="input"&&pe.type==="file")var Re=zf;else if(rc(pe))if(ar)Re=fl;else{Re=ia;var Ie=Js}else(ke=pe.nodeName)&&ke.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Re=Qs);if(Re&&(Re=Re(r,oe))){Vs(ye,Re,u,ve);break e}Ie&&Ie(r,pe,oe),r==="focusout"&&(Ie=pe._wrapperState)&&Ie.controlled&&pe.type==="number"&&bn(pe,"number",pe.value)}switch(Ie=oe?Ni(oe):window,r){case"focusin":(rc(Ie)||Ie.contentEditable==="true")&&(aa=Ie,sa=oe,Qa=null);break;case"focusout":Qa=sa=aa=null;break;case"mousedown":to=!0;break;case"contextmenu":case"mouseup":case"dragend":to=!1,oc(ye,u,ve);break;case"selectionchange":if(eo)break;case"keydown":case"keyup":oc(ye,u,ve)}var Fe;if(Hr)e:{switch(r){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else jr?na(r,u)&&(Be="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Be="onCompositionStart");Be&&(tc&&u.locale!=="ko"&&(jr||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&jr&&(Fe=nl()):(Wr=ve,mn="value"in Wr?Wr.value:Wr.textContent,jr=!0)),Ie=h(oe,Be),0<Ie.length&&(Be=new ll(Be,r,null,u,ve),ye.push({event:Be,listeners:Ie}),Fe?Be.data=Fe:(Fe=dl(u),Fe!==null&&(Be.data=Fe)))),(Fe=kr?Lf(r,u):Yr(r,u))&&(oe=h(oe,"onBeforeInput"),0<oe.length&&(ve=new ll("onBeforeInput","beforeinput",null,u,ve),ye.push({event:ve,listeners:oe}),ve.data=Fe))}xl(ye,s)})}function l(r,s,u){return{instance:r,listener:s,currentTarget:u}}function h(r,s){for(var u=s+"Capture",p=[];r!==null;){var y=r,b=y.stateNode;y.tag===5&&b!==null&&(y=b,b=Fa(r,u),b!=null&&p.unshift(l(r,b,y)),b=Fa(r,s),b!=null&&p.push(l(r,b,y))),r=r.return}return p}function g(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function S(r,s,u,p,y){for(var b=s._reactName,j=[];u!==null&&u!==p;){var q=u,V=q.alternate,oe=q.stateNode;if(V!==null&&V===p)break;q.tag===5&&oe!==null&&(q=oe,y?(V=Fa(u,b),V!=null&&j.unshift(l(u,V,q))):y||(V=Fa(u,b),V!=null&&j.push(l(u,V,q)))),u=u.return}j.length!==0&&r.push({event:s,listeners:j})}var T=/\r\n?/g,Y=/\u0000|\uFFFD/g;function ee(r){return(typeof r=="string"?r:""+r).replace(T,`
`).replace(Y,"")}function ae(r,s,u){if(s=ee(s),ee(r)!==s&&u)throw Error(n(425))}function de(){}var Se=null,Ae=null;function Ue(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var At=typeof setTimeout=="function"?setTimeout:void 0,Lt=typeof clearTimeout=="function"?clearTimeout:void 0,gn=typeof Promise=="function"?Promise:void 0,an=typeof queueMicrotask=="function"?queueMicrotask:typeof gn<"u"?function(r){return gn.resolve(null).then(r).catch(da)}:At;function da(r){setTimeout(function(){throw r})}function bl(r,s){var u=s,p=0;do{var y=u.nextSibling;if(r.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(p===0){r.removeChild(y),Un(s);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=y}while(u);Un(s)}function Kr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function hc(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return r;s--}else u==="/$"&&s++}r=r.previousSibling}return null}var wi=Math.random().toString(36).slice(2),lr="__reactFiber$"+wi,fa="__reactProps$"+wi,it="__reactContainer$"+wi,ha="__reactEvents$"+wi,If="__reactListeners$"+wi,Ff="__reactHandles$"+wi;function bi(r){var s=r[lr];if(s)return s;for(var u=r.parentNode;u;){if(s=u[it]||u[lr]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(r=hc(r);r!==null;){if(u=r[lr])return u;r=hc(r)}return s}r=u,u=r.parentNode}return null}function Si(r){return r=r[lr]||r[it],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ni(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function ro(r){return r[fa]||null}var $f=[],io=-1;function pa(r){return{current:r}}function ht(r){0>io||(r.current=$f[io],$f[io]=null,io--)}function ct(r,s){io++,$f[io]=r.current,r.current=s}var ma={},sn=pa(ma),Cn=pa(!1),ns=ma;function ao(r,s){var u=r.type.contextTypes;if(!u)return ma;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var y={},b;for(b in u)y[b]=s[b];return p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=y),y}function kn(r){return r=r.childContextTypes,r!=null}function pc(){ht(Cn),ht(sn)}function S_(r,s,u){if(sn.current!==ma)throw Error(n(168));ct(sn,s),ct(Cn,u)}function N_(r,s,u){var p=r.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var y in p)if(!(y in s))throw Error(n(108,je(r)||"Unknown",y));return Q({},u,p)}function mc(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ma,ns=sn.current,ct(sn,r),ct(Cn,Cn.current),!0}function E_(r,s,u){var p=r.stateNode;if(!p)throw Error(n(169));u?(r=N_(r,s,ns),p.__reactInternalMemoizedMergedChildContext=r,ht(Cn),ht(sn),ct(sn,r)):ht(Cn),ct(Cn,u)}var Ei=null,vc=!1,Bf=!1;function P_(r){Ei===null?Ei=[r]:Ei.push(r)}function YP(r){vc=!0,P_(r)}function va(){if(!Bf&&Ei!==null){Bf=!0;var r=0,s=Xe;try{var u=Ei;for(Xe=1;r<u.length;r++){var p=u[r];do p=p(!0);while(p!==null)}Ei=null,vc=!1}catch(y){throw Ei!==null&&(Ei=Ei.slice(r+1)),Wu(Xo,va),y}finally{Xe=s,Bf=!1}}return null}var so=[],oo=0,gc=null,yc=0,ur=[],cr=0,rs=null,Pi=1,Ci="";function is(r,s){so[oo++]=yc,so[oo++]=gc,gc=r,yc=s}function C_(r,s,u){ur[cr++]=Pi,ur[cr++]=Ci,ur[cr++]=rs,rs=r;var p=Pi;r=Ci;var y=32-We(p)-1;p&=~(1<<y),u+=1;var b=32-We(s)+y;if(30<b){var j=y-y%5;b=(p&(1<<j)-1).toString(32),p>>=j,y-=j,Pi=1<<32-We(s)+y|u<<y|p,Ci=b+r}else Pi=1<<b|u<<y|p,Ci=r}function qf(r){r.return!==null&&(is(r,1),C_(r,1,0))}function Wf(r){for(;r===gc;)gc=so[--oo],so[oo]=null,yc=so[--oo],so[oo]=null;for(;r===rs;)rs=ur[--cr],ur[cr]=null,Ci=ur[--cr],ur[cr]=null,Pi=ur[--cr],ur[cr]=null}var Gn=null,Kn=null,yt=!1,Or=null;function k_(r,s){var u=pr(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=r,s=r.deletions,s===null?(r.deletions=[u],r.flags|=16):s.push(u)}function j_(r,s){switch(r.tag){case 5:var u=r.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Gn=r,Kn=Kr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Gn=r,Kn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=rs!==null?{id:Pi,overflow:Ci}:null,r.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=pr(18,null,null,0),u.stateNode=s,u.return=r,r.child=u,Gn=r,Kn=null,!0):!1;default:return!1}}function Uf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Hf(r){if(yt){var s=Kn;if(s){var u=s;if(!j_(r,s)){if(Uf(r))throw Error(n(418));s=Kr(u.nextSibling);var p=Gn;s&&j_(r,s)?k_(p,u):(r.flags=r.flags&-4097|2,yt=!1,Gn=r)}}else{if(Uf(r))throw Error(n(418));r.flags=r.flags&-4097|2,yt=!1,Gn=r}}}function T_(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Gn=r}function _c(r){if(r!==Gn)return!1;if(!yt)return T_(r),yt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ue(r.type,r.memoizedProps)),s&&(s=Kn)){if(Uf(r))throw O_(),Error(n(418));for(;s;)k_(r,s),s=Kr(s.nextSibling)}if(T_(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(s===0){Kn=Kr(r.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}r=r.nextSibling}Kn=null}}else Kn=Gn?Kr(r.stateNode.nextSibling):null;return!0}function O_(){for(var r=Kn;r;)r=Kr(r.nextSibling)}function lo(){Kn=Gn=null,yt=!1}function Yf(r){Or===null?Or=[r]:Or.push(r)}var ZP=F.ReactCurrentBatchConfig;function Sl(r,s,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var p=u.stateNode}if(!p)throw Error(n(147,r));var y=p,b=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===b?s.ref:(s=function(j){var q=y.refs;j===null?delete q[b]:q[b]=j},s._stringRef=b,s)}if(typeof r!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,r))}return r}function xc(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function M_(r){var s=r._init;return s(r._payload)}function D_(r){function s(te,K){if(r){var ie=te.deletions;ie===null?(te.deletions=[K],te.flags|=16):ie.push(K)}}function u(te,K){if(!r)return null;for(;K!==null;)s(te,K),K=K.sibling;return null}function p(te,K){for(te=new Map;K!==null;)K.key!==null?te.set(K.key,K):te.set(K.index,K),K=K.sibling;return te}function y(te,K){return te=Na(te,K),te.index=0,te.sibling=null,te}function b(te,K,ie){return te.index=ie,r?(ie=te.alternate,ie!==null?(ie=ie.index,ie<K?(te.flags|=2,K):ie):(te.flags|=2,K)):(te.flags|=1048576,K)}function j(te){return r&&te.alternate===null&&(te.flags|=2),te}function q(te,K,ie,we){return K===null||K.tag!==6?(K=Ah(ie,te.mode,we),K.return=te,K):(K=y(K,ie),K.return=te,K)}function V(te,K,ie,we){var Re=ie.type;return Re===Z?ve(te,K,ie.props.children,we,ie.key):K!==null&&(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===me&&M_(Re)===K.type)?(we=y(K,ie.props),we.ref=Sl(te,K,ie),we.return=te,we):(we=Uc(ie.type,ie.key,ie.props,null,te.mode,we),we.ref=Sl(te,K,ie),we.return=te,we)}function oe(te,K,ie,we){return K===null||K.tag!==4||K.stateNode.containerInfo!==ie.containerInfo||K.stateNode.implementation!==ie.implementation?(K=Ih(ie,te.mode,we),K.return=te,K):(K=y(K,ie.children||[]),K.return=te,K)}function ve(te,K,ie,we,Re){return K===null||K.tag!==7?(K=fs(ie,te.mode,we,Re),K.return=te,K):(K=y(K,ie),K.return=te,K)}function ye(te,K,ie){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Ah(""+K,te.mode,ie),K.return=te,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case D:return ie=Uc(K.type,K.key,K.props,null,te.mode,ie),ie.ref=Sl(te,null,K),ie.return=te,ie;case B:return K=Ih(K,te.mode,ie),K.return=te,K;case me:var we=K._init;return ye(te,we(K._payload),ie)}if(Ut(K)||ne(K))return K=fs(K,te.mode,ie,null),K.return=te,K;xc(te,K)}return null}function pe(te,K,ie,we){var Re=K!==null?K.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Re!==null?null:q(te,K,""+ie,we);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case D:return ie.key===Re?V(te,K,ie,we):null;case B:return ie.key===Re?oe(te,K,ie,we):null;case me:return Re=ie._init,pe(te,K,Re(ie._payload),we)}if(Ut(ie)||ne(ie))return Re!==null?null:ve(te,K,ie,we,null);xc(te,ie)}return null}function ke(te,K,ie,we,Re){if(typeof we=="string"&&we!==""||typeof we=="number")return te=te.get(ie)||null,q(K,te,""+we,Re);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case D:return te=te.get(we.key===null?ie:we.key)||null,V(K,te,we,Re);case B:return te=te.get(we.key===null?ie:we.key)||null,oe(K,te,we,Re);case me:var Ie=we._init;return ke(te,K,ie,Ie(we._payload),Re)}if(Ut(we)||ne(we))return te=te.get(ie)||null,ve(K,te,we,Re,null);xc(K,we)}return null}function Me(te,K,ie,we){for(var Re=null,Ie=null,Fe=K,Be=K=0,Vt=null;Fe!==null&&Be<ie.length;Be++){Fe.index>Be?(Vt=Fe,Fe=null):Vt=Fe.sibling;var et=pe(te,Fe,ie[Be],we);if(et===null){Fe===null&&(Fe=Vt);break}r&&Fe&&et.alternate===null&&s(te,Fe),K=b(et,K,Be),Ie===null?Re=et:Ie.sibling=et,Ie=et,Fe=Vt}if(Be===ie.length)return u(te,Fe),yt&&is(te,Be),Re;if(Fe===null){for(;Be<ie.length;Be++)Fe=ye(te,ie[Be],we),Fe!==null&&(K=b(Fe,K,Be),Ie===null?Re=Fe:Ie.sibling=Fe,Ie=Fe);return yt&&is(te,Be),Re}for(Fe=p(te,Fe);Be<ie.length;Be++)Vt=ke(Fe,te,Be,ie[Be],we),Vt!==null&&(r&&Vt.alternate!==null&&Fe.delete(Vt.key===null?Be:Vt.key),K=b(Vt,K,Be),Ie===null?Re=Vt:Ie.sibling=Vt,Ie=Vt);return r&&Fe.forEach(function(Ea){return s(te,Ea)}),yt&&is(te,Be),Re}function De(te,K,ie,we){var Re=ne(ie);if(typeof Re!="function")throw Error(n(150));if(ie=Re.call(ie),ie==null)throw Error(n(151));for(var Ie=Re=null,Fe=K,Be=K=0,Vt=null,et=ie.next();Fe!==null&&!et.done;Be++,et=ie.next()){Fe.index>Be?(Vt=Fe,Fe=null):Vt=Fe.sibling;var Ea=pe(te,Fe,et.value,we);if(Ea===null){Fe===null&&(Fe=Vt);break}r&&Fe&&Ea.alternate===null&&s(te,Fe),K=b(Ea,K,Be),Ie===null?Re=Ea:Ie.sibling=Ea,Ie=Ea,Fe=Vt}if(et.done)return u(te,Fe),yt&&is(te,Be),Re;if(Fe===null){for(;!et.done;Be++,et=ie.next())et=ye(te,et.value,we),et!==null&&(K=b(et,K,Be),Ie===null?Re=et:Ie.sibling=et,Ie=et);return yt&&is(te,Be),Re}for(Fe=p(te,Fe);!et.done;Be++,et=ie.next())et=ke(Fe,te,Be,et.value,we),et!==null&&(r&&et.alternate!==null&&Fe.delete(et.key===null?Be:et.key),K=b(et,K,Be),Ie===null?Re=et:Ie.sibling=et,Ie=et);return r&&Fe.forEach(function(PC){return s(te,PC)}),yt&&is(te,Be),Re}function jt(te,K,ie,we){if(typeof ie=="object"&&ie!==null&&ie.type===Z&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case D:e:{for(var Re=ie.key,Ie=K;Ie!==null;){if(Ie.key===Re){if(Re=ie.type,Re===Z){if(Ie.tag===7){u(te,Ie.sibling),K=y(Ie,ie.props.children),K.return=te,te=K;break e}}else if(Ie.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===me&&M_(Re)===Ie.type){u(te,Ie.sibling),K=y(Ie,ie.props),K.ref=Sl(te,Ie,ie),K.return=te,te=K;break e}u(te,Ie);break}else s(te,Ie);Ie=Ie.sibling}ie.type===Z?(K=fs(ie.props.children,te.mode,we,ie.key),K.return=te,te=K):(we=Uc(ie.type,ie.key,ie.props,null,te.mode,we),we.ref=Sl(te,K,ie),we.return=te,te=we)}return j(te);case B:e:{for(Ie=ie.key;K!==null;){if(K.key===Ie)if(K.tag===4&&K.stateNode.containerInfo===ie.containerInfo&&K.stateNode.implementation===ie.implementation){u(te,K.sibling),K=y(K,ie.children||[]),K.return=te,te=K;break e}else{u(te,K);break}else s(te,K);K=K.sibling}K=Ih(ie,te.mode,we),K.return=te,te=K}return j(te);case me:return Ie=ie._init,jt(te,K,Ie(ie._payload),we)}if(Ut(ie))return Me(te,K,ie,we);if(ne(ie))return De(te,K,ie,we);xc(te,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,K!==null&&K.tag===6?(u(te,K.sibling),K=y(K,ie),K.return=te,te=K):(u(te,K),K=Ah(ie,te.mode,we),K.return=te,te=K),j(te)):u(te,K)}return jt}var uo=D_(!0),L_=D_(!1),wc=pa(null),bc=null,co=null,Zf=null;function Vf(){Zf=co=bc=null}function Gf(r){var s=wc.current;ht(wc),r._currentValue=s}function Kf(r,s,u){for(;r!==null;){var p=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),r===u)break;r=r.return}}function fo(r,s){bc=r,Zf=co=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(jn=!0),r.firstContext=null)}function dr(r){var s=r._currentValue;if(Zf!==r)if(r={context:r,memoizedValue:s,next:null},co===null){if(bc===null)throw Error(n(308));co=r,bc.dependencies={lanes:0,firstContext:r}}else co=co.next=r;return s}var as=null;function Xf(r){as===null?as=[r]:as.push(r)}function R_(r,s,u,p){var y=s.interleaved;return y===null?(u.next=u,Xf(s)):(u.next=y.next,y.next=u),s.interleaved=u,ki(r,p)}function ki(r,s){r.lanes|=s;var u=r.alternate;for(u!==null&&(u.lanes|=s),u=r,r=r.return;r!==null;)r.childLanes|=s,u=r.alternate,u!==null&&(u.childLanes|=s),u=r,r=r.return;return u.tag===3?u.stateNode:null}var ga=!1;function Jf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z_(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ji(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ya(r,s,u){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(Qe&2)!==0){var y=p.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),p.pending=s,ki(r,u)}return y=p.interleaved,y===null?(s.next=s,Xf(p)):(s.next=y.next,y.next=s),p.interleaved=s,ki(r,u)}function Sc(r,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var p=s.lanes;p&=r.pendingLanes,u|=p,s.lanes=u,Pr(r,u)}}function A_(r,s){var u=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var j={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};b===null?y=b=j:b=b.next=j,u=u.next}while(u!==null);b===null?y=b=s:b=b.next=s}else y=b=s;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:p.shared,effects:p.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=s:r.next=s,u.lastBaseUpdate=s}function Nc(r,s,u,p){var y=r.updateQueue;ga=!1;var b=y.firstBaseUpdate,j=y.lastBaseUpdate,q=y.shared.pending;if(q!==null){y.shared.pending=null;var V=q,oe=V.next;V.next=null,j===null?b=oe:j.next=oe,j=V;var ve=r.alternate;ve!==null&&(ve=ve.updateQueue,q=ve.lastBaseUpdate,q!==j&&(q===null?ve.firstBaseUpdate=oe:q.next=oe,ve.lastBaseUpdate=V))}if(b!==null){var ye=y.baseState;j=0,ve=oe=V=null,q=b;do{var pe=q.lane,ke=q.eventTime;if((p&pe)===pe){ve!==null&&(ve=ve.next={eventTime:ke,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Me=r,De=q;switch(pe=s,ke=u,De.tag){case 1:if(Me=De.payload,typeof Me=="function"){ye=Me.call(ke,ye,pe);break e}ye=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=De.payload,pe=typeof Me=="function"?Me.call(ke,ye,pe):Me,pe==null)break e;ye=Q({},ye,pe);break e;case 2:ga=!0}}q.callback!==null&&q.lane!==0&&(r.flags|=64,pe=y.effects,pe===null?y.effects=[q]:pe.push(q))}else ke={eventTime:ke,lane:pe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ve===null?(oe=ve=ke,V=ye):ve=ve.next=ke,j|=pe;if(q=q.next,q===null){if(q=y.shared.pending,q===null)break;pe=q,q=pe.next,pe.next=null,y.lastBaseUpdate=pe,y.shared.pending=null}}while(!0);if(ve===null&&(V=ye),y.baseState=V,y.firstBaseUpdate=oe,y.lastBaseUpdate=ve,s=y.shared.interleaved,s!==null){y=s;do j|=y.lane,y=y.next;while(y!==s)}else b===null&&(y.shared.lanes=0);ls|=j,r.lanes=j,r.memoizedState=ye}}function I_(r,s,u){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var p=r[s],y=p.callback;if(y!==null){if(p.callback=null,p=u,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var Nl={},Xr=pa(Nl),El=pa(Nl),Pl=pa(Nl);function ss(r){if(r===Nl)throw Error(n(174));return r}function Qf(r,s){switch(ct(Pl,s),ct(El,r),ct(Xr,Nl),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:nr(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=nr(s,r)}ht(Xr),ct(Xr,s)}function ho(){ht(Xr),ht(El),ht(Pl)}function F_(r){ss(Pl.current);var s=ss(Xr.current),u=nr(s,r.type);s!==u&&(ct(El,r),ct(Xr,u))}function eh(r){El.current===r&&(ht(Xr),ht(El))}var St=pa(0);function Ec(r){for(var s=r;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var th=[];function nh(){for(var r=0;r<th.length;r++)th[r]._workInProgressVersionPrimary=null;th.length=0}var Pc=F.ReactCurrentDispatcher,rh=F.ReactCurrentBatchConfig,os=0,Nt=null,It=null,Yt=null,Cc=!1,Cl=!1,kl=0,VP=0;function on(){throw Error(n(321))}function ih(r,s){if(s===null)return!1;for(var u=0;u<s.length&&u<r.length;u++)if(!Zn(r[u],s[u]))return!1;return!0}function ah(r,s,u,p,y,b){if(os=b,Nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Pc.current=r===null||r.memoizedState===null?JP:QP,r=u(p,y),Cl){b=0;do{if(Cl=!1,kl=0,25<=b)throw Error(n(301));b+=1,Yt=It=null,s.updateQueue=null,Pc.current=eC,r=u(p,y)}while(Cl)}if(Pc.current=Tc,s=It!==null&&It.next!==null,os=0,Yt=It=Nt=null,Cc=!1,s)throw Error(n(300));return r}function sh(){var r=kl!==0;return kl=0,r}function Jr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Nt.memoizedState=Yt=r:Yt=Yt.next=r,Yt}function fr(){if(It===null){var r=Nt.alternate;r=r!==null?r.memoizedState:null}else r=It.next;var s=Yt===null?Nt.memoizedState:Yt.next;if(s!==null)Yt=s,It=r;else{if(r===null)throw Error(n(310));It=r,r={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Yt===null?Nt.memoizedState=Yt=r:Yt=Yt.next=r}return Yt}function jl(r,s){return typeof s=="function"?s(r):s}function oh(r){var s=fr(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var p=It,y=p.baseQueue,b=u.pending;if(b!==null){if(y!==null){var j=y.next;y.next=b.next,b.next=j}p.baseQueue=y=b,u.pending=null}if(y!==null){b=y.next,p=p.baseState;var q=j=null,V=null,oe=b;do{var ve=oe.lane;if((os&ve)===ve)V!==null&&(V=V.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),p=oe.hasEagerState?oe.eagerState:r(p,oe.action);else{var ye={lane:ve,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};V===null?(q=V=ye,j=p):V=V.next=ye,Nt.lanes|=ve,ls|=ve}oe=oe.next}while(oe!==null&&oe!==b);V===null?j=p:V.next=q,Zn(p,s.memoizedState)||(jn=!0),s.memoizedState=p,s.baseState=j,s.baseQueue=V,u.lastRenderedState=p}if(r=u.interleaved,r!==null){y=r;do b=y.lane,Nt.lanes|=b,ls|=b,y=y.next;while(y!==r)}else y===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function lh(r){var s=fr(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var p=u.dispatch,y=u.pending,b=s.memoizedState;if(y!==null){u.pending=null;var j=y=y.next;do b=r(b,j.action),j=j.next;while(j!==y);Zn(b,s.memoizedState)||(jn=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),u.lastRenderedState=b}return[b,p]}function $_(){}function B_(r,s){var u=Nt,p=fr(),y=s(),b=!Zn(p.memoizedState,y);if(b&&(p.memoizedState=y,jn=!0),p=p.queue,uh(U_.bind(null,u,p,r),[r]),p.getSnapshot!==s||b||Yt!==null&&Yt.memoizedState.tag&1){if(u.flags|=2048,Tl(9,W_.bind(null,u,p,y,s),void 0,null),Zt===null)throw Error(n(349));(os&30)!==0||q_(u,s,y)}return y}function q_(r,s,u){r.flags|=16384,r={getSnapshot:s,value:u},s=Nt.updateQueue,s===null?(s={lastEffect:null,stores:null},Nt.updateQueue=s,s.stores=[r]):(u=s.stores,u===null?s.stores=[r]:u.push(r))}function W_(r,s,u,p){s.value=u,s.getSnapshot=p,H_(s)&&Y_(r)}function U_(r,s,u){return u(function(){H_(s)&&Y_(r)})}function H_(r){var s=r.getSnapshot;r=r.value;try{var u=s();return!Zn(r,u)}catch{return!0}}function Y_(r){var s=ki(r,1);s!==null&&Rr(s,r,1,-1)}function Z_(r){var s=Jr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:r},s.queue=r,r=r.dispatch=XP.bind(null,Nt,r),[s.memoizedState,r]}function Tl(r,s,u,p){return r={tag:r,create:s,destroy:u,deps:p,next:null},s=Nt.updateQueue,s===null?(s={lastEffect:null,stores:null},Nt.updateQueue=s,s.lastEffect=r.next=r):(u=s.lastEffect,u===null?s.lastEffect=r.next=r:(p=u.next,u.next=r,r.next=p,s.lastEffect=r)),r}function V_(){return fr().memoizedState}function kc(r,s,u,p){var y=Jr();Nt.flags|=r,y.memoizedState=Tl(1|s,u,void 0,p===void 0?null:p)}function jc(r,s,u,p){var y=fr();p=p===void 0?null:p;var b=void 0;if(It!==null){var j=It.memoizedState;if(b=j.destroy,p!==null&&ih(p,j.deps)){y.memoizedState=Tl(s,u,b,p);return}}Nt.flags|=r,y.memoizedState=Tl(1|s,u,b,p)}function G_(r,s){return kc(8390656,8,r,s)}function uh(r,s){return jc(2048,8,r,s)}function K_(r,s){return jc(4,2,r,s)}function X_(r,s){return jc(4,4,r,s)}function J_(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Q_(r,s,u){return u=u!=null?u.concat([r]):null,jc(4,4,J_.bind(null,s,r),u)}function ch(){}function ex(r,s){var u=fr();s=s===void 0?null:s;var p=u.memoizedState;return p!==null&&s!==null&&ih(s,p[1])?p[0]:(u.memoizedState=[r,s],r)}function tx(r,s){var u=fr();s=s===void 0?null:s;var p=u.memoizedState;return p!==null&&s!==null&&ih(s,p[1])?p[0]:(r=r(),u.memoizedState=[r,s],r)}function nx(r,s,u){return(os&21)===0?(r.baseState&&(r.baseState=!1,jn=!0),r.memoizedState=u):(Zn(u,s)||(u=Hu(),Nt.lanes|=u,ls|=u,r.baseState=!0),s)}function GP(r,s){var u=Xe;Xe=u!==0&&4>u?u:4,r(!0);var p=rh.transition;rh.transition={};try{r(!1),s()}finally{Xe=u,rh.transition=p}}function rx(){return fr().memoizedState}function KP(r,s,u){var p=ba(r);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},ix(r))ax(s,u);else if(u=R_(r,s,u,p),u!==null){var y=_n();Rr(u,r,p,y),sx(u,s,p)}}function XP(r,s,u){var p=ba(r),y={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(ix(r))ax(s,y);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var j=s.lastRenderedState,q=b(j,u);if(y.hasEagerState=!0,y.eagerState=q,Zn(q,j)){var V=s.interleaved;V===null?(y.next=y,Xf(s)):(y.next=V.next,V.next=y),s.interleaved=y;return}}catch{}finally{}u=R_(r,s,y,p),u!==null&&(y=_n(),Rr(u,r,p,y),sx(u,s,p))}}function ix(r){var s=r.alternate;return r===Nt||s!==null&&s===Nt}function ax(r,s){Cl=Cc=!0;var u=r.pending;u===null?s.next=s:(s.next=u.next,u.next=s),r.pending=s}function sx(r,s,u){if((u&4194240)!==0){var p=s.lanes;p&=r.pendingLanes,u|=p,s.lanes=u,Pr(r,u)}}var Tc={readContext:dr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},JP={readContext:dr,useCallback:function(r,s){return Jr().memoizedState=[r,s===void 0?null:s],r},useContext:dr,useEffect:G_,useImperativeHandle:function(r,s,u){return u=u!=null?u.concat([r]):null,kc(4194308,4,J_.bind(null,s,r),u)},useLayoutEffect:function(r,s){return kc(4194308,4,r,s)},useInsertionEffect:function(r,s){return kc(4,2,r,s)},useMemo:function(r,s){var u=Jr();return s=s===void 0?null:s,r=r(),u.memoizedState=[r,s],r},useReducer:function(r,s,u){var p=Jr();return s=u!==void 0?u(s):s,p.memoizedState=p.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},p.queue=r,r=r.dispatch=KP.bind(null,Nt,r),[p.memoizedState,r]},useRef:function(r){var s=Jr();return r={current:r},s.memoizedState=r},useState:Z_,useDebugValue:ch,useDeferredValue:function(r){return Jr().memoizedState=r},useTransition:function(){var r=Z_(!1),s=r[0];return r=GP.bind(null,r[1]),Jr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,u){var p=Nt,y=Jr();if(yt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=s(),Zt===null)throw Error(n(349));(os&30)!==0||q_(p,s,u)}y.memoizedState=u;var b={value:u,getSnapshot:s};return y.queue=b,G_(U_.bind(null,p,b,r),[r]),p.flags|=2048,Tl(9,W_.bind(null,p,b,u,s),void 0,null),u},useId:function(){var r=Jr(),s=Zt.identifierPrefix;if(yt){var u=Ci,p=Pi;u=(p&~(1<<32-We(p)-1)).toString(32)+u,s=":"+s+"R"+u,u=kl++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=VP++,s=":"+s+"r"+u.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},QP={readContext:dr,useCallback:ex,useContext:dr,useEffect:uh,useImperativeHandle:Q_,useInsertionEffect:K_,useLayoutEffect:X_,useMemo:tx,useReducer:oh,useRef:V_,useState:function(){return oh(jl)},useDebugValue:ch,useDeferredValue:function(r){var s=fr();return nx(s,It.memoizedState,r)},useTransition:function(){var r=oh(jl)[0],s=fr().memoizedState;return[r,s]},useMutableSource:$_,useSyncExternalStore:B_,useId:rx,unstable_isNewReconciler:!1},eC={readContext:dr,useCallback:ex,useContext:dr,useEffect:uh,useImperativeHandle:Q_,useInsertionEffect:K_,useLayoutEffect:X_,useMemo:tx,useReducer:lh,useRef:V_,useState:function(){return lh(jl)},useDebugValue:ch,useDeferredValue:function(r){var s=fr();return It===null?s.memoizedState=r:nx(s,It.memoizedState,r)},useTransition:function(){var r=lh(jl)[0],s=fr().memoizedState;return[r,s]},useMutableSource:$_,useSyncExternalStore:B_,useId:rx,unstable_isNewReconciler:!1};function Mr(r,s){if(r&&r.defaultProps){s=Q({},s),r=r.defaultProps;for(var u in r)s[u]===void 0&&(s[u]=r[u]);return s}return s}function dh(r,s,u,p){s=r.memoizedState,u=u(p,s),u=u==null?s:Q({},s,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Oc={isMounted:function(r){return(r=r._reactInternals)?qr(r)===r:!1},enqueueSetState:function(r,s,u){r=r._reactInternals;var p=_n(),y=ba(r),b=ji(p,y);b.payload=s,u!=null&&(b.callback=u),s=ya(r,b,y),s!==null&&(Rr(s,r,y,p),Sc(s,r,y))},enqueueReplaceState:function(r,s,u){r=r._reactInternals;var p=_n(),y=ba(r),b=ji(p,y);b.tag=1,b.payload=s,u!=null&&(b.callback=u),s=ya(r,b,y),s!==null&&(Rr(s,r,y,p),Sc(s,r,y))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var u=_n(),p=ba(r),y=ji(u,p);y.tag=2,s!=null&&(y.callback=s),s=ya(r,y,p),s!==null&&(Rr(s,r,p,u),Sc(s,r,p))}};function ox(r,s,u,p,y,b,j){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,b,j):s.prototype&&s.prototype.isPureReactComponent?!Zr(u,p)||!Zr(y,b):!0}function lx(r,s,u){var p=!1,y=ma,b=s.contextType;return typeof b=="object"&&b!==null?b=dr(b):(y=kn(s)?ns:sn.current,p=s.contextTypes,b=(p=p!=null)?ao(r,y):ma),s=new s(u,b),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Oc,r.stateNode=s,s._reactInternals=r,p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=y,r.__reactInternalMemoizedMaskedChildContext=b),s}function ux(r,s,u,p){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,p),s.state!==r&&Oc.enqueueReplaceState(s,s.state,null)}function fh(r,s,u,p){var y=r.stateNode;y.props=u,y.state=r.memoizedState,y.refs={},Jf(r);var b=s.contextType;typeof b=="object"&&b!==null?y.context=dr(b):(b=kn(s)?ns:sn.current,y.context=ao(r,b)),y.state=r.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(dh(r,s,b,u),y.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(s=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),s!==y.state&&Oc.enqueueReplaceState(y,y.state,null),Nc(r,u,y,p),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308)}function po(r,s){try{var u="",p=s;do u+=ue(p),p=p.return;while(p);var y=u}catch(b){y=`
Error generating stack: `+b.message+`
`+b.stack}return{value:r,source:s,stack:y,digest:null}}function hh(r,s,u){return{value:r,source:null,stack:u??null,digest:s??null}}function ph(r,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var tC=typeof WeakMap=="function"?WeakMap:Map;function cx(r,s,u){u=ji(-1,u),u.tag=3,u.payload={element:null};var p=s.value;return u.callback=function(){Ic||(Ic=!0,jh=p),ph(r,s)},u}function dx(r,s,u){u=ji(-1,u),u.tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var y=s.value;u.payload=function(){return p(y)},u.callback=function(){ph(r,s)}}var b=r.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(u.callback=function(){ph(r,s),typeof p!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var j=s.stack;this.componentDidCatch(s.value,{componentStack:j!==null?j:""})}),u}function fx(r,s,u){var p=r.pingCache;if(p===null){p=r.pingCache=new tC;var y=new Set;p.set(s,y)}else y=p.get(s),y===void 0&&(y=new Set,p.set(s,y));y.has(u)||(y.add(u),r=mC.bind(null,r,s,u),s.then(r,r))}function hx(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function px(r,s,u,p,y){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=ji(-1,1),s.tag=2,ya(u,s,1))),u.lanes|=1),r):(r.flags|=65536,r.lanes=y,r)}var nC=F.ReactCurrentOwner,jn=!1;function yn(r,s,u,p){s.child=r===null?L_(s,null,u,p):uo(s,r.child,u,p)}function mx(r,s,u,p,y){u=u.render;var b=s.ref;return fo(s,y),p=ah(r,s,u,p,b,y),u=sh(),r!==null&&!jn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~y,Ti(r,s,y)):(yt&&u&&qf(s),s.flags|=1,yn(r,s,p,y),s.child)}function vx(r,s,u,p,y){if(r===null){var b=u.type;return typeof b=="function"&&!zh(b)&&b.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=b,gx(r,s,b,p,y)):(r=Uc(u.type,null,p,s,s.mode,y),r.ref=s.ref,r.return=s,s.child=r)}if(b=r.child,(r.lanes&y)===0){var j=b.memoizedProps;if(u=u.compare,u=u!==null?u:Zr,u(j,p)&&r.ref===s.ref)return Ti(r,s,y)}return s.flags|=1,r=Na(b,p),r.ref=s.ref,r.return=s,s.child=r}function gx(r,s,u,p,y){if(r!==null){var b=r.memoizedProps;if(Zr(b,p)&&r.ref===s.ref)if(jn=!1,s.pendingProps=p=b,(r.lanes&y)!==0)(r.flags&131072)!==0&&(jn=!0);else return s.lanes=r.lanes,Ti(r,s,y)}return mh(r,s,u,p,y)}function yx(r,s,u){var p=s.pendingProps,y=p.children,b=r!==null?r.memoizedState:null;if(p.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(vo,Xn),Xn|=u;else{if((u&1073741824)===0)return r=b!==null?b.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,ct(vo,Xn),Xn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=b!==null?b.baseLanes:u,ct(vo,Xn),Xn|=p}else b!==null?(p=b.baseLanes|u,s.memoizedState=null):p=u,ct(vo,Xn),Xn|=p;return yn(r,s,y,u),s.child}function _x(r,s){var u=s.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function mh(r,s,u,p,y){var b=kn(u)?ns:sn.current;return b=ao(s,b),fo(s,y),u=ah(r,s,u,p,b,y),p=sh(),r!==null&&!jn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~y,Ti(r,s,y)):(yt&&p&&qf(s),s.flags|=1,yn(r,s,u,y),s.child)}function xx(r,s,u,p,y){if(kn(u)){var b=!0;mc(s)}else b=!1;if(fo(s,y),s.stateNode===null)Dc(r,s),lx(s,u,p),fh(s,u,p,y),p=!0;else if(r===null){var j=s.stateNode,q=s.memoizedProps;j.props=q;var V=j.context,oe=u.contextType;typeof oe=="object"&&oe!==null?oe=dr(oe):(oe=kn(u)?ns:sn.current,oe=ao(s,oe));var ve=u.getDerivedStateFromProps,ye=typeof ve=="function"||typeof j.getSnapshotBeforeUpdate=="function";ye||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(q!==p||V!==oe)&&ux(s,j,p,oe),ga=!1;var pe=s.memoizedState;j.state=pe,Nc(s,p,j,y),V=s.memoizedState,q!==p||pe!==V||Cn.current||ga?(typeof ve=="function"&&(dh(s,u,ve,p),V=s.memoizedState),(q=ga||ox(s,u,q,p,pe,V,oe))?(ye||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(s.flags|=4194308)):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=V),j.props=p,j.state=V,j.context=oe,p=q):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{j=s.stateNode,z_(r,s),q=s.memoizedProps,oe=s.type===s.elementType?q:Mr(s.type,q),j.props=oe,ye=s.pendingProps,pe=j.context,V=u.contextType,typeof V=="object"&&V!==null?V=dr(V):(V=kn(u)?ns:sn.current,V=ao(s,V));var ke=u.getDerivedStateFromProps;(ve=typeof ke=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(q!==ye||pe!==V)&&ux(s,j,p,V),ga=!1,pe=s.memoizedState,j.state=pe,Nc(s,p,j,y);var Me=s.memoizedState;q!==ye||pe!==Me||Cn.current||ga?(typeof ke=="function"&&(dh(s,u,ke,p),Me=s.memoizedState),(oe=ga||ox(s,u,oe,p,pe,Me,V)||!1)?(ve||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(p,Me,V),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(p,Me,V)),typeof j.componentDidUpdate=="function"&&(s.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof j.componentDidUpdate!="function"||q===r.memoizedProps&&pe===r.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||q===r.memoizedProps&&pe===r.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=Me),j.props=p,j.state=Me,j.context=V,p=oe):(typeof j.componentDidUpdate!="function"||q===r.memoizedProps&&pe===r.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||q===r.memoizedProps&&pe===r.memoizedState||(s.flags|=1024),p=!1)}return vh(r,s,u,p,b,y)}function vh(r,s,u,p,y,b){_x(r,s);var j=(s.flags&128)!==0;if(!p&&!j)return y&&E_(s,u,!1),Ti(r,s,b);p=s.stateNode,nC.current=s;var q=j&&typeof u.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,r!==null&&j?(s.child=uo(s,r.child,null,b),s.child=uo(s,null,q,b)):yn(r,s,q,b),s.memoizedState=p.state,y&&E_(s,u,!0),s.child}function wx(r){var s=r.stateNode;s.pendingContext?S_(r,s.pendingContext,s.pendingContext!==s.context):s.context&&S_(r,s.context,!1),Qf(r,s.containerInfo)}function bx(r,s,u,p,y){return lo(),Yf(y),s.flags|=256,yn(r,s,u,p),s.child}var gh={dehydrated:null,treeContext:null,retryLane:0};function yh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Sx(r,s,u){var p=s.pendingProps,y=St.current,b=!1,j=(s.flags&128)!==0,q;if((q=j)||(q=r!==null&&r.memoizedState===null?!1:(y&2)!==0),q?(b=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(y|=1),ct(St,y&1),r===null)return Hf(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(j=p.children,r=p.fallback,b?(p=s.mode,b=s.child,j={mode:"hidden",children:j},(p&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=j):b=Hc(j,p,0,null),r=fs(r,p,u,null),b.return=s,r.return=s,b.sibling=r,s.child=b,s.child.memoizedState=yh(u),s.memoizedState=gh,r):_h(s,j));if(y=r.memoizedState,y!==null&&(q=y.dehydrated,q!==null))return rC(r,s,j,p,q,y,u);if(b){b=p.fallback,j=s.mode,y=r.child,q=y.sibling;var V={mode:"hidden",children:p.children};return(j&1)===0&&s.child!==y?(p=s.child,p.childLanes=0,p.pendingProps=V,s.deletions=null):(p=Na(y,V),p.subtreeFlags=y.subtreeFlags&14680064),q!==null?b=Na(q,b):(b=fs(b,j,u,null),b.flags|=2),b.return=s,p.return=s,p.sibling=b,s.child=p,p=b,b=s.child,j=r.child.memoizedState,j=j===null?yh(u):{baseLanes:j.baseLanes|u,cachePool:null,transitions:j.transitions},b.memoizedState=j,b.childLanes=r.childLanes&~u,s.memoizedState=gh,p}return b=r.child,r=b.sibling,p=Na(b,{mode:"visible",children:p.children}),(s.mode&1)===0&&(p.lanes=u),p.return=s,p.sibling=null,r!==null&&(u=s.deletions,u===null?(s.deletions=[r],s.flags|=16):u.push(r)),s.child=p,s.memoizedState=null,p}function _h(r,s){return s=Hc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Mc(r,s,u,p){return p!==null&&Yf(p),uo(s,r.child,null,u),r=_h(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function rC(r,s,u,p,y,b,j){if(u)return s.flags&256?(s.flags&=-257,p=hh(Error(n(422))),Mc(r,s,j,p)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(b=p.fallback,y=s.mode,p=Hc({mode:"visible",children:p.children},y,0,null),b=fs(b,y,j,null),b.flags|=2,p.return=s,b.return=s,p.sibling=b,s.child=p,(s.mode&1)!==0&&uo(s,r.child,null,j),s.child.memoizedState=yh(j),s.memoizedState=gh,b);if((s.mode&1)===0)return Mc(r,s,j,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var q=p.dgst;return p=q,b=Error(n(419)),p=hh(b,p,void 0),Mc(r,s,j,p)}if(q=(j&r.childLanes)!==0,jn||q){if(p=Zt,p!==null){switch(j&-j){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|j))!==0?0:y,y!==0&&y!==b.retryLane&&(b.retryLane=y,ki(r,y),Rr(p,r,y,-1))}return Rh(),p=hh(Error(n(421))),Mc(r,s,j,p)}return y.data==="$?"?(s.flags|=128,s.child=r.child,s=vC.bind(null,r),y._reactRetry=s,null):(r=b.treeContext,Kn=Kr(y.nextSibling),Gn=s,yt=!0,Or=null,r!==null&&(ur[cr++]=Pi,ur[cr++]=Ci,ur[cr++]=rs,Pi=r.id,Ci=r.overflow,rs=s),s=_h(s,p.children),s.flags|=4096,s)}function Nx(r,s,u){r.lanes|=s;var p=r.alternate;p!==null&&(p.lanes|=s),Kf(r.return,s,u)}function xh(r,s,u,p,y){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=p,b.tail=u,b.tailMode=y)}function Ex(r,s,u){var p=s.pendingProps,y=p.revealOrder,b=p.tail;if(yn(r,s,p.children,u),p=St.current,(p&2)!==0)p=p&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Nx(r,u,s);else if(r.tag===19)Nx(r,u,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(ct(St,p),(s.mode&1)===0)s.memoizedState=null;else switch(y){case"forwards":for(u=s.child,y=null;u!==null;)r=u.alternate,r!==null&&Ec(r)===null&&(y=u),u=u.sibling;u=y,u===null?(y=s.child,s.child=null):(y=u.sibling,u.sibling=null),xh(s,!1,y,u,b);break;case"backwards":for(u=null,y=s.child,s.child=null;y!==null;){if(r=y.alternate,r!==null&&Ec(r)===null){s.child=y;break}r=y.sibling,y.sibling=u,u=y,y=r}xh(s,!0,u,null,b);break;case"together":xh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Dc(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Ti(r,s,u){if(r!==null&&(s.dependencies=r.dependencies),ls|=s.lanes,(u&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,u=Na(r,r.pendingProps),s.child=u,u.return=s;r.sibling!==null;)r=r.sibling,u=u.sibling=Na(r,r.pendingProps),u.return=s;u.sibling=null}return s.child}function iC(r,s,u){switch(s.tag){case 3:wx(s),lo();break;case 5:F_(s);break;case 1:kn(s.type)&&mc(s);break;case 4:Qf(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,y=s.memoizedProps.value;ct(wc,p._currentValue),p._currentValue=y;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(ct(St,St.current&1),s.flags|=128,null):(u&s.child.childLanes)!==0?Sx(r,s,u):(ct(St,St.current&1),r=Ti(r,s,u),r!==null?r.sibling:null);ct(St,St.current&1);break;case 19:if(p=(u&s.childLanes)!==0,(r.flags&128)!==0){if(p)return Ex(r,s,u);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ct(St,St.current),p)break;return null;case 22:case 23:return s.lanes=0,yx(r,s,u)}return Ti(r,s,u)}var Px,wh,Cx,kx;Px=function(r,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},wh=function(){},Cx=function(r,s,u,p){var y=r.memoizedProps;if(y!==p){r=s.stateNode,ss(Xr.current);var b=null;switch(u){case"input":y=er(r,y),p=er(r,p),b=[];break;case"select":y=Q({},y,{value:void 0}),p=Q({},p,{value:void 0}),b=[];break;case"textarea":y=Ht(r,y),p=Ht(r,p),b=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=de)}Wo(u,p);var j;u=null;for(oe in y)if(!p.hasOwnProperty(oe)&&y.hasOwnProperty(oe)&&y[oe]!=null)if(oe==="style"){var q=y[oe];for(j in q)q.hasOwnProperty(j)&&(u||(u={}),u[j]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(o.hasOwnProperty(oe)?b||(b=[]):(b=b||[]).push(oe,null));for(oe in p){var V=p[oe];if(q=y?.[oe],p.hasOwnProperty(oe)&&V!==q&&(V!=null||q!=null))if(oe==="style")if(q){for(j in q)!q.hasOwnProperty(j)||V&&V.hasOwnProperty(j)||(u||(u={}),u[j]="");for(j in V)V.hasOwnProperty(j)&&q[j]!==V[j]&&(u||(u={}),u[j]=V[j])}else u||(b||(b=[]),b.push(oe,u)),u=V;else oe==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,q=q?q.__html:void 0,V!=null&&q!==V&&(b=b||[]).push(oe,V)):oe==="children"?typeof V!="string"&&typeof V!="number"||(b=b||[]).push(oe,""+V):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(o.hasOwnProperty(oe)?(V!=null&&oe==="onScroll"&&st("scroll",r),b||q===V||(b=[])):(b=b||[]).push(oe,V))}u&&(b=b||[]).push("style",u);var oe=b;(s.updateQueue=oe)&&(s.flags|=4)}},kx=function(r,s,u,p){u!==p&&(s.flags|=4)};function Ol(r,s){if(!yt)switch(r.tailMode){case"hidden":s=r.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function ln(r){var s=r.alternate!==null&&r.alternate.child===r.child,u=0,p=0;if(s)for(var y=r.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=p,r.childLanes=u,s}function aC(r,s,u){var p=s.pendingProps;switch(Wf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(s),null;case 1:return kn(s.type)&&pc(),ln(s),null;case 3:return p=s.stateNode,ho(),ht(Cn),ht(sn),nh(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(r===null||r.child===null)&&(_c(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Or!==null&&(Mh(Or),Or=null))),wh(r,s),ln(s),null;case 5:eh(s);var y=ss(Pl.current);if(u=s.type,r!==null&&s.stateNode!=null)Cx(r,s,u,p,y),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(n(166));return ln(s),null}if(r=ss(Xr.current),_c(s)){p=s.stateNode,u=s.type;var b=s.memoizedProps;switch(p[lr]=s,p[fa]=b,r=(s.mode&1)!==0,u){case"dialog":st("cancel",p),st("close",p);break;case"iframe":case"object":case"embed":st("load",p);break;case"video":case"audio":for(y=0;y<ua.length;y++)st(ua[y],p);break;case"source":st("error",p);break;case"img":case"image":case"link":st("error",p),st("load",p);break;case"details":st("toggle",p);break;case"input":Ve(p,b),st("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!b.multiple},st("invalid",p);break;case"textarea":xt(p,b),st("invalid",p)}Wo(u,b),y=null;for(var j in b)if(b.hasOwnProperty(j)){var q=b[j];j==="children"?typeof q=="string"?p.textContent!==q&&(b.suppressHydrationWarning!==!0&&ae(p.textContent,q,r),y=["children",q]):typeof q=="number"&&p.textContent!==""+q&&(b.suppressHydrationWarning!==!0&&ae(p.textContent,q,r),y=["children",""+q]):o.hasOwnProperty(j)&&q!=null&&j==="onScroll"&&st("scroll",p)}switch(u){case"input":rt(p),en(p,b,!0);break;case"textarea":rt(p),tr(p);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(p.onclick=de)}p=y,s.updateQueue=p,p!==null&&(s.flags|=4)}else{j=y.nodeType===9?y:y.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Sr(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=j.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=j.createElement(u,{is:p.is}):(r=j.createElement(u),u==="select"&&(j=r,p.multiple?j.multiple=!0:p.size&&(j.size=p.size))):r=j.createElementNS(r,u),r[lr]=s,r[fa]=p,Px(r,s,!1,!1),s.stateNode=r;e:{switch(j=ui(u,p),u){case"dialog":st("cancel",r),st("close",r),y=p;break;case"iframe":case"object":case"embed":st("load",r),y=p;break;case"video":case"audio":for(y=0;y<ua.length;y++)st(ua[y],r);y=p;break;case"source":st("error",r),y=p;break;case"img":case"image":case"link":st("error",r),st("load",r),y=p;break;case"details":st("toggle",r),y=p;break;case"input":Ve(r,p),y=er(r,p),st("invalid",r);break;case"option":y=p;break;case"select":r._wrapperState={wasMultiple:!!p.multiple},y=Q({},p,{value:void 0}),st("invalid",r);break;case"textarea":xt(r,p),y=Ht(r,p),st("invalid",r);break;default:y=p}Wo(u,y),q=y;for(b in q)if(q.hasOwnProperty(b)){var V=q[b];b==="style"?Nn(r,V):b==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Ia(r,V)):b==="children"?typeof V=="string"?(u!=="textarea"||V!=="")&&Nr(r,V):typeof V=="number"&&Nr(r,""+V):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(o.hasOwnProperty(b)?V!=null&&b==="onScroll"&&st("scroll",r):V!=null&&I(r,b,V,j))}switch(u){case"input":rt(r),en(r,p,!1);break;case"textarea":rt(r),tr(r);break;case"option":p.value!=null&&r.setAttribute("value",""+Ce(p.value));break;case"select":r.multiple=!!p.multiple,b=p.value,b!=null?Dt(r,!!p.multiple,b,!1):p.defaultValue!=null&&Dt(r,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(r.onclick=de)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ln(s),null;case 6:if(r&&s.stateNode!=null)kx(r,s,r.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(n(166));if(u=ss(Pl.current),ss(Xr.current),_c(s)){if(p=s.stateNode,u=s.memoizedProps,p[lr]=s,(b=p.nodeValue!==u)&&(r=Gn,r!==null))switch(r.tag){case 3:ae(p.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ae(p.nodeValue,u,(r.mode&1)!==0)}b&&(s.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[lr]=s,s.stateNode=p}return ln(s),null;case 13:if(ht(St),p=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(yt&&Kn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)O_(),lo(),s.flags|=98560,b=!1;else if(b=_c(s),p!==null&&p.dehydrated!==null){if(r===null){if(!b)throw Error(n(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[lr]=s}else lo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ln(s),b=!1}else Or!==null&&(Mh(Or),Or=null),b=!0;if(!b)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=u,s):(p=p!==null,p!==(r!==null&&r.memoizedState!==null)&&p&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(St.current&1)!==0?Ft===0&&(Ft=3):Rh())),s.updateQueue!==null&&(s.flags|=4),ln(s),null);case 4:return ho(),wh(r,s),r===null&&ca(s.stateNode.containerInfo),ln(s),null;case 10:return Gf(s.type._context),ln(s),null;case 17:return kn(s.type)&&pc(),ln(s),null;case 19:if(ht(St),b=s.memoizedState,b===null)return ln(s),null;if(p=(s.flags&128)!==0,j=b.rendering,j===null)if(p)Ol(b,!1);else{if(Ft!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(j=Ec(r),j!==null){for(s.flags|=128,Ol(b,!1),p=j.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=u,u=s.child;u!==null;)b=u,r=p,b.flags&=14680066,j=b.alternate,j===null?(b.childLanes=0,b.lanes=r,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=j.childLanes,b.lanes=j.lanes,b.child=j.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=j.memoizedProps,b.memoizedState=j.memoizedState,b.updateQueue=j.updateQueue,b.type=j.type,r=j.dependencies,b.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return ct(St,St.current&1|2),s.child}r=r.sibling}b.tail!==null&&wt()>go&&(s.flags|=128,p=!0,Ol(b,!1),s.lanes=4194304)}else{if(!p)if(r=Ec(j),r!==null){if(s.flags|=128,p=!0,u=r.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),Ol(b,!0),b.tail===null&&b.tailMode==="hidden"&&!j.alternate&&!yt)return ln(s),null}else 2*wt()-b.renderingStartTime>go&&u!==1073741824&&(s.flags|=128,p=!0,Ol(b,!1),s.lanes=4194304);b.isBackwards?(j.sibling=s.child,s.child=j):(u=b.last,u!==null?u.sibling=j:s.child=j,b.last=j)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=wt(),s.sibling=null,u=St.current,ct(St,p?u&1|2:u&1),s):(ln(s),null);case 22:case 23:return Lh(),p=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==p&&(s.flags|=8192),p&&(s.mode&1)!==0?(Xn&1073741824)!==0&&(ln(s),s.subtreeFlags&6&&(s.flags|=8192)):ln(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function sC(r,s){switch(Wf(s),s.tag){case 1:return kn(s.type)&&pc(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ho(),ht(Cn),ht(sn),nh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return eh(s),null;case 13:if(ht(St),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));lo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ht(St),null;case 4:return ho(),null;case 10:return Gf(s.type._context),null;case 22:case 23:return Lh(),null;case 24:return null;default:return null}}var Lc=!1,un=!1,oC=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function mo(r,s){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){Pt(r,s,p)}else u.current=null}function bh(r,s,u){try{u()}catch(p){Pt(r,s,p)}}var jx=!1;function lC(r,s){if(Se=Va,r=pl(),ml(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var j=0,q=-1,V=-1,oe=0,ve=0,ye=r,pe=null;t:for(;;){for(var ke;ye!==u||y!==0&&ye.nodeType!==3||(q=j+y),ye!==b||p!==0&&ye.nodeType!==3||(V=j+p),ye.nodeType===3&&(j+=ye.nodeValue.length),(ke=ye.firstChild)!==null;)pe=ye,ye=ke;for(;;){if(ye===r)break t;if(pe===u&&++oe===y&&(q=j),pe===b&&++ve===p&&(V=j),(ke=ye.nextSibling)!==null)break;ye=pe,pe=ye.parentNode}ye=ke}u=q===-1||V===-1?null:{start:q,end:V}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ae={focusedElem:r,selectionRange:u},Va=!1,Oe=s;Oe!==null;)if(s=Oe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Oe=r;else for(;Oe!==null;){s=Oe;try{var Me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var De=Me.memoizedProps,jt=Me.memoizedState,te=s.stateNode,K=te.getSnapshotBeforeUpdate(s.elementType===s.type?De:Mr(s.type,De),jt);te.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ie=s.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(we){Pt(s,s.return,we)}if(r=s.sibling,r!==null){r.return=s.return,Oe=r;break}Oe=s.return}return Me=jx,jx=!1,Me}function Ml(r,s,u){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&r)===r){var b=y.destroy;y.destroy=void 0,b!==void 0&&bh(s,u,b)}y=y.next}while(y!==p)}}function Rc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&r)===r){var p=u.create;u.destroy=p()}u=u.next}while(u!==s)}}function Sh(r){var s=r.ref;if(s!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof s=="function"?s(r):s.current=r}}function Tx(r){var s=r.alternate;s!==null&&(r.alternate=null,Tx(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[lr],delete s[fa],delete s[ha],delete s[If],delete s[Ff])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Ox(r){return r.tag===5||r.tag===3||r.tag===4}function Mx(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ox(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Nh(r,s,u){var p=r.tag;if(p===5||p===6)r=r.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(r,s):u.insertBefore(r,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(r,u)):(s=u,s.appendChild(r)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=de));else if(p!==4&&(r=r.child,r!==null))for(Nh(r,s,u),r=r.sibling;r!==null;)Nh(r,s,u),r=r.sibling}function Eh(r,s,u){var p=r.tag;if(p===5||p===6)r=r.stateNode,s?u.insertBefore(r,s):u.appendChild(r);else if(p!==4&&(r=r.child,r!==null))for(Eh(r,s,u),r=r.sibling;r!==null;)Eh(r,s,u),r=r.sibling}var Kt=null,Dr=!1;function _a(r,s,u){for(u=u.child;u!==null;)Dx(r,s,u),u=u.sibling}function Dx(r,s,u){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(qa,u)}catch{}switch(u.tag){case 5:un||mo(u,s);case 6:var p=Kt,y=Dr;Kt=null,_a(r,s,u),Kt=p,Dr=y,Kt!==null&&(Dr?(r=Kt,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):Kt.removeChild(u.stateNode));break;case 18:Kt!==null&&(Dr?(r=Kt,u=u.stateNode,r.nodeType===8?bl(r.parentNode,u):r.nodeType===1&&bl(r,u),Un(r)):bl(Kt,u.stateNode));break;case 4:p=Kt,y=Dr,Kt=u.stateNode.containerInfo,Dr=!0,_a(r,s,u),Kt=p,Dr=y;break;case 0:case 11:case 14:case 15:if(!un&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var b=y,j=b.destroy;b=b.tag,j!==void 0&&((b&2)!==0||(b&4)!==0)&&bh(u,s,j),y=y.next}while(y!==p)}_a(r,s,u);break;case 1:if(!un&&(mo(u,s),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(q){Pt(u,s,q)}_a(r,s,u);break;case 21:_a(r,s,u);break;case 22:u.mode&1?(un=(p=un)||u.memoizedState!==null,_a(r,s,u),un=p):_a(r,s,u);break;default:_a(r,s,u)}}function Lx(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new oC),s.forEach(function(p){var y=gC.bind(null,r,p);u.has(p)||(u.add(p),p.then(y,y))})}}function Lr(r,s){var u=s.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];try{var b=r,j=s,q=j;e:for(;q!==null;){switch(q.tag){case 5:Kt=q.stateNode,Dr=!1;break e;case 3:Kt=q.stateNode.containerInfo,Dr=!0;break e;case 4:Kt=q.stateNode.containerInfo,Dr=!0;break e}q=q.return}if(Kt===null)throw Error(n(160));Dx(b,j,y),Kt=null,Dr=!1;var V=y.alternate;V!==null&&(V.return=null),y.return=null}catch(oe){Pt(y,s,oe)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Rx(s,r),s=s.sibling}function Rx(r,s){var u=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Lr(s,r),Qr(r),p&4){try{Ml(3,r,r.return),Rc(3,r)}catch(De){Pt(r,r.return,De)}try{Ml(5,r,r.return)}catch(De){Pt(r,r.return,De)}}break;case 1:Lr(s,r),Qr(r),p&512&&u!==null&&mo(u,u.return);break;case 5:if(Lr(s,r),Qr(r),p&512&&u!==null&&mo(u,u.return),r.flags&32){var y=r.stateNode;try{Nr(y,"")}catch(De){Pt(r,r.return,De)}}if(p&4&&(y=r.stateNode,y!=null)){var b=r.memoizedProps,j=u!==null?u.memoizedProps:b,q=r.type,V=r.updateQueue;if(r.updateQueue=null,V!==null)try{q==="input"&&b.type==="radio"&&b.name!=null&&Fn(y,b),ui(q,j);var oe=ui(q,b);for(j=0;j<V.length;j+=2){var ve=V[j],ye=V[j+1];ve==="style"?Nn(y,ye):ve==="dangerouslySetInnerHTML"?Ia(y,ye):ve==="children"?Nr(y,ye):I(y,ve,ye,oe)}switch(q){case"input":Ye(y,b);break;case"textarea":$n(y,b);break;case"select":var pe=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!b.multiple;var ke=b.value;ke!=null?Dt(y,!!b.multiple,ke,!1):pe!==!!b.multiple&&(b.defaultValue!=null?Dt(y,!!b.multiple,b.defaultValue,!0):Dt(y,!!b.multiple,b.multiple?[]:"",!1))}y[fa]=b}catch(De){Pt(r,r.return,De)}}break;case 6:if(Lr(s,r),Qr(r),p&4){if(r.stateNode===null)throw Error(n(162));y=r.stateNode,b=r.memoizedProps;try{y.nodeValue=b}catch(De){Pt(r,r.return,De)}}break;case 3:if(Lr(s,r),Qr(r),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Un(s.containerInfo)}catch(De){Pt(r,r.return,De)}break;case 4:Lr(s,r),Qr(r);break;case 13:Lr(s,r),Qr(r),y=r.child,y.flags&8192&&(b=y.memoizedState!==null,y.stateNode.isHidden=b,!b||y.alternate!==null&&y.alternate.memoizedState!==null||(kh=wt())),p&4&&Lx(r);break;case 22:if(ve=u!==null&&u.memoizedState!==null,r.mode&1?(un=(oe=un)||ve,Lr(s,r),un=oe):Lr(s,r),Qr(r),p&8192){if(oe=r.memoizedState!==null,(r.stateNode.isHidden=oe)&&!ve&&(r.mode&1)!==0)for(Oe=r,ve=r.child;ve!==null;){for(ye=Oe=ve;Oe!==null;){switch(pe=Oe,ke=pe.child,pe.tag){case 0:case 11:case 14:case 15:Ml(4,pe,pe.return);break;case 1:mo(pe,pe.return);var Me=pe.stateNode;if(typeof Me.componentWillUnmount=="function"){p=pe,u=pe.return;try{s=p,Me.props=s.memoizedProps,Me.state=s.memoizedState,Me.componentWillUnmount()}catch(De){Pt(p,u,De)}}break;case 5:mo(pe,pe.return);break;case 22:if(pe.memoizedState!==null){Ix(ye);continue}}ke!==null?(ke.return=pe,Oe=ke):Ix(ye)}ve=ve.sibling}e:for(ve=null,ye=r;;){if(ye.tag===5){if(ve===null){ve=ye;try{y=ye.stateNode,oe?(b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(q=ye.stateNode,V=ye.memoizedProps.style,j=V!=null&&V.hasOwnProperty("display")?V.display:null,q.style.display=Sn("display",j))}catch(De){Pt(r,r.return,De)}}}else if(ye.tag===6){if(ve===null)try{ye.stateNode.nodeValue=oe?"":ye.memoizedProps}catch(De){Pt(r,r.return,De)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===r)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===r)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===r)break e;ve===ye&&(ve=null),ye=ye.return}ve===ye&&(ve=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Lr(s,r),Qr(r),p&4&&Lx(r);break;case 21:break;default:Lr(s,r),Qr(r)}}function Qr(r){var s=r.flags;if(s&2){try{e:{for(var u=r.return;u!==null;){if(Ox(u)){var p=u;break e}u=u.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Nr(y,""),p.flags&=-33);var b=Mx(r);Eh(r,b,y);break;case 3:case 4:var j=p.stateNode.containerInfo,q=Mx(r);Nh(r,q,j);break;default:throw Error(n(161))}}catch(V){Pt(r,r.return,V)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function uC(r,s,u){Oe=r,zx(r)}function zx(r,s,u){for(var p=(r.mode&1)!==0;Oe!==null;){var y=Oe,b=y.child;if(y.tag===22&&p){var j=y.memoizedState!==null||Lc;if(!j){var q=y.alternate,V=q!==null&&q.memoizedState!==null||un;q=Lc;var oe=un;if(Lc=j,(un=V)&&!oe)for(Oe=y;Oe!==null;)j=Oe,V=j.child,j.tag===22&&j.memoizedState!==null?Fx(y):V!==null?(V.return=j,Oe=V):Fx(y);for(;b!==null;)Oe=b,zx(b),b=b.sibling;Oe=y,Lc=q,un=oe}Ax(r)}else(y.subtreeFlags&8772)!==0&&b!==null?(b.return=y,Oe=b):Ax(r)}}function Ax(r){for(;Oe!==null;){var s=Oe;if((s.flags&8772)!==0){var u=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:un||Rc(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!un)if(u===null)p.componentDidMount();else{var y=s.elementType===s.type?u.memoizedProps:Mr(s.type,u.memoizedProps);p.componentDidUpdate(y,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var b=s.updateQueue;b!==null&&I_(s,b,p);break;case 3:var j=s.updateQueue;if(j!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}I_(s,j,u)}break;case 5:var q=s.stateNode;if(u===null&&s.flags&4){u=q;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&u.focus();break;case"img":V.src&&(u.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var oe=s.alternate;if(oe!==null){var ve=oe.memoizedState;if(ve!==null){var ye=ve.dehydrated;ye!==null&&Un(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}un||s.flags&512&&Sh(s)}catch(pe){Pt(s,s.return,pe)}}if(s===r){Oe=null;break}if(u=s.sibling,u!==null){u.return=s.return,Oe=u;break}Oe=s.return}}function Ix(r){for(;Oe!==null;){var s=Oe;if(s===r){Oe=null;break}var u=s.sibling;if(u!==null){u.return=s.return,Oe=u;break}Oe=s.return}}function Fx(r){for(;Oe!==null;){var s=Oe;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{Rc(4,s)}catch(V){Pt(s,u,V)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var y=s.return;try{p.componentDidMount()}catch(V){Pt(s,y,V)}}var b=s.return;try{Sh(s)}catch(V){Pt(s,b,V)}break;case 5:var j=s.return;try{Sh(s)}catch(V){Pt(s,j,V)}}}catch(V){Pt(s,s.return,V)}if(s===r){Oe=null;break}var q=s.sibling;if(q!==null){q.return=s.return,Oe=q;break}Oe=s.return}}var cC=Math.ceil,zc=F.ReactCurrentDispatcher,Ph=F.ReactCurrentOwner,hr=F.ReactCurrentBatchConfig,Qe=0,Zt=null,Rt=null,Xt=0,Xn=0,vo=pa(0),Ft=0,Dl=null,ls=0,Ac=0,Ch=0,Ll=null,Tn=null,kh=0,go=1/0,Oi=null,Ic=!1,jh=null,xa=null,Fc=!1,wa=null,$c=0,Rl=0,Th=null,Bc=-1,qc=0;function _n(){return(Qe&6)!==0?wt():Bc!==-1?Bc:Bc=wt()}function ba(r){return(r.mode&1)===0?1:(Qe&2)!==0&&Xt!==0?Xt&-Xt:ZP.transition!==null?(qc===0&&(qc=Hu()),qc):(r=Xe,r!==0||(r=window.event,r=r===void 0?16:Ge(r.type)),r)}function Rr(r,s,u,p){if(50<Rl)throw Rl=0,Th=null,Error(n(185));qn(r,u,p),((Qe&2)===0||r!==Zt)&&(r===Zt&&((Qe&2)===0&&(Ac|=u),Ft===4&&Sa(r,Xt)),On(r,p),u===1&&Qe===0&&(s.mode&1)===0&&(go=wt()+500,vc&&va()))}function On(r,s){var u=r.callbackNode;zs(r,s);var p=ut(r,r===Zt?Xt:0);if(p===0)u!==null&&Ko(u),r.callbackNode=null,r.callbackPriority=0;else if(s=p&-p,r.callbackPriority!==s){if(u!=null&&Ko(u),s===1)r.tag===0?YP(Bx.bind(null,r)):P_(Bx.bind(null,r)),an(function(){(Qe&6)===0&&va()}),u=null;else{switch(Xi(p)){case 1:u=Xo;break;case 4:u=Uu;break;case 16:u=Ls;break;case 536870912:u=Zi;break;default:u=Ls}u=Gx(u,$x.bind(null,r))}r.callbackPriority=s,r.callbackNode=u}}function $x(r,s){if(Bc=-1,qc=0,(Qe&6)!==0)throw Error(n(327));var u=r.callbackNode;if(yo()&&r.callbackNode!==u)return null;var p=ut(r,r===Zt?Xt:0);if(p===0)return null;if((p&30)!==0||(p&r.expiredLanes)!==0||s)s=Wc(r,p);else{s=p;var y=Qe;Qe|=2;var b=Wx();(Zt!==r||Xt!==s)&&(Oi=null,go=wt()+500,cs(r,s));do try{hC();break}catch(q){qx(r,q)}while(!0);Vf(),zc.current=b,Qe=y,Rt!==null?s=0:(Zt=null,Xt=0,s=Ft)}if(s!==0){if(s===2&&(y=nn(r),y!==0&&(p=y,s=Oh(r,y))),s===1)throw u=Dl,cs(r,0),Sa(r,p),On(r,wt()),u;if(s===6)Sa(r,p);else{if(y=r.current.alternate,(p&30)===0&&!dC(y)&&(s=Wc(r,p),s===2&&(b=nn(r),b!==0&&(p=b,s=Oh(r,b))),s===1))throw u=Dl,cs(r,0),Sa(r,p),On(r,wt()),u;switch(r.finishedWork=y,r.finishedLanes=p,s){case 0:case 1:throw Error(n(345));case 2:ds(r,Tn,Oi);break;case 3:if(Sa(r,p),(p&130023424)===p&&(s=kh+500-wt(),10<s)){if(ut(r,0)!==0)break;if(y=r.suspendedLanes,(y&p)!==p){_n(),r.pingedLanes|=r.suspendedLanes&y;break}r.timeoutHandle=At(ds.bind(null,r,Tn,Oi),s);break}ds(r,Tn,Oi);break;case 4:if(Sa(r,p),(p&4194240)===p)break;for(s=r.eventTimes,y=-1;0<p;){var j=31-We(p);b=1<<j,j=s[j],j>y&&(y=j),p&=~b}if(p=y,p=wt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*cC(p/1960))-p,10<p){r.timeoutHandle=At(ds.bind(null,r,Tn,Oi),p);break}ds(r,Tn,Oi);break;case 5:ds(r,Tn,Oi);break;default:throw Error(n(329))}}}return On(r,wt()),r.callbackNode===u?$x.bind(null,r):null}function Oh(r,s){var u=Ll;return r.current.memoizedState.isDehydrated&&(cs(r,s).flags|=256),r=Wc(r,s),r!==2&&(s=Tn,Tn=u,s!==null&&Mh(s)),r}function Mh(r){Tn===null?Tn=r:Tn.push.apply(Tn,r)}function dC(r){for(var s=r;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var y=u[p],b=y.getSnapshot;y=y.value;try{if(!Zn(b(),y))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Sa(r,s){for(s&=~Ch,s&=~Ac,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var u=31-We(s),p=1<<u;r[u]=-1,s&=~p}}function Bx(r){if((Qe&6)!==0)throw Error(n(327));yo();var s=ut(r,0);if((s&1)===0)return On(r,wt()),null;var u=Wc(r,s);if(r.tag!==0&&u===2){var p=nn(r);p!==0&&(s=p,u=Oh(r,p))}if(u===1)throw u=Dl,cs(r,0),Sa(r,s),On(r,wt()),u;if(u===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ds(r,Tn,Oi),On(r,wt()),null}function Dh(r,s){var u=Qe;Qe|=1;try{return r(s)}finally{Qe=u,Qe===0&&(go=wt()+500,vc&&va())}}function us(r){wa!==null&&wa.tag===0&&(Qe&6)===0&&yo();var s=Qe;Qe|=1;var u=hr.transition,p=Xe;try{if(hr.transition=null,Xe=1,r)return r()}finally{Xe=p,hr.transition=u,Qe=s,(Qe&6)===0&&va()}}function Lh(){Xn=vo.current,ht(vo)}function cs(r,s){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,Lt(u)),Rt!==null)for(u=Rt.return;u!==null;){var p=u;switch(Wf(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&pc();break;case 3:ho(),ht(Cn),ht(sn),nh();break;case 5:eh(p);break;case 4:ho();break;case 13:ht(St);break;case 19:ht(St);break;case 10:Gf(p.type._context);break;case 22:case 23:Lh()}u=u.return}if(Zt=r,Rt=r=Na(r.current,null),Xt=Xn=s,Ft=0,Dl=null,Ch=Ac=ls=0,Tn=Ll=null,as!==null){for(s=0;s<as.length;s++)if(u=as[s],p=u.interleaved,p!==null){u.interleaved=null;var y=p.next,b=u.pending;if(b!==null){var j=b.next;b.next=y,p.next=j}u.pending=p}as=null}return r}function qx(r,s){do{var u=Rt;try{if(Vf(),Pc.current=Tc,Cc){for(var p=Nt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Cc=!1}if(os=0,Yt=It=Nt=null,Cl=!1,kl=0,Ph.current=null,u===null||u.return===null){Ft=1,Dl=s,Rt=null;break}e:{var b=r,j=u.return,q=u,V=s;if(s=Xt,q.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var oe=V,ve=q,ye=ve.tag;if((ve.mode&1)===0&&(ye===0||ye===11||ye===15)){var pe=ve.alternate;pe?(ve.updateQueue=pe.updateQueue,ve.memoizedState=pe.memoizedState,ve.lanes=pe.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var ke=hx(j);if(ke!==null){ke.flags&=-257,px(ke,j,q,b,s),ke.mode&1&&fx(b,oe,s),s=ke,V=oe;var Me=s.updateQueue;if(Me===null){var De=new Set;De.add(V),s.updateQueue=De}else Me.add(V);break e}else{if((s&1)===0){fx(b,oe,s),Rh();break e}V=Error(n(426))}}else if(yt&&q.mode&1){var jt=hx(j);if(jt!==null){(jt.flags&65536)===0&&(jt.flags|=256),px(jt,j,q,b,s),Yf(po(V,q));break e}}b=V=po(V,q),Ft!==4&&(Ft=2),Ll===null?Ll=[b]:Ll.push(b),b=j;do{switch(b.tag){case 3:b.flags|=65536,s&=-s,b.lanes|=s;var te=cx(b,V,s);A_(b,te);break e;case 1:q=V;var K=b.type,ie=b.stateNode;if((b.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(xa===null||!xa.has(ie)))){b.flags|=65536,s&=-s,b.lanes|=s;var we=dx(b,q,s);A_(b,we);break e}}b=b.return}while(b!==null)}Hx(u)}catch(Re){s=Re,Rt===u&&u!==null&&(Rt=u=u.return);continue}break}while(!0)}function Wx(){var r=zc.current;return zc.current=Tc,r===null?Tc:r}function Rh(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Zt===null||(ls&268435455)===0&&(Ac&268435455)===0||Sa(Zt,Xt)}function Wc(r,s){var u=Qe;Qe|=2;var p=Wx();(Zt!==r||Xt!==s)&&(Oi=null,cs(r,s));do try{fC();break}catch(y){qx(r,y)}while(!0);if(Vf(),Qe=u,zc.current=p,Rt!==null)throw Error(n(261));return Zt=null,Xt=0,Ft}function fC(){for(;Rt!==null;)Ux(Rt)}function hC(){for(;Rt!==null&&!bf();)Ux(Rt)}function Ux(r){var s=Vx(r.alternate,r,Xn);r.memoizedProps=r.pendingProps,s===null?Hx(r):Rt=s,Ph.current=null}function Hx(r){var s=r;do{var u=s.alternate;if(r=s.return,(s.flags&32768)===0){if(u=aC(u,s,Xn),u!==null){Rt=u;return}}else{if(u=sC(u,s),u!==null){u.flags&=32767,Rt=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ft=6,Rt=null;return}}if(s=s.sibling,s!==null){Rt=s;return}Rt=s=r}while(s!==null);Ft===0&&(Ft=5)}function ds(r,s,u){var p=Xe,y=hr.transition;try{hr.transition=null,Xe=1,pC(r,s,u,p)}finally{hr.transition=y,Xe=p}return null}function pC(r,s,u,p){do yo();while(wa!==null);if((Qe&6)!==0)throw Error(n(327));u=r.finishedWork;var y=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var b=u.lanes|u.childLanes;if(Et(r,b),r===Zt&&(Rt=Zt=null,Xt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Fc||(Fc=!0,Gx(Ls,function(){return yo(),null})),b=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||b){b=hr.transition,hr.transition=null;var j=Xe;Xe=1;var q=Qe;Qe|=4,Ph.current=null,lC(r,u),Rx(u,r),sr(Ae),Va=!!Se,Ae=Se=null,r.current=u,uC(u),Ds(),Qe=q,Xe=j,hr.transition=b}else r.current=u;if(Fc&&(Fc=!1,wa=r,$c=y),b=r.pendingLanes,b===0&&(xa=null),Wa(u.stateNode),On(r,wt()),s!==null)for(p=r.onRecoverableError,u=0;u<s.length;u++)y=s[u],p(y.value,{componentStack:y.stack,digest:y.digest});if(Ic)throw Ic=!1,r=jh,jh=null,r;return($c&1)!==0&&r.tag!==0&&yo(),b=r.pendingLanes,(b&1)!==0?r===Th?Rl++:(Rl=0,Th=r):Rl=0,va(),null}function yo(){if(wa!==null){var r=Xi($c),s=hr.transition,u=Xe;try{if(hr.transition=null,Xe=16>r?16:r,wa===null)var p=!1;else{if(r=wa,wa=null,$c=0,(Qe&6)!==0)throw Error(n(331));var y=Qe;for(Qe|=4,Oe=r.current;Oe!==null;){var b=Oe,j=b.child;if((Oe.flags&16)!==0){var q=b.deletions;if(q!==null){for(var V=0;V<q.length;V++){var oe=q[V];for(Oe=oe;Oe!==null;){var ve=Oe;switch(ve.tag){case 0:case 11:case 15:Ml(8,ve,b)}var ye=ve.child;if(ye!==null)ye.return=ve,Oe=ye;else for(;Oe!==null;){ve=Oe;var pe=ve.sibling,ke=ve.return;if(Tx(ve),ve===oe){Oe=null;break}if(pe!==null){pe.return=ke,Oe=pe;break}Oe=ke}}}var Me=b.alternate;if(Me!==null){var De=Me.child;if(De!==null){Me.child=null;do{var jt=De.sibling;De.sibling=null,De=jt}while(De!==null)}}Oe=b}}if((b.subtreeFlags&2064)!==0&&j!==null)j.return=b,Oe=j;else e:for(;Oe!==null;){if(b=Oe,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:Ml(9,b,b.return)}var te=b.sibling;if(te!==null){te.return=b.return,Oe=te;break e}Oe=b.return}}var K=r.current;for(Oe=K;Oe!==null;){j=Oe;var ie=j.child;if((j.subtreeFlags&2064)!==0&&ie!==null)ie.return=j,Oe=ie;else e:for(j=K;Oe!==null;){if(q=Oe,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:Rc(9,q)}}catch(Re){Pt(q,q.return,Re)}if(q===j){Oe=null;break e}var we=q.sibling;if(we!==null){we.return=q.return,Oe=we;break e}Oe=q.return}}if(Qe=y,va(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(qa,r)}catch{}p=!0}return p}finally{Xe=u,hr.transition=s}}return!1}function Yx(r,s,u){s=po(u,s),s=cx(r,s,1),r=ya(r,s,1),s=_n(),r!==null&&(qn(r,1,s),On(r,s))}function Pt(r,s,u){if(r.tag===3)Yx(r,r,u);else for(;s!==null;){if(s.tag===3){Yx(s,r,u);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(xa===null||!xa.has(p))){r=po(u,r),r=dx(s,r,1),s=ya(s,r,1),r=_n(),s!==null&&(qn(s,1,r),On(s,r));break}}s=s.return}}function mC(r,s,u){var p=r.pingCache;p!==null&&p.delete(s),s=_n(),r.pingedLanes|=r.suspendedLanes&u,Zt===r&&(Xt&u)===u&&(Ft===4||Ft===3&&(Xt&130023424)===Xt&&500>wt()-kh?cs(r,0):Ch|=u),On(r,s)}function Zx(r,s){s===0&&((r.mode&1)===0?s=1:(s=Gi,Gi<<=1,(Gi&130023424)===0&&(Gi=4194304)));var u=_n();r=ki(r,s),r!==null&&(qn(r,s,u),On(r,u))}function vC(r){var s=r.memoizedState,u=0;s!==null&&(u=s.retryLane),Zx(r,u)}function gC(r,s){var u=0;switch(r.tag){case 13:var p=r.stateNode,y=r.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=r.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(s),Zx(r,u)}var Vx;Vx=function(r,s,u){if(r!==null)if(r.memoizedProps!==s.pendingProps||Cn.current)jn=!0;else{if((r.lanes&u)===0&&(s.flags&128)===0)return jn=!1,iC(r,s,u);jn=(r.flags&131072)!==0}else jn=!1,yt&&(s.flags&1048576)!==0&&C_(s,yc,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;Dc(r,s),r=s.pendingProps;var y=ao(s,sn.current);fo(s,u),y=ah(null,s,p,r,y,u);var b=sh();return s.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,kn(p)?(b=!0,mc(s)):b=!1,s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Jf(s),y.updater=Oc,s.stateNode=y,y._reactInternals=s,fh(s,p,r,u),s=vh(null,s,p,!0,b,u)):(s.tag=0,yt&&b&&qf(s),yn(null,s,y,u),s=s.child),s;case 16:p=s.elementType;e:{switch(Dc(r,s),r=s.pendingProps,y=p._init,p=y(p._payload),s.type=p,y=s.tag=_C(p),r=Mr(p,r),y){case 0:s=mh(null,s,p,r,u);break e;case 1:s=xx(null,s,p,r,u);break e;case 11:s=mx(null,s,p,r,u);break e;case 14:s=vx(null,s,p,Mr(p.type,r),u);break e}throw Error(n(306,p,""))}return s;case 0:return p=s.type,y=s.pendingProps,y=s.elementType===p?y:Mr(p,y),mh(r,s,p,y,u);case 1:return p=s.type,y=s.pendingProps,y=s.elementType===p?y:Mr(p,y),xx(r,s,p,y,u);case 3:e:{if(wx(s),r===null)throw Error(n(387));p=s.pendingProps,b=s.memoizedState,y=b.element,z_(r,s),Nc(s,p,null,u);var j=s.memoizedState;if(p=j.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){y=po(Error(n(423)),s),s=bx(r,s,p,u,y);break e}else if(p!==y){y=po(Error(n(424)),s),s=bx(r,s,p,u,y);break e}else for(Kn=Kr(s.stateNode.containerInfo.firstChild),Gn=s,yt=!0,Or=null,u=L_(s,null,p,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(lo(),p===y){s=Ti(r,s,u);break e}yn(r,s,p,u)}s=s.child}return s;case 5:return F_(s),r===null&&Hf(s),p=s.type,y=s.pendingProps,b=r!==null?r.memoizedProps:null,j=y.children,Ue(p,y)?j=null:b!==null&&Ue(p,b)&&(s.flags|=32),_x(r,s),yn(r,s,j,u),s.child;case 6:return r===null&&Hf(s),null;case 13:return Sx(r,s,u);case 4:return Qf(s,s.stateNode.containerInfo),p=s.pendingProps,r===null?s.child=uo(s,null,p,u):yn(r,s,p,u),s.child;case 11:return p=s.type,y=s.pendingProps,y=s.elementType===p?y:Mr(p,y),mx(r,s,p,y,u);case 7:return yn(r,s,s.pendingProps,u),s.child;case 8:return yn(r,s,s.pendingProps.children,u),s.child;case 12:return yn(r,s,s.pendingProps.children,u),s.child;case 10:e:{if(p=s.type._context,y=s.pendingProps,b=s.memoizedProps,j=y.value,ct(wc,p._currentValue),p._currentValue=j,b!==null)if(Zn(b.value,j)){if(b.children===y.children&&!Cn.current){s=Ti(r,s,u);break e}}else for(b=s.child,b!==null&&(b.return=s);b!==null;){var q=b.dependencies;if(q!==null){j=b.child;for(var V=q.firstContext;V!==null;){if(V.context===p){if(b.tag===1){V=ji(-1,u&-u),V.tag=2;var oe=b.updateQueue;if(oe!==null){oe=oe.shared;var ve=oe.pending;ve===null?V.next=V:(V.next=ve.next,ve.next=V),oe.pending=V}}b.lanes|=u,V=b.alternate,V!==null&&(V.lanes|=u),Kf(b.return,u,s),q.lanes|=u;break}V=V.next}}else if(b.tag===10)j=b.type===s.type?null:b.child;else if(b.tag===18){if(j=b.return,j===null)throw Error(n(341));j.lanes|=u,q=j.alternate,q!==null&&(q.lanes|=u),Kf(j,u,s),j=b.sibling}else j=b.child;if(j!==null)j.return=b;else for(j=b;j!==null;){if(j===s){j=null;break}if(b=j.sibling,b!==null){b.return=j.return,j=b;break}j=j.return}b=j}yn(r,s,y.children,u),s=s.child}return s;case 9:return y=s.type,p=s.pendingProps.children,fo(s,u),y=dr(y),p=p(y),s.flags|=1,yn(r,s,p,u),s.child;case 14:return p=s.type,y=Mr(p,s.pendingProps),y=Mr(p.type,y),vx(r,s,p,y,u);case 15:return gx(r,s,s.type,s.pendingProps,u);case 17:return p=s.type,y=s.pendingProps,y=s.elementType===p?y:Mr(p,y),Dc(r,s),s.tag=1,kn(p)?(r=!0,mc(s)):r=!1,fo(s,u),lx(s,p,y),fh(s,p,y,u),vh(null,s,p,!0,r,u);case 19:return Ex(r,s,u);case 22:return yx(r,s,u)}throw Error(n(156,s.tag))};function Gx(r,s){return Wu(r,s)}function yC(r,s,u,p){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(r,s,u,p){return new yC(r,s,u,p)}function zh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function _C(r){if(typeof r=="function")return zh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===re)return 11;if(r===ge)return 14}return 2}function Na(r,s){var u=r.alternate;return u===null?(u=pr(r.tag,s,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=s,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,s=r.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function Uc(r,s,u,p,y,b){var j=2;if(p=r,typeof r=="function")zh(r)&&(j=1);else if(typeof r=="string")j=5;else e:switch(r){case Z:return fs(u.children,y,b,s);case H:j=8,y|=8;break;case G:return r=pr(12,u,s,y|2),r.elementType=G,r.lanes=b,r;case J:return r=pr(13,u,s,y),r.elementType=J,r.lanes=b,r;case ce:return r=pr(19,u,s,y),r.elementType=ce,r.lanes=b,r;case xe:return Hc(u,y,b,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case $:j=10;break e;case W:j=9;break e;case re:j=11;break e;case ge:j=14;break e;case me:j=16,p=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=pr(j,u,s,y),s.elementType=r,s.type=p,s.lanes=b,s}function fs(r,s,u,p){return r=pr(7,r,p,s),r.lanes=u,r}function Hc(r,s,u,p){return r=pr(22,r,p,s),r.elementType=xe,r.lanes=u,r.stateNode={isHidden:!1},r}function Ah(r,s,u){return r=pr(6,r,null,s),r.lanes=u,r}function Ih(r,s,u){return s=pr(4,r.children!==null?r.children:[],r.key,s),s.lanes=u,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function xC(r,s,u,p,y){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ki(0),this.expirationTimes=Ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Fh(r,s,u,p,y,b,j,q,V){return r=new xC(r,s,u,q,V),s===1?(s=1,b===!0&&(s|=8)):s=0,b=pr(3,null,null,s),r.current=b,b.stateNode=r,b.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jf(b),r}function wC(r,s,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:p==null?null:""+p,children:r,containerInfo:s,implementation:u}}function Kx(r){if(!r)return ma;r=r._reactInternals;e:{if(qr(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(kn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var u=r.type;if(kn(u))return N_(r,u,s)}return s}function Xx(r,s,u,p,y,b,j,q,V){return r=Fh(u,p,!0,r,y,b,j,q,V),r.context=Kx(null),u=r.current,p=_n(),y=ba(u),b=ji(p,y),b.callback=s??null,ya(u,b,y),r.current.lanes=y,qn(r,y,p),On(r,p),r}function Yc(r,s,u,p){var y=s.current,b=_n(),j=ba(y);return u=Kx(u),s.context===null?s.context=u:s.pendingContext=u,s=ji(b,j),s.payload={element:r},p=p===void 0?null:p,p!==null&&(s.callback=p),r=ya(y,s,j),r!==null&&(Rr(r,y,j,b),Sc(r,y,j)),j}function Zc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Jx(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<s?u:s}}function $h(r,s){Jx(r,s),(r=r.alternate)&&Jx(r,s)}function bC(){return null}var Qx=typeof reportError=="function"?reportError:function(r){console.error(r)};function Bh(r){this._internalRoot=r}Vc.prototype.render=Bh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Yc(r,s,null,null)},Vc.prototype.unmount=Bh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;us(function(){Yc(null,r,null,null)}),s[it]=null}};function Vc(r){this._internalRoot=r}Vc.prototype.unstable_scheduleHydration=function(r){if(r){var s=Fs();r={blockedOn:null,target:r,priority:s};for(var u=0;u<zt.length&&s!==0&&s<zt[u].priority;u++);zt.splice(u,0,r),u===0&&$s(r)}};function qh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Gc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function e0(){}function SC(r,s,u,p,y){if(y){if(typeof p=="function"){var b=p;p=function(){var oe=Zc(j);b.call(oe)}}var j=Xx(s,p,r,0,null,!1,!1,"",e0);return r._reactRootContainer=j,r[it]=j.current,ca(r.nodeType===8?r.parentNode:r),us(),j}for(;y=r.lastChild;)r.removeChild(y);if(typeof p=="function"){var q=p;p=function(){var oe=Zc(V);q.call(oe)}}var V=Fh(r,0,!1,null,null,!1,!1,"",e0);return r._reactRootContainer=V,r[it]=V.current,ca(r.nodeType===8?r.parentNode:r),us(function(){Yc(s,V,u,p)}),V}function Kc(r,s,u,p,y){var b=u._reactRootContainer;if(b){var j=b;if(typeof y=="function"){var q=y;y=function(){var V=Zc(j);q.call(V)}}Yc(s,j,r,y)}else j=SC(u,s,r,y,p);return Zc(j)}As=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var u=qe(s.pendingLanes);u!==0&&(Pr(s,u|1),On(s,wt()),(Qe&6)===0&&(go=wt()+500,va()))}break;case 13:us(function(){var p=ki(r,1);if(p!==null){var y=_n();Rr(p,r,1,y)}}),$h(r,1)}},hi=function(r){if(r.tag===13){var s=ki(r,134217728);if(s!==null){var u=_n();Rr(s,r,134217728,u)}$h(r,134217728)}},Is=function(r){if(r.tag===13){var s=ba(r),u=ki(r,s);if(u!==null){var p=_n();Rr(u,r,s,p)}$h(r,s)}},Fs=function(){return Xe},Ua=function(r,s){var u=Xe;try{return Xe=r,s()}finally{Xe=u}},Ts=function(r,s,u){switch(s){case"input":if(Ye(r,u),s=u.name,u.type==="radio"&&s!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var p=u[s];if(p!==r&&p.form===r.form){var y=ro(p);if(!y)throw Error(n(90));gt(p),Ye(p,y)}}}break;case"textarea":$n(r,u);break;case"select":s=u.value,s!=null&&Dt(r,!!u.multiple,s,!1)}},Au=Dh,Iu=us;var NC={usingClientEntryPoint:!1,Events:[Si,Ni,ro,Ru,zu,Dh]},zl={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EC={bundleType:zl.bundleType,version:zl.version,rendererPackageName:zl.rendererPackageName,rendererConfig:zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Bu(r),r===null?null:r.stateNode},findFiberByHostInstance:zl.findFiberByHostInstance||bC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{qa=Xc.inject(EC),Bn=Xc}catch{}}return Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NC,Mn.createPortal=function(r,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qh(s))throw Error(n(200));return wC(r,s,null,u)},Mn.createRoot=function(r,s){if(!qh(r))throw Error(n(299));var u=!1,p="",y=Qx;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=Fh(r,1,!1,null,null,u,!1,p,y),r[it]=s.current,ca(r.nodeType===8?r.parentNode:r),new Bh(s)},Mn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Bu(s),r=r===null?null:r.stateNode,r},Mn.flushSync=function(r){return us(r)},Mn.hydrate=function(r,s,u){if(!Gc(s))throw Error(n(200));return Kc(null,r,s,!0,u)},Mn.hydrateRoot=function(r,s,u){if(!qh(r))throw Error(n(405));var p=u!=null&&u.hydratedSources||null,y=!1,b="",j=Qx;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(j=u.onRecoverableError)),s=Xx(s,null,r,1,u??null,y,!1,b,j),r[it]=s.current,ca(r),p)for(r=0;r<p.length;r++)u=p[r],y=u._getVersion,y=y(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,y]:s.mutableSourceEagerHydrationData.push(u,y);return new Vc(s)},Mn.render=function(r,s,u){if(!Gc(s))throw Error(n(200));return Kc(null,r,s,!1,u)},Mn.unmountComponentAtNode=function(r){if(!Gc(r))throw Error(n(40));return r._reactRootContainer?(us(function(){Kc(null,null,r,!1,function(){r._reactRootContainer=null,r[it]=null})}),!0):!1},Mn.unstable_batchedUpdates=Dh,Mn.unstable_renderSubtreeIntoContainer=function(r,s,u,p){if(!Gc(u))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Kc(r,s,u,!1,p)},Mn.version="18.3.1-next-f1338f8080-20240426",Mn}var l0;function GS(){if(l0)return Hh.exports;l0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Hh.exports=RC(),Hh.exports}var u0;function zC(){if(u0)return Jc;u0=1;var e=GS();return Jc.createRoot=e.createRoot,Jc.hydrateRoot=e.hydrateRoot,Jc}var AC=zC();const IC=fn(AC);var KS=GS();const XS=fn(KS);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Kl.apply(this,arguments)}var Ca;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ca||(Ca={}));const c0="popstate";function FC(e){e===void 0&&(e={});function t(a,o){let{pathname:c,search:d,hash:m}=a.location;return zg("",{pathname:c,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Sd(o)}return BC(t,n,null,e)}function Ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function JS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $C(){return Math.random().toString(36).substr(2,8)}function d0(e,t){return{usr:e.state,key:e.key,idx:t}}function zg(e,t,n,a){return n===void 0&&(n=null),Kl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mo(t):t,{state:n,key:t&&t.key||a||$C()})}function Sd(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Mo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function BC(e,t,n,a){a===void 0&&(a={});let{window:o=document.defaultView,v5Compat:c=!1}=a,d=o.history,m=Ca.Pop,v=null,_=x();_==null&&(_=0,d.replaceState(Kl({},d.state,{idx:_}),""));function x(){return(d.state||{idx:null}).idx}function w(){m=Ca.Pop;let k=x(),O=k==null?null:k-_;_=k,v&&v({action:m,location:E.location,delta:O})}function N(k,O){m=Ca.Push;let A=zg(E.location,k,O);_=x()+1;let I=d0(A,_),F=E.createHref(A);try{d.pushState(I,"",F)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(F)}c&&v&&v({action:m,location:E.location,delta:1})}function P(k,O){m=Ca.Replace;let A=zg(E.location,k,O);_=x();let I=d0(A,_),F=E.createHref(A);d.replaceState(I,"",F),c&&v&&v({action:m,location:E.location,delta:0})}function C(k){let O=o.location.origin!=="null"?o.location.origin:o.location.href,A=typeof k=="string"?k:Sd(k);return A=A.replace(/ $/,"%20"),Ot(O,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,O)}let E={get action(){return m},get location(){return e(o,d)},listen(k){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(c0,w),v=k,()=>{o.removeEventListener(c0,w),v=null}},createHref(k){return t(o,k)},createURL:C,encodeLocation(k){let O=C(k);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:N,replace:P,go(k){return d.go(k)}};return E}var f0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(f0||(f0={}));function qC(e,t,n){return n===void 0&&(n="/"),WC(e,t,n)}function WC(e,t,n,a){let o=typeof t=="string"?Mo(t):t,c=sy(o.pathname||"/",n);if(c==null)return null;let d=QS(e);UC(d);let m=null;for(let v=0;m==null&&v<d.length;++v){let _=nk(c);m=QC(d[v],_)}return m}function QS(e,t,n,a){t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a="");let o=(c,d,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};v.relativePath.startsWith("/")&&(Ot(v.relativePath.startsWith(a),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(a.length));let _=Ta([a,v.relativePath]),x=n.concat(v);c.children&&c.children.length>0&&(Ot(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),QS(c.children,t,x,_)),!(c.path==null&&!c.index)&&t.push({path:_,score:XC(_,c.index),routesMeta:x})};return e.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,d);else for(let v of eN(c.path))o(c,d,v)}),t}function eN(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let d=eN(a.join("/")),m=[];return m.push(...d.map(v=>v===""?c:[c,v].join("/"))),o&&m.push(...d),m.map(v=>e.startsWith("/")&&v===""?"/":v)}function UC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:JC(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const HC=/^:[\w-]+$/,YC=3,ZC=2,VC=1,GC=10,KC=-2,h0=e=>e==="*";function XC(e,t){let n=e.split("/"),a=n.length;return n.some(h0)&&(a+=KC),t&&(a+=ZC),n.filter(o=>!h0(o)).reduce((o,c)=>o+(HC.test(c)?YC:c===""?VC:GC),a)}function JC(e,t){return e.length===t.length&&e.slice(0,-1).every((a,o)=>a===t[o])?e[e.length-1]-t[t.length-1]:0}function QC(e,t,n){let{routesMeta:a}=e,o={},c="/",d=[];for(let m=0;m<a.length;++m){let v=a[m],_=m===a.length-1,x=c==="/"?t:t.slice(c.length)||"/",w=ek({path:v.relativePath,caseSensitive:v.caseSensitive,end:_},x),N=v.route;if(!w)return null;Object.assign(o,w.params),d.push({params:o,pathname:Ta([c,w.pathname]),pathnameBase:sk(Ta([c,w.pathnameBase])),route:N}),w.pathnameBase!=="/"&&(c=Ta([c,w.pathnameBase]))}return d}function ek(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=tk(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((_,x,w)=>{let{paramName:N,isOptional:P}=x;if(N==="*"){let E=m[w]||"";d=c.slice(0,c.length-E.length).replace(/(.)\/+$/,"$1")}const C=m[w];return P&&!C?_[N]=void 0:_[N]=(C||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:d,pattern:e}}function tk(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),JS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,v)=>(a.push({paramName:m,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function nk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return JS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function sy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function rk(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:o=""}=typeof e=="string"?Mo(e):e;return{pathname:n?n.startsWith("/")?n:ik(n,t):t,search:ok(a),hash:lk(o)}}function ik(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Vh(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ak(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function oy(e,t){let n=ak(e);return t?n.map((a,o)=>o===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function ly(e,t,n,a){a===void 0&&(a=!1);let o;typeof e=="string"?o=Mo(e):(o=Kl({},e),Ot(!o.pathname||!o.pathname.includes("?"),Vh("?","pathname","search",o)),Ot(!o.pathname||!o.pathname.includes("#"),Vh("#","pathname","hash",o)),Ot(!o.search||!o.search.includes("#"),Vh("#","search","hash",o)));let c=e===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=n;else{let w=t.length-1;if(!a&&d.startsWith("..")){let N=d.split("/");for(;N[0]==="..";)N.shift(),w-=1;o.pathname=N.join("/")}m=w>=0?t[w]:"/"}let v=rk(o,m),_=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(_||x)&&(v.pathname+="/"),v}const Ta=e=>e.join("/").replace(/\/\/+/g,"/"),sk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ok=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function uk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tN=["post","put","patch","delete"];new Set(tN);const ck=["get",...tN];new Set(ck);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xl.apply(this,arguments)}const uy=R.createContext(null),dk=R.createContext(null),La=R.createContext(null),Id=R.createContext(null),Wi=R.createContext({outlet:null,matches:[],isDataRoute:!1}),nN=R.createContext(null);function fk(e,t){let{relative:n}=t===void 0?{}:t;Do()||Ot(!1);let{basename:a,navigator:o}=R.useContext(La),{hash:c,pathname:d,search:m}=iN(e,{relative:n}),v=d;return a!=="/"&&(v=d==="/"?a:Ta([a,d])),o.createHref({pathname:v,search:m,hash:c})}function Do(){return R.useContext(Id)!=null}function Lo(){return Do()||Ot(!1),R.useContext(Id).location}function rN(e){R.useContext(La).static||R.useLayoutEffect(e)}function In(){let{isDataRoute:e}=R.useContext(Wi);return e?Ek():hk()}function hk(){Do()||Ot(!1);let e=R.useContext(uy),{basename:t,future:n,navigator:a}=R.useContext(La),{matches:o}=R.useContext(Wi),{pathname:c}=Lo(),d=JSON.stringify(oy(o,n.v7_relativeSplatPath)),m=R.useRef(!1);return rN(()=>{m.current=!0}),R.useCallback(function(_,x){if(x===void 0&&(x={}),!m.current)return;if(typeof _=="number"){a.go(_);return}let w=ly(_,JSON.parse(d),c,x.relative==="path");e==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:Ta([t,w.pathname])),(x.replace?a.replace:a.push)(w,x.state,x)},[t,a,d,c,e])}function cy(){let{matches:e}=R.useContext(Wi),t=e[e.length-1];return t?t.params:{}}function iN(e,t){let{relative:n}=t===void 0?{}:t,{future:a}=R.useContext(La),{matches:o}=R.useContext(Wi),{pathname:c}=Lo(),d=JSON.stringify(oy(o,a.v7_relativeSplatPath));return R.useMemo(()=>ly(e,JSON.parse(d),c,n==="path"),[e,d,c,n])}function pk(e,t){return mk(e,t)}function mk(e,t,n,a){Do()||Ot(!1);let{navigator:o}=R.useContext(La),{matches:c}=R.useContext(Wi),d=c[c.length-1],m=d?d.params:{};d&&d.pathname;let v=d?d.pathnameBase:"/";d&&d.route;let _=Lo(),x;if(t){var w;let k=typeof t=="string"?Mo(t):t;v==="/"||(w=k.pathname)!=null&&w.startsWith(v)||Ot(!1),x=k}else x=_;let N=x.pathname||"/",P=N;if(v!=="/"){let k=v.replace(/^\//,"").split("/");P="/"+N.replace(/^\//,"").split("/").slice(k.length).join("/")}let C=qC(e,{pathname:P}),E=xk(C&&C.map(k=>Object.assign({},k,{params:Object.assign({},m,k.params),pathname:Ta([v,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?v:Ta([v,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,n,a);return t&&E?R.createElement(Id.Provider,{value:{location:Xl({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Ca.Pop}},E):E}function vk(){let e=Nk(),t=uk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),n?R.createElement("pre",{style:o},n):null,null)}const gk=R.createElement(vk,null);class yk extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?R.createElement(Wi.Provider,{value:this.props.routeContext},R.createElement(nN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _k(e){let{routeContext:t,match:n,children:a}=e,o=R.useContext(uy);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Wi.Provider,{value:t},a)}function xk(e,t,n,a){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),a===void 0&&(a=null),e==null){var c;if(!n)return null;if(n.errors)e=n.matches;else if((c=a)!=null&&c.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let d=e,m=(o=n)==null?void 0:o.errors;if(m!=null){let x=d.findIndex(w=>w.route.id&&m?.[w.route.id]!==void 0);x>=0||Ot(!1),d=d.slice(0,Math.min(d.length,x+1))}let v=!1,_=-1;if(n&&a&&a.v7_partialHydration)for(let x=0;x<d.length;x++){let w=d[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(_=x),w.route.id){let{loaderData:N,errors:P}=n,C=w.route.loader&&N[w.route.id]===void 0&&(!P||P[w.route.id]===void 0);if(w.route.lazy||C){v=!0,_>=0?d=d.slice(0,_+1):d=[d[0]];break}}}return d.reduceRight((x,w,N)=>{let P,C=!1,E=null,k=null;n&&(P=m&&w.route.id?m[w.route.id]:void 0,E=w.route.errorElement||gk,v&&(_<0&&N===0?(Pk("route-fallback"),C=!0,k=null):_===N&&(C=!0,k=w.route.hydrateFallbackElement||null)));let O=t.concat(d.slice(0,N+1)),A=()=>{let I;return P?I=E:C?I=k:w.route.Component?I=R.createElement(w.route.Component,null):w.route.element?I=w.route.element:I=x,R.createElement(_k,{match:w,routeContext:{outlet:x,matches:O,isDataRoute:n!=null},children:I})};return n&&(w.route.ErrorBoundary||w.route.errorElement||N===0)?R.createElement(yk,{location:n.location,revalidation:n.revalidation,component:E,error:P,children:A(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):A()},null)}var aN=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(aN||{}),sN=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(sN||{});function wk(e){let t=R.useContext(uy);return t||Ot(!1),t}function bk(e){let t=R.useContext(dk);return t||Ot(!1),t}function Sk(e){let t=R.useContext(Wi);return t||Ot(!1),t}function oN(e){let t=Sk(),n=t.matches[t.matches.length-1];return n.route.id||Ot(!1),n.route.id}function Nk(){var e;let t=R.useContext(nN),n=bk(),a=oN();return t!==void 0?t:(e=n.errors)==null?void 0:e[a]}function Ek(){let{router:e}=wk(aN.UseNavigateStable),t=oN(sN.UseNavigateStable),n=R.useRef(!1);return rN(()=>{n.current=!0}),R.useCallback(function(o,c){c===void 0&&(c={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Xl({fromRouteId:t},c)))},[e,t])}const p0={};function Pk(e,t,n){p0[e]||(p0[e]=!0)}function Ck(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function m0(e){let{to:t,replace:n,state:a,relative:o}=e;Do()||Ot(!1);let{future:c,static:d}=R.useContext(La),{matches:m}=R.useContext(Wi),{pathname:v}=Lo(),_=In(),x=ly(t,oy(m,c.v7_relativeSplatPath),v,o==="path"),w=JSON.stringify(x);return R.useEffect(()=>_(JSON.parse(w),{replace:n,state:a,relative:o}),[_,w,o,n,a]),null}function Jt(e){Ot(!1)}function kk(e){let{basename:t="/",children:n=null,location:a,navigationType:o=Ca.Pop,navigator:c,static:d=!1,future:m}=e;Do()&&Ot(!1);let v=t.replace(/^\/*/,"/"),_=R.useMemo(()=>({basename:v,navigator:c,static:d,future:Xl({v7_relativeSplatPath:!1},m)}),[v,m,c,d]);typeof a=="string"&&(a=Mo(a));let{pathname:x="/",search:w="",hash:N="",state:P=null,key:C="default"}=a,E=R.useMemo(()=>{let k=sy(x,v);return k==null?null:{location:{pathname:k,search:w,hash:N,state:P,key:C},navigationType:o}},[v,x,w,N,P,C,o]);return E==null?null:R.createElement(La.Provider,{value:_},R.createElement(Id.Provider,{children:n,value:E}))}function jk(e){let{children:t,location:n}=e;return pk(Ag(t),n)}new Promise(()=>{});function Ag(e,t){t===void 0&&(t=[]);let n=[];return R.Children.forEach(e,(a,o)=>{if(!R.isValidElement(a))return;let c=[...t,o];if(a.type===R.Fragment){n.push.apply(n,Ag(a.props.children,c));return}a.type!==Jt&&Ot(!1),!a.props.index||!a.props.children||Ot(!1);let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Ag(a.props.children,c)),n.push(d)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ig.apply(this,arguments)}function Tk(e,t){if(e==null)return{};var n={},a=Object.keys(e),o,c;for(c=0;c<a.length;c++)o=a[c],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Ok(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Mk(e,t){return e.button===0&&(!t||t==="_self")&&!Ok(e)}const Dk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Lk="6";try{window.__reactRouterVersion=Lk}catch{}const Rk="startTransition",v0=MC[Rk];function zk(e){let{basename:t,children:n,future:a,window:o}=e,c=R.useRef();c.current==null&&(c.current=FC({window:o,v5Compat:!0}));let d=c.current,[m,v]=R.useState({action:d.action,location:d.location}),{v7_startTransition:_}=a||{},x=R.useCallback(w=>{_&&v0?v0(()=>v(w)):v(w)},[v,_]);return R.useLayoutEffect(()=>d.listen(x),[d,x]),R.useEffect(()=>Ck(a),[a]),R.createElement(kk,{basename:t,children:n,location:m.location,navigationType:m.action,navigator:d,future:a})}const Ak=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ik=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sd=R.forwardRef(function(t,n){let{onClick:a,relative:o,reloadDocument:c,replace:d,state:m,target:v,to:_,preventScrollReset:x,viewTransition:w}=t,N=Tk(t,Dk),{basename:P}=R.useContext(La),C,E=!1;if(typeof _=="string"&&Ik.test(_)&&(C=_,Ak))try{let I=new URL(window.location.href),F=_.startsWith("//")?new URL(I.protocol+_):new URL(_),D=sy(F.pathname,P);F.origin===I.origin&&D!=null?_=D+F.search+F.hash:E=!0}catch{}let k=fk(_,{relative:o}),O=Fk(_,{replace:d,state:m,target:v,preventScrollReset:x,relative:o,viewTransition:w});function A(I){a&&a(I),I.defaultPrevented||O(I)}return R.createElement("a",Ig({},N,{href:C||k,onClick:E||c?a:A,ref:n,target:v}))});var g0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(g0||(g0={}));var y0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(y0||(y0={}));function Fk(e,t){let{target:n,replace:a,state:o,preventScrollReset:c,relative:d,viewTransition:m}=t===void 0?{}:t,v=In(),_=Lo(),x=iN(e,{relative:d});return R.useCallback(w=>{if(Mk(w,n)){w.preventDefault();let N=a!==void 0?a:Sd(_)===Sd(x);v(e,{replace:N,state:o,preventScrollReset:c,relative:d,viewTransition:m})}},[_,v,x,a,o,n,e,c,d,m])}const lN=R.createContext();function $k({children:e}){const[t,n]=R.useState(()=>{const C=localStorage.getItem("user");return C?JSON.parse(C):null}),[a,o]=R.useState([]),[c,d]=R.useState(!0),[m,v]=R.useState(null);R.useEffect(()=>{t?localStorage.setItem("user",JSON.stringify(t)):localStorage.removeItem("user")},[t]),R.useEffect(()=>{const C=t?.token;C&&fetch(`${Ee}/api/utenti`,{headers:{Authorization:`Bearer ${C}`}}).then(E=>E.json()).then(E=>{o(E),d(!1)}).catch(E=>{v("Errore nel caricamento utenti"),d(!1)})},[t]),R.useEffect(()=>{!t||!t.id||(async()=>{try{if(!("serviceWorker"in navigator))return;const C=await navigator.serviceWorker.ready;if(!C||!C.pushManager)return;const E=await C.pushManager.getSubscription();if(!E)return;const k={...E,userId:t.id};try{await fetch(`${Ee}/api/push/subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)}),await fetch(`${Ee}/api/push/associate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint:E.endpoint,userId:t.id})}),console.log("[PUSH] Auto-associated existing subscription to user",t.id)}catch(O){console.warn("Auto-associate request failed:",O.message)}}catch(C){console.warn("Error checking push subscription for auto-associate:",C.message)}})()},[t]);const _=async(C,E)=>{try{const k=await fetch(`${Ee}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mail:C,password:E})});if(!k.ok)return n(null),v("Credenziali non valide"),!1;const O=await k.json();n({...O}),v(null);try{if("serviceWorker"in navigator){const A=await navigator.serviceWorker.ready;if(A&&A.pushManager){const I=await A.pushManager.getSubscription();if(I)try{const F=I.endpoint,D={...I,userId:O.id};await fetch(`${Ee}/api/push/subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)}),await fetch(`${Ee}/api/push/associate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint:F,userId:O.id})})}catch(F){console.warn("Could not associate push subscription with user after login:",F.message)}}}}catch(A){console.warn("Error checking push subscription after login:",A.message)}return!0}catch{return v("Errore di autenticazione"),!1}},x=()=>{n(null),localStorage.removeItem("user")},w=async C=>{try{const k=await(await fetch(`${Ee}/api/utenti`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t&&t.token?t.token:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).token:""}`},body:JSON.stringify(C)})).json();o(O=>[...O,k]),v(null)}catch{v("Errore nell'aggiunta utente")}},N=async(C,E)=>{try{await fetch(`${Ee}/api/utenti/${C}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t&&t.token?t.token:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).token:""}`},body:JSON.stringify(E)}),o(k=>k.map(O=>O.id===C?{...O,...E}:O)),v(null)}catch{v("Errore nell'aggiornamento utente")}},P=async C=>{try{await fetch(`${Ee}/api/utenti/${C}`,{method:"DELETE",headers:{Authorization:`Bearer ${t&&t.token?t.token:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).token:""}`}}),o(E=>E.filter(k=>k.id!==C)),v(null)}catch{v("Errore nell'eliminazione utente")}};return f.jsx(lN.Provider,{value:{user:t,token:t?.token,login:_,logout:x,users:a,addUser:w,updateUser:N,deleteUser:P,loading:c,error:m},children:e})}function Mt(){return R.useContext(lN)}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),wn=(e,t)=>{const n=R.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:m="",children:v,..._},x)=>R.createElement("svg",{ref:x,...Bk,width:o,height:o,stroke:a,strokeWidth:d?Number(c)*24/Number(o):c,className:["lucide",`lucide-${qk(e)}`,m].join(" "),..._},[...t.map(([w,N])=>R.createElement(w,N)),...Array.isArray(v)?v:[v]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=wn("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=wn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=wn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=wn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=wn("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=wn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=wn("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=wn("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=wn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=wn("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=wn("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=wn("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=wn("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=wn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=wn("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Gk="/assets/Image%2030%20giu%202025_%2008_12_36-D4585QXY.png",vN=R.createContext();function Kk({children:e}){const[t,n]=R.useState(null),[a,o]=R.useState(!1);R.useEffect(()=>{c()},[]);const c=async()=>"Notification"in window?Notification.permission==="granted"||Notification.permission==="default"&&await Notification.requestPermission()==="granted"?(o(!0),!0):(o(!1),!1):(console.log("Le notifiche push non sono supportate dal browser"),!1),d=async()=>await c(),m=w=>{const N="=".repeat((4-w.length%4)%4),P=(w+N).replace(/-/g,"+").replace(/_/g,"/"),C=atob(P),E=new Uint8Array(C.length);for(let k=0;k<C.length;++k)E[k]=C.charCodeAt(k);return E},v=R.useCallback(async()=>{if(!("serviceWorker"in navigator)||!("PushManager"in window))return console.warn("Push non supportato in questo browser"),n&&n({text:"Push non supportato da questo browser",type:"error"}),null;try{const w=await fetch(`${Ee}/api/push/public-key`);if(!w.ok)throw new Error("Impossibile ottenere public key");const{publicKey:N}=await w.json(),P=await navigator.serviceWorker.ready;let C=await P.pushManager.getSubscription();C||(C=await P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:m(N)}));let E=C&&typeof C.toJSON=="function"?C.toJSON():C;try{const k=localStorage.getItem("user");if(k){const O=JSON.parse(k);O&&O.id&&(E={...E,userId:O.id})}}catch{}try{const k=JSON.stringify(E);console.log("[PUSH] sending subscription to backend:",E&&E.endpoint);const O=await fetch(`${Ee}/api/push/subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:k});if(O.ok)return o(!0),n&&n({text:"Notifiche push abilitate e sottoscritte",type:"success"}),C;const A=await O.text().catch(()=>"Errore server");try{await fetch(`${Ee}/api/push/log-subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({note:"subscribe-failed",status:O.status,statusText:O.statusText,requestBody:E,responseBody:A,ua:navigator.userAgent})})}catch(I){console.warn("Failed to post subscribe diagnostic",I.message)}return n&&n({text:"Sottoscrizione inviata ma server ha risposto con errore: "+A,type:"error"}),null}catch(k){try{await fetch(`${Ee}/api/push/log-subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:k.message,ua:navigator.userAgent})})}catch{}throw k}}catch(w){console.error("Errore nella registrazione per push:",w),n&&n({text:"Errore nella registrazione per push: "+w.message,type:"error"});try{await fetch(`${Ee}/api/push/log-subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:w.message,stack:w.stack})})}catch{}return null}},[]),_=R.useCallback(async()=>{try{const N=await(await navigator.serviceWorker.ready).pushManager.getSubscription();return N&&await N.unsubscribe(),!0}catch(w){return console.error("Errore nell'unsubscribing push:",w),!1}},[]),x=(w,N={})=>{if(!a){console.log("Notifiche push non abilitate");return}const P={icon:"/src/assets/Image 30 giu 2025, 08_12_36.png",badge:"/src/assets/Image 30 giu 2025, 08_12_36.png",requireInteraction:!1,silent:!1,vibrate:[200,100,200],tag:"consegne-app",...N};try{const C=new Notification(w,P);return C.onclick=function(){window.focus(),this.close(),N.onClick&&N.onClick()},P.requireInteraction||setTimeout(()=>{C.close()},5e3),C}catch(C){console.error("Errore nell'invio della notifica push:",C)}};return R.useEffect(()=>{if(t){const w=setTimeout(()=>n(null),5e3);return()=>clearTimeout(w)}},[t]),f.jsx(vN.Provider,{value:{notification:t,setNotification:n,pushNotificationsEnabled:a,requestNotificationPermission:d,sendPushNotification:x,subscribeForPush:v,unsubscribePush:_},children:e})}function Bt(){return R.useContext(vN)}const gN=R.createContext();function Xk({children:e,user:t}){const[n,a]=R.useState(0),[o,c]=R.useState(Date.now());R.useEffect(()=>{let m=!0;const v=()=>{t?.token&&fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${t.token}`}}).then(x=>x.json()).then(x=>{if(!m)return;const w=Array.isArray(x)?x.filter(N=>N.sender?.mail!==t?.mail&&new Date(N.timestamp).getTime()>o):[];a(w.length)})};v();const _=setInterval(v,2e3);return()=>{m=!1,clearInterval(_)}},[t,o]);const d=()=>c(Date.now());return f.jsx(gN.Provider,{value:{unreadCount:n,markAllRead:d},children:e})}function yN(){return R.useContext(gN)}const Jk=[{to:"/pianificazione",label:"Pianificazione",icon:f.jsx(mN,{size:20})},{to:"/preparazione-magazzino",label:"Preparazione Magazzino",icon:f.jsx(ps,{size:20})},{to:"/richieste",label:"Richieste",icon:f.jsx(dN,{size:20})},{to:"/stato-consegne",label:"Stato Consegne",icon:f.jsx(uN,{size:20})},{to:"/posizioni",label:"Posizioni",icon:f.jsx(fN,{size:20})},{to:"/chat",label:"Chat",icon:f.jsx(hN,{size:20})},{to:"/admin",label:"Amministratore",icon:f.jsx(cN,{size:20})}];function Qk(){const[e,t]=R.useState(!0),{user:n,logout:a}=Mt(),o=In(),{unreadCount:c,markAllRead:d}=yN(),{notification:m,setNotification:v}=Bt(),_=x=>n?n.role==="autista"?["/chat","/posizioni"].includes(x.to):!(x.to==="/admin"&&n.role!=="admin"||x.to==="/gestione-utenti"&&n.role!=="admin"||x.to==="/autista"&&!(n.role==="autista"||n.role==="admin")||x.to==="/preparazione-magazzino"&&!(n.role==="admin"||n.role==="pianificatore")):!1;return f.jsxs("aside",{className:`fixed inset-y-0 left-0 bg-white shadow p-4 flex flex-col justify-between transition-all duration-300 ${e?"min-w-[60px] w-[60px]":"min-w-[220px] w-[220px]"}`,children:[f.jsxs("div",{children:[f.jsxs(sd,{to:"/",className:`flex items-center gap-2 p-2 rounded hover:bg-gray-100 font-semibold transition-all duration-200 ${e?"justify-center":""}`,children:[f.jsx("img",{src:Gk,alt:"Home",className:e?"w-8 h-8 object-contain":"w-5 h-5 object-contain",style:e?{minWidth:"32px",minHeight:"32px"}:{}}),!e&&f.jsx("span",{children:"Home"})]}),f.jsx("button",{className:"mt-2 flex items-center justify-center",onClick:()=>t(!e),"aria-label":e?"Espandi sidebar":"Collassa sidebar",children:e?f.jsx(Hk,{size:20}):f.jsx(Uk,{size:20})})]}),f.jsxs("nav",{className:"flex flex-col gap-4",children:[f.jsx("hr",{className:"my-2"}),Jk.filter(_).map(x=>f.jsxs(sd,{to:x.to,className:`flex items-center gap-2 p-2 rounded hover:bg-gray-100 transition-all duration-200 ${e?"justify-center":""}`,onClick:()=>{x.to==="/chat"&&d(),x.to==="/pianificazione"&&m?.type==="spedizione"&&v(null)},children:[x.icon,x.to==="/chat"&&c>0&&f.jsx("span",{className:"ml-1 bg-red-600 text-white rounded-full px-2 py-0.5 text-xs font-bold animate-bounce",children:c}),x.to==="/pianificazione"&&m?.type==="spedizione"&&f.jsx("span",{className:"ml-1 bg-green-600 text-white rounded-full px-2 py-0.5 text-xs font-bold animate-bounce",children:"!"}),!e&&f.jsx("span",{children:x.label})]},x.to)),n?.role==="admin"&&f.jsxs(sd,{to:"/gestione-utenti",className:`flex items-center gap-2 p-2 rounded hover:bg-blue-100 font-semibold transition-all duration-200 ${e?"justify-center":""}`,children:[f.jsx(dy,{size:20}),!e&&f.jsx("span",{children:"Gestione Utenti"})]})]}),n&&f.jsxs("div",{className:`mt-6 mb-2 p-3 rounded bg-gray-50 flex items-center gap-2 ${e?"flex-col items-center":""}`,style:{minHeight:e?60:80},children:[f.jsx("div",{className:"flex items-center justify-center rounded-full bg-blue-600 text-white font-bold",style:{width:e?36:40,height:e?36:40,fontSize:e?18:20},"aria-label":n.nome,children:n.nome?n.nome.split(" ").map(x=>x[0]).join("").toUpperCase().slice(0,2):""}),e?f.jsx("span",{className:"sr-only",children:n.nome}):f.jsxs("div",{className:"flex flex-col text-xs text-gray-700",children:[f.jsx("span",{className:"font-bold",children:n.nome}),f.jsx("span",{className:"capitalize",children:n.role}),f.jsx("span",{className:"text-gray-500",children:n.mail}),f.jsx("button",{onClick:()=>{a(),o("/login")},className:"mt-2 px-3 py-1 rounded bg-red-100 text-red-700 font-semibold text-xs hover:bg-red-200 w-fit",children:"Logout"})]})]})]})}function ej({children:e}){const{user:t,logout:n}=Mt(),a=Lo();return["/autista","/chat-mobile","/login","/spedizioni-mobile/"].some(d=>a.pathname.startsWith(d))?f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.pathname!=="/login"&&f.jsx("div",{className:"bg-white shadow-sm border-b px-4 py-2 fixed top-0 left-0 w-full z-20",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"text-sm text-gray-600",children:["Benvenuto, ",f.jsx("span",{className:"font-medium",children:t.nome})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[(t.role==="autista"||t.role==="admin")&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>window.location.href="/chat-mobile",className:"bg-green-600 hover:bg-green-700 text-white text-xs px-3 py-1 rounded font-semibold shadow","aria-label":"Chat Mobile",children:[f.jsx("span",{className:"material-icons text-base align-middle mr-1",children:"chat"}),"Chat"]}),t.role==="autista"&&a.pathname==="/chat-mobile"&&f.jsxs("button",{onClick:()=>window.location.href="/autista",className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-1 rounded font-semibold shadow","aria-label":"Torna alle consegne",children:[f.jsx("span",{className:"material-icons text-base align-middle mr-1",children:"arrow_back"}),"Consegne"]})]}),f.jsx("button",{onClick:()=>{window.confirm("Vuoi disconnetterti?")&&(n(),window.location.href="/login")},className:"text-xs text-red-600 hover:text-red-800 font-medium",children:"Disconnetti"})]})]})}),f.jsx("main",{className:a.pathname!=="/login"?"min-h-screen pt-[48px]":"min-h-screen",children:e})]}):f.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[f.jsx(Qk,{}),f.jsx("main",{className:"flex-1 p-6 ml-[220px] transition-all duration-300",children:e})]})}function Mi({title:e,desc:t,to:n,icon:a}){return f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md text-center",children:[f.jsx("h2",{className:"text-xl font-semibold mb-2",children:e}),f.jsx("p",{className:"text-gray-500 mb-4",children:t}),f.jsxs(sd,{to:n,className:"inline-flex items-center gap-2 px-4 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-700",children:[a,"Vai a ",e]})]})}const Fd=(e={})=>{const{user:t,token:n}=Mt(),{setNotification:a,sendPushNotification:o,pushNotificationsEnabled:c}=Bt(),{pollInterval:d=3e3,enableInAppNotifications:m=!0,enablePushNotifications:v=!0,onNewMessage:_=null,maxMessages:x=100}=e,w=R.useRef(0),N=R.useRef([]);return R.useEffect(()=>{if(!t||!n)return;let P=!0,C;const E=async()=>{try{const k=await fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${n}`}});if(!k.ok)throw new Error("Errore nel caricamento messaggi");const O=await k.json();if(!P)return;w.current>0&&O.length>w.current&&O.slice(w.current).forEach(I=>{I.sender?.mail!==t?.mail&&(m&&a({text:`${I.sender?.nome}: ${I.text}`}),v&&c&&o(`Nuovo messaggio da ${I.sender?.nome}`,{body:I.text.length>100?I.text.substring(0,100)+"...":I.text,icon:"💬",tag:"chat-message",requireInteraction:!1,onClick:()=>{window.focus(),_&&_(I)}}),_&&_(I))}),w.current=O.length,N.current=O.slice(-x)}catch(k){console.error("Errore nel polling dei messaggi:",k)}};return E(),C=setInterval(E,d),()=>{P=!1,clearInterval(C)}},[t,n,d,m,v,c,a,o,_,x]),{lastMessages:N.current,messageCount:w.current}};var tj={};function _N({className:e=""}){const{pushNotificationsEnabled:t,requestNotificationPermission:n,subscribeForPush:a,setNotification:o}=Bt(),[c,d]=R.useState(!1),[m,v]=R.useState(!1);R.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&d(!0)},[]);const _=async()=>{if(await n())try{v(!0);const w=await a();if(d(!1),w)o({text:"Notifiche push abilitate e sottoscritte",type:"success"});else{const N="Notifiche abilitate ma la sottoscrizione non è stata completata (Push API non disponibile o restrizioni del browser)";o({text:N,type:"warning"});try{await fetch(`${tj.REACT_APP_BASE_URL||""}/api/push/log-subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({note:"subscription-null-after-grant",message:N,userAgent:navigator.userAgent})})}catch{}}}finally{v(!1)}};return!c||t?null:f.jsx("div",{className:`bg-blue-600 text-white p-4 ${e}`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold text-sm",children:"🔔 Abilita le notifiche push"}),f.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Ricevi notifiche per nuovi messaggi e aggiornamenti anche quando l'app è in background"})]}),f.jsxs("div",{className:"flex gap-2 ml-3",children:[f.jsx("button",{onClick:_,className:"bg-white text-blue-600 text-xs px-3 py-1 rounded font-medium hover:bg-gray-100 transition-colors disabled:opacity-60",disabled:m,children:m?"Abilitazione...":"Abilita"}),f.jsx("button",{onClick:()=>d(!1),className:"text-white text-xs px-2 py-1 rounded hover:bg-blue-700 transition-colors",title:"Chiudi banner",children:"✕"})]})]})})}function nj(){const{user:e,token:t}=Mt(),{setNotification:n}=Bt(),a=In();return Fd({pollInterval:5e3,enableInAppNotifications:!0,enablePushNotifications:!0,onNewMessage:o=>{console.log("Nuovo messaggio ricevuto nella home:",o)}}),R.useEffect(()=>{if(e?.role==="autista"){a("/autista",{replace:!0});return}},[e,a]),R.useEffect(()=>{if(e&&t){let o=!0,c=0;const d=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${t}`}}).then(v=>v.json()).then(v=>{o&&(c>0&&v.length>c&&v.slice(c).forEach(x=>{n({text:`${x.sender?.nome}: ${x.text}`})}),c=v.length)})};d();const m=setInterval(d,2e3);return()=>{o=!1,clearInterval(m)}}},[n,e,t]),e?.role==="autista"?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Reindirizzamento..."})]})}):f.jsxs("main",{className:"flex-1 p-6",children:[f.jsx(_N,{className:"mb-6 rounded-lg"}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[f.jsx(Mi,{title:"Pianificazione",desc:"Pagina di gestione delle richieste e delle consegne.",to:"/pianificazione",icon:f.jsx(mN,{})}),(e?.role==="admin"||e?.role==="pianificatore")&&f.jsx(Mi,{title:"Preparazione Magazzino",desc:"Organizzazione spedizioni per la preparazione in magazzino",to:"/preparazione-magazzino",icon:f.jsx(ps,{})}),f.jsx(Mi,{title:"Richieste",desc:"Pagina di gestione delle richieste. Qui è possibile creare le richieste e controllarne lo stato.",to:"/richieste",icon:f.jsx(dN,{})}),f.jsx(Mi,{title:"Stato Consegne",desc:"Pagina di visualizzazione dello stato delle consegne.",to:"/stato-consegne",icon:f.jsx(uN,{})}),f.jsx(Mi,{title:"Posizioni",desc:"Pagina di gestione delle destinazioni",to:"/posizioni",icon:f.jsx(fN,{})}),e?.role==="admin"&&f.jsx(Mi,{title:"Autista",desc:"Pagina di visualizzazione delle consegne per gli autisti",to:"/autista",icon:f.jsx(pN,{})}),f.jsx(Mi,{title:"Chat",desc:"Messaggistica istantanea interna",to:"/chat",icon:f.jsx(hN,{})}),e?.role==="admin"&&f.jsx(Mi,{title:"Gestione Utenti",desc:"Gestisci utenti e ruoli",to:"/gestione-utenti",icon:f.jsx(dy,{})}),e?.role==="admin"&&f.jsx(Mi,{title:"Amministratore",desc:"Pannello di gestione database",to:"/admin",icon:f.jsx(cN,{})})]})]})}function rj({spedizione:e,onClose:t,onSave:n}){const{token:a}=Mt(),[o,c]=R.useState(()=>({...e,indirizzo:e.indirizzo||"",aziendaDestinazione:e.aziendaDestinazione||""})),[d,m]=R.useState([]),[v,_]=R.useState([]);R.useEffect(()=>{fetch(`${Ee}/api/posizioni`,{headers:{Authorization:`Bearer ${a}`}}).then(P=>P.json()).then(P=>m(P)),fetch(`${Ee}/api/utenti`,{headers:{Authorization:`Bearer ${a}`}}).then(P=>P.json()).then(P=>_(P.filter(C=>C.role==="autista")))},[]);const x=P=>{const{name:C,value:E,type:k,checked:O}=P.target;c(A=>({...A,[C]:k==="checkbox"?O:E}))},w=P=>{P.preventDefault(),n(o)},N=typeof window<"u"&&/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(window.navigator.userAgent);return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:f.jsxs("div",{className:N?"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-0 relative border border-blue-100":"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-xl relative border border-blue-100",children:[f.jsxs("div",{className:N?"sticky top-0 bg-blue-50 rounded-t-2xl px-4 py-4 border-b flex items-center justify-between":"flex items-center gap-3 mb-4 pb-2 border-b border-gray-200",children:[f.jsx("span",{className:"material-icons text-blue-600 text-3xl",children:"event"}),f.jsx("h2",{className:N?"text-xl font-bold text-blue-700":"text-2xl font-bold text-blue-700",children:"Pianifica spedizione"}),f.jsx("button",{className:"ml-auto text-gray-400 hover:text-blue-700 text-2xl font-bold px-2 py-1 rounded transition",onClick:t,"aria-label":"Chiudi",children:"×"})]}),f.jsxs("form",{onSubmit:w,className:N?"flex flex-col gap-4 px-4 py-4":"flex flex-col gap-5",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("label",{className:"font-semibold",children:["Destinazione",f.jsxs("select",{name:"indirizzo",value:o.indirizzo||"",onChange:P=>{const C=d.find(E=>E.indirizzo===P.target.value);c(E=>({...E,indirizzo:C?C.indirizzo:P.target.value,aziendaDestinazione:C?C.azienda:E.aziendaDestinazione}))},className:"border border-blue-200 p-3 rounded-lg w-full mt-2 bg-gray-50 focus:ring-2 focus:ring-blue-300",required:!0,children:[f.jsx("option",{value:"",children:"Seleziona destinazione..."}),d.map((P,C)=>f.jsxs("option",{value:P.indirizzo,children:[P.azienda," - ",P.indirizzo]},C))]})]}),f.jsxs("label",{className:"font-semibold",children:["Autista assegnato",f.jsxs("select",{name:"autista",value:o.autista?.id||"",onChange:P=>{const C=v.find(E=>String(E.id)===P.target.value);c(E=>({...E,autista:C?{id:C.id,nome:C.nome}:null}))},className:"border border-blue-200 p-3 rounded-lg w-full mt-2 bg-gray-50 focus:ring-2 focus:ring-blue-300",children:[f.jsx("option",{value:"",children:"Nessun autista assegnato"}),v.map(P=>f.jsx("option",{value:P.id,children:P.nome},P.id))]})]}),f.jsxs("label",{className:"font-semibold",children:["Data e ora richiesta",f.jsx("input",{name:"dataRichiesta",type:"datetime-local",className:"border border-blue-200 p-3 rounded-lg w-full mt-2 bg-gray-50 focus:ring-2 focus:ring-blue-300",value:o.dataRichiesta,onChange:x,required:!0})]}),f.jsxs("label",{className:"font-semibold",children:["Data e ora pianificata",f.jsx("input",{name:"dataPianificata",type:"datetime-local",className:"border border-blue-200 p-3 rounded-lg w-full mt-2 bg-gray-50 focus:ring-2 focus:ring-blue-300",value:o.dataPianificata,onChange:x,required:!0})]}),f.jsxs("label",{className:"font-semibold",children:["Tipologia",f.jsxs("select",{name:"tipo",value:o.tipo,onChange:x,className:"border border-blue-200 p-3 rounded-lg w-full mt-2 bg-gray-50 focus:ring-2 focus:ring-blue-300",required:!0,children:[f.jsx("option",{value:"consegna",children:"Consegna"}),f.jsx("option",{value:"ritiro",children:"Ritiro"}),f.jsx("option",{value:"entrambi",children:"Entrambi"})]})]}),f.jsxs("label",{className:"font-semibold",children:["Stato",f.jsxs("select",{name:"status",value:o.status,onChange:x,className:"border border-blue-200 p-3 rounded-lg w-full mt-2 bg-gray-50 focus:ring-2 focus:ring-blue-300",required:!0,children:[f.jsx("option",{value:"In attesa",children:"In attesa"}),f.jsx("option",{value:"In consegna",children:"In consegna"}),f.jsx("option",{value:"Completata",children:"Completata"}),f.jsx("option",{value:"Fallita",children:"Fallita"})]})]}),f.jsx("div",{className:"font-semibold flex items-center gap-4 mt-4 text-lg",children:f.jsx("button",{type:"button",className:o.daPianificare?"bg-yellow-100 text-yellow-700 px-6 py-2 rounded-full font-bold border border-yellow-300 shadow transition-all duration-150":"bg-green-100 text-green-700 px-6 py-2 rounded-full font-bold border border-green-300 shadow transition-all duration-150",onClick:()=>c(P=>({...P,daPianificare:!P.daPianificare})),children:o.daPianificare?"Da pianificare":"Pianificata"})})]}),f.jsxs("label",{className:"font-semibold",children:["Note",f.jsx("textarea",{name:"note",value:o.note,onChange:x,className:"border border-blue-200 p-3 rounded-lg w-full mt-2 bg-gray-50 focus:ring-2 focus:ring-blue-300",rows:3,placeholder:"Aggiungi eventuali note..."})]}),f.jsxs("div",{className:"flex gap-3 mt-6 justify-end",children:[f.jsxs("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-semibold shadow flex items-center gap-2 transition-all duration-150",children:[f.jsx("span",{className:"material-icons text-white text-base",children:"check_circle"})," Salva"]}),f.jsxs("button",{type:"button",className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-2 rounded-lg font-semibold shadow flex items-center gap-2 transition-all duration-150",onClick:t,children:[f.jsx("span",{className:"material-icons text-gray-500 text-base",children:"close"})," Annulla"]})]})]})]})})}function ij(){return typeof window>"u"?!1:/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(window.navigator.userAgent)}function aj(){const{notification:e,setNotification:t}=Bt(),{user:n,token:a}=Mt(),[o,c]=R.useState(!1);Fd({pollInterval:5e3,enablePushNotifications:!0});const[d,m]=R.useState([]),[v,_]=R.useState(null),[x,w]=R.useState(""),[N,P]=R.useState(""),C=In();R.useEffect(()=>{c(ij())},[]),R.useEffect(()=>{if(n&&a){e?.type==="spedizione"&&t(null);const $=()=>{fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${a}`}}).then(re=>re.json()).then(re=>m(re))};$();const W=setInterval($,2e3);return()=>clearInterval(W)}},[n,a,e,t]),R.useEffect(()=>{if(n&&a){let $=!0,W=0;const re=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${a}`}}).then(ce=>ce.json()).then(ce=>{$&&(W>0&&ce.length>W&&ce.slice(W).forEach(me=>{t({text:`${me.sender?.nome}: ${me.text}`})}),W=ce.length)})};re();const J=setInterval(re,2e3);return()=>{$=!1,clearInterval(J)}}},[t,n,a]);const[E,k]=R.useState(""),[O,A]=R.useState(""),[I,F]=R.useState(""),D=d.filter($=>$.daPianificare===!0&&$.status!=="Consegnata"&&(E===""||$.aziendaDestinazione?.toLowerCase().includes(E.toLowerCase())||$.status?.toLowerCase().includes(E.toLowerCase()))&&(O===""||$.tipo===O)&&(I===""||$.autista?.nome===I)),B=d.filter($=>$.daPianificare===!1&&$.status!=="Consegnata"&&(E===""||$.aziendaDestinazione?.toLowerCase().includes(E.toLowerCase())||$.status?.toLowerCase().includes(E.toLowerCase()))&&(O===""||$.tipo===O)&&(I===""||$.autista?.nome===I)),Z=$=>_($),H=()=>_(null),G=async $=>{try{if(!n||!a)throw new Error("Non autenticato");if(!(await fetch(`${Ee}/api/spedizioni/${$.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify($)})).ok)throw new Error;if(w("Spedizione aggiornata!"),_(null),fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${a}`}}).then(re=>re.json()).then(re=>m(re)),$.daPianificare===!1&&n&&a){const re={sender:{nome:"Sistema"},text:`Spedizione pianificata:
Destinazione: ${$.aziendaDestinazione||"-"}
Indirizzo: ${$.indirizzo||"-"}
Data: ${$.dataPianificata?new Date($.dataPianificata).toLocaleString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}
Autista: ${$.autista?.nome||"-"}
Tipo: ${$.tipo||"-"}
Richiedente: ${$.richiedente?.nome||$.richiedente||"-"}`,spedizioneId:$.id};await fetch(`${Ee}/api/messaggi`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(re)})}}catch{P("Errore nell'aggiornamento della spedizione")}};return f.jsxs("div",{className:o?"w-full min-h-screen flex flex-col bg-gray-50":"px-0 w-full",children:[f.jsx("div",{className:o?"sticky top-0 bg-white z-10 px-4 py-3 border-b flex items-center justify-between":"mb-6",children:f.jsx("h1",{className:o?"text-xl font-bold":"text-2xl font-bold",children:"Pianificazione"})}),x&&f.jsx("div",{className:o?"text-green-600 mb-2 px-4":"text-green-600 mb-2 px-2",children:x}),N&&f.jsx("div",{className:o?"text-red-600 mb-2 px-4":"text-red-600 mb-2 px-2",children:N}),f.jsxs("div",{className:o?"mb-8 w-full px-0":"mb-8",children:[f.jsxs("div",{className:o?"flex flex-col gap-2 px-4 mb-4":"flex gap-4 mb-4 items-center",children:[f.jsx("input",{type:"text",placeholder:"Cerca destinazione o stato...",value:E,onChange:$=>k($.target.value),className:"border rounded px-3 py-2 text-base w-48"}),f.jsxs("select",{value:O,onChange:$=>A($.target.value),className:"border rounded px-3 py-2 text-base w-40",children:[f.jsx("option",{value:"",children:"Tutti i tipi"}),f.jsx("option",{value:"Ritiro",children:"Ritiro"}),f.jsx("option",{value:"Consegna",children:"Consegna"}),f.jsx("option",{value:"Altro",children:"Altro"})]}),f.jsxs("select",{value:I,onChange:$=>F($.target.value),className:"border rounded px-3 py-2 text-base w-40",children:[f.jsx("option",{value:"",children:"Tutti gli autisti"}),d.map($=>$.autista?.nome).filter(($,W,re)=>$&&re.indexOf($)===W).map($=>f.jsx("option",{value:$,children:$},$))]})]}),f.jsx("h2",{className:o?"text-lg font-bold mb-2 px-4":"text-2xl font-bold mb-4",children:"Da pianificare"}),o?f.jsx("div",{className:"flex flex-col gap-3 px-2",children:D.map($=>{const W=$.dataPianificata?new Date($.dataPianificata):null,re=new Date,J=$.status&&($.status.toLowerCase().includes("completata")||$.status.toLowerCase().includes("consegnata")),ce=W&&W<re&&!J;return f.jsxs("div",{className:"bg-white rounded-xl shadow p-3 flex flex-col gap-1 cursor-pointer",onClick:()=>C(`/spedizioni/${$.id}`),children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-lg",children:"🕒"}),f.jsx("button",{className:"text-blue-600 hover:text-blue-800 px-2 py-1 border rounded text-sm",onClick:ge=>{ge.stopPropagation(),Z($)},children:"Pianifica"})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-sm mt-1",children:[f.jsx("span",{className:ce?"bg-red-100 text-red-600 rounded px-2 py-1 font-semibold":"bg-green-100 text-green-600 rounded px-2 py-1 font-semibold",children:W?W.toLocaleDateString():"-"}),f.jsx("span",{children:W?W.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"}),f.jsx("span",{className:"truncate",children:$.aziendaDestinazione||"-"}),f.jsx("span",{children:$.status||"-"}),f.jsx("span",{children:$.tipo}),f.jsx("span",{className:"truncate",children:$.autista?.nome||"-"})]})]},$.id)})}):f.jsx("div",{style:{overflowX:"auto",width:"100%"},children:f.jsxs("table",{className:"min-w-[1200px] border-separate border-spacing-y-2 table-fixed text-base",style:{minWidth:"1200px"},children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs text-gray-500",children:[f.jsx("th",{className:"w-[40px]",children:" "}),f.jsx("th",{className:"w-[140px]",children:"DATA"}),f.jsx("th",{className:"w-[100px]",children:"ORA"}),f.jsx("th",{className:"w-[250px]",children:"DESTINAZIONE"}),f.jsx("th",{className:"w-[140px]",children:"STATO"}),f.jsx("th",{className:"w-[100px]",children:"TIPO"}),f.jsx("th",{className:"w-[180px]",children:"AUTISTA"}),f.jsx("th",{className:"w-[180px]",children:"RICHIEDENTE"}),f.jsx("th",{className:"w-[60px]",children:"PIANIFICA"})]})}),f.jsx("tbody",{children:D.map($=>{const W=$.dataPianificata?new Date($.dataPianificata):null,re=new Date,J=$.status&&($.status.toLowerCase().includes("completata")||$.status.toLowerCase().includes("consegnata")),ce=W&&W<re&&!J;return f.jsxs("tr",{className:"bg-white hover:bg-blue-50 rounded shadow-lg text-base cursor-pointer group",onClick:()=>C(`/spedizioni/${$.id}`),children:[f.jsx("td",{className:"px-2 py-3",children:"🕒"}),f.jsx("td",{className:"px-2 py-3",children:f.jsx("span",{className:ce?"bg-red-100 text-red-600 rounded px-2 py-1 text-xs font-semibold":"bg-green-100 text-green-600 rounded px-2 py-1 text-xs font-semibold",children:W?W.toLocaleDateString():"-"})}),f.jsx("td",{className:"px-2 py-3",children:W?W.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"}),f.jsx("td",{className:"px-2 py-3 truncate",children:$.aziendaDestinazione||"-"}),f.jsx("td",{className:"px-2 py-3",children:$.status||"-"}),f.jsx("td",{className:"px-2 py-3",children:$.tipo}),f.jsx("td",{className:"px-2 py-3 truncate",children:$.autista?.nome||"-"}),f.jsx("td",{className:"px-2 py-3 truncate",children:$.richiedente?.nome||$.richiedente||"-"}),f.jsx("td",{className:"px-2 py-3 text-right",children:f.jsx("button",{className:"text-blue-600 hover:text-blue-800 px-2 py-1 border rounded",onClick:ge=>{ge.stopPropagation(),Z($)},children:"Pianifica"})})]},$.id)})})]})})]}),f.jsxs("div",{className:o?"mb-8 w-full px-0":"mb-8",children:[f.jsxs("div",{className:o?"flex flex-col gap-2 px-4 mb-4":"flex gap-4 mb-4 items-center",children:[f.jsx("input",{type:"text",placeholder:"Cerca destinazione o stato...",value:E,onChange:$=>k($.target.value),className:"border rounded px-3 py-2 text-base w-48"}),f.jsxs("select",{value:O,onChange:$=>A($.target.value),className:"border rounded px-3 py-2 text-base w-40",children:[f.jsx("option",{value:"",children:"Tutti i tipi"}),f.jsx("option",{value:"Ritiro",children:"Ritiro"}),f.jsx("option",{value:"Consegna",children:"Consegna"}),f.jsx("option",{value:"Altro",children:"Altro"})]}),f.jsxs("select",{value:I,onChange:$=>F($.target.value),className:"border rounded px-3 py-2 text-base w-40",children:[f.jsx("option",{value:"",children:"Tutti gli autisti"}),d.map($=>$.autista?.nome).filter(($,W,re)=>$&&re.indexOf($)===W).map($=>f.jsx("option",{value:$,children:$},$))]})]}),f.jsx("h2",{className:o?"text-lg font-bold mb-2 px-4":"text-2xl font-bold mb-4",children:"Pianificate"}),o?f.jsx("div",{className:"flex flex-col gap-3 px-2",children:B.map($=>{const W=$.dataPianificata?new Date($.dataPianificata):null,re=new Date,J=$.status&&($.status.toLowerCase().includes("completata")||$.status.toLowerCase().includes("consegnata")),ce=W&&W<re&&!J;return f.jsxs("div",{className:"bg-white rounded-xl shadow p-3 flex flex-col gap-1 cursor-pointer",onClick:()=>C(`/spedizioni/${$.id}`),children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-lg",children:"✅"}),f.jsx("button",{className:"text-blue-600 hover:text-blue-800 px-2 py-1 border rounded text-sm",onClick:ge=>{ge.stopPropagation(),Z($)},children:"Pianifica"})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-sm mt-1",children:[f.jsx("span",{className:ce?"bg-red-100 text-red-600 rounded px-2 py-1 font-semibold":"bg-green-100 text-green-600 rounded px-2 py-1 font-semibold",children:W?W.toLocaleDateString():"-"}),f.jsx("span",{children:W?W.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"}),f.jsx("span",{className:"truncate",children:$.aziendaDestinazione||"-"}),f.jsx("span",{children:$.status||"-"}),f.jsx("span",{children:$.tipo}),f.jsx("span",{className:"truncate",children:$.autista?.nome||"-"})]})]},$.id)})}):f.jsx("div",{style:{overflowX:"auto",width:"100%"},children:f.jsxs("table",{className:"min-w-[1200px] border-separate border-spacing-y-2 table-fixed text-base",style:{minWidth:"1200px"},children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs text-gray-500",children:[f.jsx("th",{className:"w-[40px]",children:" "}),f.jsx("th",{className:"w-[140px]",children:"DATA"}),f.jsx("th",{className:"w-[100px]",children:"ORA"}),f.jsx("th",{className:"w-[250px]",children:"DESTINAZIONE"}),f.jsx("th",{className:"w-[140px]",children:"STATO"}),f.jsx("th",{className:"w-[100px]",children:"TIPO"}),f.jsx("th",{className:"w-[180px]",children:"AUTISTA"}),f.jsx("th",{className:"w-[180px]",children:"RICHIEDENTE"}),f.jsx("th",{className:"w-[60px]",children:"PIANIFICA"})]})}),f.jsx("tbody",{children:B.map($=>{const W=$.dataPianificata?new Date($.dataPianificata):null,re=new Date,J=$.status&&($.status.toLowerCase().includes("completata")||$.status.toLowerCase().includes("consegnata")),ce=W&&W<re&&!J;return f.jsxs("tr",{className:"bg-white hover:bg-blue-50 rounded shadow-lg text-base cursor-pointer group",onClick:()=>C(`/spedizioni/${$.id}`),children:[f.jsx("td",{className:"px-2 py-3",children:"✅"}),f.jsx("td",{className:"px-2 py-3",children:f.jsx("span",{className:ce?"bg-red-100 text-red-600 rounded px-2 py-1 text-xs font-semibold":"bg-green-100 text-green-600 rounded px-2 py-1 text-xs font-semibold",children:W?W.toLocaleDateString():"-"})}),f.jsx("td",{className:"px-2 py-3",children:W?W.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"}),f.jsx("td",{className:"px-2 py-3 truncate",children:$.aziendaDestinazione||"-"}),f.jsx("td",{className:"px-2 py-3",children:$.status||"-"}),f.jsx("td",{className:"px-2 py-3",children:$.tipo}),f.jsx("td",{className:"px-2 py-3 truncate",children:$.autista?.nome||"-"}),f.jsx("td",{className:"px-2 py-3 truncate",children:$.richiedente?.nome||$.richiedente||"-"}),f.jsx("td",{className:"px-2 py-3 text-right",children:f.jsx("button",{className:"text-blue-600 hover:text-blue-800 px-2 py-1 border rounded",onClick:ge=>{ge.stopPropagation(),Z($)},children:"Pianifica"})})]},$.id)})})]})})]}),v&&f.jsx(rj,{spedizione:v,onClose:H,onSave:G})]})}var xN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_0=X.createContext&&X.createContext(xN),sj=["attr","size","title"];function oj(e,t){if(e==null)return{};var n=lj(e,t),a,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)a=c[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function lj(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Nd.apply(this,arguments)}function x0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,a)}return n}function Ed(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x0(Object(n),!0).forEach(function(a){uj(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function uj(e,t,n){return t=cj(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cj(e){var t=dj(e,"string");return typeof t=="symbol"?t:t+""}function dj(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wN(e){return e&&e.map((t,n)=>X.createElement(t.tag,Ed({key:n},t.attr),wN(t.child)))}function fj(e){return t=>X.createElement(hj,Nd({attr:Ed({},e.attr)},t),wN(e.child))}function hj(e){var t=n=>{var{attr:a,size:o,title:c}=e,d=oj(e,sj),m=o||n.size||"1em",v;return n.className&&(v=n.className),e.className&&(v=(v?v+" ":"")+e.className),X.createElement("svg",Nd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,d,{className:v,style:Ed(Ed({color:e.color||n.color},n.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&X.createElement("title",null,c),e.children)};return _0!==void 0?X.createElement(_0.Consumer,null,n=>t(n)):t(xN)}function w0(e){return fj({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"},child:[]}]})(e)}const bN=R.createContext({sidebarOpen:!0,setSidebarOpen:()=>{}});function pj({children:e}){const[t,n]=R.useState(!0);return f.jsx(bN.Provider,{value:{sidebarOpen:t,setSidebarOpen:n},children:e})}function $i(e){"@babel/helpers - typeof";return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(e)}function mj(e,t){if($i(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if($i(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SN(e){var t=mj(e,"string");return $i(t)=="symbol"?t:t+""}function ms(e,t,n){return(t=SN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,a)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b0(Object(n),!0).forEach(function(a){ms(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function $d(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function ii(e,t){if(e==null)return{};var n,a,o=$d(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S0(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,SN(a.key),a)}}function Wt(e,t,n){return t&&S0(e.prototype,t),n&&S0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pd(e){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pd(e)}function NN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NN=function(){return!!e})()}function vj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gj(e,t){if(t&&($i(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vj(e)}function hn(e,t,n){return t=Pd(t),gj(e,NN()?Reflect.construct(t,n||[],Pd(e).constructor):t.apply(e,n))}function Cd(e,t){return Cd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cd(e,t)}function pn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cd(e,t)}function EN(e){if(Array.isArray(e))return e}function yj(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,o,c,d,m=[],v=!0,_=!1;try{if(c=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(a=c.call(n)).done)&&(m.push(a.value),m.length!==t);v=!0);}catch(x){_=!0,o=x}finally{try{if(!v&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(_)throw o}}return m}}function Fg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function fy(e,t){if(e){if(typeof e=="string")return Fg(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fg(e,t):void 0}}function PN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gr(e,t){return EN(e)||yj(e,t)||fy(e,t)||PN()}function CN(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=CN(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function kt(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=CN(e))&&(a&&(a+=" "),a+=t);return a}function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ct.apply(null,arguments)}var Gh,N0;function _j(){if(N0)return Gh;N0=1;var e=function(t,n,a,o,c,d,m,v){if(!t){var _;if(n===void 0)_=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var x=[a,o,c,d,m,v],w=0;_=new Error(n.replace(/%s/g,function(){return x[w++]})),_.name="Invariant Violation"}throw _.framesToPop=1,_}};return Gh=e,Gh}var xj=_j();const Jl=fn(xj);var wj=function(){};function bj(e,t){var n={};return Object.keys(e).forEach(function(a){n[od(a)]=wj}),n}function E0(e,t){return e[t]!==void 0}function od(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Sj(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function Nj(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Cd(e,t)}function kN(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function jN(e){function t(n){var a=this.constructor.getDerivedStateFromProps(e,n);return a??null}this.setState(t.bind(this))}function TN(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}kN.__suppressDeprecationWarning=!0;jN.__suppressDeprecationWarning=!0;TN.__suppressDeprecationWarning=!0;function Ej(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,a=null,o=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?a="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(a="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?o="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),n!==null||a!==null||o!==null){var c=e.displayName||e.name,d=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+c+" uses "+d+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=kN,t.componentWillReceiveProps=jN),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=TN;var m=t.componentDidUpdate;t.componentDidUpdate=function(_,x,w){var N=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:w;m.call(this,_,x,N)}}return e}var Pj="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function ON(e,t,n){n===void 0&&(n=[]);var a=e.displayName||e.name||"Component",o=Sj(e),c=Object.keys(t),d=c.map(od);o||!n.length||Jl(!1);var m=(function(_){Nj(x,_);function x(){for(var N,P=arguments.length,C=new Array(P),E=0;E<P;E++)C[E]=arguments[E];N=_.call.apply(_,[this].concat(C))||this,N.handlers=Object.create(null),c.forEach(function(O){var A=t[O],I=function(D){if(N.props[A]){var B;N._notifying=!0;for(var Z=arguments.length,H=new Array(Z>1?Z-1:0),G=1;G<Z;G++)H[G-1]=arguments[G];(B=N.props)[A].apply(B,[D].concat(H)),N._notifying=!1}N.unmounted||N.setState(function($){var W,re=$.values;return{values:Ct(Object.create(null),re,(W={},W[O]=D,W))}})};N.handlers[A]=I}),n.length&&(N.attachRef=function(O){N.inner=O});var k=Object.create(null);return c.forEach(function(O){k[O]=N.props[od(O)]}),N.state={values:k,prevProps:{}},N}var w=x.prototype;return w.shouldComponentUpdate=function(){return!this._notifying},x.getDerivedStateFromProps=function(P,C){var E=C.values,k=C.prevProps,O={values:Ct(Object.create(null),E),prevProps:{}};return c.forEach(function(A){O.prevProps[A]=P[A],!E0(P,A)&&E0(k,A)&&(O.values[A]=P[od(A)])}),O},w.componentWillUnmount=function(){this.unmounted=!0},w.render=function(){var P=this,C=this.props,E=C.innerRef,k=$d(C,["innerRef"]);d.forEach(function(A){delete k[A]});var O={};return c.forEach(function(A){var I=P.props[A];O[A]=I!==void 0?I:P.state.values[A]}),X.createElement(e,Ct({},k,O,this.handlers,{ref:E||this.attachRef}))},x})(X.Component);Ej(m),m.displayName="Uncontrolled("+a+")",m.propTypes=Ct({innerRef:function(){}},bj(t)),n.forEach(function(_){m.prototype[_]=function(){var w;return(w=this.inner)[_].apply(w,arguments)}});var v=m;return X.forwardRef&&(v=X.forwardRef(function(_,x){return X.createElement(m,Ct({},_,{innerRef:x,__source:{fileName:Pj,lineNumber:128},__self:this}))}),v.propTypes=m.propTypes),v.ControlledComponent=e,v.deferControlTo=function(_,x,w){return x===void 0&&(x={}),ON(_,Ct({},t,x),w)},v}var Kh={exports:{}},Xh,P0;function Cj(){if(P0)return Xh;P0=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Xh=e,Xh}var Jh,C0;function kj(){if(C0)return Jh;C0=1;var e=Cj();function t(){}function n(){}return n.resetWarningCache=t,Jh=function(){function a(d,m,v,_,x,w){if(w!==e){var N=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw N.name="Invariant Violation",N}}a.isRequired=a;function o(){return a}var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:o,element:a,elementType:a,instanceOf:o,node:a,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return c.PropTypes=c,c},Jh}var k0;function jj(){return k0||(k0=1,Kh.exports=kj()()),Kh.exports}var Tj=jj();const be=fn(Tj);var kd="milliseconds",Ql="seconds",eu="minutes",tu="hours",xs="day",Po="week",nu="month",ws="year",bs="decade",Ss="century",MN={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},Oj={month:1,year:12,decade:120,century:1200};function Mj(e){return[31,Dj(e),31,30,31,30,31,31,30,31,30,31]}function Dj(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Ar(e,t,n){switch(e=new Date(e),n){case kd:case Ql:case eu:case tu:case xs:case Po:return Lj(e,t*MN[n]);case nu:case ws:case bs:case Ss:return Rj(e,t*Oj[n])}throw new TypeError('Invalid units: "'+n+'"')}function Lj(e,t){var n=new Date(+e+t);return zj(e,n)}function Rj(e,t){var n=e.getFullYear(),a=e.getMonth(),o=e.getDate(),c=n*12+a+t,d=Math.trunc(c/12),m=c%12,v=Math.min(o,Mj(d)[m]),_=new Date(e);return _.setFullYear(d),_.setDate(1),_.setMonth(m),_.setDate(v),_}function zj(e,t){var n=e.getTimezoneOffset(),a=t.getTimezoneOffset(),o=a-n;return new Date(+t+o*MN.minutes)}function ru(e,t,n){return Ar(e,-t,n)}function Qt(e,t,n){switch(e=new Date(e),t){case Ss:case bs:case ws:e=Td(e,0);case nu:e=AN(e,1);case Po:case xs:e=su(e,0);case tu:e=Co(e,0);case eu:e=au(e,0);case Ql:e=iu(e,0)}return t===bs&&(e=ru(e,Ns(e)%10,"year")),t===Ss&&(e=ru(e,Ns(e)%100,"year")),t===Po&&(e=IN(e,0,n)),e}function jd(e,t,n){switch(e=new Date(e),e=Qt(e,t,n),t){case Ss:case bs:case ws:case nu:case Po:e=Ar(e,1,t),e=ru(e,1,xs),e.setHours(23,59,59,999);break;case xs:e.setHours(23,59,59,999);break;case tu:case eu:case Ql:e=Ar(e,1,t),e=ru(e,1,kd)}return e}var vu=zo(function(e,t){return e===t}),hy=zo(function(e,t){return e!==t}),Bd=zo(function(e,t){return e>t}),gu=zo(function(e,t){return e>=t}),py=zo(function(e,t){return e<t}),Ro=zo(function(e,t){return e<=t});function DN(){return new Date(Math.min.apply(Math,arguments))}function LN(){return new Date(Math.max.apply(Math,arguments))}function RN(e,t,n,a){return a=a||"day",(!t||gu(e,t,a))&&(!n||Ro(e,n,a))}var iu=Ra("Milliseconds"),au=Ra("Seconds"),Co=Ra("Minutes"),su=Ra("Hours"),zN=Ra("Day"),AN=Ra("Date"),Td=Ra("Month"),Ns=Ra("FullYear");function Aj(e,t){return t===void 0?Ns(Qt(e,bs)):Ar(e,t+10,ws)}function Ij(e,t){return t===void 0?Ns(Qt(e,Ss)):Ar(e,t+100,ws)}function IN(e,t,n){var a=(zN(e)+7-(n||0))%7;return t===void 0?a:Ar(e,t-a,xs)}function Fj(e,t,n,a){var o,c,d;switch(n){case kd:case Ql:case eu:case tu:case xs:case Po:o=t.getTime()-e.getTime();break;case nu:case ws:case bs:case Ss:o=(Ns(t)-Ns(e))*12+Td(t)-Td(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case kd:c=1;break;case Ql:c=1e3;break;case eu:c=1e3*60;break;case tu:c=1e3*60*60;break;case xs:c=1e3*60*60*24;break;case Po:c=1e3*60*60*24*7;break;case nu:c=1;break;case ws:c=12;break;case bs:c=120;break;case Ss:c=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return d=o/c,a?d:Math.round(d)}function Ra(e){var t=(function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}})(e);return function(n,a){if(a===void 0)return n["get"+e]();var o=new Date(n);return o["set"+e](a),t&&o["get"+e]()!=a&&(e==="Hours"||a>=t&&o.getHours()-n.getHours()<Math.floor(a/t))&&o["set"+e](a+t),o}}function zo(e){return function(t,n,a){return e(+Qt(t,a),+Qt(n,a))}}const j0=Object.freeze(Object.defineProperty({__proto__:null,add:Ar,century:Ij,date:AN,day:zN,decade:Aj,diff:Fj,endOf:jd,eq:vu,gt:Bd,gte:gu,hours:su,inRange:RN,lt:py,lte:Ro,max:LN,milliseconds:iu,min:DN,minutes:Co,month:Td,neq:hy,seconds:au,startOf:Qt,subtract:ru,weekday:IN,year:Ns},Symbol.toStringTag,{value:"Module"}));function $j(e){if(Array.isArray(e))return Fg(e)}function FN(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ld(e){return $j(e)||FN(e)||fy(e)||Bj()}var Qh,T0;function $N(){if(T0)return Qh;T0=1;function e(t,n,a){var o=-1,c=t.length;n<0&&(n=-n>c?0:c+n),a=a>c?c:a,a<0&&(a+=c),c=n>a?0:a-n>>>0,n>>>=0;for(var d=Array(c);++o<c;)d[o]=t[o+n];return d}return Qh=e,Qh}var ep,O0;function yu(){if(O0)return ep;O0=1;function e(t,n){return t===n||t!==t&&n!==n}return ep=e,ep}var tp,M0;function BN(){if(M0)return tp;M0=1;var e=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;return tp=e,tp}var np,D0;function si(){if(D0)return np;D0=1;var e=BN(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return np=n,np}var rp,L0;function Ao(){if(L0)return rp;L0=1;var e=si(),t=e.Symbol;return rp=t,rp}var ip,R0;function qj(){if(R0)return ip;R0=1;var e=Ao(),t=Object.prototype,n=t.hasOwnProperty,a=t.toString,o=e?e.toStringTag:void 0;function c(d){var m=n.call(d,o),v=d[o];try{d[o]=void 0;var _=!0}catch{}var x=a.call(d);return _&&(m?d[o]=v:delete d[o]),x}return ip=c,ip}var ap,z0;function Wj(){if(z0)return ap;z0=1;var e=Object.prototype,t=e.toString;function n(a){return t.call(a)}return ap=n,ap}var sp,A0;function Io(){if(A0)return sp;A0=1;var e=Ao(),t=qj(),n=Wj(),a="[object Null]",o="[object Undefined]",c=e?e.toStringTag:void 0;function d(m){return m==null?m===void 0?o:a:c&&c in Object(m)?t(m):n(m)}return sp=d,sp}var op,I0;function Ui(){if(I0)return op;I0=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return op=e,op}var lp,F0;function my(){if(F0)return lp;F0=1;var e=Io(),t=Ui(),n="[object AsyncFunction]",a="[object Function]",o="[object GeneratorFunction]",c="[object Proxy]";function d(m){if(!t(m))return!1;var v=e(m);return v==a||v==o||v==n||v==c}return lp=d,lp}var up,$0;function vy(){if($0)return up;$0=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return up=t,up}var cp,B0;function _u(){if(B0)return cp;B0=1;var e=my(),t=vy();function n(a){return a!=null&&t(a.length)&&!e(a)}return cp=n,cp}var dp,q0;function gy(){if(q0)return dp;q0=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(a,o){var c=typeof a;return o=o??e,!!o&&(c=="number"||c!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<o}return dp=n,dp}var fp,W0;function qd(){if(W0)return fp;W0=1;var e=yu(),t=_u(),n=gy(),a=Ui();function o(c,d,m){if(!a(m))return!1;var v=typeof d;return(v=="number"?t(m)&&n(d,m.length):v=="string"&&d in m)?e(m[d],c):!1}return fp=o,fp}var hp,U0;function Uj(){if(U0)return hp;U0=1;var e=/\s/;function t(n){for(var a=n.length;a--&&e.test(n.charAt(a)););return a}return hp=t,hp}var pp,H0;function Hj(){if(H0)return pp;H0=1;var e=Uj(),t=/^\s+/;function n(a){return a&&a.slice(0,e(a)+1).replace(t,"")}return pp=n,pp}var mp,Y0;function za(){if(Y0)return mp;Y0=1;function e(t){return t!=null&&typeof t=="object"}return mp=e,mp}var vp,Z0;function xu(){if(Z0)return vp;Z0=1;var e=Io(),t=za(),n="[object Symbol]";function a(o){return typeof o=="symbol"||t(o)&&e(o)==n}return vp=a,vp}var gp,V0;function Yj(){if(V0)return gp;V0=1;var e=Hj(),t=Ui(),n=xu(),a=NaN,o=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,d=/^0o[0-7]+$/i,m=parseInt;function v(_){if(typeof _=="number")return _;if(n(_))return a;if(t(_)){var x=typeof _.valueOf=="function"?_.valueOf():_;_=t(x)?x+"":x}if(typeof _!="string")return _===0?_:+_;_=e(_);var w=c.test(_);return w||d.test(_)?m(_.slice(2),w?2:8):o.test(_)?a:+_}return gp=v,gp}var yp,G0;function qN(){if(G0)return yp;G0=1;var e=Yj(),t=1/0,n=17976931348623157e292;function a(o){if(!o)return o===0?o:0;if(o=e(o),o===t||o===-t){var c=o<0?-1:1;return c*n}return o===o?o:0}return yp=a,yp}var _p,K0;function WN(){if(K0)return _p;K0=1;var e=qN();function t(n){var a=e(n),o=a%1;return a===a?o?a-o:a:0}return _p=t,_p}var xp,X0;function Zj(){if(X0)return xp;X0=1;var e=$N(),t=qd(),n=WN(),a=Math.ceil,o=Math.max;function c(d,m,v){(v?t(d,m,v):m===void 0)?m=1:m=o(n(m),0);var _=d==null?0:d.length;if(!_||m<1)return[];for(var x=0,w=0,N=Array(a(_/m));x<_;)N[w++]=e(d,x,x+=m);return N}return xp=c,xp}var Vj=Zj();const Gj=fn(Vj);function wu(e){return e&&e.ownerDocument||document}function Kj(e){var t=wu(e);return t&&t.defaultView||window}function Xj(e,t){return Kj(e).getComputedStyle(e,t)}var Jj=/([A-Z])/g;function Qj(e){return e.replace(Jj,"-$1").toLowerCase()}var eT=/^ms-/;function Qc(e){return Qj(e).replace(eT,"-ms-")}var tT=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function nT(e){return!!(e&&tT.test(e))}function xo(e,t){var n="",a="";if(typeof t=="string")return e.style.getPropertyValue(Qc(t))||Xj(e).getPropertyValue(Qc(t));Object.keys(t).forEach(function(o){var c=t[o];!c&&c!==0?e.style.removeProperty(Qc(o)):nT(o)?a+=o+"("+c+") ":n+=Qc(o)+": "+c+";"}),a&&(n+="transform: "+a+";"),e.style.cssText+=";"+n}function ou(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function rT(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function yy(e){return"window"in e&&e.window===e?e:rT(e)&&e.defaultView||!1}function UN(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(a,o){var c=yy(a);if(o===void 0)return c?c[e]:a[t];c?c.scrollTo(c[e],o):a[t]=o}return n}const HN=UN("pageXOffset"),YN=UN("pageYOffset");function gs(e){var t=wu(e),n={top:0,left:0,height:0,width:0},a=t&&t.documentElement;return!a||!ou(a,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+YN(a)-(a.clientTop||0),left:n.left+HN(a)-(a.clientLeft||0),width:n.width,height:n.height}),n}var iT=function(t){return!!t&&"offsetParent"in t};function aT(e){for(var t=wu(e),n=e&&e.offsetParent;iT(n)&&n.nodeName!=="HTML"&&xo(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}var sT=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function ZN(e,t){var n={top:0,left:0},a;if(xo(e,"position")==="fixed")a=e.getBoundingClientRect();else{var o=t||aT(e);a=gs(e),sT(o)!=="html"&&(n=gs(o));var c=String(xo(o,"borderTopWidth")||0);n.top+=parseInt(c,10)-YN(o)||0;var d=String(xo(o,"borderLeftWidth")||0);n.left+=parseInt(d,10)-HN(o)||0}var m=String(xo(e,"marginTop")||0),v=String(xo(e,"marginLeft")||0);return Ct({},a,{top:a.top-n.top-(parseInt(m,10)||0),left:a.left-n.left-(parseInt(v,10)||0)})}const _y=!!(typeof window<"u"&&window.document&&window.document.createElement);var J0=new Date().getTime();function oT(e){var t=new Date().getTime(),n=Math.max(0,16-(t-J0)),a=setTimeout(e,n);return J0=t,a}var lT=["","webkit","moz","o","ms"],$g="clearTimeout",Bg=oT,Q0=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};_y&&lT.some(function(e){var t=Q0(e,"request");return t in window&&($g=Q0(e,"cancel"),Bg=function(a){return window[t](a)}),!!Bg});var ew=function(t){typeof window[$g]=="function"&&window[$g](t)},VN=Bg,wp;function uT(e,t){if(!wp){var n=document.body,a=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;wp=function(c,d){return a.call(c,d)}}return wp(e,t)}var cT=Function.prototype.bind.call(Function.prototype.call,[].slice);function dT(e,t){return cT(e.querySelectorAll(t))}var qg=!1,Wg=!1;try{var bp={get passive(){return qg=!0},get once(){return Wg=qg=!0}};_y&&(window.addEventListener("test",bp,bp),window.removeEventListener("test",bp,!0))}catch{}function fT(e,t,n,a){if(a&&typeof a!="boolean"&&!Wg){var o=a.once,c=a.capture,d=n;!Wg&&o&&(d=n.__once||function m(v){this.removeEventListener(t,m,c),n.call(this,v)},n.__once=d),e.addEventListener(t,d,qg?a:c)}e.addEventListener(t,n,a)}function hT(e){const t=R.useRef(e);return R.useEffect(()=>{t.current=e},[e]),t}function tw(e){const t=hT(e);return R.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function nw(){return R.useState(null)}function pT(){const e=R.useRef(!0),t=R.useRef(()=>e.current);return R.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function mT(e){const t=pT();return[e[0],R.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var Rn="top",yr="bottom",_r="right",zn="left",xy="auto",bu=[Rn,yr,_r,zn],ko="start",lu="end",vT="clippingParents",GN="viewport",Il="popper",gT="reference",rw=bu.reduce(function(e,t){return e.concat([t+"-"+ko,t+"-"+lu])},[]),wy=[].concat(bu,[xy]).reduce(function(e,t){return e.concat([t,t+"-"+ko,t+"-"+lu])},[]),yT="beforeRead",_T="read",xT="afterRead",wT="beforeMain",bT="main",ST="afterMain",NT="beforeWrite",ET="write",PT="afterWrite",CT=[yT,_T,xT,wT,bT,ST,NT,ET,PT];function ni(e){return e.split("-")[0]}function Jn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Es(e){var t=Jn(e).Element;return e instanceof t||e instanceof Element}function ri(e){var t=Jn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function by(e){if(typeof ShadowRoot>"u")return!1;var t=Jn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var ys=Math.max,Od=Math.min,jo=Math.round;function Ug(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function KN(){return!/^((?!chrome|android).)*safari/i.test(Ug())}function To(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var a=e.getBoundingClientRect(),o=1,c=1;t&&ri(e)&&(o=e.offsetWidth>0&&jo(a.width)/e.offsetWidth||1,c=e.offsetHeight>0&&jo(a.height)/e.offsetHeight||1);var d=Es(e)?Jn(e):window,m=d.visualViewport,v=!KN()&&n,_=(a.left+(v&&m?m.offsetLeft:0))/o,x=(a.top+(v&&m?m.offsetTop:0))/c,w=a.width/o,N=a.height/c;return{width:w,height:N,top:x,right:_+w,bottom:x+N,left:_,x:_,y:x}}function Sy(e){var t=To(e),n=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:a}}function XN(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&by(n)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Ma(e){return e?(e.nodeName||"").toLowerCase():null}function Bi(e){return Jn(e).getComputedStyle(e)}function kT(e){return["table","td","th"].indexOf(Ma(e))>=0}function Aa(e){return((Es(e)?e.ownerDocument:e.document)||window.document).documentElement}function Wd(e){return Ma(e)==="html"?e:e.assignedSlot||e.parentNode||(by(e)?e.host:null)||Aa(e)}function iw(e){return!ri(e)||Bi(e).position==="fixed"?null:e.offsetParent}function jT(e){var t=/firefox/i.test(Ug()),n=/Trident/i.test(Ug());if(n&&ri(e)){var a=Bi(e);if(a.position==="fixed")return null}var o=Wd(e);for(by(o)&&(o=o.host);ri(o)&&["html","body"].indexOf(Ma(o))<0;){var c=Bi(o);if(c.transform!=="none"||c.perspective!=="none"||c.contain==="paint"||["transform","perspective"].indexOf(c.willChange)!==-1||t&&c.willChange==="filter"||t&&c.filter&&c.filter!=="none")return o;o=o.parentNode}return null}function Su(e){for(var t=Jn(e),n=iw(e);n&&kT(n)&&Bi(n).position==="static";)n=iw(n);return n&&(Ma(n)==="html"||Ma(n)==="body"&&Bi(n).position==="static")?t:n||jT(e)||t}function Ny(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Zl(e,t,n){return ys(e,Od(t,n))}function TT(e,t,n){var a=Zl(e,t,n);return a>n?n:a}function JN(){return{top:0,right:0,bottom:0,left:0}}function QN(e){return Object.assign({},JN(),e)}function eE(e,t){return t.reduce(function(n,a){return n[a]=e,n},{})}var OT=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,QN(typeof t!="number"?t:eE(t,bu))};function MT(e){var t,n=e.state,a=e.name,o=e.options,c=n.elements.arrow,d=n.modifiersData.popperOffsets,m=ni(n.placement),v=Ny(m),_=[zn,_r].indexOf(m)>=0,x=_?"height":"width";if(!(!c||!d)){var w=OT(o.padding,n),N=Sy(c),P=v==="y"?Rn:zn,C=v==="y"?yr:_r,E=n.rects.reference[x]+n.rects.reference[v]-d[v]-n.rects.popper[x],k=d[v]-n.rects.reference[v],O=Su(c),A=O?v==="y"?O.clientHeight||0:O.clientWidth||0:0,I=E/2-k/2,F=w[P],D=A-N[x]-w[C],B=A/2-N[x]/2+I,Z=Zl(F,B,D),H=v;n.modifiersData[a]=(t={},t[H]=Z,t.centerOffset=Z-B,t)}}function DT(e){var t=e.state,n=e.options,a=n.element,o=a===void 0?"[data-popper-arrow]":a;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||XN(t.elements.popper,o)&&(t.elements.arrow=o))}const LT={name:"arrow",enabled:!0,phase:"main",fn:MT,effect:DT,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Oo(e){return e.split("-")[1]}var RT={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zT(e,t){var n=e.x,a=e.y,o=t.devicePixelRatio||1;return{x:jo(n*o)/o||0,y:jo(a*o)/o||0}}function aw(e){var t,n=e.popper,a=e.popperRect,o=e.placement,c=e.variation,d=e.offsets,m=e.position,v=e.gpuAcceleration,_=e.adaptive,x=e.roundOffsets,w=e.isFixed,N=d.x,P=N===void 0?0:N,C=d.y,E=C===void 0?0:C,k=typeof x=="function"?x({x:P,y:E}):{x:P,y:E};P=k.x,E=k.y;var O=d.hasOwnProperty("x"),A=d.hasOwnProperty("y"),I=zn,F=Rn,D=window;if(_){var B=Su(n),Z="clientHeight",H="clientWidth";if(B===Jn(n)&&(B=Aa(n),Bi(B).position!=="static"&&m==="absolute"&&(Z="scrollHeight",H="scrollWidth")),B=B,o===Rn||(o===zn||o===_r)&&c===lu){F=yr;var G=w&&B===D&&D.visualViewport?D.visualViewport.height:B[Z];E-=G-a.height,E*=v?1:-1}if(o===zn||(o===Rn||o===yr)&&c===lu){I=_r;var $=w&&B===D&&D.visualViewport?D.visualViewport.width:B[H];P-=$-a.width,P*=v?1:-1}}var W=Object.assign({position:m},_&&RT),re=x===!0?zT({x:P,y:E},Jn(n)):{x:P,y:E};if(P=re.x,E=re.y,v){var J;return Object.assign({},W,(J={},J[F]=A?"0":"",J[I]=O?"0":"",J.transform=(D.devicePixelRatio||1)<=1?"translate("+P+"px, "+E+"px)":"translate3d("+P+"px, "+E+"px, 0)",J))}return Object.assign({},W,(t={},t[F]=A?E+"px":"",t[I]=O?P+"px":"",t.transform="",t))}function AT(e){var t=e.state,n=e.options,a=n.gpuAcceleration,o=a===void 0?!0:a,c=n.adaptive,d=c===void 0?!0:c,m=n.roundOffsets,v=m===void 0?!0:m,_={placement:ni(t.placement),variation:Oo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,aw(Object.assign({},_,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:d,roundOffsets:v})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,aw(Object.assign({},_,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:v})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const IT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:AT,data:{}};var ed={passive:!0};function FT(e){var t=e.state,n=e.instance,a=e.options,o=a.scroll,c=o===void 0?!0:o,d=a.resize,m=d===void 0?!0:d,v=Jn(t.elements.popper),_=[].concat(t.scrollParents.reference,t.scrollParents.popper);return c&&_.forEach(function(x){x.addEventListener("scroll",n.update,ed)}),m&&v.addEventListener("resize",n.update,ed),function(){c&&_.forEach(function(x){x.removeEventListener("scroll",n.update,ed)}),m&&v.removeEventListener("resize",n.update,ed)}}const $T={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:FT,data:{}};var BT={left:"right",right:"left",bottom:"top",top:"bottom"};function ud(e){return e.replace(/left|right|bottom|top/g,function(t){return BT[t]})}var qT={start:"end",end:"start"};function sw(e){return e.replace(/start|end/g,function(t){return qT[t]})}function Ey(e){var t=Jn(e),n=t.pageXOffset,a=t.pageYOffset;return{scrollLeft:n,scrollTop:a}}function Py(e){return To(Aa(e)).left+Ey(e).scrollLeft}function WT(e,t){var n=Jn(e),a=Aa(e),o=n.visualViewport,c=a.clientWidth,d=a.clientHeight,m=0,v=0;if(o){c=o.width,d=o.height;var _=KN();(_||!_&&t==="fixed")&&(m=o.offsetLeft,v=o.offsetTop)}return{width:c,height:d,x:m+Py(e),y:v}}function UT(e){var t,n=Aa(e),a=Ey(e),o=(t=e.ownerDocument)==null?void 0:t.body,c=ys(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),d=ys(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),m=-a.scrollLeft+Py(e),v=-a.scrollTop;return Bi(o||n).direction==="rtl"&&(m+=ys(n.clientWidth,o?o.clientWidth:0)-c),{width:c,height:d,x:m,y:v}}function Cy(e){var t=Bi(e),n=t.overflow,a=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+a)}function tE(e){return["html","body","#document"].indexOf(Ma(e))>=0?e.ownerDocument.body:ri(e)&&Cy(e)?e:tE(Wd(e))}function Vl(e,t){var n;t===void 0&&(t=[]);var a=tE(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),c=Jn(a),d=o?[c].concat(c.visualViewport||[],Cy(a)?a:[]):a,m=t.concat(d);return o?m:m.concat(Vl(Wd(d)))}function Hg(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function HT(e,t){var n=To(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function ow(e,t,n){return t===GN?Hg(WT(e,n)):Es(t)?HT(t,n):Hg(UT(Aa(e)))}function YT(e){var t=Vl(Wd(e)),n=["absolute","fixed"].indexOf(Bi(e).position)>=0,a=n&&ri(e)?Su(e):e;return Es(a)?t.filter(function(o){return Es(o)&&XN(o,a)&&Ma(o)!=="body"}):[]}function ZT(e,t,n,a){var o=t==="clippingParents"?YT(e):[].concat(t),c=[].concat(o,[n]),d=c[0],m=c.reduce(function(v,_){var x=ow(e,_,a);return v.top=ys(x.top,v.top),v.right=Od(x.right,v.right),v.bottom=Od(x.bottom,v.bottom),v.left=ys(x.left,v.left),v},ow(e,d,a));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function nE(e){var t=e.reference,n=e.element,a=e.placement,o=a?ni(a):null,c=a?Oo(a):null,d=t.x+t.width/2-n.width/2,m=t.y+t.height/2-n.height/2,v;switch(o){case Rn:v={x:d,y:t.y-n.height};break;case yr:v={x:d,y:t.y+t.height};break;case _r:v={x:t.x+t.width,y:m};break;case zn:v={x:t.x-n.width,y:m};break;default:v={x:t.x,y:t.y}}var _=o?Ny(o):null;if(_!=null){var x=_==="y"?"height":"width";switch(c){case ko:v[_]=v[_]-(t[x]/2-n[x]/2);break;case lu:v[_]=v[_]+(t[x]/2-n[x]/2);break}}return v}function uu(e,t){t===void 0&&(t={});var n=t,a=n.placement,o=a===void 0?e.placement:a,c=n.strategy,d=c===void 0?e.strategy:c,m=n.boundary,v=m===void 0?vT:m,_=n.rootBoundary,x=_===void 0?GN:_,w=n.elementContext,N=w===void 0?Il:w,P=n.altBoundary,C=P===void 0?!1:P,E=n.padding,k=E===void 0?0:E,O=QN(typeof k!="number"?k:eE(k,bu)),A=N===Il?gT:Il,I=e.rects.popper,F=e.elements[C?A:N],D=ZT(Es(F)?F:F.contextElement||Aa(e.elements.popper),v,x,d),B=To(e.elements.reference),Z=nE({reference:B,element:I,placement:o}),H=Hg(Object.assign({},I,Z)),G=N===Il?H:B,$={top:D.top-G.top+O.top,bottom:G.bottom-D.bottom+O.bottom,left:D.left-G.left+O.left,right:G.right-D.right+O.right},W=e.modifiersData.offset;if(N===Il&&W){var re=W[o];Object.keys($).forEach(function(J){var ce=[_r,yr].indexOf(J)>=0?1:-1,ge=[Rn,yr].indexOf(J)>=0?"y":"x";$[J]+=re[ge]*ce})}return $}function VT(e,t){t===void 0&&(t={});var n=t,a=n.placement,o=n.boundary,c=n.rootBoundary,d=n.padding,m=n.flipVariations,v=n.allowedAutoPlacements,_=v===void 0?wy:v,x=Oo(a),w=x?m?rw:rw.filter(function(C){return Oo(C)===x}):bu,N=w.filter(function(C){return _.indexOf(C)>=0});N.length===0&&(N=w);var P=N.reduce(function(C,E){return C[E]=uu(e,{placement:E,boundary:o,rootBoundary:c,padding:d})[ni(E)],C},{});return Object.keys(P).sort(function(C,E){return P[C]-P[E]})}function GT(e){if(ni(e)===xy)return[];var t=ud(e);return[sw(e),t,sw(t)]}function KT(e){var t=e.state,n=e.options,a=e.name;if(!t.modifiersData[a]._skip){for(var o=n.mainAxis,c=o===void 0?!0:o,d=n.altAxis,m=d===void 0?!0:d,v=n.fallbackPlacements,_=n.padding,x=n.boundary,w=n.rootBoundary,N=n.altBoundary,P=n.flipVariations,C=P===void 0?!0:P,E=n.allowedAutoPlacements,k=t.options.placement,O=ni(k),A=O===k,I=v||(A||!C?[ud(k)]:GT(k)),F=[k].concat(I).reduce(function(le,ue){return le.concat(ni(ue)===xy?VT(t,{placement:ue,boundary:x,rootBoundary:w,padding:_,flipVariations:C,allowedAutoPlacements:E}):ue)},[]),D=t.rects.reference,B=t.rects.popper,Z=new Map,H=!0,G=F[0],$=0;$<F.length;$++){var W=F[$],re=ni(W),J=Oo(W)===ko,ce=[Rn,yr].indexOf(re)>=0,ge=ce?"width":"height",me=uu(t,{placement:W,boundary:x,rootBoundary:w,altBoundary:N,padding:_}),xe=ce?J?_r:zn:J?yr:Rn;D[ge]>B[ge]&&(xe=ud(xe));var z=ud(xe),ne=[];if(c&&ne.push(me[re]<=0),m&&ne.push(me[xe]<=0,me[z]<=0),ne.every(function(le){return le})){G=W,H=!1;break}Z.set(W,ne)}if(H)for(var Q=C?3:1,M=function(ue){var fe=F.find(function(je){var Ce=Z.get(je);if(Ce)return Ce.slice(0,ue).every(function(he){return he})});if(fe)return G=fe,"break"},U=Q;U>0;U--){var se=M(U);if(se==="break")break}t.placement!==G&&(t.modifiersData[a]._skip=!0,t.placement=G,t.reset=!0)}}const XT={name:"flip",enabled:!0,phase:"main",fn:KT,requiresIfExists:["offset"],data:{_skip:!1}};function lw(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function uw(e){return[Rn,_r,yr,zn].some(function(t){return e[t]>=0})}function JT(e){var t=e.state,n=e.name,a=t.rects.reference,o=t.rects.popper,c=t.modifiersData.preventOverflow,d=uu(t,{elementContext:"reference"}),m=uu(t,{altBoundary:!0}),v=lw(d,a),_=lw(m,o,c),x=uw(v),w=uw(_);t.modifiersData[n]={referenceClippingOffsets:v,popperEscapeOffsets:_,isReferenceHidden:x,hasPopperEscaped:w},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":x,"data-popper-escaped":w})}const QT={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:JT};function eO(e,t,n){var a=ni(e),o=[zn,Rn].indexOf(a)>=0?-1:1,c=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,d=c[0],m=c[1];return d=d||0,m=(m||0)*o,[zn,_r].indexOf(a)>=0?{x:m,y:d}:{x:d,y:m}}function tO(e){var t=e.state,n=e.options,a=e.name,o=n.offset,c=o===void 0?[0,0]:o,d=wy.reduce(function(x,w){return x[w]=eO(w,t.rects,c),x},{}),m=d[t.placement],v=m.x,_=m.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=v,t.modifiersData.popperOffsets.y+=_),t.modifiersData[a]=d}const nO={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tO};function rO(e){var t=e.state,n=e.name;t.modifiersData[n]=nE({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const iO={name:"popperOffsets",enabled:!0,phase:"read",fn:rO,data:{}};function aO(e){return e==="x"?"y":"x"}function sO(e){var t=e.state,n=e.options,a=e.name,o=n.mainAxis,c=o===void 0?!0:o,d=n.altAxis,m=d===void 0?!1:d,v=n.boundary,_=n.rootBoundary,x=n.altBoundary,w=n.padding,N=n.tether,P=N===void 0?!0:N,C=n.tetherOffset,E=C===void 0?0:C,k=uu(t,{boundary:v,rootBoundary:_,padding:w,altBoundary:x}),O=ni(t.placement),A=Oo(t.placement),I=!A,F=Ny(O),D=aO(F),B=t.modifiersData.popperOffsets,Z=t.rects.reference,H=t.rects.popper,G=typeof E=="function"?E(Object.assign({},t.rects,{placement:t.placement})):E,$=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),W=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,re={x:0,y:0};if(B){if(c){var J,ce=F==="y"?Rn:zn,ge=F==="y"?yr:_r,me=F==="y"?"height":"width",xe=B[F],z=xe+k[ce],ne=xe-k[ge],Q=P?-H[me]/2:0,M=A===ko?Z[me]:H[me],U=A===ko?-H[me]:-Z[me],se=t.elements.arrow,le=P&&se?Sy(se):{width:0,height:0},ue=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:JN(),fe=ue[ce],je=ue[ge],Ce=Zl(0,Z[me],le[me]),he=I?Z[me]/2-Q-Ce-fe-$.mainAxis:M-Ce-fe-$.mainAxis,Ne=I?-Z[me]/2+Q+Ce+je+$.mainAxis:U+Ce+je+$.mainAxis,rt=t.elements.arrow&&Su(t.elements.arrow),gt=rt?F==="y"?rt.clientTop||0:rt.clientLeft||0:0,dt=(J=W?.[F])!=null?J:0,er=xe+he-dt-gt,Ve=xe+Ne-dt,Fn=Zl(P?Od(z,er):z,xe,P?ys(ne,Ve):ne);B[F]=Fn,re[F]=Fn-xe}if(m){var Ye,en=F==="x"?Rn:zn,bn=F==="x"?yr:_r,Ut=B[D],Dt=D==="y"?"height":"width",Ht=Ut+k[en],xt=Ut-k[bn],$n=[Rn,zn].indexOf(O)!==-1,tr=(Ye=W?.[D])!=null?Ye:0,Sr=$n?Ht:Ut-Z[Dt]-H[Dt]-tr+$.altAxis,nr=$n?Ut+Z[Dt]+H[Dt]-tr-$.altAxis:xt,Gt=P&&$n?TT(Sr,Ut,nr):Zl(P?Sr:Ht,Ut,P?nr:xt);B[D]=Gt,re[D]=Gt-Ut}t.modifiersData[a]=re}}const oO={name:"preventOverflow",enabled:!0,phase:"main",fn:sO,requiresIfExists:["offset"]};function lO(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function uO(e){return e===Jn(e)||!ri(e)?Ey(e):lO(e)}function cO(e){var t=e.getBoundingClientRect(),n=jo(t.width)/e.offsetWidth||1,a=jo(t.height)/e.offsetHeight||1;return n!==1||a!==1}function dO(e,t,n){n===void 0&&(n=!1);var a=ri(t),o=ri(t)&&cO(t),c=Aa(t),d=To(e,o,n),m={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(a||!a&&!n)&&((Ma(t)!=="body"||Cy(c))&&(m=uO(t)),ri(t)?(v=To(t,!0),v.x+=t.clientLeft,v.y+=t.clientTop):c&&(v.x=Py(c))),{x:d.left+m.scrollLeft-v.x,y:d.top+m.scrollTop-v.y,width:d.width,height:d.height}}function fO(e){var t=new Map,n=new Set,a=[];e.forEach(function(c){t.set(c.name,c)});function o(c){n.add(c.name);var d=[].concat(c.requires||[],c.requiresIfExists||[]);d.forEach(function(m){if(!n.has(m)){var v=t.get(m);v&&o(v)}}),a.push(c)}return e.forEach(function(c){n.has(c.name)||o(c)}),a}function hO(e){var t=fO(e);return CT.reduce(function(n,a){return n.concat(t.filter(function(o){return o.phase===a}))},[])}function pO(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function mO(e){var t=e.reduce(function(n,a){var o=n[a.name];return n[a.name]=o?Object.assign({},o,a,{options:Object.assign({},o.options,a.options),data:Object.assign({},o.data,a.data)}):a,n},{});return Object.keys(t).map(function(n){return t[n]})}var cw={placement:"bottom",modifiers:[],strategy:"absolute"};function dw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function vO(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,a=n===void 0?[]:n,o=t.defaultOptions,c=o===void 0?cw:o;return function(m,v,_){_===void 0&&(_=c);var x={placement:"bottom",orderedModifiers:[],options:Object.assign({},cw,c),modifiersData:{},elements:{reference:m,popper:v},attributes:{},styles:{}},w=[],N=!1,P={state:x,setOptions:function(O){var A=typeof O=="function"?O(x.options):O;E(),x.options=Object.assign({},c,x.options,A),x.scrollParents={reference:Es(m)?Vl(m):m.contextElement?Vl(m.contextElement):[],popper:Vl(v)};var I=hO(mO([].concat(a,x.options.modifiers)));return x.orderedModifiers=I.filter(function(F){return F.enabled}),C(),P.update()},forceUpdate:function(){if(!N){var O=x.elements,A=O.reference,I=O.popper;if(dw(A,I)){x.rects={reference:dO(A,Su(I),x.options.strategy==="fixed"),popper:Sy(I)},x.reset=!1,x.placement=x.options.placement,x.orderedModifiers.forEach(function($){return x.modifiersData[$.name]=Object.assign({},$.data)});for(var F=0;F<x.orderedModifiers.length;F++){if(x.reset===!0){x.reset=!1,F=-1;continue}var D=x.orderedModifiers[F],B=D.fn,Z=D.options,H=Z===void 0?{}:Z,G=D.name;typeof B=="function"&&(x=B({state:x,options:H,name:G,instance:P})||x)}}}},update:pO(function(){return new Promise(function(k){P.forceUpdate(),k(x)})}),destroy:function(){E(),N=!0}};if(!dw(m,v))return P;P.setOptions(_).then(function(k){!N&&_.onFirstUpdate&&_.onFirstUpdate(k)});function C(){x.orderedModifiers.forEach(function(k){var O=k.name,A=k.options,I=A===void 0?{}:A,F=k.effect;if(typeof F=="function"){var D=F({state:x,name:O,instance:P,options:I}),B=function(){};w.push(D||B)}})}function E(){w.forEach(function(k){return k()}),w=[]}return P}}var gO=vO({defaultModifiers:[QT,iO,IT,$T,nO,XT,oO,LT]}),fw=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},yO={name:"applyStyles",enabled:!1},_O={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var a=n.elements,o=a.reference,c=a.popper;if("removeAttribute"in o){var d=(o.getAttribute("aria-describedby")||"").split(",").filter(function(m){return m.trim()!==c.id});d.length?o.setAttribute("aria-describedby",d.join(",")):o.removeAttribute("aria-describedby")}}},fn:function(t){var n,a=t.state,o=a.elements,c=o.popper,d=o.reference,m=(n=c.getAttribute("role"))==null?void 0:n.toLowerCase();if(c.id&&m==="tooltip"&&"setAttribute"in d){var v=d.getAttribute("aria-describedby");if(v&&v.split(",").indexOf(c.id)!==-1)return;d.setAttribute("aria-describedby",v?v+","+c.id:c.id)}}},xO=[];function wO(e,t,n){var a=n===void 0?{}:n,o=a.enabled,c=o===void 0?!0:o,d=a.placement,m=d===void 0?"bottom":d,v=a.strategy,_=v===void 0?"absolute":v,x=a.modifiers,w=x===void 0?xO:x,N=$d(a,["enabled","placement","strategy","modifiers"]),P=R.useRef(),C=R.useCallback(function(){var F;(F=P.current)==null||F.update()},[]),E=R.useCallback(function(){var F;(F=P.current)==null||F.forceUpdate()},[]),k=mT(R.useState({placement:m,update:C,forceUpdate:E,attributes:{},styles:{popper:fw(_),arrow:{}}})),O=k[0],A=k[1],I=R.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(D){var B=D.state,Z={},H={};Object.keys(B.elements).forEach(function(G){Z[G]=B.styles[G],H[G]=B.attributes[G]}),A({state:B,styles:Z,attributes:H,update:C,forceUpdate:E,placement:B.placement})}}},[C,E,A]);return R.useEffect(function(){!P.current||!c||P.current.setOptions({placement:m,strategy:_,modifiers:[].concat(w,[I,yO])})},[_,m,I,c]),R.useEffect(function(){if(!(!c||e==null||t==null))return P.current=gO(e,t,Ct({},N,{placement:m,strategy:_,modifiers:[].concat(w,[_O,I])})),function(){P.current!=null&&(P.current.destroy(),P.current=void 0,A(function(F){return Ct({},F,{attributes:{},styles:{popper:fw(_)}})}))}},[c,e,t]),O}function bO(e,t,n,a){var o=a&&typeof a!="boolean"?a.capture:a;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)}function ql(e,t,n,a){return fT(e,t,n,a),function(){bO(e,t,n,a)}}var Sp,hw;function SO(){if(hw)return Sp;hw=1;var e=function(){};return Sp=e,Sp}var NO=SO();const EO=fn(NO);function PO(e){return e&&"setState"in e?XS.findDOMNode(e):e??null}const CO=(function(e){return wu(PO(e))});var kO=27,pw=function(){};function jO(e){return e.button===0}function TO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var mw=function(t){return t&&("current"in t?t.current:t)};function OO(e,t,n){var a=n===void 0?{}:n,o=a.disabled,c=a.clickTrigger,d=c===void 0?"click":c,m=R.useRef(!1),v=t||pw,_=R.useCallback(function(N){var P,C=mw(e);EO(!!C,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),m.current=!C||TO(N)||!jO(N)||!!ou(C,(P=N.composedPath==null?void 0:N.composedPath()[0])!=null?P:N.target)},[e]),x=tw(function(N){m.current||v(N)}),w=tw(function(N){N.keyCode===kO&&v(N)});R.useEffect(function(){if(!(o||e==null)){var N=window.event,P=CO(mw(e)),C=ql(P,d,_,!0),E=ql(P,d,function(A){if(A===N){N=void 0;return}x(A)}),k=ql(P,"keyup",function(A){if(A===N){N=void 0;return}w(A)}),O=[];return"ontouchstart"in P.documentElement&&(O=[].slice.call(P.body.children).map(function(A){return ql(A,"mousemove",pw)})),function(){C(),E(),k(),O.forEach(function(A){return A()})}}},[e,o,d,_,x,w])}function MO(e){var t={};return Array.isArray(e)?(e?.forEach(function(n){t[n.name]=n}),t):e||t}function DO(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function LO(e){var t,n,a,o,c=e.enabled,d=e.enableEvents,m=e.placement,v=e.flip,_=e.offset,x=e.fixed,w=e.containerPadding,N=e.arrowElement,P=e.popperConfig,C=P===void 0?{}:P,E=MO(C.modifiers);return Ct({},C,{placement:m,enabled:c,strategy:x?"fixed":C.strategy,modifiers:DO(Ct({},E,{eventListeners:{enabled:d},preventOverflow:Ct({},E.preventOverflow,{options:w?Ct({padding:w},(t=E.preventOverflow)==null?void 0:t.options):(n=E.preventOverflow)==null?void 0:n.options}),offset:{options:Ct({offset:_},(a=E.offset)==null?void 0:a.options)},arrow:Ct({},E.arrow,{enabled:!!N,options:Ct({},(o=E.arrow)==null?void 0:o.options,{element:N})}),flip:Ct({enabled:!!v},E.flip)}))})}function RO(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function zO(e,t){e.classList?e.classList.add(t):RO(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function vw(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function AO(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=vw(e.className,t):e.setAttribute("class",vw(e.className&&e.className.baseVal||"",t))}var td;function ky(e){if((!td&&td!==0||e)&&_y){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),td=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return td}var Np=function(t){var n;return typeof document>"u"?null:t==null?wu().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function gw(e,t){var n=R.useState(function(){return Np(e)}),a=n[0],o=n[1];if(!a){var c=Np(e);c&&o(c)}return R.useEffect(function(){},[t,a]),R.useEffect(function(){var d=Np(e);d!==a&&o(d)},[e,a]),a}const yw=e=>!e||typeof e=="function"?e:t=>{e.current=t};function IO(e,t){const n=yw(e),a=yw(t);return o=>{n&&n(o),a&&a(o)}}function FO(e,t){return R.useMemo(()=>IO(e,t),[e,t])}var jy=X.forwardRef(function(e,t){var n=e.flip,a=e.offset,o=e.placement,c=e.containerPadding,d=c===void 0?5:c,m=e.popperConfig,v=m===void 0?{}:m,_=e.transition,x=nw(),w=x[0],N=x[1],P=nw(),C=P[0],E=P[1],k=FO(N,t),O=gw(e.container),A=gw(e.target),I=R.useState(!e.show),F=I[0],D=I[1],B=wO(A,w,LO({placement:o,enableEvents:!!e.show,containerPadding:d||5,flip:n,offset:a,arrowElement:C,popperConfig:v})),Z=B.styles,H=B.attributes,G=$d(B,["styles","attributes"]);e.show?F&&D(!1):!e.transition&&!F&&D(!0);var $=function(){D(!0),e.onExited&&e.onExited.apply(e,arguments)},W=e.show||_&&!F;if(OO(w,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!W)return null;var re=e.children(Ct({},G,{show:!!e.show,props:Ct({},H.popper,{style:Z.popper,ref:k}),arrowProps:Ct({},H.arrow,{style:Z.arrow,ref:E})}));if(_){var J=e.onExit,ce=e.onExiting,ge=e.onEnter,me=e.onEntering,xe=e.onEntered;re=X.createElement(_,{in:e.show,appear:!0,onExit:J,onExiting:ce,onExited:$,onEnter:ge,onEntering:me,onEntered:xe},re)}return O?XS.createPortal(re,O):null});jy.displayName="Overlay";jy.propTypes={show:be.bool,placement:be.oneOf(wy),target:be.any,container:be.any,flip:be.bool,children:be.func.isRequired,containerPadding:be.number,popperConfig:be.object,rootClose:be.bool,rootCloseEvent:be.oneOf(["click","mousedown"]),rootCloseDisabled:be.bool,onHide:function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];if(t.rootClose){var c;return(c=be.func).isRequired.apply(c,[t].concat(a))}return be.func.apply(be,[t].concat(a))},transition:be.elementType,onEnter:be.func,onEntering:be.func,onEntered:be.func,onExit:be.func,onExiting:be.func,onExited:be.func};var Ep,_w;function $O(){if(_w)return Ep;_w=1;function e(){this.__data__=[],this.size=0}return Ep=e,Ep}var Pp,xw;function Ud(){if(xw)return Pp;xw=1;var e=yu();function t(n,a){for(var o=n.length;o--;)if(e(n[o][0],a))return o;return-1}return Pp=t,Pp}var Cp,ww;function BO(){if(ww)return Cp;ww=1;var e=Ud(),t=Array.prototype,n=t.splice;function a(o){var c=this.__data__,d=e(c,o);if(d<0)return!1;var m=c.length-1;return d==m?c.pop():n.call(c,d,1),--this.size,!0}return Cp=a,Cp}var kp,bw;function qO(){if(bw)return kp;bw=1;var e=Ud();function t(n){var a=this.__data__,o=e(a,n);return o<0?void 0:a[o][1]}return kp=t,kp}var jp,Sw;function WO(){if(Sw)return jp;Sw=1;var e=Ud();function t(n){return e(this.__data__,n)>-1}return jp=t,jp}var Tp,Nw;function UO(){if(Nw)return Tp;Nw=1;var e=Ud();function t(n,a){var o=this.__data__,c=e(o,n);return c<0?(++this.size,o.push([n,a])):o[c][1]=a,this}return Tp=t,Tp}var Op,Ew;function Hd(){if(Ew)return Op;Ew=1;var e=$O(),t=BO(),n=qO(),a=WO(),o=UO();function c(d){var m=-1,v=d==null?0:d.length;for(this.clear();++m<v;){var _=d[m];this.set(_[0],_[1])}}return c.prototype.clear=e,c.prototype.delete=t,c.prototype.get=n,c.prototype.has=a,c.prototype.set=o,Op=c,Op}var Mp,Pw;function HO(){if(Pw)return Mp;Pw=1;var e=Hd();function t(){this.__data__=new e,this.size=0}return Mp=t,Mp}var Dp,Cw;function YO(){if(Cw)return Dp;Cw=1;function e(t){var n=this.__data__,a=n.delete(t);return this.size=n.size,a}return Dp=e,Dp}var Lp,kw;function ZO(){if(kw)return Lp;kw=1;function e(t){return this.__data__.get(t)}return Lp=e,Lp}var Rp,jw;function VO(){if(jw)return Rp;jw=1;function e(t){return this.__data__.has(t)}return Rp=e,Rp}var zp,Tw;function GO(){if(Tw)return zp;Tw=1;var e=si(),t=e["__core-js_shared__"];return zp=t,zp}var Ap,Ow;function KO(){if(Ow)return Ap;Ow=1;var e=GO(),t=(function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function n(a){return!!t&&t in a}return Ap=n,Ap}var Ip,Mw;function rE(){if(Mw)return Ip;Mw=1;var e=Function.prototype,t=e.toString;function n(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return Ip=n,Ip}var Fp,Dw;function XO(){if(Dw)return Fp;Dw=1;var e=my(),t=KO(),n=Ui(),a=rE(),o=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,d=Function.prototype,m=Object.prototype,v=d.toString,_=m.hasOwnProperty,x=RegExp("^"+v.call(_).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function w(N){if(!n(N)||t(N))return!1;var P=e(N)?x:c;return P.test(a(N))}return Fp=w,Fp}var $p,Lw;function JO(){if(Lw)return $p;Lw=1;function e(t,n){return t?.[n]}return $p=e,$p}var Bp,Rw;function Cs(){if(Rw)return Bp;Rw=1;var e=XO(),t=JO();function n(a,o){var c=t(a,o);return e(c)?c:void 0}return Bp=n,Bp}var qp,zw;function Ty(){if(zw)return qp;zw=1;var e=Cs(),t=si(),n=e(t,"Map");return qp=n,qp}var Wp,Aw;function Yd(){if(Aw)return Wp;Aw=1;var e=Cs(),t=e(Object,"create");return Wp=t,Wp}var Up,Iw;function QO(){if(Iw)return Up;Iw=1;var e=Yd();function t(){this.__data__=e?e(null):{},this.size=0}return Up=t,Up}var Hp,Fw;function eM(){if(Fw)return Hp;Fw=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Hp=e,Hp}var Yp,$w;function tM(){if($w)return Yp;$w=1;var e=Yd(),t="__lodash_hash_undefined__",n=Object.prototype,a=n.hasOwnProperty;function o(c){var d=this.__data__;if(e){var m=d[c];return m===t?void 0:m}return a.call(d,c)?d[c]:void 0}return Yp=o,Yp}var Zp,Bw;function nM(){if(Bw)return Zp;Bw=1;var e=Yd(),t=Object.prototype,n=t.hasOwnProperty;function a(o){var c=this.__data__;return e?c[o]!==void 0:n.call(c,o)}return Zp=a,Zp}var Vp,qw;function rM(){if(qw)return Vp;qw=1;var e=Yd(),t="__lodash_hash_undefined__";function n(a,o){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=e&&o===void 0?t:o,this}return Vp=n,Vp}var Gp,Ww;function iM(){if(Ww)return Gp;Ww=1;var e=QO(),t=eM(),n=tM(),a=nM(),o=rM();function c(d){var m=-1,v=d==null?0:d.length;for(this.clear();++m<v;){var _=d[m];this.set(_[0],_[1])}}return c.prototype.clear=e,c.prototype.delete=t,c.prototype.get=n,c.prototype.has=a,c.prototype.set=o,Gp=c,Gp}var Kp,Uw;function aM(){if(Uw)return Kp;Uw=1;var e=iM(),t=Hd(),n=Ty();function a(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Kp=a,Kp}var Xp,Hw;function sM(){if(Hw)return Xp;Hw=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Xp=e,Xp}var Jp,Yw;function Zd(){if(Yw)return Jp;Yw=1;var e=sM();function t(n,a){var o=n.__data__;return e(a)?o[typeof a=="string"?"string":"hash"]:o.map}return Jp=t,Jp}var Qp,Zw;function oM(){if(Zw)return Qp;Zw=1;var e=Zd();function t(n){var a=e(this,n).delete(n);return this.size-=a?1:0,a}return Qp=t,Qp}var em,Vw;function lM(){if(Vw)return em;Vw=1;var e=Zd();function t(n){return e(this,n).get(n)}return em=t,em}var tm,Gw;function uM(){if(Gw)return tm;Gw=1;var e=Zd();function t(n){return e(this,n).has(n)}return tm=t,tm}var nm,Kw;function cM(){if(Kw)return nm;Kw=1;var e=Zd();function t(n,a){var o=e(this,n),c=o.size;return o.set(n,a),this.size+=o.size==c?0:1,this}return nm=t,nm}var rm,Xw;function Oy(){if(Xw)return rm;Xw=1;var e=aM(),t=oM(),n=lM(),a=uM(),o=cM();function c(d){var m=-1,v=d==null?0:d.length;for(this.clear();++m<v;){var _=d[m];this.set(_[0],_[1])}}return c.prototype.clear=e,c.prototype.delete=t,c.prototype.get=n,c.prototype.has=a,c.prototype.set=o,rm=c,rm}var im,Jw;function dM(){if(Jw)return im;Jw=1;var e=Hd(),t=Ty(),n=Oy(),a=200;function o(c,d){var m=this.__data__;if(m instanceof e){var v=m.__data__;if(!t||v.length<a-1)return v.push([c,d]),this.size=++m.size,this;m=this.__data__=new n(v)}return m.set(c,d),this.size=m.size,this}return im=o,im}var am,Qw;function My(){if(Qw)return am;Qw=1;var e=Hd(),t=HO(),n=YO(),a=ZO(),o=VO(),c=dM();function d(m){var v=this.__data__=new e(m);this.size=v.size}return d.prototype.clear=t,d.prototype.delete=n,d.prototype.get=a,d.prototype.has=o,d.prototype.set=c,am=d,am}var sm,eb;function fM(){if(eb)return sm;eb=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return sm=t,sm}var om,tb;function hM(){if(tb)return om;tb=1;function e(t){return this.__data__.has(t)}return om=e,om}var lm,nb;function pM(){if(nb)return lm;nb=1;var e=Oy(),t=fM(),n=hM();function a(o){var c=-1,d=o==null?0:o.length;for(this.__data__=new e;++c<d;)this.add(o[c])}return a.prototype.add=a.prototype.push=t,a.prototype.has=n,lm=a,lm}var um,rb;function mM(){if(rb)return um;rb=1;function e(t,n){for(var a=-1,o=t==null?0:t.length;++a<o;)if(n(t[a],a,t))return!0;return!1}return um=e,um}var cm,ib;function vM(){if(ib)return cm;ib=1;function e(t,n){return t.has(n)}return cm=e,cm}var dm,ab;function iE(){if(ab)return dm;ab=1;var e=pM(),t=mM(),n=vM(),a=1,o=2;function c(d,m,v,_,x,w){var N=v&a,P=d.length,C=m.length;if(P!=C&&!(N&&C>P))return!1;var E=w.get(d),k=w.get(m);if(E&&k)return E==m&&k==d;var O=-1,A=!0,I=v&o?new e:void 0;for(w.set(d,m),w.set(m,d);++O<P;){var F=d[O],D=m[O];if(_)var B=N?_(D,F,O,m,d,w):_(F,D,O,d,m,w);if(B!==void 0){if(B)continue;A=!1;break}if(I){if(!t(m,function(Z,H){if(!n(I,H)&&(F===Z||x(F,Z,v,_,w)))return I.push(H)})){A=!1;break}}else if(!(F===D||x(F,D,v,_,w))){A=!1;break}}return w.delete(d),w.delete(m),A}return dm=c,dm}var fm,sb;function aE(){if(sb)return fm;sb=1;var e=si(),t=e.Uint8Array;return fm=t,fm}var hm,ob;function gM(){if(ob)return hm;ob=1;function e(t){var n=-1,a=Array(t.size);return t.forEach(function(o,c){a[++n]=[c,o]}),a}return hm=e,hm}var pm,lb;function yM(){if(lb)return pm;lb=1;function e(t){var n=-1,a=Array(t.size);return t.forEach(function(o){a[++n]=o}),a}return pm=e,pm}var mm,ub;function _M(){if(ub)return mm;ub=1;var e=Ao(),t=aE(),n=yu(),a=iE(),o=gM(),c=yM(),d=1,m=2,v="[object Boolean]",_="[object Date]",x="[object Error]",w="[object Map]",N="[object Number]",P="[object RegExp]",C="[object Set]",E="[object String]",k="[object Symbol]",O="[object ArrayBuffer]",A="[object DataView]",I=e?e.prototype:void 0,F=I?I.valueOf:void 0;function D(B,Z,H,G,$,W,re){switch(H){case A:if(B.byteLength!=Z.byteLength||B.byteOffset!=Z.byteOffset)return!1;B=B.buffer,Z=Z.buffer;case O:return!(B.byteLength!=Z.byteLength||!W(new t(B),new t(Z)));case v:case _:case N:return n(+B,+Z);case x:return B.name==Z.name&&B.message==Z.message;case P:case E:return B==Z+"";case w:var J=o;case C:var ce=G&d;if(J||(J=c),B.size!=Z.size&&!ce)return!1;var ge=re.get(B);if(ge)return ge==Z;G|=m,re.set(B,Z);var me=a(J(B),J(Z),G,$,W,re);return re.delete(B),me;case k:if(F)return F.call(B)==F.call(Z)}return!1}return mm=D,mm}var vm,cb;function Dy(){if(cb)return vm;cb=1;function e(t,n){for(var a=-1,o=n.length,c=t.length;++a<o;)t[c+a]=n[a];return t}return vm=e,vm}var gm,db;function xr(){if(db)return gm;db=1;var e=Array.isArray;return gm=e,gm}var ym,fb;function sE(){if(fb)return ym;fb=1;var e=Dy(),t=xr();function n(a,o,c){var d=o(a);return t(a)?d:e(d,c(a))}return ym=n,ym}var _m,hb;function xM(){if(hb)return _m;hb=1;function e(t,n){for(var a=-1,o=t==null?0:t.length,c=0,d=[];++a<o;){var m=t[a];n(m,a,t)&&(d[c++]=m)}return d}return _m=e,_m}var xm,pb;function oE(){if(pb)return xm;pb=1;function e(){return[]}return xm=e,xm}var wm,mb;function Ly(){if(mb)return wm;mb=1;var e=xM(),t=oE(),n=Object.prototype,a=n.propertyIsEnumerable,o=Object.getOwnPropertySymbols,c=o?function(d){return d==null?[]:(d=Object(d),e(o(d),function(m){return a.call(d,m)}))}:t;return wm=c,wm}var bm,vb;function wM(){if(vb)return bm;vb=1;function e(t,n){for(var a=-1,o=Array(t);++a<t;)o[a]=n(a);return o}return bm=e,bm}var Sm,gb;function bM(){if(gb)return Sm;gb=1;var e=Io(),t=za(),n="[object Arguments]";function a(o){return t(o)&&e(o)==n}return Sm=a,Sm}var Nm,yb;function Ry(){if(yb)return Nm;yb=1;var e=bM(),t=za(),n=Object.prototype,a=n.hasOwnProperty,o=n.propertyIsEnumerable,c=e((function(){return arguments})())?e:function(d){return t(d)&&a.call(d,"callee")&&!o.call(d,"callee")};return Nm=c,Nm}var Wl={exports:{}},Em,_b;function SM(){if(_b)return Em;_b=1;function e(){return!1}return Em=e,Em}Wl.exports;var xb;function Vd(){return xb||(xb=1,(function(e,t){var n=si(),a=SM(),o=t&&!t.nodeType&&t,c=o&&!0&&e&&!e.nodeType&&e,d=c&&c.exports===o,m=d?n.Buffer:void 0,v=m?m.isBuffer:void 0,_=v||a;e.exports=_})(Wl,Wl.exports)),Wl.exports}var Pm,wb;function NM(){if(wb)return Pm;wb=1;var e=Io(),t=vy(),n=za(),a="[object Arguments]",o="[object Array]",c="[object Boolean]",d="[object Date]",m="[object Error]",v="[object Function]",_="[object Map]",x="[object Number]",w="[object Object]",N="[object RegExp]",P="[object Set]",C="[object String]",E="[object WeakMap]",k="[object ArrayBuffer]",O="[object DataView]",A="[object Float32Array]",I="[object Float64Array]",F="[object Int8Array]",D="[object Int16Array]",B="[object Int32Array]",Z="[object Uint8Array]",H="[object Uint8ClampedArray]",G="[object Uint16Array]",$="[object Uint32Array]",W={};W[A]=W[I]=W[F]=W[D]=W[B]=W[Z]=W[H]=W[G]=W[$]=!0,W[a]=W[o]=W[k]=W[c]=W[O]=W[d]=W[m]=W[v]=W[_]=W[x]=W[w]=W[N]=W[P]=W[C]=W[E]=!1;function re(J){return n(J)&&t(J.length)&&!!W[e(J)]}return Pm=re,Pm}var Cm,bb;function Gd(){if(bb)return Cm;bb=1;function e(t){return function(n){return t(n)}}return Cm=e,Cm}var Ul={exports:{}};Ul.exports;var Sb;function zy(){return Sb||(Sb=1,(function(e,t){var n=BN(),a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,c=o&&o.exports===a,d=c&&n.process,m=(function(){try{var v=o&&o.require&&o.require("util").types;return v||d&&d.binding&&d.binding("util")}catch{}})();e.exports=m})(Ul,Ul.exports)),Ul.exports}var km,Nb;function Ay(){if(Nb)return km;Nb=1;var e=NM(),t=Gd(),n=zy(),a=n&&n.isTypedArray,o=a?t(a):e;return km=o,km}var jm,Eb;function lE(){if(Eb)return jm;Eb=1;var e=wM(),t=Ry(),n=xr(),a=Vd(),o=gy(),c=Ay(),d=Object.prototype,m=d.hasOwnProperty;function v(_,x){var w=n(_),N=!w&&t(_),P=!w&&!N&&a(_),C=!w&&!N&&!P&&c(_),E=w||N||P||C,k=E?e(_.length,String):[],O=k.length;for(var A in _)(x||m.call(_,A))&&!(E&&(A=="length"||P&&(A=="offset"||A=="parent")||C&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||o(A,O)))&&k.push(A);return k}return jm=v,jm}var Tm,Pb;function Iy(){if(Pb)return Tm;Pb=1;var e=Object.prototype;function t(n){var a=n&&n.constructor,o=typeof a=="function"&&a.prototype||e;return n===o}return Tm=t,Tm}var Om,Cb;function uE(){if(Cb)return Om;Cb=1;function e(t,n){return function(a){return t(n(a))}}return Om=e,Om}var Mm,kb;function EM(){if(kb)return Mm;kb=1;var e=uE(),t=e(Object.keys,Object);return Mm=t,Mm}var Dm,jb;function PM(){if(jb)return Dm;jb=1;var e=Iy(),t=EM(),n=Object.prototype,a=n.hasOwnProperty;function o(c){if(!e(c))return t(c);var d=[];for(var m in Object(c))a.call(c,m)&&m!="constructor"&&d.push(m);return d}return Dm=o,Dm}var Lm,Tb;function Nu(){if(Tb)return Lm;Tb=1;var e=lE(),t=PM(),n=_u();function a(o){return n(o)?e(o):t(o)}return Lm=a,Lm}var Rm,Ob;function cE(){if(Ob)return Rm;Ob=1;var e=sE(),t=Ly(),n=Nu();function a(o){return e(o,n,t)}return Rm=a,Rm}var zm,Mb;function CM(){if(Mb)return zm;Mb=1;var e=cE(),t=1,n=Object.prototype,a=n.hasOwnProperty;function o(c,d,m,v,_,x){var w=m&t,N=e(c),P=N.length,C=e(d),E=C.length;if(P!=E&&!w)return!1;for(var k=P;k--;){var O=N[k];if(!(w?O in d:a.call(d,O)))return!1}var A=x.get(c),I=x.get(d);if(A&&I)return A==d&&I==c;var F=!0;x.set(c,d),x.set(d,c);for(var D=w;++k<P;){O=N[k];var B=c[O],Z=d[O];if(v)var H=w?v(Z,B,O,d,c,x):v(B,Z,O,c,d,x);if(!(H===void 0?B===Z||_(B,Z,m,v,x):H)){F=!1;break}D||(D=O=="constructor")}if(F&&!D){var G=c.constructor,$=d.constructor;G!=$&&"constructor"in c&&"constructor"in d&&!(typeof G=="function"&&G instanceof G&&typeof $=="function"&&$ instanceof $)&&(F=!1)}return x.delete(c),x.delete(d),F}return zm=o,zm}var Am,Db;function kM(){if(Db)return Am;Db=1;var e=Cs(),t=si(),n=e(t,"DataView");return Am=n,Am}var Im,Lb;function jM(){if(Lb)return Im;Lb=1;var e=Cs(),t=si(),n=e(t,"Promise");return Im=n,Im}var Fm,Rb;function TM(){if(Rb)return Fm;Rb=1;var e=Cs(),t=si(),n=e(t,"Set");return Fm=n,Fm}var $m,zb;function OM(){if(zb)return $m;zb=1;var e=Cs(),t=si(),n=e(t,"WeakMap");return $m=n,$m}var Bm,Ab;function Kd(){if(Ab)return Bm;Ab=1;var e=kM(),t=Ty(),n=jM(),a=TM(),o=OM(),c=Io(),d=rE(),m="[object Map]",v="[object Object]",_="[object Promise]",x="[object Set]",w="[object WeakMap]",N="[object DataView]",P=d(e),C=d(t),E=d(n),k=d(a),O=d(o),A=c;return(e&&A(new e(new ArrayBuffer(1)))!=N||t&&A(new t)!=m||n&&A(n.resolve())!=_||a&&A(new a)!=x||o&&A(new o)!=w)&&(A=function(I){var F=c(I),D=F==v?I.constructor:void 0,B=D?d(D):"";if(B)switch(B){case P:return N;case C:return m;case E:return _;case k:return x;case O:return w}return F}),Bm=A,Bm}var qm,Ib;function MM(){if(Ib)return qm;Ib=1;var e=My(),t=iE(),n=_M(),a=CM(),o=Kd(),c=xr(),d=Vd(),m=Ay(),v=1,_="[object Arguments]",x="[object Array]",w="[object Object]",N=Object.prototype,P=N.hasOwnProperty;function C(E,k,O,A,I,F){var D=c(E),B=c(k),Z=D?x:o(E),H=B?x:o(k);Z=Z==_?w:Z,H=H==_?w:H;var G=Z==w,$=H==w,W=Z==H;if(W&&d(E)){if(!d(k))return!1;D=!0,G=!1}if(W&&!G)return F||(F=new e),D||m(E)?t(E,k,O,A,I,F):n(E,k,Z,O,A,I,F);if(!(O&v)){var re=G&&P.call(E,"__wrapped__"),J=$&&P.call(k,"__wrapped__");if(re||J){var ce=re?E.value():E,ge=J?k.value():k;return F||(F=new e),I(ce,ge,O,A,F)}}return W?(F||(F=new e),a(E,k,O,A,I,F)):!1}return qm=C,qm}var Wm,Fb;function Fy(){if(Fb)return Wm;Fb=1;var e=MM(),t=za();function n(a,o,c,d,m){return a===o?!0:a==null||o==null||!t(a)&&!t(o)?a!==a&&o!==o:e(a,o,c,d,n,m)}return Wm=n,Wm}var Um,$b;function DM(){if($b)return Um;$b=1;var e=Fy();function t(n,a){return e(n,a)}return Um=t,Um}var LM=DM();const RM=fn(LM);function Hm(e,t){var n=yy(e);return n?n.innerHeight:gs(e).height}function dE(e,t,n){e.closest&&!n&&e.closest(t);var a=e;do{if(uT(a,t))return a;a=a.parentElement}while(a&&a!==n&&a.nodeType===document.ELEMENT_NODE);return null}var Ym,Bb;function zM(){if(Bb)return Ym;Bb=1;function e(t,n,a,o){for(var c=t.length,d=a+(o?1:-1);o?d--:++d<c;)if(n(t[d],d,t))return d;return-1}return Ym=e,Ym}var Zm,qb;function AM(){if(qb)return Zm;qb=1;var e=My(),t=Fy(),n=1,a=2;function o(c,d,m,v){var _=m.length,x=_,w=!v;if(c==null)return!x;for(c=Object(c);_--;){var N=m[_];if(w&&N[2]?N[1]!==c[N[0]]:!(N[0]in c))return!1}for(;++_<x;){N=m[_];var P=N[0],C=c[P],E=N[1];if(w&&N[2]){if(C===void 0&&!(P in c))return!1}else{var k=new e;if(v)var O=v(C,E,P,c,d,k);if(!(O===void 0?t(E,C,n|a,v,k):O))return!1}}return!0}return Zm=o,Zm}var Vm,Wb;function fE(){if(Wb)return Vm;Wb=1;var e=Ui();function t(n){return n===n&&!e(n)}return Vm=t,Vm}var Gm,Ub;function IM(){if(Ub)return Gm;Ub=1;var e=fE(),t=Nu();function n(a){for(var o=t(a),c=o.length;c--;){var d=o[c],m=a[d];o[c]=[d,m,e(m)]}return o}return Gm=n,Gm}var Km,Hb;function hE(){if(Hb)return Km;Hb=1;function e(t,n){return function(a){return a==null?!1:a[t]===n&&(n!==void 0||t in Object(a))}}return Km=e,Km}var Xm,Yb;function FM(){if(Yb)return Xm;Yb=1;var e=AM(),t=IM(),n=hE();function a(o){var c=t(o);return c.length==1&&c[0][2]?n(c[0][0],c[0][1]):function(d){return d===o||e(d,o,c)}}return Xm=a,Xm}var Jm,Zb;function $y(){if(Zb)return Jm;Zb=1;var e=xr(),t=xu(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function o(c,d){if(e(c))return!1;var m=typeof c;return m=="number"||m=="symbol"||m=="boolean"||c==null||t(c)?!0:a.test(c)||!n.test(c)||d!=null&&c in Object(d)}return Jm=o,Jm}var Qm,Vb;function $M(){if(Vb)return Qm;Vb=1;var e=Oy(),t="Expected a function";function n(a,o){if(typeof a!="function"||o!=null&&typeof o!="function")throw new TypeError(t);var c=function(){var d=arguments,m=o?o.apply(this,d):d[0],v=c.cache;if(v.has(m))return v.get(m);var _=a.apply(this,d);return c.cache=v.set(m,_)||v,_};return c.cache=new(n.Cache||e),c}return n.Cache=e,Qm=n,Qm}var ev,Gb;function BM(){if(Gb)return ev;Gb=1;var e=$M(),t=500;function n(a){var o=e(a,function(d){return c.size===t&&c.clear(),d}),c=o.cache;return o}return ev=n,ev}var tv,Kb;function qM(){if(Kb)return tv;Kb=1;var e=BM(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=e(function(o){var c=[];return o.charCodeAt(0)===46&&c.push(""),o.replace(t,function(d,m,v,_){c.push(v?_.replace(n,"$1"):m||d)}),c});return tv=a,tv}var nv,Xb;function By(){if(Xb)return nv;Xb=1;function e(t,n){for(var a=-1,o=t==null?0:t.length,c=Array(o);++a<o;)c[a]=n(t[a],a,t);return c}return nv=e,nv}var rv,Jb;function WM(){if(Jb)return rv;Jb=1;var e=Ao(),t=By(),n=xr(),a=xu(),o=e?e.prototype:void 0,c=o?o.toString:void 0;function d(m){if(typeof m=="string")return m;if(n(m))return t(m,d)+"";if(a(m))return c?c.call(m):"";var v=m+"";return v=="0"&&1/m==-1/0?"-0":v}return rv=d,rv}var iv,Qb;function UM(){if(Qb)return iv;Qb=1;var e=WM();function t(n){return n==null?"":e(n)}return iv=t,iv}var av,e1;function Xd(){if(e1)return av;e1=1;var e=xr(),t=$y(),n=qM(),a=UM();function o(c,d){return e(c)?c:t(c,d)?[c]:n(a(c))}return av=o,av}var sv,t1;function Eu(){if(t1)return sv;t1=1;var e=xu();function t(n){if(typeof n=="string"||e(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return sv=t,sv}var ov,n1;function Jd(){if(n1)return ov;n1=1;var e=Xd(),t=Eu();function n(a,o){o=e(o,a);for(var c=0,d=o.length;a!=null&&c<d;)a=a[t(o[c++])];return c&&c==d?a:void 0}return ov=n,ov}var lv,r1;function HM(){if(r1)return lv;r1=1;var e=Jd();function t(n,a,o){var c=n==null?void 0:e(n,a);return c===void 0?o:c}return lv=t,lv}var uv,i1;function YM(){if(i1)return uv;i1=1;function e(t,n){return t!=null&&n in Object(t)}return uv=e,uv}var cv,a1;function ZM(){if(a1)return cv;a1=1;var e=Xd(),t=Ry(),n=xr(),a=gy(),o=vy(),c=Eu();function d(m,v,_){v=e(v,m);for(var x=-1,w=v.length,N=!1;++x<w;){var P=c(v[x]);if(!(N=m!=null&&_(m,P)))break;m=m[P]}return N||++x!=w?N:(w=m==null?0:m.length,!!w&&o(w)&&a(P,w)&&(n(m)||t(m)))}return cv=d,cv}var dv,s1;function VM(){if(s1)return dv;s1=1;var e=YM(),t=ZM();function n(a,o){return a!=null&&t(a,o,e)}return dv=n,dv}var fv,o1;function GM(){if(o1)return fv;o1=1;var e=Fy(),t=HM(),n=VM(),a=$y(),o=fE(),c=hE(),d=Eu(),m=1,v=2;function _(x,w){return a(x)&&o(w)?c(d(x),w):function(N){var P=t(N,x);return P===void 0&&P===w?n(N,x):e(w,P,m|v)}}return fv=_,fv}var hv,l1;function Qd(){if(l1)return hv;l1=1;function e(t){return t}return hv=e,hv}var pv,u1;function KM(){if(u1)return pv;u1=1;function e(t){return function(n){return n?.[t]}}return pv=e,pv}var mv,c1;function XM(){if(c1)return mv;c1=1;var e=Jd();function t(n){return function(a){return e(a,n)}}return mv=t,mv}var vv,d1;function JM(){if(d1)return vv;d1=1;var e=KM(),t=XM(),n=$y(),a=Eu();function o(c){return n(c)?e(a(c)):t(c)}return vv=o,vv}var gv,f1;function ef(){if(f1)return gv;f1=1;var e=FM(),t=GM(),n=Qd(),a=xr(),o=JM();function c(d){return typeof d=="function"?d:d==null?n:typeof d=="object"?a(d)?t(d[0],d[1]):e(d):o(d)}return gv=c,gv}var yv,h1;function QM(){if(h1)return yv;h1=1;var e=zM(),t=ef(),n=WN(),a=Math.max;function o(c,d,m){var v=c==null?0:c.length;if(!v)return-1;var _=m==null?0:n(m);return _<0&&(_=a(v+_,0)),e(c,t(d,3),_)}return yv=o,yv}var eD=QM();const tD=fn(eD);var _v,p1;function nD(){if(p1)return _v;p1=1;var e=Math.ceil,t=Math.max;function n(a,o,c,d){for(var m=-1,v=t(e((o-a)/(c||1)),0),_=Array(v);v--;)_[d?v:++m]=a,a+=c;return _}return _v=n,_v}var xv,m1;function rD(){if(m1)return xv;m1=1;var e=nD(),t=qd(),n=qN();function a(o){return function(c,d,m){return m&&typeof m!="number"&&t(c,d,m)&&(d=m=void 0),c=n(c),d===void 0?(d=c,c=0):d=n(d),m=m===void 0?c<d?1:-1:n(m),e(c,d,m,o)}}return xv=a,xv}var wv,v1;function iD(){if(v1)return wv;v1=1;var e=rD(),t=e();return wv=t,wv}var aD=iD();const sD=fn(aD);var g1=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function oD(e,t){return!!(e===t||g1(e)&&g1(t))}function lD(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!oD(e[n],t[n]))return!1;return!0}function pE(e,t){t===void 0&&(t=lD);var n=null;function a(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var d=e.apply(this,o);return n={lastResult:d,lastArgs:o,lastThis:this},d}return a.clear=function(){n=null},a}function Yg(e,t){var n=yy(e);return n?n.innerWidth:gs(e).width}var bv,y1;function uD(){if(y1)return bv;y1=1;var e=Ao(),t=Ry(),n=xr(),a=e?e.isConcatSpreadable:void 0;function o(c){return n(c)||t(c)||!!(a&&c&&c[a])}return bv=o,bv}var Sv,_1;function mE(){if(_1)return Sv;_1=1;var e=Dy(),t=uD();function n(a,o,c,d,m){var v=-1,_=a.length;for(c||(c=t),m||(m=[]);++v<_;){var x=a[v];o>0&&c(x)?o>1?n(x,o-1,c,d,m):e(m,x):d||(m[m.length]=x)}return m}return Sv=n,Sv}var Nv,x1;function cD(){if(x1)return Nv;x1=1;function e(t){return function(n,a,o){for(var c=-1,d=Object(n),m=o(n),v=m.length;v--;){var _=m[t?v:++c];if(a(d[_],_,d)===!1)break}return n}}return Nv=e,Nv}var Ev,w1;function dD(){if(w1)return Ev;w1=1;var e=cD(),t=e();return Ev=t,Ev}var Pv,b1;function qy(){if(b1)return Pv;b1=1;var e=dD(),t=Nu();function n(a,o){return a&&e(a,o,t)}return Pv=n,Pv}var Cv,S1;function fD(){if(S1)return Cv;S1=1;var e=_u();function t(n,a){return function(o,c){if(o==null)return o;if(!e(o))return n(o,c);for(var d=o.length,m=a?d:-1,v=Object(o);(a?m--:++m<d)&&c(v[m],m,v)!==!1;);return o}}return Cv=t,Cv}var kv,N1;function hD(){if(N1)return kv;N1=1;var e=qy(),t=fD(),n=t(e);return kv=n,kv}var jv,E1;function pD(){if(E1)return jv;E1=1;var e=hD(),t=_u();function n(a,o){var c=-1,d=t(a)?Array(a.length):[];return e(a,function(m,v,_){d[++c]=o(m,v,_)}),d}return jv=n,jv}var Tv,P1;function mD(){if(P1)return Tv;P1=1;function e(t,n){var a=t.length;for(t.sort(n);a--;)t[a]=t[a].value;return t}return Tv=e,Tv}var Ov,C1;function vD(){if(C1)return Ov;C1=1;var e=xu();function t(n,a){if(n!==a){var o=n!==void 0,c=n===null,d=n===n,m=e(n),v=a!==void 0,_=a===null,x=a===a,w=e(a);if(!_&&!w&&!m&&n>a||m&&v&&x&&!_&&!w||c&&v&&x||!o&&x||!d)return 1;if(!c&&!m&&!w&&n<a||w&&o&&d&&!c&&!m||_&&o&&d||!v&&d||!x)return-1}return 0}return Ov=t,Ov}var Mv,k1;function gD(){if(k1)return Mv;k1=1;var e=vD();function t(n,a,o){for(var c=-1,d=n.criteria,m=a.criteria,v=d.length,_=o.length;++c<v;){var x=e(d[c],m[c]);if(x){if(c>=_)return x;var w=o[c];return x*(w=="desc"?-1:1)}}return n.index-a.index}return Mv=t,Mv}var Dv,j1;function yD(){if(j1)return Dv;j1=1;var e=By(),t=Jd(),n=ef(),a=pD(),o=mD(),c=Gd(),d=gD(),m=Qd(),v=xr();function _(x,w,N){w.length?w=e(w,function(E){return v(E)?function(k){return t(k,E.length===1?E[0]:E)}:E}):w=[m];var P=-1;w=e(w,c(n));var C=a(x,function(E,k,O){var A=e(w,function(I){return I(E)});return{criteria:A,index:++P,value:E}});return o(C,function(E,k){return d(E,k,N)})}return Dv=_,Dv}var Lv,T1;function _D(){if(T1)return Lv;T1=1;function e(t,n,a){switch(a.length){case 0:return t.call(n);case 1:return t.call(n,a[0]);case 2:return t.call(n,a[0],a[1]);case 3:return t.call(n,a[0],a[1],a[2])}return t.apply(n,a)}return Lv=e,Lv}var Rv,O1;function vE(){if(O1)return Rv;O1=1;var e=_D(),t=Math.max;function n(a,o,c){return o=t(o===void 0?a.length-1:o,0),function(){for(var d=arguments,m=-1,v=t(d.length-o,0),_=Array(v);++m<v;)_[m]=d[o+m];m=-1;for(var x=Array(o+1);++m<o;)x[m]=d[m];return x[o]=c(_),e(a,this,x)}}return Rv=n,Rv}var zv,M1;function xD(){if(M1)return zv;M1=1;function e(t){return function(){return t}}return zv=e,zv}var Av,D1;function gE(){if(D1)return Av;D1=1;var e=Cs(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Av=t,Av}var Iv,L1;function wD(){if(L1)return Iv;L1=1;var e=xD(),t=gE(),n=Qd(),a=t?function(o,c){return t(o,"toString",{configurable:!0,enumerable:!1,value:e(c),writable:!0})}:n;return Iv=a,Iv}var Fv,R1;function bD(){if(R1)return Fv;R1=1;var e=800,t=16,n=Date.now;function a(o){var c=0,d=0;return function(){var m=n(),v=t-(m-d);if(d=m,v>0){if(++c>=e)return arguments[0]}else c=0;return o.apply(void 0,arguments)}}return Fv=a,Fv}var $v,z1;function yE(){if(z1)return $v;z1=1;var e=wD(),t=bD(),n=t(e);return $v=n,$v}var Bv,A1;function _E(){if(A1)return Bv;A1=1;var e=Qd(),t=vE(),n=yE();function a(o,c){return n(t(o,c,e),o+"")}return Bv=a,Bv}var qv,I1;function SD(){if(I1)return qv;I1=1;var e=mE(),t=yD(),n=_E(),a=qd(),o=n(function(c,d){if(c==null)return[];var m=d.length;return m>1&&a(c,d[0],d[1])?d=[]:m>2&&a(d[0],d[1],d[2])&&(d=[d[0]]),t(c,e(d,1),[])});return qv=o,qv}var ND=SD();const ED=fn(ND);function xE(e){return EN(e)||FN(e)||fy(e)||PN()}var Wv,F1;function PD(){if(F1)return Wv;F1=1;function e(t){var n=[];if(t!=null)for(var a in Object(t))n.push(a);return n}return Wv=e,Wv}var Uv,$1;function CD(){if($1)return Uv;$1=1;var e=Ui(),t=Iy(),n=PD(),a=Object.prototype,o=a.hasOwnProperty;function c(d){if(!e(d))return n(d);var m=t(d),v=[];for(var _ in d)_=="constructor"&&(m||!o.call(d,_))||v.push(_);return v}return Uv=c,Uv}var Hv,B1;function tf(){if(B1)return Hv;B1=1;var e=lE(),t=CD(),n=_u();function a(o){return n(o)?e(o,!0):t(o)}return Hv=a,Hv}var Yv,q1;function kD(){if(q1)return Yv;q1=1;var e=_E(),t=yu(),n=qd(),a=tf(),o=Object.prototype,c=o.hasOwnProperty,d=e(function(m,v){m=Object(m);var _=-1,x=v.length,w=x>2?v[2]:void 0;for(w&&n(v[0],v[1],w)&&(x=1);++_<x;)for(var N=v[_],P=a(N),C=-1,E=P.length;++C<E;){var k=P[C],O=m[k];(O===void 0||t(O,o[k])&&!c.call(m,k))&&(m[k]=N[k])}return m});return Yv=d,Yv}var jD=kD();const TD=fn(jD);var Zv,W1;function Wy(){if(W1)return Zv;W1=1;var e=gE();function t(n,a,o){a=="__proto__"&&e?e(n,a,{configurable:!0,enumerable:!0,value:o,writable:!0}):n[a]=o}return Zv=t,Zv}var Vv,U1;function OD(){if(U1)return Vv;U1=1;var e=Wy(),t=qy(),n=ef();function a(o,c){var d={};return c=n(c,3),t(o,function(m,v,_){e(d,v,c(m,v,_))}),d}return Vv=a,Vv}var MD=OD();const DD=fn(MD);var Gv,H1;function wE(){if(H1)return Gv;H1=1;function e(t,n){for(var a=-1,o=t==null?0:t.length;++a<o&&n(t[a],a,t)!==!1;);return t}return Gv=e,Gv}var Kv,Y1;function bE(){if(Y1)return Kv;Y1=1;var e=Wy(),t=yu(),n=Object.prototype,a=n.hasOwnProperty;function o(c,d,m){var v=c[d];(!(a.call(c,d)&&t(v,m))||m===void 0&&!(d in c))&&e(c,d,m)}return Kv=o,Kv}var Xv,Z1;function Pu(){if(Z1)return Xv;Z1=1;var e=bE(),t=Wy();function n(a,o,c,d){var m=!c;c||(c={});for(var v=-1,_=o.length;++v<_;){var x=o[v],w=d?d(c[x],a[x],x,c,a):void 0;w===void 0&&(w=a[x]),m?t(c,x,w):e(c,x,w)}return c}return Xv=n,Xv}var Jv,V1;function LD(){if(V1)return Jv;V1=1;var e=Pu(),t=Nu();function n(a,o){return a&&e(o,t(o),a)}return Jv=n,Jv}var Qv,G1;function RD(){if(G1)return Qv;G1=1;var e=Pu(),t=tf();function n(a,o){return a&&e(o,t(o),a)}return Qv=n,Qv}var Hl={exports:{}};Hl.exports;var K1;function zD(){return K1||(K1=1,(function(e,t){var n=si(),a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,c=o&&o.exports===a,d=c?n.Buffer:void 0,m=d?d.allocUnsafe:void 0;function v(_,x){if(x)return _.slice();var w=_.length,N=m?m(w):new _.constructor(w);return _.copy(N),N}e.exports=v})(Hl,Hl.exports)),Hl.exports}var eg,X1;function AD(){if(X1)return eg;X1=1;function e(t,n){var a=-1,o=t.length;for(n||(n=Array(o));++a<o;)n[a]=t[a];return n}return eg=e,eg}var tg,J1;function ID(){if(J1)return tg;J1=1;var e=Pu(),t=Ly();function n(a,o){return e(a,t(a),o)}return tg=n,tg}var ng,Q1;function nf(){if(Q1)return ng;Q1=1;var e=uE(),t=e(Object.getPrototypeOf,Object);return ng=t,ng}var rg,eS;function SE(){if(eS)return rg;eS=1;var e=Dy(),t=nf(),n=Ly(),a=oE(),o=Object.getOwnPropertySymbols,c=o?function(d){for(var m=[];d;)e(m,n(d)),d=t(d);return m}:a;return rg=c,rg}var ig,tS;function FD(){if(tS)return ig;tS=1;var e=Pu(),t=SE();function n(a,o){return e(a,t(a),o)}return ig=n,ig}var ag,nS;function NE(){if(nS)return ag;nS=1;var e=sE(),t=SE(),n=tf();function a(o){return e(o,n,t)}return ag=a,ag}var sg,rS;function $D(){if(rS)return sg;rS=1;var e=Object.prototype,t=e.hasOwnProperty;function n(a){var o=a.length,c=new a.constructor(o);return o&&typeof a[0]=="string"&&t.call(a,"index")&&(c.index=a.index,c.input=a.input),c}return sg=n,sg}var og,iS;function Uy(){if(iS)return og;iS=1;var e=aE();function t(n){var a=new n.constructor(n.byteLength);return new e(a).set(new e(n)),a}return og=t,og}var lg,aS;function BD(){if(aS)return lg;aS=1;var e=Uy();function t(n,a){var o=a?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.byteLength)}return lg=t,lg}var ug,sS;function qD(){if(sS)return ug;sS=1;var e=/\w*$/;function t(n){var a=new n.constructor(n.source,e.exec(n));return a.lastIndex=n.lastIndex,a}return ug=t,ug}var cg,oS;function WD(){if(oS)return cg;oS=1;var e=Ao(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function a(o){return n?Object(n.call(o)):{}}return cg=a,cg}var dg,lS;function UD(){if(lS)return dg;lS=1;var e=Uy();function t(n,a){var o=a?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.length)}return dg=t,dg}var fg,uS;function HD(){if(uS)return fg;uS=1;var e=Uy(),t=BD(),n=qD(),a=WD(),o=UD(),c="[object Boolean]",d="[object Date]",m="[object Map]",v="[object Number]",_="[object RegExp]",x="[object Set]",w="[object String]",N="[object Symbol]",P="[object ArrayBuffer]",C="[object DataView]",E="[object Float32Array]",k="[object Float64Array]",O="[object Int8Array]",A="[object Int16Array]",I="[object Int32Array]",F="[object Uint8Array]",D="[object Uint8ClampedArray]",B="[object Uint16Array]",Z="[object Uint32Array]";function H(G,$,W){var re=G.constructor;switch($){case P:return e(G);case c:case d:return new re(+G);case C:return t(G,W);case E:case k:case O:case A:case I:case F:case D:case B:case Z:return o(G,W);case m:return new re;case v:case w:return new re(G);case _:return n(G);case x:return new re;case N:return a(G)}}return fg=H,fg}var hg,cS;function EE(){if(cS)return hg;cS=1;var e=Ui(),t=Object.create,n=(function(){function a(){}return function(o){if(!e(o))return{};if(t)return t(o);a.prototype=o;var c=new a;return a.prototype=void 0,c}})();return hg=n,hg}var pg,dS;function YD(){if(dS)return pg;dS=1;var e=EE(),t=nf(),n=Iy();function a(o){return typeof o.constructor=="function"&&!n(o)?e(t(o)):{}}return pg=a,pg}var mg,fS;function ZD(){if(fS)return mg;fS=1;var e=Kd(),t=za(),n="[object Map]";function a(o){return t(o)&&e(o)==n}return mg=a,mg}var vg,hS;function VD(){if(hS)return vg;hS=1;var e=ZD(),t=Gd(),n=zy(),a=n&&n.isMap,o=a?t(a):e;return vg=o,vg}var gg,pS;function GD(){if(pS)return gg;pS=1;var e=Kd(),t=za(),n="[object Set]";function a(o){return t(o)&&e(o)==n}return gg=a,gg}var yg,mS;function KD(){if(mS)return yg;mS=1;var e=GD(),t=Gd(),n=zy(),a=n&&n.isSet,o=a?t(a):e;return yg=o,yg}var _g,vS;function XD(){if(vS)return _g;vS=1;var e=My(),t=wE(),n=bE(),a=LD(),o=RD(),c=zD(),d=AD(),m=ID(),v=FD(),_=cE(),x=NE(),w=Kd(),N=$D(),P=HD(),C=YD(),E=xr(),k=Vd(),O=VD(),A=Ui(),I=KD(),F=Nu(),D=tf(),B=1,Z=2,H=4,G="[object Arguments]",$="[object Array]",W="[object Boolean]",re="[object Date]",J="[object Error]",ce="[object Function]",ge="[object GeneratorFunction]",me="[object Map]",xe="[object Number]",z="[object Object]",ne="[object RegExp]",Q="[object Set]",M="[object String]",U="[object Symbol]",se="[object WeakMap]",le="[object ArrayBuffer]",ue="[object DataView]",fe="[object Float32Array]",je="[object Float64Array]",Ce="[object Int8Array]",he="[object Int16Array]",Ne="[object Int32Array]",rt="[object Uint8Array]",gt="[object Uint8ClampedArray]",dt="[object Uint16Array]",er="[object Uint32Array]",Ve={};Ve[G]=Ve[$]=Ve[le]=Ve[ue]=Ve[W]=Ve[re]=Ve[fe]=Ve[je]=Ve[Ce]=Ve[he]=Ve[Ne]=Ve[me]=Ve[xe]=Ve[z]=Ve[ne]=Ve[Q]=Ve[M]=Ve[U]=Ve[rt]=Ve[gt]=Ve[dt]=Ve[er]=!0,Ve[J]=Ve[ce]=Ve[se]=!1;function Fn(Ye,en,bn,Ut,Dt,Ht){var xt,$n=en&B,tr=en&Z,Sr=en&H;if(bn&&(xt=Dt?bn(Ye,Ut,Dt,Ht):bn(Ye)),xt!==void 0)return xt;if(!A(Ye))return Ye;var nr=E(Ye);if(nr){if(xt=N(Ye),!$n)return d(Ye,xt)}else{var Gt=w(Ye),Ia=Gt==ce||Gt==ge;if(k(Ye))return c(Ye,$n);if(Gt==z||Gt==G||Ia&&!Dt){if(xt=tr||Ia?{}:C(Ye),!$n)return tr?v(Ye,o(xt,Ye)):m(Ye,a(xt,Ye))}else{if(!Ve[Gt])return Dt?Ye:{};xt=P(Ye,Gt,$n)}}Ht||(Ht=new e);var Nr=Ht.get(Ye);if(Nr)return Nr;Ht.set(Ye,xt),I(Ye)?Ye.forEach(function(Sn){xt.add(Fn(Sn,en,bn,Sn,Ye,Ht))}):O(Ye)&&Ye.forEach(function(Sn,Nn){xt.set(Nn,Fn(Sn,en,bn,Nn,Ye,Ht))});var Br=Sr?tr?x:_:tr?D:F,js=nr?void 0:Br(Ye);return t(js||Ye,function(Sn,Nn){js&&(Nn=Sn,Sn=Ye[Nn]),n(xt,Nn,Fn(Sn,en,bn,Nn,Ye,Ht))}),xt}return _g=Fn,_g}var xg,gS;function JD(){if(gS)return xg;gS=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return xg=e,xg}var wg,yS;function QD(){if(yS)return wg;yS=1;var e=Jd(),t=$N();function n(a,o){return o.length<2?a:e(a,t(o,0,-1))}return wg=n,wg}var bg,_S;function e2(){if(_S)return bg;_S=1;var e=Xd(),t=JD(),n=QD(),a=Eu();function o(c,d){return d=e(d,c),c=n(c,d),c==null||delete c[a(t(d))]}return bg=o,bg}var Sg,xS;function t2(){if(xS)return Sg;xS=1;var e=Io(),t=nf(),n=za(),a="[object Object]",o=Function.prototype,c=Object.prototype,d=o.toString,m=c.hasOwnProperty,v=d.call(Object);function _(x){if(!n(x)||e(x)!=a)return!1;var w=t(x);if(w===null)return!0;var N=m.call(w,"constructor")&&w.constructor;return typeof N=="function"&&N instanceof N&&d.call(N)==v}return Sg=_,Sg}var Ng,wS;function n2(){if(wS)return Ng;wS=1;var e=t2();function t(n){return e(n)?void 0:n}return Ng=t,Ng}var Eg,bS;function r2(){if(bS)return Eg;bS=1;var e=mE();function t(n){var a=n==null?0:n.length;return a?e(n,1):[]}return Eg=t,Eg}var Pg,SS;function i2(){if(SS)return Pg;SS=1;var e=r2(),t=vE(),n=yE();function a(o){return n(t(o,void 0,e),o+"")}return Pg=a,Pg}var Cg,NS;function a2(){if(NS)return Cg;NS=1;var e=By(),t=XD(),n=e2(),a=Xd(),o=Pu(),c=n2(),d=i2(),m=NE(),v=1,_=2,x=4,w=d(function(N,P){var C={};if(N==null)return C;var E=!1;P=e(P,function(O){return O=a(O,N),E||(E=O.length>1),O}),o(N,m(N),C),E&&(C=t(C,v|_|x,c));for(var k=P.length;k--;)n(C,P[k]);return C});return Cg=w,Cg}var s2=a2();const o2=fn(s2);var kg,ES;function l2(){if(ES)return kg;ES=1;var e=wE(),t=EE(),n=qy(),a=ef(),o=nf(),c=xr(),d=Vd(),m=my(),v=Ui(),_=Ay();function x(w,N,P){var C=c(w),E=C||d(w)||_(w);if(N=a(N,4),P==null){var k=w&&w.constructor;E?P=C?new k:[]:v(w)?P=m(k)?t(o(w)):{}:P={}}return(E?e:n)(w,function(O,A,I){return N(P,O,A,I)}),P}return kg=x,kg}var u2=l2();const c2=fn(u2);var cd={exports:{}},d2=cd.exports,PS;function f2(){return PS||(PS=1,(function(e,t){(function(n,a){e.exports=a()})(d2,(function(){return function(n,a,o){a.prototype.isBetween=function(c,d,m,v){var _=o(c),x=o(d),w=(v=v||"()")[0]==="(",N=v[1]===")";return(w?this.isAfter(_,m):!this.isBefore(_,m))&&(N?this.isBefore(x,m):!this.isAfter(x,m))||(w?this.isBefore(_,m):!this.isAfter(_,m))&&(N?this.isAfter(x,m):!this.isBefore(x,m))}}}))})(cd)),cd.exports}f2();var dd={exports:{}},h2=dd.exports,CS;function p2(){return CS||(CS=1,(function(e,t){(function(n,a){e.exports=a()})(h2,(function(){return function(n,a){a.prototype.isSameOrAfter=function(o,c){return this.isSame(o,c)||this.isAfter(o,c)}}}))})(dd)),dd.exports}p2();var fd={exports:{}},m2=fd.exports,kS;function v2(){return kS||(kS=1,(function(e,t){(function(n,a){e.exports=a()})(m2,(function(){return function(n,a){a.prototype.isSameOrBefore=function(o,c){return this.isSame(o,c)||this.isBefore(o,c)}}}))})(fd)),fd.exports}v2();var hd={exports:{}},g2=hd.exports,jS;function y2(){return jS||(jS=1,(function(e,t){(function(n,a){e.exports=a()})(g2,(function(){return function(n,a,o){var c=a.prototype,d=function(w){return w&&(w.indexOf?w:w.s)},m=function(w,N,P,C,E){var k=w.name?w:w.$locale(),O=d(k[N]),A=d(k[P]),I=O||A.map((function(D){return D.slice(0,C)}));if(!E)return I;var F=k.weekStart;return I.map((function(D,B){return I[(B+(F||0))%7]}))},v=function(){return o.Ls[o.locale()]},_=function(w,N){return w.formats[N]||(function(P){return P.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(C,E,k){return E||k.slice(1)}))})(w.formats[N.toUpperCase()])},x=function(){var w=this;return{months:function(N){return N?N.format("MMMM"):m(w,"months")},monthsShort:function(N){return N?N.format("MMM"):m(w,"monthsShort","months",3)},firstDayOfWeek:function(){return w.$locale().weekStart||0},weekdays:function(N){return N?N.format("dddd"):m(w,"weekdays")},weekdaysMin:function(N){return N?N.format("dd"):m(w,"weekdaysMin","weekdays",2)},weekdaysShort:function(N){return N?N.format("ddd"):m(w,"weekdaysShort","weekdays",3)},longDateFormat:function(N){return _(w.$locale(),N)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};c.localeData=function(){return x.bind(this)()},o.localeData=function(){var w=v();return{firstDayOfWeek:function(){return w.weekStart||0},weekdays:function(){return o.weekdays()},weekdaysShort:function(){return o.weekdaysShort()},weekdaysMin:function(){return o.weekdaysMin()},months:function(){return o.months()},monthsShort:function(){return o.monthsShort()},longDateFormat:function(N){return _(w,N)},meridiem:w.meridiem,ordinal:w.ordinal}},o.months=function(){return m(v(),"months")},o.monthsShort=function(){return m(v(),"monthsShort","months",3)},o.weekdays=function(w){return m(v(),"weekdays",null,null,w)},o.weekdaysShort=function(w){return m(v(),"weekdaysShort","weekdays",3,w)},o.weekdaysMin=function(w){return m(v(),"weekdaysMin","weekdays",2,w)}}}))})(hd)),hd.exports}y2();var pd={exports:{}},_2=pd.exports,TS;function x2(){return TS||(TS=1,(function(e,t){(function(n,a){e.exports=a()})(_2,(function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,o,c){var d=o.prototype,m=d.format;c.en.formats=n,d.format=function(v){v===void 0&&(v="YYYY-MM-DDTHH:mm:ssZ");var _=this.$locale().formats,x=(function(w,N){return w.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(P,C,E){var k=E&&E.toUpperCase();return C||N[E]||n[E]||N[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(O,A,I){return A||I.slice(1)}))}))})(v,_===void 0?{}:_);return m.call(this,x)}}}))})(pd)),pd.exports}x2();var md={exports:{}},w2=md.exports,OS;function b2(){return OS||(OS=1,(function(e,t){(function(n,a){e.exports=a()})(w2,(function(){return function(n,a,o){var c=function(d,m){if(!m||!m.length||m.length===1&&!m[0]||m.length===1&&Array.isArray(m[0])&&!m[0].length)return null;var v;m.length===1&&m[0].length>0&&(m=m[0]),v=(m=m.filter((function(x){return x})))[0];for(var _=1;_<m.length;_+=1)m[_].isValid()&&!m[_][d](v)||(v=m[_]);return v};o.max=function(){var d=[].slice.call(arguments,0);return c("isAfter",d)},o.min=function(){var d=[].slice.call(arguments,0);return c("isBefore",d)}}}))})(md)),md.exports}b2();var vd={exports:{}},S2=vd.exports,MS;function N2(){return MS||(MS=1,(function(e,t){(function(n,a){e.exports=a()})(S2,(function(){var n="minute",a=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(c,d,m){var v=d.prototype;m.utc=function(E){var k={date:E,utc:!0,args:arguments};return new d(k)},v.utc=function(E){var k=m(this.toDate(),{locale:this.$L,utc:!0});return E?k.add(this.utcOffset(),n):k},v.local=function(){return m(this.toDate(),{locale:this.$L,utc:!1})};var _=v.parse;v.parse=function(E){E.utc&&(this.$u=!0),this.$utils().u(E.$offset)||(this.$offset=E.$offset),_.call(this,E)};var x=v.init;v.init=function(){if(this.$u){var E=this.$d;this.$y=E.getUTCFullYear(),this.$M=E.getUTCMonth(),this.$D=E.getUTCDate(),this.$W=E.getUTCDay(),this.$H=E.getUTCHours(),this.$m=E.getUTCMinutes(),this.$s=E.getUTCSeconds(),this.$ms=E.getUTCMilliseconds()}else x.call(this)};var w=v.utcOffset;v.utcOffset=function(E,k){var O=this.$utils().u;if(O(E))return this.$u?0:O(this.$offset)?w.call(this):this.$offset;if(typeof E=="string"&&(E=(function(D){D===void 0&&(D="");var B=D.match(a);if(!B)return null;var Z=(""+B[0]).match(o)||["-",0,0],H=Z[0],G=60*+Z[1]+ +Z[2];return G===0?0:H==="+"?G:-G})(E),E===null))return this;var A=Math.abs(E)<=16?60*E:E,I=this;if(k)return I.$offset=A,I.$u=E===0,I;if(E!==0){var F=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(I=this.local().add(A+F,n)).$offset=A,I.$x.$localOffset=F}else I=this.utc();return I};var N=v.format;v.format=function(E){var k=E||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return N.call(this,k)},v.valueOf=function(){var E=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*E},v.isUTC=function(){return!!this.$u},v.toISOString=function(){return this.toDate().toISOString()},v.toString=function(){return this.toDate().toUTCString()};var P=v.toDate;v.toDate=function(E){return E==="s"&&this.$offset?m(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():P.call(this)};var C=v.diff;v.diff=function(E,k,O){if(E&&this.$u===E.$u)return C.call(this,E,k,O);var A=this.local(),I=m(E).local();return C.call(A,I,k,O)}}}))})(vd)),vd.exports}N2();var gd={exports:{}},E2=gd.exports,DS;function P2(){return DS||(DS=1,(function(e,t){(function(n,a){e.exports=a()})(E2,(function(){return function(n,a){a.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(gd)),gd.exports}P2();function ei(e){return e.children}var An={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},xn={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},LS=Object.keys(xn).map(function(e){return xn[e]});be.oneOfType([be.string,be.func]);be.any;be.func;be.oneOfType([be.arrayOf(be.oneOf(LS)),be.objectOf(function(e,t){var n=LS.indexOf(t)!==-1&&typeof e[t]=="boolean";if(n)return null;for(var a=arguments.length,o=new Array(a>2?a-2:0),c=2;c<a;c++)o[c-2]=arguments[c];return be.elementType.apply(be,[e,t].concat(o))})]);be.oneOfType([be.oneOf(["overlap","no-overlap"]),be.func]);var RS={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function PE(e,t){var n=Qt(e,"month");return Qt(n,"week",t.startOfWeek())}function CE(e,t){var n=jd(e,"month");return jd(n,"week",t.startOfWeek())}function C2(e,t){for(var n=PE(e,t),a=CE(e,t),o=[];Ro(n,a,"day");)o.push(n),n=Ar(n,1,"day");return o}function k2(e,t){var n=Qt(e,t);return vu(n,e)?n:Ar(n,1,t)}function j2(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",a=e,o=[];Ro(a,t,n);)o.push(a),a=Ar(a,1,n);return o}function T2(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Qt(e,"day"),e=su(e,su(t)),e=Co(e,Co(t)),e=au(e,au(t)),iu(e,iu(t)))}function zS(e){return su(e)===0&&Co(e)===0&&au(e)===0&&iu(e)===0}function O2(e,t,n,a){return n==="day"&&(n="date"),Math.abs(j0[n](e,void 0,a)-j0[n](t,void 0,a))}function Hy(e,t,n){return!n||n==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Qt(e,n)/RS[n]-+Qt(t,n)/RS[n]))}var M2=be.oneOfType([be.string,be.func]);function D2(e,t,n,a,o){var c=typeof a=="function"?a(n,o,e):t.call(e,n,a,o);return Jl(c==null||typeof c=="string","`localizer format(..)` must return a string, null, or undefined"),c}function L2(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function Yy(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function R2(e,t){return Hy(e,t,"minutes")+Yy(e,t)}function z2(e){var t=Qt(e,"day");return Hy(t,e,"minutes")+Yy(t,e)}function A2(e,t){return py(e,t,"day")}function I2(e,t,n){var a=vu(e,t,"minutes");return a?gu(t,n,"minutes"):Bd(t,n,"minutes")}function Zg(e,t){return O2(e,t,"day")}function F2(e){var t=e.evtA,n=t.start,a=t.end,o=t.allDay,c=e.evtB,d=c.start,m=c.end,v=c.allDay,_=+Qt(n,"day")-+Qt(d,"day"),x=Zg(n,a),w=Zg(d,m);return _||w-x||!!v-!!o||+n-+d||+a-+m}function $2(e){var t=e.event,n=t.start,a=t.end,o=e.range,c=o.start,d=o.end,m=Qt(n,"day"),v=Ro(m,d,"day"),_=hy(m,a,"minutes"),x=_?Bd(a,c,"minutes"):gu(a,c,"minutes");return v&&x}function B2(e,t){return vu(e,t,"day")}function q2(e,t){return zS(e)&&zS(t)}var W2=Wt(function e(t){var n=this;qt(this,e),Jl(typeof t.format=="function","date localizer `format(..)` must be a function"),Jl(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||M2,this.formats=t.formats,this.format=function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return D2.apply(void 0,[n,t.format].concat(o))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||T2,this.inRange=t.inRange||RN,this.lt=t.lt||py,this.lte=t.lte||Ro,this.gt=t.gt||Bd,this.gte=t.gte||gu,this.eq=t.eq||vu,this.neq=t.neq||hy,this.startOf=t.startOf||Qt,this.endOf=t.endOf||jd,this.add=t.add||Ar,this.range=t.range||j2,this.diff=t.diff||Hy,this.ceil=t.ceil||k2,this.min=t.min||DN,this.max=t.max||LN,this.minutes=t.minutes||Co,this.daySpan=t.daySpan||Zg,this.firstVisibleDay=t.firstVisibleDay||PE,this.lastVisibleDay=t.lastVisibleDay||CE,this.visibleDays=t.visibleDays||C2,this.getSlotDate=t.getSlotDate||L2,this.getTimezoneOffset=t.getTimezoneOffset||function(a){return a.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Yy,this.getTotalMin=t.getTotalMin||R2,this.getMinutesFromMidnight=t.getMinutesFromMidnight||z2,this.continuesPrior=t.continuesPrior||A2,this.continuesAfter=t.continuesAfter||I2,this.sortEvents=t.sortEvents||F2,this.inEventRange=t.inEventRange||$2,this.isSameDate=t.isSameDate||B2,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||q2,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function U2(e,t,n,a){var o=lt(lt({},e.formats),n);return lt(lt({},e),{},{messages:a,startOfWeek:function(){return e.startOfWeek(t)},format:function(d,m){return e.format(d,o[m]||m,t)}})}var H2=(function(e){function t(){var n;qt(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=hn(this,t,[].concat(o)),n.navigate=function(d){n.props.onNavigate(d)},n.view=function(d){n.props.onView(d)},n}return pn(t,e),Wt(t,[{key:"render",value:function(){var a=this.props,o=a.localizer.messages,c=a.label;return X.createElement("div",{className:"rbc-toolbar"},X.createElement("span",{className:"rbc-btn-group"},X.createElement("button",{type:"button",onClick:this.navigate.bind(null,An.TODAY)},o.today),X.createElement("button",{type:"button",onClick:this.navigate.bind(null,An.PREVIOUS)},o.previous),X.createElement("button",{type:"button",onClick:this.navigate.bind(null,An.NEXT)},o.next)),X.createElement("span",{className:"rbc-toolbar-label"},c),X.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(o)))}},{key:"viewNamesGroup",value:function(a){var o=this,c=this.props.views,d=this.props.view;if(c.length>1)return c.map(function(m){return X.createElement("button",{type:"button",key:m,className:kt({"rbc-active":d===m}),onClick:o.view.bind(null,m)},a[m])})}}])})(X.Component);function pt(e,t){e&&e.apply(null,[].concat(t))}var Y2={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function Z2(e){return lt(lt({},Y2),e)}function V2(e){var t=e.ref,n=e.callback;R.useEffect(function(){var a=function(c){t.current&&!t.current.contains(c.target)&&n()};return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[t,n])}var G2=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],kE=(function(e){function t(){return qt(this,t),hn(this,t,arguments)}return pn(t,e),Wt(t,[{key:"render",value:function(){var a=this.props,o=a.style,c=a.className,d=a.event,m=a.selected,v=a.isAllDay,_=a.onSelect,x=a.onDoubleClick,w=a.onKeyPress,N=a.localizer,P=a.continuesPrior,C=a.continuesAfter,E=a.accessors,k=a.getters,O=a.children,A=a.components,I=A.event,F=A.eventWrapper,D=a.slotStart,B=a.slotEnd,Z=ii(a,G2);delete Z.resizable;var H=E.title(d),G=E.tooltip(d),$=E.end(d),W=E.start(d),re=E.allDay(d),J=v||re||N.diff(W,N.ceil($,"day"),"day")>1,ce=k.eventProp(d,W,$,m),ge=X.createElement("div",{className:"rbc-event-content",title:G||void 0},I?X.createElement(I,{event:d,continuesPrior:P,continuesAfter:C,title:H,isAllDay:re,localizer:N,slotStart:D,slotEnd:B}):H);return X.createElement(F,Object.assign({},this.props,{type:"date"}),X.createElement("div",Object.assign({},Z,{style:lt(lt({},ce.style),o),className:kt("rbc-event",c,ce.className,{"rbc-selected":m,"rbc-event-allday":J,"rbc-event-continues-prior":P,"rbc-event-continues-after":C}),onClick:function(xe){return _&&_(d,xe)},onDoubleClick:function(xe){return x&&x(d,xe)},onKeyDown:function(xe){return w&&w(d,xe)}}),typeof O=="function"?O(ge):ge))}}])})(X.Component);function rf(e,t){return!e||t==null?!1:RM(e,t)}function jE(e,t){var n=e.right-e.left,a=n/t;return a}function TE(e,t,n,a){var o=jE(e,a);return n?a-1-Math.floor((t-e.left)/o):Math.floor((t-e.left)/o)}function K2(e,t){var n=t.x,a=t.y;return a>=e.top&&a<=e.bottom&&n>=e.left&&n<=e.right}function X2(e,t,n,a,o){var c=-1,d=-1,m=a-1,v=jE(t,a),_=TE(t,n.x,o,a),x=t.top<n.y&&t.bottom>n.y,w=t.top<e.y&&t.bottom>e.y,N=e.y>t.bottom,P=t.top>e.y,C=n.top<t.top&&n.bottom>t.bottom;return C&&(c=0,d=m),x&&(P?(c=0,d=_):N&&(c=_,d=m)),w&&(c=d=o?m-Math.floor((e.x-t.left)/v):Math.floor((e.x-t.left)/v),x?_<c?c=_:d=_:e.y<n.y?d=m:c=0),{startIdx:c,endIdx:d}}function J2(e){var t=e.target,n=e.offset,a=e.container,o=e.box,c=gs(t),d=c.top,m=c.left,v=c.width,_=c.height,x=gs(a),w=x.top,N=x.left,P=x.width,C=x.height,E=gs(o),k=E.width,O=E.height,A=w+C,I=N+P,F=d+O,D=m+k,B=n.x,Z=n.y,H=F>A?d-O-Z:d+Z+_,G=D>I?m+B-k+v:m+B;return{topOffset:H,leftOffset:G}}function Q2(e){var t=e.containerRef,n=e.accessors,a=e.getters,o=e.selected,c=e.components,d=e.localizer,m=e.position,v=e.show,_=e.events,x=e.slotStart,w=e.slotEnd,N=e.onSelect,P=e.onDoubleClick,C=e.onKeyPress,E=e.handleDragStart,k=e.popperRef,O=e.target,A=e.offset;V2({ref:k,callback:v}),R.useLayoutEffect(function(){var D=J2({target:O,offset:A,container:t.current,box:k.current}),B=D.topOffset,Z=D.leftOffset;k.current.style.top="".concat(B,"px"),k.current.style.left="".concat(Z,"px")},[A.x,A.y,O]);var I=m.width,F={minWidth:I+I/2};return X.createElement("div",{style:F,className:"rbc-overlay",ref:k},X.createElement("div",{className:"rbc-overlay-header"},d.format(x,"dayHeaderFormat")),_.map(function(D,B){return X.createElement(kE,{key:B,type:"popup",localizer:d,event:D,getters:a,onSelect:N,accessors:n,components:c,onDoubleClick:P,onKeyPress:C,continuesPrior:d.lt(n.end(D),x,"day"),continuesAfter:d.gte(n.start(D),w,"day"),slotStart:x,slotEnd:w,selected:rf(D,o),draggable:!0,onDragStart:function(){return E(D)},onDragEnd:function(){return v()}})}))}var OE=X.forwardRef(function(e,t){return X.createElement(Q2,Object.assign({},e,{popperRef:t}))});OE.propTypes={accessors:be.object.isRequired,getters:be.object.isRequired,selected:be.object,components:be.object.isRequired,localizer:be.object.isRequired,position:be.object.isRequired,show:be.func.isRequired,events:be.array.isRequired,slotStart:be.instanceOf(Date).isRequired,slotEnd:be.instanceOf(Date),onSelect:be.func,onDoubleClick:be.func,onKeyPress:be.func,handleDragStart:be.func,style:be.object,offset:be.shape({x:be.number,y:be.number})};function eL(e){var t=e.containerRef,n=e.popupOffset,a=n===void 0?5:n,o=e.overlay,c=e.accessors,d=e.localizer,m=e.components,v=e.getters,_=e.selected,x=e.handleSelectEvent,w=e.handleDoubleClickEvent,N=e.handleKeyPressEvent,P=e.handleDragStart,C=e.onHide,E=e.overlayDisplay,k=R.useRef(null);if(!o.position)return null;var O=a;isNaN(a)||(O={x:a,y:a});var A=o.position,I=o.events,F=o.date,D=o.end;return X.createElement(jy,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:C,target:o.target},function(B){var Z=B.props;return X.createElement(OE,Object.assign({},Z,{containerRef:t,ref:k,target:o.target,offset:O,accessors:c,getters:v,selected:_,components:m,localizer:d,position:A,show:E,events:I,slotStart:F,slotEnd:D,onSelect:x,onDoubleClick:w,onKeyPress:N,handleDragStart:P}))})}var Zy=X.forwardRef(function(e,t){return X.createElement(eL,Object.assign({},e,{containerRef:t}))});Zy.propTypes={popupOffset:be.oneOfType([be.number,be.shape({x:be.number,y:be.number})]),overlay:be.shape({position:be.object,events:be.array,date:be.instanceOf(Date),end:be.instanceOf(Date)}),accessors:be.object.isRequired,localizer:be.object.isRequired,components:be.object.isRequired,getters:be.object.isRequired,selected:be.object,handleSelectEvent:be.func,handleDoubleClickEvent:be.func,handleKeyPressEvent:be.func,handleDragStart:be.func,onHide:be.func,overlayDisplay:be.func};function cn(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return ql(n,e,t,{passive:!1})}function tL(e,t,n){return!e||ou(e,document.elementFromPoint(t,n))}function nL(e,t){var n=t.clientX,a=t.clientY,o=document.elementFromPoint(n,a);return dE(o,".rbc-event",e)}function rL(e,t){var n=t.clientX,a=t.clientY,o=document.elementFromPoint(n,a);return dE(o,".rbc-show-more",e)}function Md(e,t){return!!nL(e,t)}function iL(e,t){return!!rL(e,t)}function Fl(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var AS=5,aL=250,ME=(function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.global,o=a===void 0?!1:a,c=n.longPressThreshold,d=c===void 0?250:c,m=n.validContainers,v=m===void 0?[]:m;qt(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||o,this.longPressThreshold=d,this.validContainers=v,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=cn("touchmove",function(){},window),this._removeKeyDownListener=cn("keydown",this._keyListener),this._removeKeyUpListener=cn("keyup",this._keyListener),this._removeDropFromOutsideListener=cn("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=cn("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Wt(e,[{key:"on",value:function(n,a){var o=this._listeners[n]||(this._listeners[n]=[]);return o.push(a),{remove:function(){var d=o.indexOf(a);d!==-1&&o.splice(d,1)}}}},{key:"emit",value:function(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),c=1;c<a;c++)o[c-1]=arguments[c];var d,m=this._listeners[n]||[];return m.forEach(function(v){d===void 0&&(d=v.apply(void 0,o))}),d}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var a=this._selectRect;return!a||!this.selecting?!1:IS(a,Ps(n))}},{key:"filter",value:function(n){var a=this._selectRect;return!a||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,a){var o=this,c=null,d=null,m=null,v=function(N){c=setTimeout(function(){x(),n(N)},o.longPressThreshold),d=cn("touchmove",function(){return x()}),m=cn("touchend",function(){return x()})},_=cn("touchstart",v),x=function(){c&&clearTimeout(c),d&&d(),m&&m(),c=null,d=null,m=null};return a&&v(a),function(){x(),_()}}},{key:"_addInitialEventListener",value:function(){var n=this,a=cn("mousedown",function(c){n._removeInitialEventListener(),n._handleInitialEvent(c),n._removeInitialEventListener=cn("mousedown",n._handleInitialEvent)}),o=cn("touchstart",function(c){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,c)});this._removeInitialEventListener=function(){a(),o()}}},{key:"_dropFromOutsideListener",value:function(n){var a=Fl(n),o=a.pageX,c=a.pageY,d=a.clientX,m=a.clientY;this.emit("dropFromOutside",{x:o,y:c,clientX:d,clientY:m}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var a=Fl(n),o=a.pageX,c=a.pageY,d=a.clientX,m=a.clientY;this.emit("dragOverFromOutside",{x:o,y:c,clientX:d,clientY:m}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var a=Fl(n),o=a.clientX,c=a.clientY,d=a.pageX,m=a.pageY,v=this.container(),_,x;if(!(n.which===3||n.button===2||!tL(v,o,c))){if(!this.globalMouse&&v&&!ou(v,n.target)){var w=sL(0),N=w.top,P=w.left,C=w.bottom,E=w.right;if(x=Ps(v),_=IS({top:x.top-N,left:x.left-P,bottom:x.bottom+C,right:x.right+E},{top:m,left:d}),!_)return}var k=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:d,y:m,clientX:o,clientY:c});if(k!==!1)switch(n.type){case"mousedown":this._removeEndListener=cn("mouseup",this._handleTerminatingEvent),this._onEscListener=cn("keydown",this._handleTerminatingEvent),this._removeMoveListener=cn("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=cn("touchend",this._handleTerminatingEvent),this._removeMoveListener=cn("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var a=n.target,o=this.validContainers;return!o||!o.length||!a?!0:o.some(function(c){return!!a.closest(c)})}},{key:"_handleTerminatingEvent",value:function(n){var a=this.selecting,o=this._selectRect;if(!a&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!n){var c=!this.container||ou(this.container(),n.target),d=this._isWithinValidContainer(n);return n.key==="Escape"||!d?this.emit("reset"):!a&&c?this._handleClickEvent(n):a?this.emit("select",o):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var a=Fl(n),o=a.pageX,c=a.pageY,d=a.clientX,m=a.clientY,v=new Date().getTime();return this._lastClickData&&v-this._lastClickData.timestamp<aL?(this._lastClickData=null,this.emit("doubleClick",{x:o,y:c,clientX:d,clientY:m})):(this._lastClickData={timestamp:v},this.emit("click",{x:o,y:c,clientX:d,clientY:m}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var a=this._initialEventData,o=a.x,c=a.y,d=Fl(n),m=d.pageX,v=d.pageY,_=Math.abs(o-m),x=Math.abs(c-v),w=Math.min(m,o),N=Math.min(v,c),P=this.selecting,C=this.isClick(m,v);C&&!P&&!(_||x)||(!P&&!C&&this.emit("selectStart",this._initialEventData),C||(this.selecting=!0,this._selectRect={top:N,left:w,x:m,y:v,right:w+_,bottom:N+x},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,a){var o=this._initialEventData,c=o.x,d=o.y,m=o.isTouch;return!m&&Math.abs(n-c)<=AS&&Math.abs(a-d)<=AS}}])})();function sL(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return $i(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function IS(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=Ps(e),o=a.top,c=a.left,d=a.right,m=d===void 0?c:d,v=a.bottom,_=v===void 0?o:v,x=Ps(t),w=x.top,N=x.left,P=x.right,C=P===void 0?N:P,E=x.bottom,k=E===void 0?w:E;return!(_-n<w||o+n>k||m-n<N||c+n>C)}function Ps(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+FS("left"),a=t.top+FS("top");return{top:a,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+a}}function FS(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var oL=(function(e){function t(n,a){var o;return qt(this,t),o=hn(this,t,[n,a]),o.state={selecting:!1},o.containerRef=R.createRef(),o}return pn(t,e),Wt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(a){!a.selectable&&this.props.selectable&&this._selectable(),a.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var a=this.props,o=a.range,c=a.getNow,d=a.getters,m=a.date,v=a.components.dateCellWrapper,_=a.localizer,x=this.state,w=x.selecting,N=x.startIdx,P=x.endIdx,C=c();return X.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},o.map(function(E,k){var O=w&&k>=N&&k<=P,A=d.dayProp(E),I=A.className,F=A.style;return X.createElement(v,{key:k,value:E,range:o},X.createElement("div",{style:F,className:kt("rbc-day-bg",I,O&&"rbc-selected-cell",_.isSameDate(E,C)&&"rbc-today",m&&_.neq(m,E,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var a=this,o=this.containerRef.current,c=this._selector=new ME(this.props.container,{longPressThreshold:this.props.longPressThreshold}),d=function(v,_){if(!Md(o,v)&&!iL(o,v)){var x=Ps(o),w=a.props,N=w.range,P=w.rtl;if(K2(x,v)){var C=TE(x,v.x,P,N.length);a._selectSlot({startIdx:C,endIdx:C,action:_,box:v})}}a._initial={},a.setState({selecting:!1})};c.on("selecting",function(m){var v=a.props,_=v.range,x=v.rtl,w=-1,N=-1;if(a.state.selecting||(pt(a.props.onSelectStart,[m]),a._initial={x:m.x,y:m.y}),c.isSelected(o)){var P=Ps(o),C=X2(a._initial,P,m,_.length,x);w=C.startIdx,N=C.endIdx}a.setState({selecting:!0,startIdx:w,endIdx:N})}),c.on("beforeSelect",function(m){if(a.props.selectable==="ignoreEvents")return!Md(a.containerRef.current,m)}),c.on("click",function(m){return d(m,"click")}),c.on("doubleClick",function(m){return d(m,"doubleClick")}),c.on("select",function(m){a._selectSlot(lt(lt({},a.state),{},{action:"select",bounds:m})),a._initial={},a.setState({selecting:!1}),pt(a.props.onSelectEnd,[a.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(a){var o=a.endIdx,c=a.startIdx,d=a.action,m=a.bounds,v=a.box;o!==-1&&c!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:c,end:o,action:d,bounds:m,box:v,resourceId:this.props.resourceId})}}])})(X.Component),mr={propTypes:{slotMetrics:be.object.isRequired,selected:be.object,isAllDay:be.bool,accessors:be.object.isRequired,localizer:be.object.isRequired,components:be.object.isRequired,getters:be.object.isRequired,onSelect:be.func,onDoubleClick:be.func,onKeyPress:be.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,n){var a=t.selected;t.isAllDay;var o=t.accessors,c=t.getters,d=t.onSelect,m=t.onDoubleClick,v=t.onKeyPress,_=t.localizer,x=t.slotMetrics,w=t.components,N=t.resizable,P=x.continuesPrior(n),C=x.continuesAfter(n);return X.createElement(kE,{event:n,getters:c,localizer:_,accessors:o,components:w,onSelect:d,onDoubleClick:m,onKeyPress:v,continuesPrior:P,continuesAfter:C,slotStart:x.first,slotEnd:x.last,selected:rf(n,a),resizable:N})},renderSpan:function(t,n,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",c=Math.abs(n)/t*100+"%";return X.createElement("div",{key:a,className:"rbc-row-segment",style:{WebkitFlexBasis:c,flexBasis:c,maxWidth:c}},o)}},DE=(function(e){function t(){return qt(this,t),hn(this,t,arguments)}return pn(t,e),Wt(t,[{key:"render",value:function(){var a=this,o=this.props,c=o.segments,d=o.slotMetrics.slots,m=o.className,v=1;return X.createElement("div",{className:kt(m,"rbc-row")},c.reduce(function(_,x,w){var N=x.event,P=x.left,C=x.right,E=x.span,k="_lvl_"+w,O=P-v,A=mr.renderEvent(a.props,N);return O&&_.push(mr.renderSpan(d,O,"".concat(k,"_gap"))),_.push(mr.renderSpan(d,E,k,A)),v=C+1,_},[]))}}])})(X.Component);DE.defaultProps=lt({},mr.defaultProps);function LE(e){var t=e.dateRange,n=e.unit,a=n===void 0?"day":n,o=e.localizer;return{first:t[0],last:o.add(t[t.length-1],1,a)}}function lL(e,t,n,a){var o=LE({dateRange:t,localizer:a}),c=o.first,d=o.last,m=a.diff(c,d,"day"),v=a.max(a.startOf(n.start(e),"day"),c),_=a.min(a.ceil(n.end(e),"day"),d),x=tD(t,function(N){return a.isSameDate(N,v)}),w=a.diff(v,_,"day");return w=Math.min(w,m),w=Math.max(w-a.segmentOffset,1),{event:e,span:w,left:x+1,right:Math.max(x+w,1)}}function Vg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,a,o,c=[],d=[];for(n=0;n<e.length;n++){for(o=e[n],a=0;a<c.length&&uL(o,c[a]);a++);a>=t?d.push(o):(c[a]||(c[a]=[])).push(o)}for(n=0;n<c.length;n++)c[n].sort(function(m,v){return m.left-v.left});return{levels:c,extra:d}}function cu(e,t,n,a,o){var c={start:a.start(e),end:a.end(e)},d={start:t,end:n};return o.inEventRange({event:c,range:d})}function uL(e,t){return t.some(function(n){return n.left<=e.right&&n.right>=e.left})}function cL(e,t,n){var a=ld(e),o=[],c=[];a.forEach(function(v){var _=t.start(v),x=t.end(v);n.daySpan(_,x)>1?o.push(v):c.push(v)});var d=o.sort(function(v,_){return Gg(v,_,t,n)}),m=c.sort(function(v,_){return Gg(v,_,t,n)});return[].concat(ld(d),ld(m))}function Gg(e,t,n,a){var o={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},c={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return a.sortEvents({evtA:o,evtB:c})}var Kg=function(t,n){return t.left<=n&&t.right>=n},jg=function(t,n){return t.filter(function(a){return Kg(a,n)}).map(function(a){return a.event})},RE=(function(e){function t(){return qt(this,t),hn(this,t,arguments)}return pn(t,e),Wt(t,[{key:"render",value:function(){for(var a=this.props,o=a.segments,c=a.slotMetrics.slots,d=Vg(o).levels[0],m=1,v=1,_=[];m<=c;){var x="_lvl_"+m,w=d.filter(function(F){return Kg(F,m)})[0]||{},N=w.event,P=w.left,C=w.right,E=w.span;if(!N){var k=this.getHiddenEventsForSlot(o,m);if(k.length>0){var O=m-v;O&&_.push(mr.renderSpan(c,O,x+"_gap")),_.push(mr.renderSpan(c,1,x,this.renderShowMore(o,m))),v=m=m+1;continue}m++;continue}var A=Math.max(0,P-v);if(this.canRenderSlotEvent(P,E)){var I=mr.renderEvent(this.props,N);A&&_.push(mr.renderSpan(c,A,x+"_gap")),_.push(mr.renderSpan(c,E,x,I)),v=m=C+1}else A&&_.push(mr.renderSpan(c,A,x+"_gap")),_.push(mr.renderSpan(c,1,x,this.renderShowMore(o,m))),v=m=m+1}return X.createElement("div",{className:"rbc-row"},_)}},{key:"getHiddenEventsForSlot",value:function(a,o){var c=jg(a,o),d=Vg(a).levels[0],m=d.filter(function(v){return Kg(v,o)}).map(function(v){return v.event});return c.filter(function(v){return!m.some(function(_){return _===v})})}},{key:"canRenderSlotEvent",value:function(a,o){var c=this.props.segments;return sD(a,a+o).every(function(d){var m=jg(c,d).length;return m===1})}},{key:"renderShowMore",value:function(a,o){var c=this,d=this.props,m=d.localizer,v=d.slotMetrics,_=d.components,x=v.getEventsForSlot(o),w=jg(a,o),N=w.length;if(_!=null&&_.showMore){var P=_.showMore,C=v.getDateForSlot(o-1);return N?X.createElement(P,{localizer:m,slotDate:C,slot:o,count:N,events:x,remainingEvents:w}):!1}return N?X.createElement("button",{type:"button",key:"sm_"+o,className:kt("rbc-button-link","rbc-show-more"),onClick:function(k){return c.showMore(o,k)}},m.messages.showMore(N,w,x)):!1}},{key:"showMore",value:function(a,o){o.preventDefault(),o.stopPropagation(),this.props.onShowMore(a,o.target)}}])})(X.Component);RE.defaultProps=lt({},mr.defaultProps);var dL=function(t){var n=t.children;return X.createElement("div",{className:"rbc-row-content-scroll-container"},n)},fL=function(t,n){return t.left<=n&&t.right>=n},hL=function(t,n){return t[0].range===n[0].range&&t[0].events===n[0].events};function zE(){return pE(function(e){for(var t=e.range,n=e.events,a=e.maxRows,o=e.minRows,c=e.accessors,d=e.localizer,m=LE({dateRange:t,localizer:d}),v=m.first,_=m.last,x=n.map(function(E){return lL(E,t,c,d)}),w=Vg(x,Math.max(a-1,1)),N=w.levels,P=w.extra,C=P.length>0?o-1:o;N.length<C;)N.push([]);return{first:v,last:_,levels:N,extra:P,range:t,slots:t.length,clone:function(k){var O=zE();return O(lt(lt({},e),k))},getDateForSlot:function(k){return t[k]},getSlotForDate:function(k){return t.find(function(O){return d.isSameDate(O,k)})},getEventsForSlot:function(k){return x.filter(function(O){return fL(O,k)}).map(function(O){return O.event})},continuesPrior:function(k){return d.continuesPrior(c.start(k),v)},continuesAfter:function(k){var O=c.start(k),A=c.end(k);return d.continuesAfter(O,A,_)}}},hL)}var du=(function(e){function t(){var n;qt(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=hn(this,t,[].concat(o)),n.handleSelectSlot=function(d){var m=n.props,v=m.range,_=m.onSelectSlot;_(v.slice(d.start,d.end+1),d)},n.handleShowMore=function(d,m){var v=n.props,_=v.range,x=v.onShowMore,w=n.slotMetrics(n.props),N=dT(n.containerRef.current,".rbc-row-bg")[0],P;N&&(P=N.children[d-1]);var C=w.getEventsForSlot(d);x(C,_[d-1],P,d,m)},n.getContainer=function(){var d=n.props.container;return d?d():n.containerRef.current},n.renderHeadingCell=function(d,m){var v=n.props,_=v.renderHeader,x=v.getNow,w=v.localizer;return _({date:d,key:"header_".concat(m),className:kt("rbc-date-cell",w.isSameDate(d,x())&&"rbc-now")})},n.renderDummy=function(){var d=n.props,m=d.className,v=d.range,_=d.renderHeader,x=d.showAllEvents;return X.createElement("div",{className:m,ref:n.containerRef},X.createElement("div",{className:kt("rbc-row-content",x&&"rbc-row-content-scrollable")},_&&X.createElement("div",{className:"rbc-row",ref:n.headingRowRef},v.map(n.renderHeadingCell)),X.createElement("div",{className:"rbc-row",ref:n.eventRowRef},X.createElement("div",{className:"rbc-row-segment"},X.createElement("div",{className:"rbc-event"},X.createElement("div",{className:"rbc-event-content"}," "))))))},n.containerRef=R.createRef(),n.headingRowRef=R.createRef(),n.eventRowRef=R.createRef(),n.slotMetrics=zE(),n}return pn(t,e),Wt(t,[{key:"getRowLimit",value:function(){var a,o=Hm(this.eventRowRef.current),c=(a=this.headingRowRef)!==null&&a!==void 0&&a.current?Hm(this.headingRowRef.current):0,d=Hm(this.containerRef.current)-c;return Math.max(Math.floor(d/o),1)}},{key:"render",value:function(){var a=this.props,o=a.date,c=a.rtl,d=a.range,m=a.className,v=a.selected,_=a.selectable,x=a.renderForMeasure,w=a.accessors,N=a.getters,P=a.components,C=a.getNow,E=a.renderHeader,k=a.onSelect,O=a.localizer,A=a.onSelectStart,I=a.onSelectEnd,F=a.onDoubleClick,D=a.onKeyPress,B=a.resourceId,Z=a.longPressThreshold,H=a.isAllDay,G=a.resizable,$=a.showAllEvents;if(x)return this.renderDummy();var W=this.slotMetrics(this.props),re=W.levels,J=W.extra,ce=$?dL:ei,ge=P.weekWrapper,me={selected:v,accessors:w,getters:N,localizer:O,components:P,onSelect:k,onDoubleClick:F,onKeyPress:D,resourceId:B,slotMetrics:W,resizable:G};return X.createElement("div",{className:m,role:"rowgroup",ref:this.containerRef},X.createElement(oL,{localizer:O,date:o,getNow:C,rtl:c,range:d,selectable:_,container:this.getContainer,getters:N,onSelectStart:A,onSelectEnd:I,onSelectSlot:this.handleSelectSlot,components:P,longPressThreshold:Z,resourceId:B}),X.createElement("div",{className:kt("rbc-row-content",$&&"rbc-row-content-scrollable"),role:"row"},E&&X.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},d.map(this.renderHeadingCell)),X.createElement(ce,null,X.createElement(ge,Object.assign({isAllDay:H},me,{rtl:this.props.rtl}),re.map(function(xe,z){return X.createElement(DE,Object.assign({key:z,segments:xe},me))}),!!J.length&&X.createElement(RE,Object.assign({segments:J,onShowMore:this.handleShowMore},me))))))}}])})(X.Component);du.defaultProps={minRows:0,maxRows:1/0};var Vy=function(t){var n=t.label;return X.createElement("span",{role:"columnheader","aria-sort":"none"},n)},pL=function(t){var n=t.label,a=t.drilldownView,o=t.onDrillDown;return a?X.createElement("button",{type:"button",className:"rbc-button-link",onClick:o},n):X.createElement("span",null,n)},mL=["date","className"],vL=function(t,n,a,o,c){return t.filter(function(d){return cu(d,n,a,o,c)})},af=(function(e){function t(){var n;qt(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=hn(this,t,[].concat(o)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(d,m){var v=n.props,_=v.events,x=v.components,w=v.selectable,N=v.getNow,P=v.selected,C=v.date,E=v.localizer,k=v.longPressThreshold,O=v.accessors,A=v.getters,I=v.showAllEvents,F=n.state,D=F.needLimitMeasure,B=F.rowLimit,Z=vL(ld(_),d[0],d[d.length-1],O,E),H=cL(Z,O,E);return X.createElement(du,{key:m,ref:m===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:N,date:C,range:d,events:H,maxRows:I?1/0:B,selected:P,selectable:w,components:x,accessors:O,getters:A,localizer:E,renderHeader:n.readerDateHeading,renderForMeasure:D,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:k,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:I})},n.readerDateHeading=function(d){var m=d.date,v=d.className,_=ii(d,mL),x=n.props,w=x.date,N=x.getDrilldownView,P=x.localizer,C=P.neq(w,m,"month"),E=P.isSameDate(m,w),k=N(m),O=P.format(m,"dateFormat"),A=n.props.components.dateHeader||pL;return X.createElement("div",Object.assign({},_,{className:kt(v,C&&"rbc-off-range",E&&"rbc-current"),role:"cell"}),X.createElement(A,{label:O,date:m,drilldownView:k,isOffRange:C,onDrillDown:function(F){return n.handleHeadingClick(m,k,F)}}))},n.handleSelectSlot=function(d,m){n._pendingSelection=n._pendingSelection.concat(d),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(m)})},n.handleHeadingClick=function(d,m,v){v.preventDefault(),n.clearSelection(),pt(n.props.onDrillDown,[d,m])},n.handleSelectEvent=function(){n.clearSelection();for(var d=arguments.length,m=new Array(d),v=0;v<d;v++)m[v]=arguments[v];pt(n.props.onSelectEvent,m)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var d=arguments.length,m=new Array(d),v=0;v<d;v++)m[v]=arguments[v];pt(n.props.onDoubleClickEvent,m)},n.handleKeyPressEvent=function(){n.clearSelection();for(var d=arguments.length,m=new Array(d),v=0;v<d;v++)m[v]=arguments[v];pt(n.props.onKeyPressEvent,m)},n.handleShowMore=function(d,m,v,_,x){var w=n.props,N=w.popup,P=w.onDrillDown,C=w.onShowMore,E=w.getDrilldownView,k=w.doShowMoreDrillDown;if(n.clearSelection(),N){var O=ZN(v,n.containerRef.current);n.setState({overlay:{date:m,events:d,position:O,target:x}})}else k&&pt(P,[m,E(m)||xn.DAY]);pt(C,[d,m,_])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=R.createRef(),n.slotRowRef=R.createRef(),n._bgRows=[],n._pendingSelection=[],n}return pn(t,e),Wt(t,[{key:"componentDidMount",value:function(){var a=this,o;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){o||VN(function(){o=!1,a.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var a=this.props,o=a.date,c=a.localizer,d=a.className,m=c.visibleDays(o,c),v=Gj(m,7);return this._weekCount=v.length,X.createElement("div",{className:kt("rbc-month-view",d),role:"table","aria-label":"Month View",ref:this.containerRef},X.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(v[0])),v.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(a){var o=this.props,c=o.localizer,d=o.components,m=a[0],v=a[a.length-1],_=d.header||Vy;return c.range(m,v,"day").map(function(x,w){return X.createElement("div",{key:"header_"+w,className:"rbc-header"},X.createElement(_,{date:x,localizer:c,label:c.format(x,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var a,o,c=this,d=(a=(o=this.state)===null||o===void 0?void 0:o.overlay)!==null&&a!==void 0?a:{},m=this.props,v=m.accessors,_=m.localizer,x=m.components,w=m.getters,N=m.selected,P=m.popupOffset,C=m.handleDragStart,E=function(){return c.setState({overlay:null})};return X.createElement(Zy,{overlay:d,accessors:v,localizer:_,components:x,getters:w,selected:N,popupOffset:P,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:C,show:!!d.position,overlayDisplay:this.overlayDisplay,onHide:E})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(a){var o=this._pendingSelection.slice();this._pendingSelection=[],o.sort(function(m,v){return+m-+v});var c=new Date(o[0]),d=new Date(o[o.length-1]);d.setDate(o[o.length-1].getDate()+1),pt(this.props.onSelectSlot,{slots:o,start:c,end:d,action:a.action,bounds:a.bounds,box:a.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(a,o){var c=a.date,d=a.localizer;return{date:c,needLimitMeasure:d.neq(c,o.date,"month")}}}])})(X.Component);af.range=function(e,t){var n=t.localizer,a=n.firstVisibleDay(e,n),o=n.lastVisibleDay(e,n);return{start:a,end:o}};af.navigate=function(e,t,n){var a=n.localizer;switch(t){case An.PREVIOUS:return a.add(e,-1,"month");case An.NEXT:return a.add(e,1,"month");default:return e}};af.title=function(e,t){var n=t.localizer;return n.format(e,"monthHeaderFormat")};var $S=function(t){var n=t.min,a=t.max,o=t.step,c=t.slots,d=t.localizer;return"".concat(+d.startOf(n,"minutes"))+"".concat(+d.startOf(a,"minutes"))+"".concat(o,"-").concat(c)};function Gy(e){for(var t=e.min,n=e.max,a=e.step,o=e.timeslots,c=e.localizer,d=$S({step:a,localizer:c}),m=1+c.getTotalMin(t,n),v=c.getMinutesFromMidnight(t),_=Math.ceil((m-1)/(a*o)),x=_*o,w=new Array(_),N=new Array(x),P=0;P<_;P++){w[P]=new Array(o);for(var C=0;C<o;C++){var E=P*o+C,k=E*a;N[E]=w[P][C]=c.getSlotDate(t,v,k)}}var O=N.length*a;N.push(c.getSlotDate(t,v,O));function A(I){var F=c.diff(t,I,"minutes")+c.getDstOffset(t,I);return Math.min(F,m)}return{groups:w,update:function(F){return $S(F)!==d?Gy(F):this},dateIsInGroup:function(F,D){var B=w[D+1];return c.inRange(F,w[D][0],B?B[0]:n,"minutes")},nextSlot:function(F){var D=N[Math.min(N.findIndex(function(B){return B===F||c.eq(B,F)})+1,N.length-1)];return c.eq(D,F)&&(D=c.add(F,a,"minutes")),D},closestSlotToPosition:function(F){var D=Math.min(N.length-1,Math.max(0,Math.floor(F*x)));return N[D]},closestSlotFromPoint:function(F,D){var B=Math.abs(D.top-D.bottom);return this.closestSlotToPosition((F.y-D.top)/B)},closestSlotFromDate:function(F){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(c.lt(F,t,"minutes"))return N[0];if(c.gt(F,n,"minutes"))return N[N.length-1];var B=c.diff(t,F,"minutes");return N[(B-B%a)/a+D]},startsBeforeDay:function(F){return c.lt(F,t,"day")},startsAfterDay:function(F){return c.gt(F,n,"day")},startsBefore:function(F){return c.lt(c.merge(t,F),t,"minutes")},startsAfter:function(F){return c.gt(c.merge(n,F),n,"minutes")},getRange:function(F,D,B,Z){B||(F=c.min(n,c.max(t,F))),Z||(D=c.min(n,c.max(t,D)));var H=A(F),G=A(D),$=G>a*x&&!c.eq(n,D)?(H-a)/(a*x)*100:H/(a*x)*100;return{top:$,height:G/(a*x)*100-$,start:A(F),startDate:F,end:A(D),endDate:D}},getCurrentTimePosition:function(F){var D=A(F),B=D/(a*x)*100;return B}}}var gL=(function(){function e(t,n){var a=n.accessors,o=n.slotMetrics;qt(this,e);var c=o.getRange(a.start(t),a.end(t)),d=c.start,m=c.startDate,v=c.end,_=c.endDate,x=c.top,w=c.height;this.start=d,this.end=v,this.startMs=+m,this.endMs=+_,this.top=x,this.height=w,this.data=t}return Wt(e,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(o,c){return Math.max(o,c.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var a=100-this.container._width;return a/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,a=Math.min(100,this._width*1.7);if(this.rows)return a;if(this.leaves)return this.leaves.length>0?a:n;var o=this.row.leaves,c=o.indexOf(this);return c===o.length-1?n:a}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,a=n.leaves,o=n.xOffset,c=n._width,d=a.indexOf(this)+1;return o+d*c}}])})();function yL(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function _L(e){for(var t=ED(e,["startMs",function(m){return-m.endMs}]),n=[];t.length>0;){var a=t.shift();n.push(a);for(var o=0;o<t.length;o++){var c=t[o];if(!(a.endMs>c.startMs)){if(o>0){var d=t.splice(o,1)[0];n.push(d)}break}}}return n}function AE(e){for(var t=e.events,n=e.minimumStartDifference,a=e.slotMetrics,o=e.accessors,c=t.map(function(x){return new gL(x,{slotMetrics:a,accessors:o})}),d=_L(c),m=[],v=function(){var w=d[_],N=m.find(function(E){return E.end>w.start||Math.abs(w.start-E.start)<n});if(!N)return w.rows=[],m.push(w),1;w.container=N;for(var P=null,C=N.rows.length-1;!P&&C>=0;C--)yL(N.rows[C],w,n)&&(P=N.rows[C]);P?(P.leaves.push(w),w.row=P):(w.leaves=[],N.rows.push(w))},_=0;_<d.length;_++)v();return d.map(function(x){return{event:x.data,style:{top:x.top,height:x.height,width:x.width,xOffset:Math.max(0,x.xOffset)}}})}function IE(e,t,n){for(var a=0;a<e.friends.length;++a)if(!(n.indexOf(e.friends[a])>-1)){t=t>e.friends[a].idx?t:e.friends[a].idx,n.push(e.friends[a]);var o=IE(e.friends[a],t,n);t=t>o?t:o}return t}function xL(e){var t=e.events,n=e.minimumStartDifference,a=e.slotMetrics,o=e.accessors,c=AE({events:t,minimumStartDifference:n,slotMetrics:a,accessors:o});c.sort(function(ge,me){return ge=ge.style,me=me.style,ge.top!==me.top?ge.top>me.top?1:-1:ge.height!==me.height?ge.top+ge.height<me.top+me.height?1:-1:0});for(var d=0;d<c.length;++d)c[d].friends=[],delete c[d].style.left,delete c[d].style.left,delete c[d].idx,delete c[d].size;for(var m=0;m<c.length-1;++m)for(var v=c[m],_=v.style.top,x=v.style.top+v.style.height,w=m+1;w<c.length;++w){var N=c[w],P=N.style.top,C=N.style.top+N.style.height;(P>=_&&C<=x||C>_&&C<=x||P>=_&&P<x)&&(v.friends.push(N),N.friends.push(v))}for(var E=0;E<c.length;++E){for(var k=c[E],O=[],A=0;A<100;++A)O.push(1);for(var I=0;I<k.friends.length;++I)k.friends[I].idx!==void 0&&(O[k.friends[I].idx]=0);k.idx=O.indexOf(1)}for(var F=0;F<c.length;++F){var D=0;if(!c[F].size){var B=[],Z=IE(c[F],0,B);D=100/(Z+1),c[F].size=D;for(var H=0;H<B.length;++H)B[H].size=D}}for(var G=0;G<c.length;++G){var $=c[G];$.style.left=$.idx*$.size;for(var W=0,re=0;re<$.friends.length;++re){var J=$.friends[re].idx;W=W>J?W:J}W<=$.idx&&($.size=100-$.idx*$.size);var ce=$.idx===0?0:3;$.style.width="calc(".concat($.size,"% - ").concat(ce,"px)"),$.style.height="calc(".concat($.style.height,"% - 2px)"),$.style.xOffset="calc(".concat($.style.left,"% + ").concat(ce,"px)")}return c}var BS={overlap:AE,"no-overlap":xL};function wL(e){return!!(e&&e.constructor&&e.call&&e.apply)}function bL(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in BS&&(n=BS[t]),wL(n)?n.apply(this,arguments):[]}var FE=(function(e){function t(){return qt(this,t),hn(this,t,arguments)}return pn(t,e),Wt(t,[{key:"render",value:function(){var a=this.props,o=a.renderSlot,c=a.resource,d=a.group,m=a.getters,v=a.components,_=v===void 0?{}:v,x=_.timeSlotWrapper,w=x===void 0?ei:x,N=m?m.slotGroupProp(d):{};return X.createElement("div",Object.assign({className:"rbc-timeslot-group"},N),d.map(function(P,C){var E=m?m.slotProp(P,c):{};return X.createElement(w,{key:C,value:P,resource:c},X.createElement("div",Object.assign({},E,{className:kt("rbc-time-slot",E.className)}),o&&o(P,C)))}))}}])})(R.Component);function nd(e){return typeof e=="string"?e:e+"%"}function SL(e){var t=e.style,n=e.className,a=e.event,o=e.accessors,c=e.rtl,d=e.selected,m=e.label,v=e.continuesPrior,_=e.continuesAfter,x=e.getters,w=e.onClick,N=e.onDoubleClick,P=e.isBackgroundEvent,C=e.onKeyPress,E=e.components,k=E.event,O=E.eventWrapper,A=o.title(a),I=o.tooltip(a),F=o.end(a),D=o.start(a),B=x.eventProp(a,D,F,d),Z=[X.createElement("div",{key:"1",className:"rbc-event-label"},m),X.createElement("div",{key:"2",className:"rbc-event-content"},k?X.createElement(k,{event:a,title:A}):A)],H=t.height,G=t.top,$=t.width,W=t.xOffset,re=lt(lt({},B.style),{},ms({top:nd(G),height:nd(H),width:nd($)},c?"right":"left",nd(W)));return X.createElement(O,Object.assign({type:"time"},e),X.createElement("div",{role:"button",tabIndex:0,onClick:w,onDoubleClick:N,style:re,onKeyDown:C,title:I?(typeof m=="string"?m+": ":"")+I:void 0,className:kt(P?"rbc-background-event":"rbc-event",n,B.className,{"rbc-selected":d,"rbc-event-continues-earlier":v,"rbc-event-continues-later":_})},Z))}var NL=function(t){var n=t.children,a=t.className,o=t.style,c=t.innerRef;return X.createElement("div",{className:a,style:o,ref:c},n)},EL=X.forwardRef(function(e,t){return X.createElement(NL,Object.assign({},e,{innerRef:t}))}),PL=["dayProp"],CL=["eventContainerWrapper","timeIndicatorWrapper"],$E=(function(e){function t(){var n;qt(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=hn(this,t,[].concat(o)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(d){var m=d.events,v=d.isBackgroundEvent,_=n.props,x=_.rtl,w=_.selected,N=_.accessors,P=_.localizer,C=_.getters,E=_.components,k=_.step,O=_.timeslots,A=_.dayLayoutAlgorithm,I=_.resizable,F=n,D=F.slotMetrics,B=P.messages,Z=bL({events:m,accessors:N,slotMetrics:D,minimumStartDifference:Math.ceil(k*O/2),dayLayoutAlgorithm:A});return Z.map(function(H,G){var $,W=H.event,re=H.style,J=N.end(W),ce=N.start(W),ge=($=N.eventId(W))!==null&&$!==void 0?$:"evt_"+G,me="eventTimeRangeFormat",xe,z=D.startsBeforeDay(ce),ne=D.startsAfterDay(J);z?me="eventTimeRangeEndFormat":ne&&(me="eventTimeRangeStartFormat"),z&&ne?xe=B.allDay:xe=P.format({start:ce,end:J},me);var Q=z||D.startsBefore(ce),M=ne||D.startsAfter(J);return X.createElement(SL,{style:re,event:W,label:xe,key:ge,getters:C,rtl:x,components:E,continuesPrior:Q,continuesAfter:M,accessors:N,resource:n.props.resource,selected:rf(W,w),onClick:function(se){return n._select(lt(lt(lt({},W),n.props.resource&&{sourceResource:n.props.resource}),v&&{isBackgroundEvent:!0}),se)},onDoubleClick:function(se){return n._doubleClick(W,se)},isBackgroundEvent:v,onKeyPress:function(se){return n._keyPress(W,se)},resizable:I})})},n._selectable=function(){var d=n.containerRef.current,m=n.props,v=m.longPressThreshold,_=m.localizer,x=n._selector=new ME(function(){return d},{longPressThreshold:v}),w=function(E){var k=n.props.onSelecting,O=n.state||{},A=N(E),I=A.startDate,F=A.endDate;k&&(_.eq(O.startDate,I,"minutes")&&_.eq(O.endDate,F,"minutes")||k({start:I,end:F,resourceId:n.props.resource})===!1)||(n.state.start!==A.start||n.state.end!==A.end||n.state.selecting!==A.selecting)&&n.setState(A)},N=function(E){var k=n.slotMetrics.closestSlotFromPoint(E,Ps(d));n.state.selecting||(n._initialSlot=k);var O=n._initialSlot;_.lte(O,k)?k=n.slotMetrics.nextSlot(k):_.gt(O,k)&&(O=n.slotMetrics.nextSlot(O));var A=n.slotMetrics.getRange(_.min(O,k),_.max(O,k));return lt(lt({},A),{},{selecting:!0,top:"".concat(A.top,"%"),height:"".concat(A.height,"%")})},P=function(E,k){if(!Md(n.containerRef.current,E)){var O=N(E),A=O.startDate,I=O.endDate;n._selectSlot({startDate:A,endDate:I,action:k,box:E})}n.setState({selecting:!1})};x.on("selecting",w),x.on("selectStart",w),x.on("beforeSelect",function(C){if(n.props.selectable==="ignoreEvents")return!Md(n.containerRef.current,C)}),x.on("click",function(C){return P(C,"click")}),x.on("doubleClick",function(C){return P(C,"doubleClick")}),x.on("select",function(C){n.state.selecting&&(n._selectSlot(lt(lt({},n.state),{},{action:"select",bounds:C})),n.setState({selecting:!1}))}),x.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(d){for(var m=d.startDate,v=d.endDate,_=d.action,x=d.bounds,w=d.box,N=m,P=[];n.props.localizer.lte(N,v);)P.push(N),N=new Date(+N+n.props.step*60*1e3);pt(n.props.onSelectSlot,{slots:P,start:m,end:v,resourceId:n.props.resource,action:_,bounds:x,box:w})},n._select=function(){for(var d=arguments.length,m=new Array(d),v=0;v<d;v++)m[v]=arguments[v];pt(n.props.onSelectEvent,m)},n._doubleClick=function(){for(var d=arguments.length,m=new Array(d),v=0;v<d;v++)m[v]=arguments[v];pt(n.props.onDoubleClickEvent,m)},n._keyPress=function(){for(var d=arguments.length,m=new Array(d),v=0;v<d;v++)m[v]=arguments[v];pt(n.props.onKeyPressEvent,m)},n.slotMetrics=Gy(n.props),n.containerRef=R.createRef(),n}return pn(t,e),Wt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(a,o){this.props.selectable&&!a.selectable&&this._selectable(),!this.props.selectable&&a.selectable&&this._teardownSelectable();var c=this.props,d=c.getNow,m=c.isNow,v=c.localizer,_=c.date,x=c.min,w=c.max,N=v.neq(a.getNow(),d(),"minutes");if(a.isNow!==m||N){if(this.clearTimeIndicatorInterval(),m){var P=!N&&v.eq(a.date,_,"minutes")&&o.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(P)}}else m&&(v.neq(a.min,x,"minutes")||v.neq(a.max,w,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var a=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!o&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){a.intervalTriggered=!0,a.positionTimeIndicator(),a.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var a=this.props,o=a.min,c=a.max,d=a.getNow,m=d();if(m>=o&&m<=c){var v=this.slotMetrics.getCurrentTimePosition(m);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:v})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var a=this.props,o=a.date,c=a.max,d=a.rtl,m=a.isNow,v=a.resource,_=a.accessors,x=a.localizer,w=a.getters,N=w.dayProp,P=ii(w,PL),C=a.components,E=C.eventContainerWrapper,k=C.timeIndicatorWrapper,O=ii(C,CL);this.slotMetrics=this.slotMetrics.update(this.props);var A=this.slotMetrics,I=this.state,F=I.selecting,D=I.top,B=I.height,Z=I.startDate,H=I.endDate,G={start:Z,end:H},$=N(c,v),W=$.className,re=$.style,J={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},ce=O.dayColumnWrapper||EL;return X.createElement(ce,{ref:this.containerRef,date:o,style:re,className:kt(W,"rbc-day-slot","rbc-time-column",m&&"rbc-now",m&&"rbc-today",F&&"rbc-slot-selecting"),slotMetrics:A,resource:v},A.groups.map(function(ge,me){return X.createElement(FE,{key:me,group:ge,resource:v,getters:P,components:O})}),X.createElement(E,{localizer:x,resource:v,accessors:_,getters:P,components:O,slotMetrics:A},X.createElement("div",{className:kt("rbc-events-container",d&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),F&&X.createElement("div",{className:"rbc-slot-selection",style:{top:D,height:B}},X.createElement("span",null,x.format(G,"selectRangeFormat"))),m&&this.intervalTriggered&&X.createElement(k,J,X.createElement("div",J)))}}])})(X.Component);$E.defaultProps={dragThroughEvents:!0,timeslots:2};var BE=function(t){var n=t.label;return X.createElement(X.Fragment,null,n)},kL=(function(e){function t(){var n;qt(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=hn(this,t,[].concat(o)),n.handleHeaderClick=function(d,m,v){v.preventDefault(),pt(n.props.onDrillDown,[d,m])},n.renderRow=function(d){var m=n.props,v=m.events,_=m.rtl,x=m.selectable,w=m.getNow,N=m.range,P=m.getters,C=m.localizer,E=m.accessors,k=m.components,O=m.resizable,A=E.resourceId(d),I=d?v.filter(function(F){return E.resource(F)===A}):v;return X.createElement(du,{isAllDay:!0,rtl:_,getNow:w,minRows:2,maxRows:n.props.allDayMaxRows+1,range:N,events:I,resourceId:A,className:"rbc-allday-cell",selectable:x,selected:n.props.selected,components:k,accessors:E,getters:P,localizer:C,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:O})},n}return pn(t,e),Wt(t,[{key:"renderHeaderCells",value:function(a){var o=this,c=this.props,d=c.localizer,m=c.getDrilldownView,v=c.getNow,_=c.getters.dayProp,x=c.components.header,w=x===void 0?Vy:x,N=v();return a.map(function(P,C){var E=m(P),k=d.format(P,"dayFormat"),O=_(P),A=O.className,I=O.style,F=X.createElement(w,{date:P,label:k,localizer:d});return X.createElement("div",{key:C,style:I,className:kt("rbc-header",A,d.isSameDate(P,N)&&"rbc-today")},E?X.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(B){return o.handleHeaderClick(P,E,B)}},F):X.createElement("span",null,F))})}},{key:"render",value:function(){var a=this,o=this.props,c=o.width,d=o.rtl,m=o.resources,v=o.range,_=o.events,x=o.getNow,w=o.accessors,N=o.selectable,P=o.components,C=o.getters,E=o.scrollRef,k=o.localizer,O=o.isOverflowing,A=o.components,I=A.timeGutterHeader,F=A.resourceHeader,D=F===void 0?BE:F,B=o.resizable,Z={};O&&(Z[d?"marginLeft":"marginRight"]="".concat(ky()-1,"px"));var H=m.groupEvents(_);return X.createElement("div",{style:Z,ref:E,className:kt("rbc-time-header",O&&"rbc-overflowing")},X.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:c,minWidth:c,maxWidth:c}},I&&X.createElement(I,null)),m.map(function(G,$){var W=gr(G,2),re=W[0],J=W[1];return X.createElement("div",{className:"rbc-time-header-content",key:re||$},J&&X.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat($)},X.createElement("div",{className:"rbc-header"},X.createElement(D,{index:$,label:w.resourceTitle(J),resource:J}))),X.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(v.length<=1?" rbc-time-header-cell-single-day":"")},a.renderHeaderCells(v)),X.createElement(du,{isAllDay:!0,rtl:d,getNow:x,minRows:2,maxRows:a.props.allDayMaxRows+1,range:v,events:H.get(re)||[],resourceId:J&&re,className:"rbc-allday-cell",selectable:N,selected:a.props.selected,components:P,accessors:w,getters:C,localizer:k,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:B}))}))}}])})(X.Component),jL=(function(e){function t(){var n;qt(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=hn(this,t,[].concat(o)),n.handleHeaderClick=function(d,m,v){v.preventDefault(),pt(n.props.onDrillDown,[d,m])},n}return pn(t,e),Wt(t,[{key:"renderHeaderCells",value:function(a){var o=this,c=this.props,d=c.localizer,m=c.getDrilldownView,v=c.getNow,_=c.getters.dayProp,x=c.components,w=x.header,N=w===void 0?Vy:w,P=x.resourceHeader,C=P===void 0?BE:P,E=c.resources,k=c.accessors,O=c.events,A=c.rtl,I=c.selectable,F=c.components,D=c.getters,B=c.resizable,Z=v(),H=E.groupEvents(O);return a.map(function(G,$){var W=m(G),re=d.format(G,"dayFormat"),J=_(G),ce=J.className,ge=J.style,me=X.createElement(N,{date:G,label:re,localizer:d});return X.createElement("div",{key:$,className:"rbc-time-header-content rbc-resource-grouping"},X.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(a.length<=1?" rbc-time-header-cell-single-day":"")},X.createElement("div",{style:ge,className:kt("rbc-header",ce,d.isSameDate(G,Z)&&"rbc-today")},W?X.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(z){return o.handleHeaderClick(G,W,z)}},me):X.createElement("span",null,me))),X.createElement("div",{className:"rbc-row"},E.map(function(xe,z){var ne=gr(xe,2),Q=ne[0],M=ne[1];return X.createElement("div",{key:"resource_".concat(Q,"_").concat(z),className:kt("rbc-header",ce,d.isSameDate(G,Z)&&"rbc-today")},X.createElement(C,{index:z,label:k.resourceTitle(M),resource:M}))})),X.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},E.map(function(xe,z){var ne=gr(xe,2),Q=ne[0],M=ne[1],U=(H.get(Q)||[]).filter(function(se){return d.isSameDate(se.start,G)||d.isSameDate(se.end,G)});return X.createElement(du,{key:"resource_".concat(Q,"_").concat(z),isAllDay:!0,rtl:A,getNow:v,minRows:2,maxRows:o.props.allDayMaxRows+1,range:[G],events:U,resourceId:M&&Q,className:"rbc-allday-cell",selectable:I,selected:o.props.selected,components:F,accessors:k,getters:D,localizer:d,onSelect:o.props.onSelectEvent,onShowMore:o.props.onShowMore,onDoubleClick:o.props.onDoubleClickEvent,onKeyDown:o.props.onKeyPressEvent,onSelectSlot:o.props.onSelectSlot,longPressThreshold:o.props.longPressThreshold,resizable:B})})))})}},{key:"render",value:function(){var a=this.props,o=a.width,c=a.rtl,d=a.range,m=a.scrollRef,v=a.isOverflowing,_=a.components.timeGutterHeader,x={};return v&&(x[c?"marginLeft":"marginRight"]="".concat(ky()-1,"px")),X.createElement("div",{style:x,ref:m,className:kt("rbc-time-header",v&&"rbc-overflowing")},X.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:o,minWidth:o,maxWidth:o}},_&&X.createElement(_,null)),this.renderHeaderCells(d))}}])})(X.Component);function TL(e){var t=e.min,n=e.max,a=e.localizer;return a.getTimezoneOffset(t)!==a.getTimezoneOffset(n)?{start:a.add(t,-1,"day"),end:a.add(n,-1,"day")}:{start:t,end:n}}var OL=function(t){var n=t.min,a=t.max,o=t.timeslots,c=t.step,d=t.localizer,m=t.getNow,v=t.resource,_=t.components,x=t.getters,w=t.gutterRef,N=_.timeGutterWrapper,P=R.useMemo(function(){return TL({min:n,max:a,localizer:d})},[n?.toISOString(),a?.toISOString(),d]),C=P.start,E=P.end,k=R.useState(Gy({min:C,max:E,timeslots:o,step:c,localizer:d})),O=gr(k,2),A=O[0],I=O[1];R.useEffect(function(){A&&I(A.update({min:C,max:E,timeslots:o,step:c,localizer:d}))},[C?.toISOString(),E?.toISOString(),o,c]);var F=R.useCallback(function(D,B){if(B)return null;var Z=A.dateIsInGroup(m(),B);return X.createElement("span",{className:kt("rbc-label",Z&&"rbc-now")},d.format(D,"timeGutterFormat"))},[A,d,m]);return X.createElement(N,{slotMetrics:A},X.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:w},A.groups.map(function(D,B){return X.createElement(FE,{key:B,group:D,resource:v,components:_,renderSlot:F,getters:x})})))},ML=X.forwardRef(function(e,t){return X.createElement(OL,Object.assign({gutterRef:t},e))}),Tg={};function DL(e,t){return{map:function(a){return e?e.map(function(o,c){return a([t.resourceId(o),o],c)}):[a([Tg,null],0)]},groupEvents:function(a){var o=new Map;return e?(a.forEach(function(c){var d=t.resource(c)||Tg;if(Array.isArray(d))d.forEach(function(v){var _=o.get(v)||[];_.push(c),o.set(v,_)});else{var m=o.get(d)||[];m.push(c),o.set(d,m)}}),o):(o.set(Tg,a),o)}}}var Fo=(function(e){function t(n){var a;return qt(this,t),a=hn(this,t,[n]),a.handleScroll=function(o){a.scrollRef.current&&(a.scrollRef.current.scrollLeft=o.target.scrollLeft)},a.handleResize=function(){ew(a.rafHandle),a.rafHandle=VN(a.checkOverflow)},a.handleKeyPressEvent=function(){a.clearSelection();for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];pt(a.props.onKeyPressEvent,c)},a.handleSelectEvent=function(){a.clearSelection();for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];pt(a.props.onSelectEvent,c)},a.handleDoubleClickEvent=function(){a.clearSelection();for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];pt(a.props.onDoubleClickEvent,c)},a.handleShowMore=function(o,c,d,m,v){var _=a.props,x=_.popup,w=_.onDrillDown,N=_.onShowMore,P=_.getDrilldownView,C=_.doShowMoreDrillDown;if(a.clearSelection(),x){var E=ZN(d,a.containerRef.current);a.setState({overlay:{date:c,events:o,position:lt(lt({},E),{},{width:"200px"}),target:v}})}else C&&pt(w,[c,P(c)||xn.DAY]);pt(N,[o,c,m])},a.handleSelectAllDaySlot=function(o,c){var d=a.props.onSelectSlot,m=new Date(o[0]),v=new Date(o[o.length-1]);v.setDate(o[o.length-1].getDate()+1),pt(d,{slots:o,start:m,end:v,action:c.action,resourceId:c.resourceId})},a.overlayDisplay=function(){a.setState({overlay:null})},a.checkOverflow=function(){if(!a._updatingOverflow){var o=a.contentRef.current;if(o!=null&&o.scrollHeight){var c=o.scrollHeight>o.clientHeight;a.state.isOverflowing!==c&&(a._updatingOverflow=!0,a.setState({isOverflowing:c},function(){a._updatingOverflow=!1}))}}},a.memoizedResources=pE(function(o,c){return DL(o,c)}),a.state={gutterWidth:void 0,isOverflowing:null},a.scrollRef=X.createRef(),a.contentRef=X.createRef(),a.containerRef=X.createRef(),a._scrollRatio=null,a.gutterRef=R.createRef(),a}return pn(t,e),Wt(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),ew(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(a,o,c,d,m,v,_,x,w,N){var P=this.props,C=P.min,E=P.max,k=(d.get(o)||[]).filter(function(A){return v.inRange(a,_.start(A),_.end(A),"day")}),O=(m.get(o)||[]).filter(function(A){return v.inRange(a,_.start(A),_.end(A),"day")});return X.createElement($E,Object.assign({},this.props,{localizer:v,min:v.merge(a,C),max:v.merge(a,E),resource:c&&o,components:x,isNow:v.isSameDate(a,N),key:"".concat(o,"-").concat(a),date:a,events:k,backgroundEvents:O,dayLayoutAlgorithm:w}))}},{key:"renderResourcesFirst",value:function(a,o,c,d,m,v,_,x,w){var N=this;return o.map(function(P){var C=gr(P,2),E=C[0],k=C[1];return a.map(function(O){return N.renderDayColumn(O,E,k,c,d,m,v,x,w,_)})})}},{key:"renderRangeFirst",value:function(a,o,c,d,m,v,_,x,w){var N=this;return a.map(function(P){return X.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:P},o.map(function(C){var E=gr(C,2),k=E[0],O=E[1];return X.createElement("div",{style:{flex:1},key:v.resourceId(O)},N.renderDayColumn(P,k,O,c,d,m,v,x,w,_))}))})}},{key:"renderEvents",value:function(a,o,c,d){var m=this.props,v=m.accessors,_=m.localizer,x=m.resourceGroupingLayout,w=m.components,N=m.dayLayoutAlgorithm,P=this.memoizedResources(this.props.resources,v),C=P.groupEvents(o),E=P.groupEvents(c);return x?this.renderRangeFirst(a,P,C,E,_,v,d,w,N):this.renderResourcesFirst(a,P,C,E,_,v,d,w,N)}},{key:"render",value:function(){var a,o=this.props,c=o.events,d=o.backgroundEvents,m=o.range,v=o.width,_=o.rtl,x=o.selected,w=o.getNow,N=o.resources,P=o.components,C=o.accessors,E=o.getters,k=o.localizer,O=o.min,A=o.max,I=o.showMultiDayTimes,F=o.longPressThreshold,D=o.resizable,B=o.resourceGroupingLayout;v=v||this.state.gutterWidth;var Z=m[0],H=m[m.length-1];this.slots=m.length;var G=[],$=[],W=[];c.forEach(function(J){if(cu(J,Z,H,C,k)){var ce=C.start(J),ge=C.end(J);C.allDay(J)||k.startAndEndAreDateOnly(ce,ge)||!I&&!k.isSameDate(ce,ge)?G.push(J):$.push(J)}}),d.forEach(function(J){cu(J,Z,H,C,k)&&W.push(J)}),G.sort(function(J,ce){return Gg(J,ce,C,k)});var re={range:m,events:G,width:v,rtl:_,getNow:w,localizer:k,selected:x,allDayMaxRows:this.props.showAllEvents?1/0:(a=this.props.allDayMaxRows)!==null&&a!==void 0?a:1/0,resources:this.memoizedResources(N,C),selectable:this.props.selectable,accessors:C,getters:E,components:P,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:F,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:D};return X.createElement("div",{className:kt("rbc-time-view",N&&"rbc-time-view-resources"),ref:this.containerRef},N&&N.length>1&&B?X.createElement(jL,re):X.createElement(kL,re),this.props.popup&&this.renderOverlay(),X.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},X.createElement(ML,{date:Z,ref:this.gutterRef,localizer:k,min:k.merge(Z,O),max:k.merge(Z,A),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:P,className:"rbc-time-gutter",getters:E}),this.renderEvents(m,$,W,w())))}},{key:"renderOverlay",value:function(){var a,o,c=this,d=(a=(o=this.state)===null||o===void 0?void 0:o.overlay)!==null&&a!==void 0?a:{},m=this.props,v=m.accessors,_=m.localizer,x=m.components,w=m.getters,N=m.selected,P=m.popupOffset,C=m.handleDragStart,E=function(){return c.setState({overlay:null})};return X.createElement(Zy,{overlay:d,accessors:v,localizer:_,components:x,getters:w,selected:N,popupOffset:P,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:C,show:!!d.position,overlayDisplay:this.overlayDisplay,onHide:E})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var a=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var o,c=(o=a.gutterRef)!==null&&o!==void 0&&o.current?Yg(a.gutterRef.current):void 0;c&&a.state.gutterWidth!==c&&a.setState({gutterWidth:c})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var a=this.contentRef.current;a.scrollTop=a.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=a.min,c=a.max,d=a.scrollToTime,m=a.localizer,v=m.diff(m.merge(d,o),d,"milliseconds"),_=m.diff(o,c,"milliseconds");this._scrollRatio=v/_}}])})(R.Component);Fo.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var LL=["date","localizer","min","max","scrollToTime","enableAutoScroll"],sf=(function(e){function t(){return qt(this,t),hn(this,t,arguments)}return pn(t,e),Wt(t,[{key:"render",value:function(){var a=this.props,o=a.date,c=a.localizer,d=a.min,m=d===void 0?c.startOf(new Date,"day"):d,v=a.max,_=v===void 0?c.endOf(new Date,"day"):v,x=a.scrollToTime,w=x===void 0?c.startOf(new Date,"day"):x,N=a.enableAutoScroll,P=N===void 0?!0:N,C=ii(a,LL),E=t.range(o,{localizer:c});return X.createElement(Fo,Object.assign({},C,{range:E,eventOffset:10,localizer:c,min:m,max:_,scrollToTime:w,enableAutoScroll:P}))}}])})(X.Component);sf.range=function(e,t){var n=t.localizer;return[n.startOf(e,"day")]};sf.navigate=function(e,t,n){var a=n.localizer;switch(t){case An.PREVIOUS:return a.add(e,-1,"day");case An.NEXT:return a.add(e,1,"day");default:return e}};sf.title=function(e,t){var n=t.localizer;return n.format(e,"dayHeaderFormat")};var RL=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Da=(function(e){function t(){return qt(this,t),hn(this,t,arguments)}return pn(t,e),Wt(t,[{key:"render",value:function(){var a=this.props,o=a.date,c=a.localizer,d=a.min,m=d===void 0?c.startOf(new Date,"day"):d,v=a.max,_=v===void 0?c.endOf(new Date,"day"):v,x=a.scrollToTime,w=x===void 0?c.startOf(new Date,"day"):x,N=a.enableAutoScroll,P=N===void 0?!0:N,C=ii(a,RL),E=t.range(o,this.props);return X.createElement(Fo,Object.assign({},C,{range:E,eventOffset:15,localizer:c,min:m,max:_,scrollToTime:w,enableAutoScroll:P}))}}])})(X.Component);Da.defaultProps=Fo.defaultProps;Da.navigate=function(e,t,n){var a=n.localizer;switch(t){case An.PREVIOUS:return a.add(e,-1,"week");case An.NEXT:return a.add(e,1,"week");default:return e}};Da.range=function(e,t){var n=t.localizer,a=n.startOfWeek(),o=n.startOf(e,"week",a),c=n.endOf(e,"week",a);return n.range(o,c)};Da.title=function(e,t){var n=t.localizer,a=Da.range(e,{localizer:n}),o=xE(a),c=o[0],d=o.slice(1);return n.format({start:c,end:d.pop()},"dayRangeHeaderFormat")};var zL=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Ky(e,t){return Da.range(e,t).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var Cu=(function(e){function t(){return qt(this,t),hn(this,t,arguments)}return pn(t,e),Wt(t,[{key:"render",value:function(){var a=this.props,o=a.date,c=a.localizer,d=a.min,m=d===void 0?c.startOf(new Date,"day"):d,v=a.max,_=v===void 0?c.endOf(new Date,"day"):v,x=a.scrollToTime,w=x===void 0?c.startOf(new Date,"day"):x,N=a.enableAutoScroll,P=N===void 0?!0:N,C=ii(a,zL),E=Ky(o,this.props);return X.createElement(Fo,Object.assign({},C,{range:E,eventOffset:15,localizer:c,min:m,max:_,scrollToTime:w,enableAutoScroll:P}))}}])})(X.Component);Cu.defaultProps=Fo.defaultProps;Cu.range=Ky;Cu.navigate=Da.navigate;Cu.title=function(e,t){var n=t.localizer,a=Ky(e,{localizer:n}),o=xE(a),c=o[0],d=o.slice(1);return n.format({start:c,end:d.pop()},"dayRangeHeaderFormat")};var of=30;function lf(e){var t=e.accessors,n=e.components,a=e.date,o=e.events,c=e.getters,d=e.length,m=d===void 0?of:d,v=e.localizer,_=e.onDoubleClickEvent,x=e.onSelectEvent,w=e.selected,N=R.useRef(null),P=R.useRef(null),C=R.useRef(null),E=R.useRef(null),k=R.useRef(null);R.useEffect(function(){I()});var O=function(H,G,$){var W=n.event,re=n.date;return G=G.filter(function(J){return cu(J,v.startOf(H,"day"),v.endOf(H,"day"),t,v)}),G.map(function(J,ce){var ge=t.title(J),me=t.end(J),xe=t.start(J),z=c.eventProp(J,xe,me,rf(J,w)),ne=ce===0&&v.format(H,"agendaDateFormat"),Q=ce===0?X.createElement("td",{rowSpan:G.length,className:"rbc-agenda-date-cell"},re?X.createElement(re,{day:H,label:ne}):ne):!1;return X.createElement("tr",{key:$+"_"+ce,className:z.className,style:z.style},Q,X.createElement("td",{className:"rbc-agenda-time-cell"},A(H,J)),X.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(U){return x&&x(J,U)},onDoubleClick:function(U){return _&&_(J,U)}},W?X.createElement(W,{event:J,title:ge}):ge))},[])},A=function(H,G){var $="",W=n.time,re=v.messages.allDay,J=t.end(G),ce=t.start(G);return t.allDay(G)||(v.eq(ce,J)?re=v.format(ce,"agendaTimeFormat"):v.isSameDate(ce,J)?re=v.format({start:ce,end:J},"agendaTimeRangeFormat"):v.isSameDate(H,ce)?re=v.format(ce,"agendaTimeFormat"):v.isSameDate(H,J)&&(re=v.format(J,"agendaTimeFormat"))),v.gt(H,ce,"day")&&($="rbc-continues-prior"),v.lt(H,J,"day")&&($+=" rbc-continues-after"),X.createElement("span",{className:$.trim()},W?X.createElement(W,{event:G,day:H,label:re}):re)},I=function(){if(k.current){var H=N.current,G=k.current.firstChild;if(G){var $=E.current.scrollHeight>E.current.clientHeight,W=[],re=W;W=[Yg(G.children[0]),Yg(G.children[1])],(re[0]!==W[0]||re[1]!==W[1])&&(P.current.style.width=W[0]+"px",C.current.style.width=W[1]+"px"),$?(zO(H,"rbc-header-overflowing"),H.style.marginRight=ky()+"px"):AO(H,"rbc-header-overflowing")}}},F=v.messages,D=v.add(a,m,"day"),B=v.range(a,D,"day");return o=o.filter(function(Z){return cu(Z,v.startOf(a,"day"),v.endOf(D,"day"),t,v)}),o.sort(function(Z,H){return+t.start(Z)-+t.start(H)}),X.createElement("div",{className:"rbc-agenda-view"},o.length!==0?X.createElement(X.Fragment,null,X.createElement("table",{ref:N,className:"rbc-agenda-table"},X.createElement("thead",null,X.createElement("tr",null,X.createElement("th",{className:"rbc-header",ref:P},F.date),X.createElement("th",{className:"rbc-header",ref:C},F.time),X.createElement("th",{className:"rbc-header"},F.event)))),X.createElement("div",{className:"rbc-agenda-content",ref:E},X.createElement("table",{className:"rbc-agenda-table"},X.createElement("tbody",{ref:k},B.map(function(Z,H){return O(Z,o,H)}))))):X.createElement("span",{className:"rbc-agenda-empty"},F.noEventsInRange))}lf.range=function(e,t){var n=t.length,a=n===void 0?of:n,o=t.localizer,c=o.add(e,a,"day");return{start:e,end:c}};lf.navigate=function(e,t,n){var a=n.length,o=a===void 0?of:a,c=n.localizer;switch(t){case An.PREVIOUS:return c.add(e,-o,"day");case An.NEXT:return c.add(e,o,"day");default:return e}};lf.title=function(e,t){var n=t.length,a=n===void 0?of:n,o=t.localizer,c=o.add(e,a,"day");return o.format({start:e,end:c},"agendaHeaderFormat")};var yd=ms(ms(ms(ms(ms({},xn.MONTH,af),xn.WEEK,Da),xn.WORK_WEEK,Cu),xn.DAY,sf),xn.AGENDA,lf),AL=["action","date","today"];function IL(e,t){var n=t.action,a=t.date,o=t.today,c=ii(t,AL);switch(e=typeof e=="string"?yd[e]:e,n){case An.TODAY:a=o||new Date;break;case An.DATE:break;default:Jl(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),a=e.navigate(a,n,c)}return a}function FL(e,t){var n=null;return typeof t=="function"?n=t(e):typeof t=="string"&&$i(e)==="object"&&e!=null&&t in e&&(n=e[t]),n}var Di=function(t){return function(n){return FL(n,t)}},$L=["view","date","getNow","onNavigate"],BL=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function qE(e){if(Array.isArray(e))return e;for(var t=[],n=0,a=Object.entries(e);n<a.length;n++){var o=gr(a[n],2),c=o[0],d=o[1];d&&t.push(c)}return t}function qL(e,t){var n=t.views,a=qE(n);return a.indexOf(e)!==-1}var WE=(function(e){function t(){var n;qt(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=hn(this,t,[].concat(o)),n.getViews=function(){var d=n.props.views;return Array.isArray(d)?c2(d,function(m,v){return m[v]=yd[v]},{}):$i(d)==="object"?DD(d,function(m,v){return m===!0?yd[v]:m}):yd},n.getView=function(){var d=n.getViews();return d[n.props.view]},n.getDrilldownView=function(d){var m=n.props,v=m.view,_=m.drilldownView,x=m.getDrilldownView;return x?x(d,v,Object.keys(n.getViews())):_},n.handleRangeChange=function(d,m,v){var _=n.props,x=_.onRangeChange,w=_.localizer;x&&m.range&&x(m.range(d,{localizer:w}),v)},n.handleNavigate=function(d,m){var v=n.props,_=v.view,x=v.date,w=v.getNow,N=v.onNavigate,P=ii(v,$L),C=n.getView(),E=w();x=IL(C,lt(lt({},P),{},{action:d,date:m||x||E,today:E})),N(x,_,d),n.handleRangeChange(x,C)},n.handleViewChange=function(d){d!==n.props.view&&qL(d,n.props)&&n.props.onView(d);var m=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),m[d],d)},n.handleSelectEvent=function(){for(var d=arguments.length,m=new Array(d),v=0;v<d;v++)m[v]=arguments[v];pt(n.props.onSelectEvent,m)},n.handleDoubleClickEvent=function(){for(var d=arguments.length,m=new Array(d),v=0;v<d;v++)m[v]=arguments[v];pt(n.props.onDoubleClickEvent,m)},n.handleKeyPressEvent=function(){for(var d=arguments.length,m=new Array(d),v=0;v<d;v++)m[v]=arguments[v];pt(n.props.onKeyPressEvent,m)},n.handleSelectSlot=function(d){pt(n.props.onSelectSlot,d)},n.handleDrillDown=function(d,m){var v=n.props.onDrillDown;if(v){v(d,m,n.drilldownView);return}m&&n.handleViewChange(m),n.handleNavigate(An.DATE,d)},n.state={context:t.getContext(n.props)},n}return pn(t,e),Wt(t,[{key:"render",value:function(){var a=this.props,o=a.view,c=a.toolbar,d=a.events,m=a.backgroundEvents,v=a.resourceGroupingLayout,_=a.style,x=a.className,w=a.elementProps,N=a.date,P=a.getNow,C=a.length,E=a.showMultiDayTimes,k=a.onShowMore,O=a.doShowMoreDrillDown;a.components,a.formats,a.messages,a.culture;var A=ii(a,BL);N=N||P();var I=this.getView(),F=this.state.context,D=F.accessors,B=F.components,Z=F.getters,H=F.localizer,G=F.viewNames,$=B.toolbar||H2,W=I.title(N,{localizer:H,length:C});return X.createElement("div",Object.assign({},w,{className:kt(x,"rbc-calendar",A.rtl&&"rbc-rtl"),style:_}),c&&X.createElement($,{date:N,view:o,views:G,label:W,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:H}),X.createElement(I,Object.assign({},A,{events:d,backgroundEvents:m,date:N,getNow:P,length:C,localizer:H,getters:Z,components:B,accessors:D,showMultiDayTimes:E,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:k,doShowMoreDrillDown:O,resourceGroupingLayout:v})))}}],[{key:"getDerivedStateFromProps",value:function(a){return{context:t.getContext(a)}}},{key:"getContext",value:function(a){var o=a.startAccessor,c=a.endAccessor,d=a.allDayAccessor,m=a.tooltipAccessor,v=a.titleAccessor,_=a.resourceAccessor,x=a.resourceIdAccessor,w=a.resourceTitleAccessor,N=a.eventIdAccessor,P=a.eventPropGetter,C=a.backgroundEventPropGetter,E=a.slotPropGetter,k=a.slotGroupPropGetter,O=a.dayPropGetter,A=a.view,I=a.views,F=a.localizer,D=a.culture,B=a.messages,Z=B===void 0?{}:B,H=a.components,G=H===void 0?{}:H,$=a.formats,W=$===void 0?{}:$,re=qE(I),J=Z2(Z);return{viewNames:re,localizer:U2(F,D,W,J),getters:{eventProp:function(){return P&&P.apply(void 0,arguments)||{}},backgroundEventProp:function(){return C&&C.apply(void 0,arguments)||{}},slotProp:function(){return E&&E.apply(void 0,arguments)||{}},slotGroupProp:function(){return k&&k.apply(void 0,arguments)||{}},dayProp:function(){return O&&O.apply(void 0,arguments)||{}}},components:TD(G[A]||{},o2(G,re),{eventWrapper:ei,backgroundEventWrapper:ei,eventContainerWrapper:ei,dateCellWrapper:ei,weekWrapper:ei,timeSlotWrapper:ei,timeGutterWrapper:ei,timeIndicatorWrapper:ei}),accessors:{start:Di(o),end:Di(c),allDay:Di(d),tooltip:Di(m),title:Di(v),resource:Di(_),resourceId:Di(x),resourceTitle:Di(w),eventId:Di(N)}}}}])})(X.Component);WE.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:xn.MONTH,views:[xn.MONTH,xn.WEEK,xn.DAY,xn.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:xn.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var WL=ON(WE,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),UL=function(t,n,a){var o=t.start,c=t.end;return a.format(o,"MMMM DD",n)+" – "+a.format(c,a.eq(o,c,"month")?"DD":"MMMM DD",n)},HL=function(t,n,a){var o=t.start,c=t.end;return a.format(o,"L",n)+" – "+a.format(c,"L",n)},Og=function(t,n,a){var o=t.start,c=t.end;return a.format(o,"LT",n)+" – "+a.format(c,"LT",n)},YL=function(t,n,a){var o=t.start;return a.format(o,"LT",n)+" – "},ZL=function(t,n,a){var o=t.end;return" – "+a.format(o,"LT",n)},VL={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:Og,eventTimeRangeFormat:Og,eventTimeRangeStartFormat:YL,eventTimeRangeEndFormat:ZL,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:UL,agendaHeaderFormat:HL,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:Og};function Pa(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function GL(e){var t=function(U,se){return se?U.locale(se):U};function n(M){return e(M).toDate().getTimezoneOffset()}function a(M,U){var se,le,ue=e(M).local(),fe=e(U).local();if(!e.tz)return ue.toDate().getTimezoneOffset()-fe.toDate().getTimezoneOffset();var je=(se=ue==null||(le=ue._z)===null||le===void 0?void 0:le.name)!==null&&se!==void 0?se:e.tz.guess(),Ce=e.tz.zone(je).utcOffset(+ue),he=e.tz.zone(je).utcOffset(+fe);return Ce-he}function o(M){var U=e(M).startOf("day");return a(U,M)}function c(M,U,se){var le=Pa(se),ue=le?e(M).startOf(le):e(M),fe=le?e(U).startOf(le):e(U);return[ue,fe,le]}function d(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,U=arguments.length>1?arguments[1]:void 0,se=Pa(U);return se?e(M).startOf(se).toDate():e(M).toDate()}function m(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,U=arguments.length>1?arguments[1]:void 0,se=Pa(U);return se?e(M).endOf(se).toDate():e(M).toDate()}function v(M,U,se){var le=c(M,U,se),ue=gr(le,3),fe=ue[0],je=ue[1],Ce=ue[2];return fe.isSame(je,Ce)}function _(M,U,se){return!v(M,U,se)}function x(M,U,se){var le=c(M,U,se),ue=gr(le,3),fe=ue[0],je=ue[1],Ce=ue[2];return fe.isAfter(je,Ce)}function w(M,U,se){var le=c(M,U,se),ue=gr(le,3),fe=ue[0],je=ue[1],Ce=ue[2];return fe.isBefore(je,Ce)}function N(M,U,se){var le=c(M,U,se),ue=gr(le,3),fe=ue[0],je=ue[1],Ce=ue[2];return fe.isSameOrBefore(je,Ce)}function P(M,U,se){var le=c(M,U,se),ue=gr(le,3),fe=ue[0],je=ue[1],Ce=ue[2];return fe.isSameOrBefore(je,Ce)}function C(M,U,se){var le=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",ue=Pa(le),fe=e(M),je=e(U),Ce=e(se);return fe.isBetween(je,Ce,ue,"[]")}function E(M,U){var se=e(M),le=e(U),ue=e.min(se,le);return ue.toDate()}function k(M,U){var se=e(M),le=e(U),ue=e.max(se,le);return ue.toDate()}function O(M,U){if(!M&&!U)return null;var se=e(U).format("HH:mm:ss"),le=e(M).startOf("day").format("MM/DD/YYYY");return e("".concat(le," ").concat(se),"MM/DD/YYYY HH:mm:ss").toDate()}function A(M,U,se){var le=Pa(se);return e(M).add(U,le).toDate()}function I(M,U){for(var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",le=Pa(se),ue=e(M).toDate(),fe=[];P(ue,U);)fe.push(ue),ue=A(ue,1,le);return fe}function F(M,U){var se=Pa(U),le=d(M,se);return v(le,M)?le:A(le,1,se)}function D(M,U){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",le=Pa(se),ue=e(M),fe=e(U);return fe.diff(ue,le)}function B(M){var U=e(M);return U.minutes()}function Z(M){var U=M?e.localeData(M):e.localeData();return U?U.firstDayOfWeek():0}function H(M){return e(M).startOf("month").startOf("week").toDate()}function G(M){return e(M).endOf("month").endOf("week").toDate()}function $(M){for(var U=H(M),se=G(M),le=[];P(U,se);)le.push(U),U=A(U,1,"d");return le}function W(M,U,se){return e(M).startOf("day").minute(U+se).toDate()}function re(M,U){return D(M,U,"minutes")}function J(M){var U=e(M).startOf("day"),se=e(M);return se.diff(U,"minutes")+o(M)}function ce(M,U){var se=e(M),le=e(U);return se.isBefore(le,"day")}function ge(M,U,se){var le=e(U),ue=e(se);return le.isSameOrAfter(ue,"minutes")}function me(M,U){var se=e(M),le=e(U),ue=e.duration(le.diff(se));return ue.days()}function xe(M){var U=M.evtA,se=U.start,le=U.end,ue=U.allDay,fe=M.evtB,je=fe.start,Ce=fe.end,he=fe.allDay,Ne=+d(se,"day")-+d(je,"day"),rt=me(se,le),gt=me(je,Ce);return Ne||gt-rt||!!he-!!ue||+se-+je||+le-+Ce}function z(M){var U=M.event,se=U.start,le=U.end,ue=M.range,fe=ue.start,je=ue.end,Ce=e(se).startOf("day"),he=e(le),Ne=e(fe),rt=e(je),gt=Ce.isSameOrBefore(rt,"day"),dt=!Ce.isSame(he,"minutes"),er=dt?he.isAfter(Ne,"minutes"):he.isSameOrAfter(Ne,"minutes");return gt&&er}function ne(M,U){var se=e(M),le=e(U);return se.isSame(le,"day")}function Q(){var M=new Date,U=/-/.test(M.toString())?"-":"",se=M.getTimezoneOffset(),le=Number("".concat(U).concat(Math.abs(se))),ue=e().utcOffset();return ue>le?1:0}return new W2({formats:VL,firstOfWeek:Z,firstVisibleDay:H,lastVisibleDay:G,visibleDays:$,format:function(U,se,le){return t(e(U),le).format(se)},lt:w,lte:P,gt:x,gte:N,eq:v,neq:_,merge:O,inRange:C,startOf:d,endOf:m,range:I,add:A,diff:D,ceil:F,min:E,max:k,minutes:B,getSlotDate:W,getTimezoneOffset:n,getDstOffset:a,getTotalMin:re,getMinutesFromMidnight:J,continuesPrior:ce,continuesAfter:ge,sortEvents:xe,inEventRange:z,isSameDate:ne,daySpan:me,browserTZOffset:Q})}function KL(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var UE;function Pe(){return UE.apply(null,arguments)}function XL(e){UE=e}function Ir(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function _s(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function tt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Xy(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(tt(e,t))return!1;return!0}function Ln(e){return e===void 0}function qi(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function ku(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function HE(e,t){var n=[],a,o=e.length;for(a=0;a<o;++a)n.push(t(e[a],a));return n}function ka(e,t){for(var n in t)tt(t,n)&&(e[n]=t[n]);return tt(t,"toString")&&(e.toString=t.toString),tt(t,"valueOf")&&(e.valueOf=t.valueOf),e}function oi(e,t,n,a){return pP(e,t,n,a,!0).utc()}function JL(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function He(e){return e._pf==null&&(e._pf=JL()),e._pf}var Xg;Array.prototype.some?Xg=Array.prototype.some:Xg=function(e){var t=Object(this),n=t.length>>>0,a;for(a=0;a<n;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};function Jy(e){var t=null,n=!1,a=e._d&&!isNaN(e._d.getTime());if(a&&(t=He(e),n=Xg.call(t.parsedDateParts,function(o){return o!=null}),a=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(a=a&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=a;else return a;return e._isValid}function uf(e){var t=oi(NaN);return e!=null?ka(He(t),e):He(t).userInvalidated=!0,t}var qS=Pe.momentProperties=[],Mg=!1;function Qy(e,t){var n,a,o,c=qS.length;if(Ln(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Ln(t._i)||(e._i=t._i),Ln(t._f)||(e._f=t._f),Ln(t._l)||(e._l=t._l),Ln(t._strict)||(e._strict=t._strict),Ln(t._tzm)||(e._tzm=t._tzm),Ln(t._isUTC)||(e._isUTC=t._isUTC),Ln(t._offset)||(e._offset=t._offset),Ln(t._pf)||(e._pf=He(t)),Ln(t._locale)||(e._locale=t._locale),c>0)for(n=0;n<c;n++)a=qS[n],o=t[a],Ln(o)||(e[a]=o);return e}function ju(e){Qy(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Mg===!1&&(Mg=!0,Pe.updateOffset(this),Mg=!1)}function Fr(e){return e instanceof ju||e!=null&&e._isAMomentObject!=null}function YE(e){Pe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function wr(e,t){var n=!0;return ka(function(){if(Pe.deprecationHandler!=null&&Pe.deprecationHandler(null,e),n){var a=[],o,c,d,m=arguments.length;for(c=0;c<m;c++){if(o="",typeof arguments[c]=="object"){o+=`
[`+c+"] ";for(d in arguments[0])tt(arguments[0],d)&&(o+=d+": "+arguments[0][d]+", ");o=o.slice(0,-2)}else o=arguments[c];a.push(o)}YE(e+`
Arguments: `+Array.prototype.slice.call(a).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var WS={};function ZE(e,t){Pe.deprecationHandler!=null&&Pe.deprecationHandler(e,t),WS[e]||(YE(t),WS[e]=!0)}Pe.suppressDeprecationWarnings=!1;Pe.deprecationHandler=null;function li(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function QL(e){var t,n;for(n in e)tt(e,n)&&(t=e[n],li(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Jg(e,t){var n=ka({},e),a;for(a in t)tt(t,a)&&(_s(e[a])&&_s(t[a])?(n[a]={},ka(n[a],e[a]),ka(n[a],t[a])):t[a]!=null?n[a]=t[a]:delete n[a]);for(a in e)tt(e,a)&&!tt(t,a)&&_s(e[a])&&(n[a]=ka({},n[a]));return n}function e_(e){e!=null&&this.set(e)}var Qg;Object.keys?Qg=Object.keys:Qg=function(e){var t,n=[];for(t in e)tt(e,t)&&n.push(t);return n};var eR={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function tR(e,t,n){var a=this._calendar[e]||this._calendar.sameElse;return li(a)?a.call(t,n):a}function ai(e,t,n){var a=""+Math.abs(e),o=t-a.length,c=e>=0;return(c?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+a}var t_=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,rd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Dg={},So={};function ze(e,t,n,a){var o=a;typeof a=="string"&&(o=function(){return this[a]()}),e&&(So[e]=o),t&&(So[t[0]]=function(){return ai(o.apply(this,arguments),t[1],t[2])}),n&&(So[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function nR(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function rR(e){var t=e.match(t_),n,a;for(n=0,a=t.length;n<a;n++)So[t[n]]?t[n]=So[t[n]]:t[n]=nR(t[n]);return function(o){var c="",d;for(d=0;d<a;d++)c+=li(t[d])?t[d].call(o,e):t[d];return c}}function _d(e,t){return e.isValid()?(t=VE(t,e.localeData()),Dg[t]=Dg[t]||rR(t),Dg[t](e)):e.localeData().invalidDate()}function VE(e,t){var n=5;function a(o){return t.longDateFormat(o)||o}for(rd.lastIndex=0;n>=0&&rd.test(e);)e=e.replace(rd,a),rd.lastIndex=0,n-=1;return e}var iR={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function aR(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(t_).map(function(a){return a==="MMMM"||a==="MM"||a==="DD"||a==="dddd"?a.slice(1):a}).join(""),this._longDateFormat[e])}var sR="Invalid date";function oR(){return this._invalidDate}var lR="%d",uR=/\d{1,2}/;function cR(e){return this._ordinal.replace("%d",e)}var dR={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function fR(e,t,n,a){var o=this._relativeTime[n];return li(o)?o(e,t,n,a):o.replace(/%d/i,e)}function hR(e,t){var n=this._relativeTime[e>0?"future":"past"];return li(n)?n(t):n.replace(/%s/i,t)}var US={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function br(e){return typeof e=="string"?US[e]||US[e.toLowerCase()]:void 0}function n_(e){var t={},n,a;for(a in e)tt(e,a)&&(n=br(a),n&&(t[n]=e[a]));return t}var pR={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function mR(e){var t=[],n;for(n in e)tt(e,n)&&t.push({unit:n,priority:pR[n]});return t.sort(function(a,o){return a.priority-o.priority}),t}var GE=/\d/,Qn=/\d\d/,KE=/\d{3}/,r_=/\d{4}/,cf=/[+-]?\d{6}/,vt=/\d\d?/,XE=/\d\d\d\d?/,JE=/\d\d\d\d\d\d?/,df=/\d{1,3}/,i_=/\d{1,4}/,ff=/[+-]?\d{1,6}/,$o=/\d+/,hf=/[+-]?\d+/,vR=/Z|[+-]\d\d:?\d\d/gi,pf=/Z|[+-]\d\d(?::?\d\d)?/gi,gR=/[+-]?\d+(\.\d{1,3})?/,Tu=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Bo=/^[1-9]\d?/,a_=/^([1-9]\d|\d)/,Dd;Dd={};function Te(e,t,n){Dd[e]=li(t)?t:function(a,o){return a&&n?n:t}}function yR(e,t){return tt(Dd,e)?Dd[e](t._strict,t._locale):new RegExp(_R(e))}function _R(e){return Ii(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,a,o,c){return n||a||o||c}))}function Ii(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function vr(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ke(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=vr(t)),n}var ey={};function ot(e,t){var n,a=t,o;for(typeof e=="string"&&(e=[e]),qi(t)&&(a=function(c,d){d[t]=Ke(c)}),o=e.length,n=0;n<o;n++)ey[e[n]]=a}function Ou(e,t){ot(e,function(n,a,o,c){o._w=o._w||{},t(n,o._w,o,c)})}function xR(e,t,n){t!=null&&tt(ey,e)&&ey[e](t,n._a,n,e)}function mf(e){return e%4===0&&e%100!==0||e%400===0}var dn=0,zi=1,ti=2,$t=3,zr=4,Ai=5,vs=6,wR=7,bR=8;ze("Y",0,0,function(){var e=this.year();return e<=9999?ai(e,4):"+"+e});ze(0,["YY",2],0,function(){return this.year()%100});ze(0,["YYYY",4],0,"year");ze(0,["YYYYY",5],0,"year");ze(0,["YYYYYY",6,!0],0,"year");Te("Y",hf);Te("YY",vt,Qn);Te("YYYY",i_,r_);Te("YYYYY",ff,cf);Te("YYYYYY",ff,cf);ot(["YYYYY","YYYYYY"],dn);ot("YYYY",function(e,t){t[dn]=e.length===2?Pe.parseTwoDigitYear(e):Ke(e)});ot("YY",function(e,t){t[dn]=Pe.parseTwoDigitYear(e)});ot("Y",function(e,t){t[dn]=parseInt(e,10)});function Gl(e){return mf(e)?366:365}Pe.parseTwoDigitYear=function(e){return Ke(e)+(Ke(e)>68?1900:2e3)};var QE=qo("FullYear",!0);function SR(){return mf(this.year())}function qo(e,t){return function(n){return n!=null?(eP(this,e,n),Pe.updateOffset(this,t),this):fu(this,e)}}function fu(e,t){if(!e.isValid())return NaN;var n=e._d,a=e._isUTC;switch(t){case"Milliseconds":return a?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return a?n.getUTCSeconds():n.getSeconds();case"Minutes":return a?n.getUTCMinutes():n.getMinutes();case"Hours":return a?n.getUTCHours():n.getHours();case"Date":return a?n.getUTCDate():n.getDate();case"Day":return a?n.getUTCDay():n.getDay();case"Month":return a?n.getUTCMonth():n.getMonth();case"FullYear":return a?n.getUTCFullYear():n.getFullYear();default:return NaN}}function eP(e,t,n){var a,o,c,d,m;if(!(!e.isValid()||isNaN(n))){switch(a=e._d,o=e._isUTC,t){case"Milliseconds":return void(o?a.setUTCMilliseconds(n):a.setMilliseconds(n));case"Seconds":return void(o?a.setUTCSeconds(n):a.setSeconds(n));case"Minutes":return void(o?a.setUTCMinutes(n):a.setMinutes(n));case"Hours":return void(o?a.setUTCHours(n):a.setHours(n));case"Date":return void(o?a.setUTCDate(n):a.setDate(n));case"FullYear":break;default:return}c=n,d=e.month(),m=e.date(),m=m===29&&d===1&&!mf(c)?28:m,o?a.setUTCFullYear(c,d,m):a.setFullYear(c,d,m)}}function NR(e){return e=br(e),li(this[e])?this[e]():this}function ER(e,t){if(typeof e=="object"){e=n_(e);var n=mR(e),a,o=n.length;for(a=0;a<o;a++)this[n[a].unit](e[n[a].unit])}else if(e=br(e),li(this[e]))return this[e](t);return this}function PR(e,t){return(e%t+t)%t}var Tt;Array.prototype.indexOf?Tt=Array.prototype.indexOf:Tt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function s_(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=PR(t,12);return e+=(t-n)/12,n===1?mf(e)?29:28:31-n%7%2}ze("M",["MM",2],"Mo",function(){return this.month()+1});ze("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});ze("MMMM",0,0,function(e){return this.localeData().months(this,e)});Te("M",vt,Bo);Te("MM",vt,Qn);Te("MMM",function(e,t){return t.monthsShortRegex(e)});Te("MMMM",function(e,t){return t.monthsRegex(e)});ot(["M","MM"],function(e,t){t[zi]=Ke(e)-1});ot(["MMM","MMMM"],function(e,t,n,a){var o=n._locale.monthsParse(e,a,n._strict);o!=null?t[zi]=o:He(n).invalidMonth=e});var CR="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tP="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nP=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,kR=Tu,jR=Tu;function TR(e,t){return e?Ir(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nP).test(t)?"format":"standalone"][e.month()]:Ir(this._months)?this._months:this._months.standalone}function OR(e,t){return e?Ir(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nP.test(t)?"format":"standalone"][e.month()]:Ir(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function MR(e,t,n){var a,o,c,d=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)c=oi([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(c,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(c,"").toLocaleLowerCase();return n?t==="MMM"?(o=Tt.call(this._shortMonthsParse,d),o!==-1?o:null):(o=Tt.call(this._longMonthsParse,d),o!==-1?o:null):t==="MMM"?(o=Tt.call(this._shortMonthsParse,d),o!==-1?o:(o=Tt.call(this._longMonthsParse,d),o!==-1?o:null)):(o=Tt.call(this._longMonthsParse,d),o!==-1?o:(o=Tt.call(this._shortMonthsParse,d),o!==-1?o:null))}function DR(e,t,n){var a,o,c;if(this._monthsParseExact)return MR.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(o=oi([2e3,a]),n&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[a]&&(c="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[a]=new RegExp(c.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[a].test(e))return a;if(n&&t==="MMM"&&this._shortMonthsParse[a].test(e))return a;if(!n&&this._monthsParse[a].test(e))return a}}function rP(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Ke(t);else if(t=e.localeData().monthsParse(t),!qi(t))return e}var n=t,a=e.date();return a=a<29?a:Math.min(a,s_(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,a):e._d.setMonth(n,a),e}function iP(e){return e!=null?(rP(this,e),Pe.updateOffset(this,!0),this):fu(this,"Month")}function LR(){return s_(this.year(),this.month())}function RR(e){return this._monthsParseExact?(tt(this,"_monthsRegex")||aP.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(tt(this,"_monthsShortRegex")||(this._monthsShortRegex=kR),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function zR(e){return this._monthsParseExact?(tt(this,"_monthsRegex")||aP.call(this),e?this._monthsStrictRegex:this._monthsRegex):(tt(this,"_monthsRegex")||(this._monthsRegex=jR),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function aP(){function e(v,_){return _.length-v.length}var t=[],n=[],a=[],o,c,d,m;for(o=0;o<12;o++)c=oi([2e3,o]),d=Ii(this.monthsShort(c,"")),m=Ii(this.months(c,"")),t.push(d),n.push(m),a.push(m),a.push(d);t.sort(e),n.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function AR(e,t,n,a,o,c,d){var m;return e<100&&e>=0?(m=new Date(e+400,t,n,a,o,c,d),isFinite(m.getFullYear())&&m.setFullYear(e)):m=new Date(e,t,n,a,o,c,d),m}function hu(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ld(e,t,n){var a=7+t-n,o=(7+hu(e,0,a).getUTCDay()-t)%7;return-o+a-1}function sP(e,t,n,a,o){var c=(7+n-a)%7,d=Ld(e,a,o),m=1+7*(t-1)+c+d,v,_;return m<=0?(v=e-1,_=Gl(v)+m):m>Gl(e)?(v=e+1,_=m-Gl(e)):(v=e,_=m),{year:v,dayOfYear:_}}function pu(e,t,n){var a=Ld(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1,c,d;return o<1?(d=e.year()-1,c=o+Fi(d,t,n)):o>Fi(e.year(),t,n)?(c=o-Fi(e.year(),t,n),d=e.year()+1):(d=e.year(),c=o),{week:c,year:d}}function Fi(e,t,n){var a=Ld(e,t,n),o=Ld(e+1,t,n);return(Gl(e)-a+o)/7}ze("w",["ww",2],"wo","week");ze("W",["WW",2],"Wo","isoWeek");Te("w",vt,Bo);Te("ww",vt,Qn);Te("W",vt,Bo);Te("WW",vt,Qn);Ou(["w","ww","W","WW"],function(e,t,n,a){t[a.substr(0,1)]=Ke(e)});function IR(e){return pu(e,this._week.dow,this._week.doy).week}var FR={dow:0,doy:6};function $R(){return this._week.dow}function BR(){return this._week.doy}function qR(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function WR(e){var t=pu(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}ze("d",0,"do","day");ze("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});ze("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});ze("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});ze("e",0,0,"weekday");ze("E",0,0,"isoWeekday");Te("d",vt);Te("e",vt);Te("E",vt);Te("dd",function(e,t){return t.weekdaysMinRegex(e)});Te("ddd",function(e,t){return t.weekdaysShortRegex(e)});Te("dddd",function(e,t){return t.weekdaysRegex(e)});Ou(["dd","ddd","dddd"],function(e,t,n,a){var o=n._locale.weekdaysParse(e,a,n._strict);o!=null?t.d=o:He(n).invalidWeekday=e});Ou(["d","e","E"],function(e,t,n,a){t[a]=Ke(e)});function UR(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function HR(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function o_(e,t){return e.slice(t,7).concat(e.slice(0,t))}var YR="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),oP="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ZR="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),VR=Tu,GR=Tu,KR=Tu;function XR(e,t){var n=Ir(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?o_(n,this._week.dow):e?n[e.day()]:n}function JR(e){return e===!0?o_(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function QR(e){return e===!0?o_(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function ez(e,t,n){var a,o,c,d=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)c=oi([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(c,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(c,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(c,"").toLocaleLowerCase();return n?t==="dddd"?(o=Tt.call(this._weekdaysParse,d),o!==-1?o:null):t==="ddd"?(o=Tt.call(this._shortWeekdaysParse,d),o!==-1?o:null):(o=Tt.call(this._minWeekdaysParse,d),o!==-1?o:null):t==="dddd"?(o=Tt.call(this._weekdaysParse,d),o!==-1||(o=Tt.call(this._shortWeekdaysParse,d),o!==-1)?o:(o=Tt.call(this._minWeekdaysParse,d),o!==-1?o:null)):t==="ddd"?(o=Tt.call(this._shortWeekdaysParse,d),o!==-1||(o=Tt.call(this._weekdaysParse,d),o!==-1)?o:(o=Tt.call(this._minWeekdaysParse,d),o!==-1?o:null)):(o=Tt.call(this._minWeekdaysParse,d),o!==-1||(o=Tt.call(this._weekdaysParse,d),o!==-1)?o:(o=Tt.call(this._shortWeekdaysParse,d),o!==-1?o:null))}function tz(e,t,n){var a,o,c;if(this._weekdaysParseExact)return ez.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(o=oi([2e3,1]).day(a),n&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(c="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[a]=new RegExp(c.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[a].test(e))return a;if(n&&t==="ddd"&&this._shortWeekdaysParse[a].test(e))return a;if(n&&t==="dd"&&this._minWeekdaysParse[a].test(e))return a;if(!n&&this._weekdaysParse[a].test(e))return a}}function nz(e){if(!this.isValid())return e!=null?this:NaN;var t=fu(this,"Day");return e!=null?(e=UR(e,this.localeData()),this.add(e-t,"d")):t}function rz(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function iz(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=HR(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function az(e){return this._weekdaysParseExact?(tt(this,"_weekdaysRegex")||l_.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(tt(this,"_weekdaysRegex")||(this._weekdaysRegex=VR),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function sz(e){return this._weekdaysParseExact?(tt(this,"_weekdaysRegex")||l_.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(tt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=GR),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function oz(e){return this._weekdaysParseExact?(tt(this,"_weekdaysRegex")||l_.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(tt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=KR),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function l_(){function e(x,w){return w.length-x.length}var t=[],n=[],a=[],o=[],c,d,m,v,_;for(c=0;c<7;c++)d=oi([2e3,1]).day(c),m=Ii(this.weekdaysMin(d,"")),v=Ii(this.weekdaysShort(d,"")),_=Ii(this.weekdays(d,"")),t.push(m),n.push(v),a.push(_),o.push(m),o.push(v),o.push(_);t.sort(e),n.sort(e),a.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function u_(){return this.hours()%12||12}function lz(){return this.hours()||24}ze("H",["HH",2],0,"hour");ze("h",["hh",2],0,u_);ze("k",["kk",2],0,lz);ze("hmm",0,0,function(){return""+u_.apply(this)+ai(this.minutes(),2)});ze("hmmss",0,0,function(){return""+u_.apply(this)+ai(this.minutes(),2)+ai(this.seconds(),2)});ze("Hmm",0,0,function(){return""+this.hours()+ai(this.minutes(),2)});ze("Hmmss",0,0,function(){return""+this.hours()+ai(this.minutes(),2)+ai(this.seconds(),2)});function lP(e,t){ze(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}lP("a",!0);lP("A",!1);function uP(e,t){return t._meridiemParse}Te("a",uP);Te("A",uP);Te("H",vt,a_);Te("h",vt,Bo);Te("k",vt,Bo);Te("HH",vt,Qn);Te("hh",vt,Qn);Te("kk",vt,Qn);Te("hmm",XE);Te("hmmss",JE);Te("Hmm",XE);Te("Hmmss",JE);ot(["H","HH"],$t);ot(["k","kk"],function(e,t,n){var a=Ke(e);t[$t]=a===24?0:a});ot(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});ot(["h","hh"],function(e,t,n){t[$t]=Ke(e),He(n).bigHour=!0});ot("hmm",function(e,t,n){var a=e.length-2;t[$t]=Ke(e.substr(0,a)),t[zr]=Ke(e.substr(a)),He(n).bigHour=!0});ot("hmmss",function(e,t,n){var a=e.length-4,o=e.length-2;t[$t]=Ke(e.substr(0,a)),t[zr]=Ke(e.substr(a,2)),t[Ai]=Ke(e.substr(o)),He(n).bigHour=!0});ot("Hmm",function(e,t,n){var a=e.length-2;t[$t]=Ke(e.substr(0,a)),t[zr]=Ke(e.substr(a))});ot("Hmmss",function(e,t,n){var a=e.length-4,o=e.length-2;t[$t]=Ke(e.substr(0,a)),t[zr]=Ke(e.substr(a,2)),t[Ai]=Ke(e.substr(o))});function uz(e){return(e+"").toLowerCase().charAt(0)==="p"}var cz=/[ap]\.?m?\.?/i,dz=qo("Hours",!0);function fz(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var cP={calendar:eR,longDateFormat:iR,invalidDate:sR,ordinal:lR,dayOfMonthOrdinalParse:uR,relativeTime:dR,months:CR,monthsShort:tP,week:FR,weekdays:YR,weekdaysMin:ZR,weekdaysShort:oP,meridiemParse:cz},_t={},$l={},mu;function hz(e,t){var n,a=Math.min(e.length,t.length);for(n=0;n<a;n+=1)if(e[n]!==t[n])return n;return a}function HS(e){return e&&e.toLowerCase().replace("_","-")}function pz(e){for(var t=0,n,a,o,c;t<e.length;){for(c=HS(e[t]).split("-"),n=c.length,a=HS(e[t+1]),a=a?a.split("-"):null;n>0;){if(o=vf(c.slice(0,n).join("-")),o)return o;if(a&&a.length>=n&&hz(c,a)>=n-1)break;n--}t++}return mu}function mz(e){return!!(e&&e.match("^[^/\\\\]*$"))}function vf(e){var t=null,n;if(_t[e]===void 0&&typeof bd<"u"&&bd&&bd.exports&&mz(e))try{t=mu._abbr,n=KL,n("./locale/"+e),Oa(t)}catch{_t[e]=null}return _t[e]}function Oa(e,t){var n;return e&&(Ln(t)?n=Hi(e):n=c_(e,t),n?mu=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),mu._abbr}function c_(e,t){if(t!==null){var n,a=cP;if(t.abbr=e,_t[e]!=null)ZE("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=_t[e]._config;else if(t.parentLocale!=null)if(_t[t.parentLocale]!=null)a=_t[t.parentLocale]._config;else if(n=vf(t.parentLocale),n!=null)a=n._config;else return $l[t.parentLocale]||($l[t.parentLocale]=[]),$l[t.parentLocale].push({name:e,config:t}),null;return _t[e]=new e_(Jg(a,t)),$l[e]&&$l[e].forEach(function(o){c_(o.name,o.config)}),Oa(e),_t[e]}else return delete _t[e],null}function vz(e,t){if(t!=null){var n,a,o=cP;_t[e]!=null&&_t[e].parentLocale!=null?_t[e].set(Jg(_t[e]._config,t)):(a=vf(e),a!=null&&(o=a._config),t=Jg(o,t),a==null&&(t.abbr=e),n=new e_(t),n.parentLocale=_t[e],_t[e]=n),Oa(e)}else _t[e]!=null&&(_t[e].parentLocale!=null?(_t[e]=_t[e].parentLocale,e===Oa()&&Oa(e)):_t[e]!=null&&delete _t[e]);return _t[e]}function Hi(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return mu;if(!Ir(e)){if(t=vf(e),t)return t;e=[e]}return pz(e)}function gz(){return Qg(_t)}function d_(e){var t,n=e._a;return n&&He(e).overflow===-2&&(t=n[zi]<0||n[zi]>11?zi:n[ti]<1||n[ti]>s_(n[dn],n[zi])?ti:n[$t]<0||n[$t]>24||n[$t]===24&&(n[zr]!==0||n[Ai]!==0||n[vs]!==0)?$t:n[zr]<0||n[zr]>59?zr:n[Ai]<0||n[Ai]>59?Ai:n[vs]<0||n[vs]>999?vs:-1,He(e)._overflowDayOfYear&&(t<dn||t>ti)&&(t=ti),He(e)._overflowWeeks&&t===-1&&(t=wR),He(e)._overflowWeekday&&t===-1&&(t=bR),He(e).overflow=t),e}var yz=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_z=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xz=/Z|[+-]\d\d(?::?\d\d)?/,id=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Lg=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wz=/^\/?Date\((-?\d+)/i,bz=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Sz={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function dP(e){var t,n,a=e._i,o=yz.exec(a)||_z.exec(a),c,d,m,v,_=id.length,x=Lg.length;if(o){for(He(e).iso=!0,t=0,n=_;t<n;t++)if(id[t][1].exec(o[1])){d=id[t][0],c=id[t][2]!==!1;break}if(d==null){e._isValid=!1;return}if(o[3]){for(t=0,n=x;t<n;t++)if(Lg[t][1].exec(o[3])){m=(o[2]||" ")+Lg[t][0];break}if(m==null){e._isValid=!1;return}}if(!c&&m!=null){e._isValid=!1;return}if(o[4])if(xz.exec(o[4]))v="Z";else{e._isValid=!1;return}e._f=d+(m||"")+(v||""),h_(e)}else e._isValid=!1}function Nz(e,t,n,a,o,c){var d=[Ez(e),tP.indexOf(t),parseInt(n,10),parseInt(a,10),parseInt(o,10)];return c&&d.push(parseInt(c,10)),d}function Ez(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Pz(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Cz(e,t,n){if(e){var a=oP.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(a!==o)return He(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function kz(e,t,n){if(e)return Sz[e];if(t)return 0;var a=parseInt(n,10),o=a%100,c=(a-o)/100;return c*60+o}function fP(e){var t=bz.exec(Pz(e._i)),n;if(t){if(n=Nz(t[4],t[3],t[2],t[5],t[6],t[7]),!Cz(t[1],n,e))return;e._a=n,e._tzm=kz(t[8],t[9],t[10]),e._d=hu.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),He(e).rfc2822=!0}else e._isValid=!1}function jz(e){var t=wz.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(dP(e),e._isValid===!1)delete e._isValid;else return;if(fP(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Pe.createFromInputFallback(e)}Pe.createFromInputFallback=wr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function wo(e,t,n){return e??t??n}function Tz(e){var t=new Date(Pe.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function f_(e){var t,n,a=[],o,c,d;if(!e._d){for(o=Tz(e),e._w&&e._a[ti]==null&&e._a[zi]==null&&Oz(e),e._dayOfYear!=null&&(d=wo(e._a[dn],o[dn]),(e._dayOfYear>Gl(d)||e._dayOfYear===0)&&(He(e)._overflowDayOfYear=!0),n=hu(d,0,e._dayOfYear),e._a[zi]=n.getUTCMonth(),e._a[ti]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=a[t]=o[t];for(;t<7;t++)e._a[t]=a[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[$t]===24&&e._a[zr]===0&&e._a[Ai]===0&&e._a[vs]===0&&(e._nextDay=!0,e._a[$t]=0),e._d=(e._useUTC?hu:AR).apply(null,a),c=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[$t]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==c&&(He(e).weekdayMismatch=!0)}}function Oz(e){var t,n,a,o,c,d,m,v,_;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(c=1,d=4,n=wo(t.GG,e._a[dn],pu(mt(),1,4).year),a=wo(t.W,1),o=wo(t.E,1),(o<1||o>7)&&(v=!0)):(c=e._locale._week.dow,d=e._locale._week.doy,_=pu(mt(),c,d),n=wo(t.gg,e._a[dn],_.year),a=wo(t.w,_.week),t.d!=null?(o=t.d,(o<0||o>6)&&(v=!0)):t.e!=null?(o=t.e+c,(t.e<0||t.e>6)&&(v=!0)):o=c),a<1||a>Fi(n,c,d)?He(e)._overflowWeeks=!0:v!=null?He(e)._overflowWeekday=!0:(m=sP(n,a,o,c,d),e._a[dn]=m.year,e._dayOfYear=m.dayOfYear)}Pe.ISO_8601=function(){};Pe.RFC_2822=function(){};function h_(e){if(e._f===Pe.ISO_8601){dP(e);return}if(e._f===Pe.RFC_2822){fP(e);return}e._a=[],He(e).empty=!0;var t=""+e._i,n,a,o,c,d,m=t.length,v=0,_,x;for(o=VE(e._f,e._locale).match(t_)||[],x=o.length,n=0;n<x;n++)c=o[n],a=(t.match(yR(c,e))||[])[0],a&&(d=t.substr(0,t.indexOf(a)),d.length>0&&He(e).unusedInput.push(d),t=t.slice(t.indexOf(a)+a.length),v+=a.length),So[c]?(a?He(e).empty=!1:He(e).unusedTokens.push(c),xR(c,a,e)):e._strict&&!a&&He(e).unusedTokens.push(c);He(e).charsLeftOver=m-v,t.length>0&&He(e).unusedInput.push(t),e._a[$t]<=12&&He(e).bigHour===!0&&e._a[$t]>0&&(He(e).bigHour=void 0),He(e).parsedDateParts=e._a.slice(0),He(e).meridiem=e._meridiem,e._a[$t]=Mz(e._locale,e._a[$t],e._meridiem),_=He(e).era,_!==null&&(e._a[dn]=e._locale.erasConvertYear(_,e._a[dn])),f_(e),d_(e)}function Mz(e,t,n){var a;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(a=e.isPM(n),a&&t<12&&(t+=12),!a&&t===12&&(t=0)),t)}function Dz(e){var t,n,a,o,c,d,m=!1,v=e._f.length;if(v===0){He(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<v;o++)c=0,d=!1,t=Qy({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],h_(t),Jy(t)&&(d=!0),c+=He(t).charsLeftOver,c+=He(t).unusedTokens.length*10,He(t).score=c,m?c<a&&(a=c,n=t):(a==null||c<a||d)&&(a=c,n=t,d&&(m=!0));ka(e,n||t)}function Lz(e){if(!e._d){var t=n_(e._i),n=t.day===void 0?t.date:t.day;e._a=HE([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(a){return a&&parseInt(a,10)}),f_(e)}}function Rz(e){var t=new ju(d_(hP(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function hP(e){var t=e._i,n=e._f;return e._locale=e._locale||Hi(e._l),t===null||n===void 0&&t===""?uf({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Fr(t)?new ju(d_(t)):(ku(t)?e._d=t:Ir(n)?Dz(e):n?h_(e):zz(e),Jy(e)||(e._d=null),e))}function zz(e){var t=e._i;Ln(t)?e._d=new Date(Pe.now()):ku(t)?e._d=new Date(t.valueOf()):typeof t=="string"?jz(e):Ir(t)?(e._a=HE(t.slice(0),function(n){return parseInt(n,10)}),f_(e)):_s(t)?Lz(e):qi(t)?e._d=new Date(t):Pe.createFromInputFallback(e)}function pP(e,t,n,a,o){var c={};return(t===!0||t===!1)&&(a=t,t=void 0),(n===!0||n===!1)&&(a=n,n=void 0),(_s(e)&&Xy(e)||Ir(e)&&e.length===0)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=o,c._l=n,c._i=e,c._f=t,c._strict=a,Rz(c)}function mt(e,t,n,a){return pP(e,t,n,a,!1)}var Az=wr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=mt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:uf()}),Iz=wr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=mt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:uf()});function mP(e,t){var n,a;if(t.length===1&&Ir(t[0])&&(t=t[0]),!t.length)return mt();for(n=t[0],a=1;a<t.length;++a)(!t[a].isValid()||t[a][e](n))&&(n=t[a]);return n}function Fz(){var e=[].slice.call(arguments,0);return mP("isBefore",e)}function $z(){var e=[].slice.call(arguments,0);return mP("isAfter",e)}var Bz=function(){return Date.now?Date.now():+new Date},Bl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function qz(e){var t,n=!1,a,o=Bl.length;for(t in e)if(tt(e,t)&&!(Tt.call(Bl,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(a=0;a<o;++a)if(e[Bl[a]]){if(n)return!1;parseFloat(e[Bl[a]])!==Ke(e[Bl[a]])&&(n=!0)}return!0}function Wz(){return this._isValid}function Uz(){return $r(NaN)}function gf(e){var t=n_(e),n=t.year||0,a=t.quarter||0,o=t.month||0,c=t.week||t.isoWeek||0,d=t.day||0,m=t.hour||0,v=t.minute||0,_=t.second||0,x=t.millisecond||0;this._isValid=qz(t),this._milliseconds=+x+_*1e3+v*6e4+m*1e3*60*60,this._days=+d+c*7,this._months=+o+a*3+n*12,this._data={},this._locale=Hi(),this._bubble()}function xd(e){return e instanceof gf}function ty(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Hz(e,t,n){var a=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),c=0,d;for(d=0;d<a;d++)Ke(e[d])!==Ke(t[d])&&c++;return c+o}function vP(e,t){ze(e,0,0,function(){var n=this.utcOffset(),a="+";return n<0&&(n=-n,a="-"),a+ai(~~(n/60),2)+t+ai(~~n%60,2)})}vP("Z",":");vP("ZZ","");Te("Z",pf);Te("ZZ",pf);ot(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=p_(pf,e)});var Yz=/([\+\-]|\d\d)/gi;function p_(e,t){var n=(t||"").match(e),a,o,c;return n===null?null:(a=n[n.length-1]||[],o=(a+"").match(Yz)||["-",0,0],c=+(o[1]*60)+Ke(o[2]),c===0?0:o[0]==="+"?c:-c)}function m_(e,t){var n,a;return t._isUTC?(n=t.clone(),a=(Fr(e)||ku(e)?e.valueOf():mt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+a),Pe.updateOffset(n,!1),n):mt(e).local()}function ny(e){return-Math.round(e._d.getTimezoneOffset())}Pe.updateOffset=function(){};function Zz(e,t,n){var a=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=p_(pf,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=ny(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),a!==e&&(!t||this._changeInProgress?_P(this,$r(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Pe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?a:ny(this)}function Vz(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Gz(e){return this.utcOffset(0,e)}function Kz(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ny(this),"m")),this}function Xz(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=p_(vR,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Jz(e){return this.isValid()?(e=e?mt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Qz(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function eA(){if(!Ln(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Qy(e,this),e=hP(e),e._a?(t=e._isUTC?oi(e._a):mt(e._a),this._isDSTShifted=this.isValid()&&Hz(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function tA(){return this.isValid()?!this._isUTC:!1}function nA(){return this.isValid()?this._isUTC:!1}function gP(){return this.isValid()?this._isUTC&&this._offset===0:!1}var rA=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,iA=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function $r(e,t){var n=e,a=null,o,c,d;return xd(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:qi(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(a=rA.exec(e))?(o=a[1]==="-"?-1:1,n={y:0,d:Ke(a[ti])*o,h:Ke(a[$t])*o,m:Ke(a[zr])*o,s:Ke(a[Ai])*o,ms:Ke(ty(a[vs]*1e3))*o}):(a=iA.exec(e))?(o=a[1]==="-"?-1:1,n={y:hs(a[2],o),M:hs(a[3],o),w:hs(a[4],o),d:hs(a[5],o),h:hs(a[6],o),m:hs(a[7],o),s:hs(a[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(d=aA(mt(n.from),mt(n.to)),n={},n.ms=d.milliseconds,n.M=d.months),c=new gf(n),xd(e)&&tt(e,"_locale")&&(c._locale=e._locale),xd(e)&&tt(e,"_isValid")&&(c._isValid=e._isValid),c}$r.fn=gf.prototype;$r.invalid=Uz;function hs(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function YS(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function aA(e,t){var n;return e.isValid()&&t.isValid()?(t=m_(t,e),e.isBefore(t)?n=YS(e,t):(n=YS(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function yP(e,t){return function(n,a){var o,c;return a!==null&&!isNaN(+a)&&(ZE(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),c=n,n=a,a=c),o=$r(n,a),_P(this,o,e),this}}function _P(e,t,n,a){var o=t._milliseconds,c=ty(t._days),d=ty(t._months);e.isValid()&&(a=a??!0,d&&rP(e,fu(e,"Month")+d*n),c&&eP(e,"Date",fu(e,"Date")+c*n),o&&e._d.setTime(e._d.valueOf()+o*n),a&&Pe.updateOffset(e,c||d))}var sA=yP(1,"add"),oA=yP(-1,"subtract");function xP(e){return typeof e=="string"||e instanceof String}function lA(e){return Fr(e)||ku(e)||xP(e)||qi(e)||cA(e)||uA(e)||e===null||e===void 0}function uA(e){var t=_s(e)&&!Xy(e),n=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,c,d=a.length;for(o=0;o<d;o+=1)c=a[o],n=n||tt(e,c);return t&&n}function cA(e){var t=Ir(e),n=!1;return t&&(n=e.filter(function(a){return!qi(a)&&xP(e)}).length===0),t&&n}function dA(e){var t=_s(e)&&!Xy(e),n=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,c;for(o=0;o<a.length;o+=1)c=a[o],n=n||tt(e,c);return t&&n}function fA(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function hA(e,t){arguments.length===1&&(arguments[0]?lA(arguments[0])?(e=arguments[0],t=void 0):dA(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||mt(),a=m_(n,this).startOf("day"),o=Pe.calendarFormat(this,a)||"sameElse",c=t&&(li(t[o])?t[o].call(this,n):t[o]);return this.format(c||this.localeData().calendar(o,this,mt(n)))}function pA(){return new ju(this)}function mA(e,t){var n=Fr(e)?e:mt(e);return this.isValid()&&n.isValid()?(t=br(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function vA(e,t){var n=Fr(e)?e:mt(e);return this.isValid()&&n.isValid()?(t=br(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function gA(e,t,n,a){var o=Fr(e)?e:mt(e),c=Fr(t)?t:mt(t);return this.isValid()&&o.isValid()&&c.isValid()?(a=a||"()",(a[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(a[1]===")"?this.isBefore(c,n):!this.isAfter(c,n))):!1}function yA(e,t){var n=Fr(e)?e:mt(e),a;return this.isValid()&&n.isValid()?(t=br(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(a=n.valueOf(),this.clone().startOf(t).valueOf()<=a&&a<=this.clone().endOf(t).valueOf())):!1}function _A(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function xA(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function wA(e,t,n){var a,o,c;if(!this.isValid())return NaN;if(a=m_(e,this),!a.isValid())return NaN;switch(o=(a.utcOffset()-this.utcOffset())*6e4,t=br(t),t){case"year":c=wd(this,a)/12;break;case"month":c=wd(this,a);break;case"quarter":c=wd(this,a)/3;break;case"second":c=(this-a)/1e3;break;case"minute":c=(this-a)/6e4;break;case"hour":c=(this-a)/36e5;break;case"day":c=(this-a-o)/864e5;break;case"week":c=(this-a-o)/6048e5;break;default:c=this-a}return n?c:vr(c)}function wd(e,t){if(e.date()<t.date())return-wd(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),a=e.clone().add(n,"months"),o,c;return t-a<0?(o=e.clone().add(n-1,"months"),c=(t-a)/(a-o)):(o=e.clone().add(n+1,"months"),c=(t-a)/(o-a)),-(n+c)||0}Pe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Pe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function bA(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function SA(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?_d(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):li(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",_d(n,"Z")):_d(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function NA(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,a,o,c;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",c=t+'[")]',this.format(n+a+o+c)}function EA(e){e||(e=this.isUtc()?Pe.defaultFormatUtc:Pe.defaultFormat);var t=_d(this,e);return this.localeData().postformat(t)}function PA(e,t){return this.isValid()&&(Fr(e)&&e.isValid()||mt(e).isValid())?$r({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function CA(e){return this.from(mt(),e)}function kA(e,t){return this.isValid()&&(Fr(e)&&e.isValid()||mt(e).isValid())?$r({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function jA(e){return this.to(mt(),e)}function wP(e){var t;return e===void 0?this._locale._abbr:(t=Hi(e),t!=null&&(this._locale=t),this)}var bP=wr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function SP(){return this._locale}var Rd=1e3,No=60*Rd,zd=60*No,NP=(365*400+97)*24*zd;function Eo(e,t){return(e%t+t)%t}function EP(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-NP:new Date(e,t,n).valueOf()}function PP(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-NP:Date.UTC(e,t,n)}function TA(e){var t,n;if(e=br(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?PP:EP,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Eo(t+(this._isUTC?0:this.utcOffset()*No),zd);break;case"minute":t=this._d.valueOf(),t-=Eo(t,No);break;case"second":t=this._d.valueOf(),t-=Eo(t,Rd);break}return this._d.setTime(t),Pe.updateOffset(this,!0),this}function OA(e){var t,n;if(e=br(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?PP:EP,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=zd-Eo(t+(this._isUTC?0:this.utcOffset()*No),zd)-1;break;case"minute":t=this._d.valueOf(),t+=No-Eo(t,No)-1;break;case"second":t=this._d.valueOf(),t+=Rd-Eo(t,Rd)-1;break}return this._d.setTime(t),Pe.updateOffset(this,!0),this}function MA(){return this._d.valueOf()-(this._offset||0)*6e4}function DA(){return Math.floor(this.valueOf()/1e3)}function LA(){return new Date(this.valueOf())}function RA(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function zA(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function AA(){return this.isValid()?this.toISOString():null}function IA(){return Jy(this)}function FA(){return ka({},He(this))}function $A(){return He(this).overflow}function BA(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ze("N",0,0,"eraAbbr");ze("NN",0,0,"eraAbbr");ze("NNN",0,0,"eraAbbr");ze("NNNN",0,0,"eraName");ze("NNNNN",0,0,"eraNarrow");ze("y",["y",1],"yo","eraYear");ze("y",["yy",2],0,"eraYear");ze("y",["yyy",3],0,"eraYear");ze("y",["yyyy",4],0,"eraYear");Te("N",v_);Te("NN",v_);Te("NNN",v_);Te("NNNN",JA);Te("NNNNN",QA);ot(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,a){var o=n._locale.erasParse(e,a,n._strict);o?He(n).era=o:He(n).invalidEra=e});Te("y",$o);Te("yy",$o);Te("yyy",$o);Te("yyyy",$o);Te("yo",eI);ot(["y","yy","yyy","yyyy"],dn);ot(["yo"],function(e,t,n,a){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[dn]=n._locale.eraYearOrdinalParse(e,o):t[dn]=parseInt(e,10)});function qA(e,t){var n,a,o,c=this._eras||Hi("en")._eras;for(n=0,a=c.length;n<a;++n){switch(typeof c[n].since){case"string":o=Pe(c[n].since).startOf("day"),c[n].since=o.valueOf();break}switch(typeof c[n].until){case"undefined":c[n].until=1/0;break;case"string":o=Pe(c[n].until).startOf("day").valueOf(),c[n].until=o.valueOf();break}}return c}function WA(e,t,n){var a,o,c=this.eras(),d,m,v;for(e=e.toUpperCase(),a=0,o=c.length;a<o;++a)if(d=c[a].name.toUpperCase(),m=c[a].abbr.toUpperCase(),v=c[a].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(m===e)return c[a];break;case"NNNN":if(d===e)return c[a];break;case"NNNNN":if(v===e)return c[a];break}else if([d,m,v].indexOf(e)>=0)return c[a]}function UA(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Pe(e.since).year():Pe(e.since).year()+(t-e.offset)*n}function HA(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return a[e].name;return""}function YA(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return a[e].narrow;return""}function ZA(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return a[e].abbr;return""}function VA(){var e,t,n,a,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,a=this.clone().startOf("day").valueOf(),o[e].since<=a&&a<=o[e].until||o[e].until<=a&&a<=o[e].since)return(this.year()-Pe(o[e].since).year())*n+o[e].offset;return this.year()}function GA(e){return tt(this,"_erasNameRegex")||g_.call(this),e?this._erasNameRegex:this._erasRegex}function KA(e){return tt(this,"_erasAbbrRegex")||g_.call(this),e?this._erasAbbrRegex:this._erasRegex}function XA(e){return tt(this,"_erasNarrowRegex")||g_.call(this),e?this._erasNarrowRegex:this._erasRegex}function v_(e,t){return t.erasAbbrRegex(e)}function JA(e,t){return t.erasNameRegex(e)}function QA(e,t){return t.erasNarrowRegex(e)}function eI(e,t){return t._eraYearOrdinalRegex||$o}function g_(){var e=[],t=[],n=[],a=[],o,c,d,m,v,_=this.eras();for(o=0,c=_.length;o<c;++o)d=Ii(_[o].name),m=Ii(_[o].abbr),v=Ii(_[o].narrow),t.push(d),e.push(m),n.push(v),a.push(d),a.push(m),a.push(v);this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}ze(0,["gg",2],0,function(){return this.weekYear()%100});ze(0,["GG",2],0,function(){return this.isoWeekYear()%100});function yf(e,t){ze(0,[e,e.length],0,t)}yf("gggg","weekYear");yf("ggggg","weekYear");yf("GGGG","isoWeekYear");yf("GGGGG","isoWeekYear");Te("G",hf);Te("g",hf);Te("GG",vt,Qn);Te("gg",vt,Qn);Te("GGGG",i_,r_);Te("gggg",i_,r_);Te("GGGGG",ff,cf);Te("ggggg",ff,cf);Ou(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,a){t[a.substr(0,2)]=Ke(e)});Ou(["gg","GG"],function(e,t,n,a){t[a]=Pe.parseTwoDigitYear(e)});function tI(e){return CP.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function nI(e){return CP.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function rI(){return Fi(this.year(),1,4)}function iI(){return Fi(this.isoWeekYear(),1,4)}function aI(){var e=this.localeData()._week;return Fi(this.year(),e.dow,e.doy)}function sI(){var e=this.localeData()._week;return Fi(this.weekYear(),e.dow,e.doy)}function CP(e,t,n,a,o){var c;return e==null?pu(this,a,o).year:(c=Fi(e,a,o),t>c&&(t=c),oI.call(this,e,t,n,a,o))}function oI(e,t,n,a,o){var c=sP(e,t,n,a,o),d=hu(c.year,0,c.dayOfYear);return this.year(d.getUTCFullYear()),this.month(d.getUTCMonth()),this.date(d.getUTCDate()),this}ze("Q",0,"Qo","quarter");Te("Q",GE);ot("Q",function(e,t){t[zi]=(Ke(e)-1)*3});function lI(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}ze("D",["DD",2],"Do","date");Te("D",vt,Bo);Te("DD",vt,Qn);Te("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});ot(["D","DD"],ti);ot("Do",function(e,t){t[ti]=Ke(e.match(vt)[0])});var kP=qo("Date",!0);ze("DDD",["DDDD",3],"DDDo","dayOfYear");Te("DDD",df);Te("DDDD",KE);ot(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Ke(e)});function uI(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}ze("m",["mm",2],0,"minute");Te("m",vt,a_);Te("mm",vt,Qn);ot(["m","mm"],zr);var cI=qo("Minutes",!1);ze("s",["ss",2],0,"second");Te("s",vt,a_);Te("ss",vt,Qn);ot(["s","ss"],Ai);var dI=qo("Seconds",!1);ze("S",0,0,function(){return~~(this.millisecond()/100)});ze(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ze(0,["SSS",3],0,"millisecond");ze(0,["SSSS",4],0,function(){return this.millisecond()*10});ze(0,["SSSSS",5],0,function(){return this.millisecond()*100});ze(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ze(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ze(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ze(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Te("S",df,GE);Te("SS",df,Qn);Te("SSS",df,KE);var ja,jP;for(ja="SSSS";ja.length<=9;ja+="S")Te(ja,$o);function fI(e,t){t[vs]=Ke(("0."+e)*1e3)}for(ja="S";ja.length<=9;ja+="S")ot(ja,fI);jP=qo("Milliseconds",!1);ze("z",0,0,"zoneAbbr");ze("zz",0,0,"zoneName");function hI(){return this._isUTC?"UTC":""}function pI(){return this._isUTC?"Coordinated Universal Time":""}var _e=ju.prototype;_e.add=sA;_e.calendar=hA;_e.clone=pA;_e.diff=wA;_e.endOf=OA;_e.format=EA;_e.from=PA;_e.fromNow=CA;_e.to=kA;_e.toNow=jA;_e.get=NR;_e.invalidAt=$A;_e.isAfter=mA;_e.isBefore=vA;_e.isBetween=gA;_e.isSame=yA;_e.isSameOrAfter=_A;_e.isSameOrBefore=xA;_e.isValid=IA;_e.lang=bP;_e.locale=wP;_e.localeData=SP;_e.max=Iz;_e.min=Az;_e.parsingFlags=FA;_e.set=ER;_e.startOf=TA;_e.subtract=oA;_e.toArray=RA;_e.toObject=zA;_e.toDate=LA;_e.toISOString=SA;_e.inspect=NA;typeof Symbol<"u"&&Symbol.for!=null&&(_e[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});_e.toJSON=AA;_e.toString=bA;_e.unix=DA;_e.valueOf=MA;_e.creationData=BA;_e.eraName=HA;_e.eraNarrow=YA;_e.eraAbbr=ZA;_e.eraYear=VA;_e.year=QE;_e.isLeapYear=SR;_e.weekYear=tI;_e.isoWeekYear=nI;_e.quarter=_e.quarters=lI;_e.month=iP;_e.daysInMonth=LR;_e.week=_e.weeks=qR;_e.isoWeek=_e.isoWeeks=WR;_e.weeksInYear=aI;_e.weeksInWeekYear=sI;_e.isoWeeksInYear=rI;_e.isoWeeksInISOWeekYear=iI;_e.date=kP;_e.day=_e.days=nz;_e.weekday=rz;_e.isoWeekday=iz;_e.dayOfYear=uI;_e.hour=_e.hours=dz;_e.minute=_e.minutes=cI;_e.second=_e.seconds=dI;_e.millisecond=_e.milliseconds=jP;_e.utcOffset=Zz;_e.utc=Gz;_e.local=Kz;_e.parseZone=Xz;_e.hasAlignedHourOffset=Jz;_e.isDST=Qz;_e.isLocal=tA;_e.isUtcOffset=nA;_e.isUtc=gP;_e.isUTC=gP;_e.zoneAbbr=hI;_e.zoneName=pI;_e.dates=wr("dates accessor is deprecated. Use date instead.",kP);_e.months=wr("months accessor is deprecated. Use month instead",iP);_e.years=wr("years accessor is deprecated. Use year instead",QE);_e.zone=wr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Vz);_e.isDSTShifted=wr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",eA);function mI(e){return mt(e*1e3)}function vI(){return mt.apply(null,arguments).parseZone()}function TP(e){return e}var nt=e_.prototype;nt.calendar=tR;nt.longDateFormat=aR;nt.invalidDate=oR;nt.ordinal=cR;nt.preparse=TP;nt.postformat=TP;nt.relativeTime=fR;nt.pastFuture=hR;nt.set=QL;nt.eras=qA;nt.erasParse=WA;nt.erasConvertYear=UA;nt.erasAbbrRegex=KA;nt.erasNameRegex=GA;nt.erasNarrowRegex=XA;nt.months=TR;nt.monthsShort=OR;nt.monthsParse=DR;nt.monthsRegex=zR;nt.monthsShortRegex=RR;nt.week=IR;nt.firstDayOfYear=BR;nt.firstDayOfWeek=$R;nt.weekdays=XR;nt.weekdaysMin=QR;nt.weekdaysShort=JR;nt.weekdaysParse=tz;nt.weekdaysRegex=az;nt.weekdaysShortRegex=sz;nt.weekdaysMinRegex=oz;nt.isPM=uz;nt.meridiem=fz;function Ad(e,t,n,a){var o=Hi(),c=oi().set(a,t);return o[n](c,e)}function OP(e,t,n){if(qi(e)&&(t=e,e=void 0),e=e||"",t!=null)return Ad(e,t,n,"month");var a,o=[];for(a=0;a<12;a++)o[a]=Ad(e,a,n,"month");return o}function y_(e,t,n,a){typeof e=="boolean"?(qi(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,qi(t)&&(n=t,t=void 0),t=t||"");var o=Hi(),c=e?o._week.dow:0,d,m=[];if(n!=null)return Ad(t,(n+c)%7,a,"day");for(d=0;d<7;d++)m[d]=Ad(t,(d+c)%7,a,"day");return m}function gI(e,t){return OP(e,t,"months")}function yI(e,t){return OP(e,t,"monthsShort")}function _I(e,t,n){return y_(e,t,n,"weekdays")}function xI(e,t,n){return y_(e,t,n,"weekdaysShort")}function wI(e,t,n){return y_(e,t,n,"weekdaysMin")}Oa("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Ke(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Pe.lang=wr("moment.lang is deprecated. Use moment.locale instead.",Oa);Pe.langData=wr("moment.langData is deprecated. Use moment.localeData instead.",Hi);var Li=Math.abs;function bI(){var e=this._data;return this._milliseconds=Li(this._milliseconds),this._days=Li(this._days),this._months=Li(this._months),e.milliseconds=Li(e.milliseconds),e.seconds=Li(e.seconds),e.minutes=Li(e.minutes),e.hours=Li(e.hours),e.months=Li(e.months),e.years=Li(e.years),this}function MP(e,t,n,a){var o=$r(t,n);return e._milliseconds+=a*o._milliseconds,e._days+=a*o._days,e._months+=a*o._months,e._bubble()}function SI(e,t){return MP(this,e,t,1)}function NI(e,t){return MP(this,e,t,-1)}function ZS(e){return e<0?Math.floor(e):Math.ceil(e)}function EI(){var e=this._milliseconds,t=this._days,n=this._months,a=this._data,o,c,d,m,v;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=ZS(ry(n)+t)*864e5,t=0,n=0),a.milliseconds=e%1e3,o=vr(e/1e3),a.seconds=o%60,c=vr(o/60),a.minutes=c%60,d=vr(c/60),a.hours=d%24,t+=vr(d/24),v=vr(DP(t)),n+=v,t-=ZS(ry(v)),m=vr(n/12),n%=12,a.days=t,a.months=n,a.years=m,this}function DP(e){return e*4800/146097}function ry(e){return e*146097/4800}function PI(e){if(!this.isValid())return NaN;var t,n,a=this._milliseconds;if(e=br(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+a/864e5,n=this._months+DP(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(ry(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return t*24+a/36e5;case"minute":return t*1440+a/6e4;case"second":return t*86400+a/1e3;case"millisecond":return Math.floor(t*864e5)+a;default:throw new Error("Unknown unit "+e)}}function Yi(e){return function(){return this.as(e)}}var LP=Yi("ms"),CI=Yi("s"),kI=Yi("m"),jI=Yi("h"),TI=Yi("d"),OI=Yi("w"),MI=Yi("M"),DI=Yi("Q"),LI=Yi("y"),RI=LP;function zI(){return $r(this)}function AI(e){return e=br(e),this.isValid()?this[e+"s"]():NaN}function ks(e){return function(){return this.isValid()?this._data[e]:NaN}}var II=ks("milliseconds"),FI=ks("seconds"),$I=ks("minutes"),BI=ks("hours"),qI=ks("days"),WI=ks("months"),UI=ks("years");function HI(){return vr(this.days()/7)}var Ri=Math.round,bo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function YI(e,t,n,a,o){return o.relativeTime(t||1,!!n,e,a)}function ZI(e,t,n,a){var o=$r(e).abs(),c=Ri(o.as("s")),d=Ri(o.as("m")),m=Ri(o.as("h")),v=Ri(o.as("d")),_=Ri(o.as("M")),x=Ri(o.as("w")),w=Ri(o.as("y")),N=c<=n.ss&&["s",c]||c<n.s&&["ss",c]||d<=1&&["m"]||d<n.m&&["mm",d]||m<=1&&["h"]||m<n.h&&["hh",m]||v<=1&&["d"]||v<n.d&&["dd",v];return n.w!=null&&(N=N||x<=1&&["w"]||x<n.w&&["ww",x]),N=N||_<=1&&["M"]||_<n.M&&["MM",_]||w<=1&&["y"]||["yy",w],N[2]=t,N[3]=+e>0,N[4]=a,YI.apply(null,N)}function VI(e){return e===void 0?Ri:typeof e=="function"?(Ri=e,!0):!1}function GI(e,t){return bo[e]===void 0?!1:t===void 0?bo[e]:(bo[e]=t,e==="s"&&(bo.ss=t-1),!0)}function KI(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,a=bo,o,c;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(a=Object.assign({},bo,t),t.s!=null&&t.ss==null&&(a.ss=t.s-1)),o=this.localeData(),c=ZI(this,!n,a,o),n&&(c=o.pastFuture(+this,c)),o.postformat(c)}var Rg=Math.abs;function _o(e){return(e>0)-(e<0)||+e}function _f(){if(!this.isValid())return this.localeData().invalidDate();var e=Rg(this._milliseconds)/1e3,t=Rg(this._days),n=Rg(this._months),a,o,c,d,m=this.asSeconds(),v,_,x,w;return m?(a=vr(e/60),o=vr(a/60),e%=60,a%=60,c=vr(n/12),n%=12,d=e?e.toFixed(3).replace(/\.?0+$/,""):"",v=m<0?"-":"",_=_o(this._months)!==_o(m)?"-":"",x=_o(this._days)!==_o(m)?"-":"",w=_o(this._milliseconds)!==_o(m)?"-":"",v+"P"+(c?_+c+"Y":"")+(n?_+n+"M":"")+(t?x+t+"D":"")+(o||a||e?"T":"")+(o?w+o+"H":"")+(a?w+a+"M":"")+(e?w+d+"S":"")):"P0D"}var Je=gf.prototype;Je.isValid=Wz;Je.abs=bI;Je.add=SI;Je.subtract=NI;Je.as=PI;Je.asMilliseconds=LP;Je.asSeconds=CI;Je.asMinutes=kI;Je.asHours=jI;Je.asDays=TI;Je.asWeeks=OI;Je.asMonths=MI;Je.asQuarters=DI;Je.asYears=LI;Je.valueOf=RI;Je._bubble=EI;Je.clone=zI;Je.get=AI;Je.milliseconds=II;Je.seconds=FI;Je.minutes=$I;Je.hours=BI;Je.days=qI;Je.weeks=HI;Je.months=WI;Je.years=UI;Je.humanize=KI;Je.toISOString=_f;Je.toString=_f;Je.toJSON=_f;Je.locale=wP;Je.localeData=SP;Je.toIsoString=wr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",_f);Je.lang=bP;ze("X",0,0,"unix");ze("x",0,0,"valueOf");Te("x",hf);Te("X",gR);ot("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});ot("x",function(e,t,n){n._d=new Date(Ke(e))});//! moment.js
Pe.version="2.30.1";XL(mt);Pe.fn=_e;Pe.min=Fz;Pe.max=$z;Pe.now=Bz;Pe.utc=oi;Pe.unix=mI;Pe.months=gI;Pe.isDate=ku;Pe.locale=Oa;Pe.invalid=uf;Pe.duration=$r;Pe.isMoment=Fr;Pe.weekdays=_I;Pe.parseZone=vI;Pe.localeData=Hi;Pe.isDuration=xd;Pe.monthsShort=yI;Pe.weekdaysMin=wI;Pe.defineLocale=c_;Pe.updateLocale=vz;Pe.locales=gz;Pe.weekdaysShort=xI;Pe.normalizeUnits=br;Pe.relativeTimeRounding=VI;Pe.relativeTimeThreshold=GI;Pe.calendarFormat=fA;Pe.prototype=_e;Pe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const XI=GL(Pe);function JI({spedizioni:e}){const t=e.map(n=>{const a=n.dataPianificata?new Date(n.dataPianificata):null,o=a?new Date(a.getTime()+3600*1e3):null,c=n.daPianificare===!0?"#f59e42":"#2563eb";return{id:n.id,title:`${n.aziendaDestinazione||""} (${n.tipo})`,start:a,end:o,resource:n,color:c}});return f.jsxs("div",{className:"bg-white rounded shadow p-6 mt-8",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Calendario Spedizioni"}),f.jsx(WL,{localizer:XI,events:t,defaultView:"week",views:["week"],step:60,timeslots:1,style:{height:600},messages:{week:"Settimana"},min:new Date(1970,1,1,7,0),max:new Date(1970,1,1,19,0),eventPropGetter:n=>({style:{backgroundColor:n.color,color:"white",borderRadius:"6px",border:"none"}}),tooltipAccessor:n=>n.title,onSelectEvent:n=>{n&&n.id&&(window.location.href=`/spedizioni/${n.id}`)}})]})}function QI(){return typeof window>"u"?!1:/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(window.navigator.userAgent)}function e3(){const{user:e,token:t}=Mt(),{sidebarOpen:n}=R.useContext(bN),{setNotification:a}=Bt(),[o,c]=R.useState(!1),[d,m]=R.useState({destinazione:"",dataRichiesta:"",tipo:"consegna",status:"In attesa",note:""}),[v,_]=R.useState(!1),[x,w]=R.useState(""),[N,P]=R.useState(""),[C,E]=R.useState([]);Fd({pollInterval:6e3,enablePushNotifications:!0});const[k,O]=R.useState(!1),[A,I]=R.useState([]),[F,D]=R.useState(""),[B,Z]=R.useState(""),H=In();R.useEffect(()=>{if(e&&t){fetch(`${Ee}/api/posizioni`,{headers:{Authorization:`Bearer ${t}`}}).then(Q=>Q.json()).then(Q=>E(Q));const z=()=>{fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${t}`}}).then(Q=>Q.json()).then(Q=>I(Q))};z();const ne=setInterval(z,2e3);return()=>clearInterval(ne)}},[e,t]),R.useEffect(()=>{if(e&&t){let z=!0,ne=0;const Q=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${t}`}}).then(U=>U.json()).then(U=>{z&&(ne>0&&U.length>ne&&U.slice(ne).forEach(le=>{a({text:`${le.sender?.nome}: ${le.text}`})}),ne=U.length)})};Q();const M=setInterval(Q,2e3);return()=>{z=!1,clearInterval(M)}}},[a,e,t]),R.useEffect(()=>{c(QI())},[]);const G=z=>{const{name:ne,value:Q}=z.target;m(M=>({...M,[ne]:Q}))},$=()=>{e&&t&&fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${t}`}}).then(z=>z.json()).then(z=>I(z))},W=async z=>{z.preventDefault(),_(!0),P(""),w("");try{const ne=C.find(U=>String(U.id)===String(d.destinazione)),Q={aziendaDestinazione:ne?.azienda||"",indirizzo:ne?.indirizzo||"",dataRichiesta:d.dataRichiesta,dataPianificata:d.dataRichiesta,tipo:d.tipo,status:d.status,daPianificare:!0,richiedente:e?{nome:e.nome,mail:e.mail,role:e.role}:null,note:d.note};if(!(await fetch(`${Ee}/api/spedizioni`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(Q)})).ok)throw new Error;w("Richiesta di spedizione inviata!");try{await fetch(`${Ee}/api/messaggi`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({sender:{nome:"Sistema"},text:`Nuova richiesta di spedizione: ${Q.aziendaDestinazione} (${Q.dataRichiesta})`,tipo:"richiesta"})})}catch{}m({destinazione:"",dataRichiesta:"",tipo:"consegna",status:"In attesa",note:""}),O(!1),$()}catch{P("Errore nell'invio della richiesta")}finally{_(!1)}},re=A.filter(z=>z.richiedente&&e&&z.richiedente.mail===e.mail&&z.status!=="Consegnata"),J=A.filter(z=>(!z.richiedente||e&&z.richiedente.mail!==e.mail)&&z.status!=="Consegnata"),ce=z=>z.filter(ne=>ne.daPianificare===!0),ge=z=>z.filter(ne=>ne.daPianificare===!1),me=z=>z.filter(ne=>{let Q=!0,M=!0;if(F&&(Q=(ne.aziendaDestinazione||"").toLowerCase().includes(F.toLowerCase())),B)if(ne.dataRichiesta){const U=new Date(ne.dataRichiesta),se=new Date(B);M=U.toLocaleDateString()===se.toLocaleDateString()}else M=!1;return Q&&M}),xe=async z=>{if(window.confirm("Sei sicuro di voler eliminare questa richiesta di spedizione?"))try{if(!(await fetch(`${Ee}/api/spedizioni/${z}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error;w("Richiesta eliminata"),$()}catch{P("Errore nell'eliminazione della richiesta")}};return f.jsxs("div",{className:o?"w-full flex flex-col items-center":`p-8 w-full transition-all duration-300 ${n?"max-w-[1800px]":"max-w-full"}`,children:[f.jsx("h1",{className:o?"text-xl font-bold mb-4":"text-2xl font-bold mb-4",children:"Richieste di Spedizione"}),x&&f.jsx("div",{className:"text-green-600 mb-2",children:x}),f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Le mie richieste"}),f.jsxs("div",{className:"flex flex-wrap gap-4 mb-8 items-center",children:[f.jsx("input",{type:"text",placeholder:"Filtra per destinazione...",className:"border rounded p-2 min-w-[220px]",value:F,onChange:z=>D(z.target.value)}),f.jsx("input",{type:"date",className:"border rounded p-2 min-w-[160px]",value:B,onChange:z=>Z(z.target.value)}),f.jsx("button",{className:"border rounded p-2 text-gray-500",onClick:()=>{D(""),Z("")},children:"Reset"}),f.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",onClick:()=>O(!0),children:"+ Nuova"})]}),f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Da pianificare"}),f.jsx("div",{className:"w-full mb-8",children:f.jsxs("table",{className:"w-full border-separate border-spacing-y-2 table-fixed text-base",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs text-gray-500",children:[f.jsx("th",{className:"text-left w-[5%]",children:" "}),f.jsx("th",{className:"text-left w-[13%]",children:"DATA"}),f.jsx("th",{className:"text-left w-[10%]",children:"ORA"}),f.jsx("th",{className:"text-left w-[22%]",children:"DESTINAZIONE"}),f.jsx("th",{className:"text-left w-[13%]",children:"STATO"}),f.jsx("th",{className:"text-left w-[13%]",children:"TIPO"}),f.jsx("th",{className:"text-left w-[12%]",children:"AUTISTA"})]})}),f.jsx("tbody",{children:me(ce(re)).map(z=>{const ne=z.dataRichiesta?new Date(z.dataRichiesta):null,M=ne&&ne<new Date;return f.jsxs("tr",{className:"bg-white hover:bg-blue-50 rounded shadow-lg text-base cursor-pointer group",onClick:()=>H(`/spedizioni/${z.id}`),children:[f.jsx("td",{className:"px-2 py-3",children:f.jsx(w0,{className:"inline text-gray-400"})}),f.jsx("td",{className:"px-2 py-3",children:f.jsx("span",{className:M?"bg-red-100 text-red-600 rounded px-2 py-1 text-xs font-semibold":"bg-green-100 text-green-600 rounded px-2 py-1 text-xs font-semibold",children:ne?ne.toLocaleDateString():"-"})}),f.jsx("td",{className:"px-2 py-3",children:ne?ne.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"}),f.jsx("td",{className:"px-2 py-3 truncate",children:z.aziendaDestinazione||"-"}),f.jsx("td",{className:"px-2 py-3",children:z.status||"-"}),f.jsx("td",{className:"px-2 py-3",children:z.tipo}),f.jsx("td",{className:"px-2 py-3 truncate",children:z.autista?.nome||"-"}),f.jsx("td",{className:"px-2 py-3 text-right",children:f.jsx("button",{className:"text-red-500 hover:text-red-700 px-2 py-1 border rounded",onClick:U=>{U.stopPropagation(),xe(z.id)},children:"Elimina"})})]},z.id)})})]})}),f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Pianificate"}),f.jsx("div",{className:"w-full",children:f.jsxs("table",{className:"w-full border-separate border-spacing-y-2 table-fixed text-base",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs text-gray-500",children:[f.jsx("th",{className:"text-left w-[5%]",children:" "}),f.jsx("th",{className:"text-left w-[13%]",children:"DATA"}),f.jsx("th",{className:"text-left w-[10%]",children:"ORA"}),f.jsx("th",{className:"text-left w-[22%]",children:"DESTINAZIONE"}),f.jsx("th",{className:"text-left w-[13%]",children:"STATO"}),f.jsx("th",{className:"text-left w-[13%]",children:"TIPO"}),f.jsx("th",{className:"text-left w-[12%]",children:"AUTISTA"})]})}),f.jsx("tbody",{children:me(ge(re)).map(z=>{const ne=z.dataPianificata?new Date(z.dataPianificata):null,Q=new Date,M=z.status&&(z.status.toLowerCase().includes("completata")||z.status.toLowerCase().includes("consegnata")),U=ne&&ne<Q&&!M;return f.jsxs("tr",{className:"bg-white hover:bg-green-50 rounded shadow-lg text-base cursor-pointer group",onClick:()=>H(`/spedizioni/${z.id}`),children:[f.jsx("td",{className:"px-2 py-3",children:f.jsx("span",{className:"inline text-green-400",children:"✓"})}),f.jsx("td",{className:"px-2 py-3",children:f.jsx("span",{className:U?"bg-red-100 text-red-600 rounded px-2 py-1 text-xs font-semibold":"bg-green-100 text-green-600 rounded px-2 py-1 text-xs font-semibold",children:ne?ne.toLocaleDateString():"-"})}),f.jsx("td",{className:"px-2 py-3",children:ne?ne.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"}),f.jsx("td",{className:"px-2 py-3 truncate",children:z.aziendaDestinazione||"-"}),f.jsx("td",{className:"px-2 py-3",children:z.status||"-"}),f.jsx("td",{className:"px-2 py-3",children:z.tipo}),f.jsx("td",{className:"px-2 py-3 truncate",children:z.autista?.nome||"-"})]},z.id)})})]})})]}),f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Altre richieste"}),f.jsxs("div",{className:"flex flex-wrap gap-4 mb-8 items-center",children:[f.jsx("input",{type:"text",placeholder:"Filtra per destinazione...",className:"border rounded p-2 min-w-[220px]",value:F,onChange:z=>D(z.target.value)}),f.jsx("input",{type:"date",className:"border rounded p-2 min-w-[160px]",value:B,onChange:z=>Z(z.target.value)}),f.jsx("button",{className:"border rounded p-2 text-gray-500",onClick:()=>{D(""),Z("")},children:"Reset"})]}),f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Da pianificare"}),f.jsx("div",{className:"w-full mb-8",children:f.jsxs("table",{className:"w-full border-separate border-spacing-y-2 table-fixed text-base",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs text-gray-500",children:[f.jsx("th",{className:"text-left w-[5%]",children:" "}),f.jsx("th",{className:"text-left w-[13%]",children:"DATA"}),f.jsx("th",{className:"text-left w-[10%]",children:"ORA"}),f.jsx("th",{className:"text-left w-[22%]",children:"DESTINAZIONE"}),f.jsx("th",{className:"text-left w-[13%]",children:"STATO"}),f.jsx("th",{className:"text-left w-[13%]",children:"TIPO"}),f.jsx("th",{className:"text-left w-[12%]",children:"AUTISTA"}),f.jsx("th",{className:"text-left w-[10%]",children:"RICHIESTA DA"})]})}),f.jsx("tbody",{children:me(ce(J)).map(z=>{const ne=z.dataRichiesta?new Date(z.dataRichiesta):null,M=ne&&ne<new Date;return f.jsxs("tr",{className:"bg-white hover:bg-gray-50 rounded shadow-lg text-base cursor-pointer",onClick:()=>H(`/spedizioni/${z.id}`),children:[f.jsx("td",{className:"px-2 py-3",children:f.jsx(w0,{className:"inline text-gray-400"})}),f.jsx("td",{className:"px-2 py-3",children:f.jsx("span",{className:M?"bg-red-100 text-red-600 rounded px-2 py-1 text-xs font-semibold":"bg-green-100 text-green-600 rounded px-2 py-1 text-xs font-semibold",children:ne?ne.toLocaleDateString():"-"})}),f.jsx("td",{className:"px-2 py-3",children:ne?ne.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"}),f.jsx("td",{className:"px-2 py-3 truncate",children:z.aziendaDestinazione||"-"}),f.jsx("td",{className:"px-2 py-3",children:z.status||"-"}),f.jsx("td",{className:"px-2 py-3",children:z.tipo}),f.jsx("td",{className:"px-2 py-3 truncate",children:z.autista?.nome||"-"}),f.jsx("td",{className:"px-2 py-3 truncate",children:z.richiedente?.nome||"-"})]},z.id)})})]})}),f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Pianificate"}),f.jsx("div",{className:"w-full",children:f.jsxs("table",{className:"w-full border-separate border-spacing-y-2 table-fixed text-base",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs text-gray-500",children:[f.jsx("th",{className:"text-left w-[5%]",children:" "}),f.jsx("th",{className:"text-left w-[13%]",children:"DATA"}),f.jsx("th",{className:"text-left w-[10%]",children:"ORA"}),f.jsx("th",{className:"text-left w-[22%]",children:"DESTINAZIONE"}),f.jsx("th",{className:"text-left w-[13%]",children:"STATO"}),f.jsx("th",{className:"text-left w-[13%]",children:"TIPO"}),f.jsx("th",{className:"text-left w-[12%]",children:"AUTISTA"}),f.jsx("th",{className:"text-left w-[10%]",children:"RICHIESTA DA"})]})}),f.jsx("tbody",{children:me(ge(J)).map(z=>{const ne=z.dataPianificata?new Date(z.dataPianificata):null,Q=new Date,M=z.status&&(z.status.toLowerCase().includes("completata")||z.status.toLowerCase().includes("consegnata")),U=ne&&ne<Q&&!M;return f.jsxs("tr",{className:"bg-white hover:bg-green-50 rounded shadow-lg text-base cursor-pointer",onClick:()=>H(`/spedizioni/${z.id}`),children:[f.jsx("td",{className:"px-2 py-3",children:f.jsx("span",{className:"inline text-green-400",children:"✓"})}),f.jsx("td",{className:"px-2 py-3",children:f.jsx("span",{className:U?"bg-red-100 text-red-600 rounded px-2 py-1 text-xs font-semibold":"bg-green-100 text-green-600 rounded px-2 py-1 text-xs font-semibold",children:ne?ne.toLocaleDateString():"-"})}),f.jsx("td",{className:"px-2 py-3",children:ne?ne.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"}),f.jsx("td",{className:"px-2 py-3 truncate",children:z.aziendaDestinazione||"-"}),f.jsx("td",{className:"px-2 py-3",children:z.status||"-"}),f.jsx("td",{className:"px-2 py-3",children:z.tipo}),f.jsx("td",{className:"px-2 py-3 truncate",children:z.autista?.nome||"-"}),f.jsx("td",{className:"px-2 py-3 truncate",children:z.richiedente?.nome||"-"})]},z.id)})})]})})]}),k&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded shadow-lg p-6 w-full max-w-lg relative",children:[f.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 text-xl",onClick:()=>O(!1),children:"×"}),f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Nuova richiesta di spedizione"}),f.jsxs("form",{onSubmit:W,className:"flex flex-col gap-3",children:[f.jsxs("label",{className:"font-semibold",children:["Destinazione",f.jsxs("select",{name:"destinazione",value:d.destinazione,onChange:G,className:"border p-2 rounded w-full mt-1",required:!0,children:[f.jsx("option",{value:"",children:"Seleziona destinazione..."}),C.map(z=>f.jsxs("option",{value:z.id,children:[z.azienda," - ",z.indirizzo]},z.id))]})]}),f.jsxs("label",{className:"font-semibold",children:["Data e ora richiesta",f.jsx("input",{name:"dataRichiesta",type:"datetime-local",className:"border p-2 rounded w-full mt-1",value:d.dataRichiesta,onChange:G,required:!0})]}),f.jsxs("label",{className:"font-semibold",children:["Tipologia",f.jsxs("select",{name:"tipo",value:d.tipo,onChange:G,className:"border p-2 rounded w-full mt-1",required:!0,children:[f.jsx("option",{value:"consegna",children:"Consegna"}),f.jsx("option",{value:"ritiro",children:"Ritiro"}),f.jsx("option",{value:"entrambi",children:"Entrambi"})]})]}),f.jsxs("label",{className:"font-semibold",children:["Stato",f.jsxs("select",{name:"status",value:d.status,onChange:G,className:"border p-2 rounded w-full mt-1",required:!0,children:[f.jsx("option",{value:"In attesa",children:"In attesa"}),f.jsx("option",{value:"In consegna",children:"In consegna"})]})]}),f.jsxs("label",{className:"font-semibold",children:["Note",f.jsx("textarea",{name:"note",value:d.note,onChange:G,className:"border p-2 rounded w-full mt-1",rows:3,placeholder:"Aggiungi eventuali note..."})]}),N&&f.jsx("div",{className:"text-red-600",children:N}),f.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",disabled:v,children:"Invia Richiesta"})]})]})}),f.jsx(JI,{spedizioni:A.filter(z=>(z.status==="In attesa"||z.status==="In consegna")&&z.status!=="Consegnata")})]})}function t3(){const[e,t]=R.useState([]),[n,a]=R.useState(!0),[o,c]=R.useState(""),[d,m]=R.useState(""),[v,_]=R.useState(""),[x,w]=R.useState(""),N=In(),{setNotification:P}=Bt(),{user:C,token:E}=Mt();R.useEffect(()=>{if(C&&E){let I=!0,F=0;const D=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${E}`}}).then(Z=>Z.json()).then(Z=>{I&&(F>0&&Z.length>F&&Z.slice(F).forEach(G=>{P({text:`${G.sender?.nome}: ${G.text}`})}),F=Z.length)})};D();const B=setInterval(D,2e3);return()=>{I=!1,clearInterval(B)}}},[P,C,E]),R.useEffect(()=>{C&&E&&fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${E}`}}).then(I=>I.json()).then(I=>{t(I),a(!1)}).catch(()=>{c("Errore nel caricamento delle spedizioni"),a(!1)})},[]);const k=e.filter(I=>{const F=`${I.aziendaDestinazione||""} ${I.indirizzo||""} ${I.autista?.nome||""} ${I.richiedente?.nome||""} ${I.note||""}`.toLowerCase(),D=d===""||F.includes(d.toLowerCase()),B=v===""||I.status===v,Z=x===""||I.tipo===x;return D&&B&&Z}),O={"In attesa":k.filter(I=>I.status==="In attesa"),"In consegna":k.filter(I=>I.status==="In consegna"),Consegnata:k.filter(I=>I.status==="Consegnata"),Fallita:k.filter(I=>I.status==="Fallita")},A=async I=>{if(window.confirm("Sei sicuro di voler eliminare questa spedizione?"))try{if(!(await fetch(`${Ee}/api/spedizioni/${I}`,{method:"DELETE",headers:{Authorization:`Bearer ${E}`}})).ok)throw new Error;t(D=>D.filter(B=>B.id!==I))}catch{c("Errore nell'eliminazione della spedizione")}};return f.jsxs("div",{className:"p-6",children:[f.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Stato Consegne"}),f.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 items-center",children:[f.jsx("input",{type:"text",value:d,onChange:I=>m(I.target.value),placeholder:"Cerca per destinazione, indirizzo, autista, richiedente, note...",className:"border rounded p-2 min-w-[220px]"}),f.jsxs("select",{value:v,onChange:I=>_(I.target.value),className:"border rounded p-2",children:[f.jsx("option",{value:"",children:"Tutti gli stati"}),f.jsx("option",{value:"In attesa",children:"In attesa"}),f.jsx("option",{value:"In consegna",children:"In consegna"}),f.jsx("option",{value:"Consegnata",children:"Consegnata"}),f.jsx("option",{value:"Fallita",children:"Fallita"})]}),f.jsxs("select",{value:x,onChange:I=>w(I.target.value),className:"border rounded p-2",children:[f.jsx("option",{value:"",children:"Tutti i tipi"}),f.jsx("option",{value:"consegna",children:"Consegna"}),f.jsx("option",{value:"ritiro",children:"Ritiro"}),f.jsx("option",{value:"entrambi",children:"Entrambi"})]})]}),n?f.jsx("div",{className:"text-blue-600",children:"Caricamento..."}):o?f.jsx("div",{className:"text-red-600",children:o}):Object.entries(O).map(([I,F])=>f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-xl font-bold mb-2",children:I}),F.length===0?f.jsx("div",{className:"text-gray-400",children:"Nessuna consegna"}):f.jsxs("table",{className:"w-full border-separate border-spacing-y-2",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs text-gray-500",children:[f.jsx("th",{className:"text-left px-2",children:"Data richiesta"}),f.jsx("th",{className:"text-left px-2",children:"Destinazione"}),f.jsx("th",{className:"text-left px-2",children:"Tipo"}),f.jsx("th",{className:"text-left px-2",children:"Autista"}),f.jsx("th",{className:"text-left px-2",children:"Richiedente"}),I==="Fallita"&&f.jsx("th",{className:"text-left px-2",children:"Azioni"})]})}),f.jsx("tbody",{children:F.map(D=>f.jsxs("tr",{className:"bg-white hover:bg-gray-50 rounded shadow-sm cursor-pointer",children:[f.jsx("td",{className:"px-2 py-2 text-sm",onClick:()=>N(`/spedizioni/${D.id}`),children:D.dataRichiesta?new Date(D.dataRichiesta).toLocaleString():""}),f.jsx("td",{className:"px-2 py-2 text-sm",onClick:()=>N(`/spedizioni/${D.id}`),children:D.aziendaDestinazione||D.indirizzo}),f.jsx("td",{className:"px-2 py-2 text-sm",onClick:()=>N(`/spedizioni/${D.id}`),children:D.tipo}),f.jsx("td",{className:"px-2 py-2 text-sm",onClick:()=>N(`/spedizioni/${D.id}`),children:D.autista?.nome||"-"}),f.jsx("td",{className:"px-2 py-2 text-sm",onClick:()=>N(`/spedizioni/${D.id}`),children:D.richiedente?.nome||"-"}),I==="Fallita"&&f.jsx("td",{className:"px-2 py-2 text-sm",children:f.jsx("button",{className:"bg-red-600 text-white px-3 py-1 rounded",onClick:B=>{B.stopPropagation(),A(D.id)},children:"Elimina"})})]},D.id))})]})]},I))]})}function n3(){const t=["image/png","image/jpeg","image/jpg","image/webp"],[n,a]=R.useState([]),[o,c]=R.useState(""),[d,m]=R.useState(1),v=10,[_,x]=R.useState(!0),[w,N]=R.useState(!1),[P,C]=R.useState(!1),[E,k]=R.useState(null),[O,A]=R.useState(!1),[I,F]=R.useState(""),[D,B]=R.useState(""),[Z,H]=R.useState({azienda:"",indirizzo:"",referente:"",telefono:"",email:"",logo:""}),[G,$]=R.useState(null),[W,re]=R.useState(null),J=R.useRef(),ce=In(),{setNotification:ge}=Bt(),{user:me,token:xe}=Mt();R.useEffect(()=>{me&&xe&&(x(!0),fetch(`${Ee}/api/posizioni`,{headers:{Authorization:`Bearer ${xe}`}}).then(he=>he.json()).then(he=>{he.sort((Ne,rt)=>Ne.azienda.localeCompare(rt.azienda)),a(he),x(!1)}))},[me,xe,w,P,O,D]),R.useEffect(()=>{if(me&&xe){let he=!0,Ne=0;const rt=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${xe}`}}).then(dt=>dt.json()).then(dt=>{he&&(Ne>0&&dt.length>Ne&&dt.slice(Ne).forEach(Ve=>{ge({text:`${Ve.sender?.nome}: ${Ve.text}`})}),Ne=dt.length)})};rt();const gt=setInterval(rt,2e3);return()=>{he=!1,clearInterval(gt)}}},[ge,me,xe]);const z=()=>{H({azienda:"",indirizzo:"",referente:"",telefono:"",email:"",logo:""}),$(null),re(null),J.current&&(J.current.value="")},ne=he=>he?t.includes(he.type)?he.size>1048576?(F("Logo troppo grande (max 1MB)."),!1):!0:(F("Formato immagine non valido. Usa PNG, JPG, WEBP."),!1):!0,Q=async he=>{if(he.preventDefault(),A(!0),F(""),B(""),!ne(W)){A(!1);return}try{if(!me||!xe)throw new Error("Non autenticato");const Ne=new FormData;if(Object.entries(Z).forEach(([gt,dt])=>{gt!=="logo"&&Ne.append(gt,dt)}),W&&Ne.append("logo",W),!(await fetch(`${Ee}/api/posizioni`,{method:"POST",headers:{Authorization:`Bearer ${xe}`},body:Ne})).ok)throw new Error;N(!1),B("Posizione aggiunta!"),z()}catch{F("Errore nel salvataggio")}finally{A(!1)}},M=he=>{const Ne=n[he];k(Ne.id),H({...Ne}),$(Ne.logo?`${Ee}/uploads/${Ne.logo}`:null),re(null),C(!0),F(""),B(""),J.current&&(J.current.value="")},U=async he=>{if(he.preventDefault(),A(!0),F(""),B(""),!ne(W)){A(!1);return}try{if(!me||!xe)throw new Error("Non autenticato");const Ne=new FormData;if(Object.entries(Z).forEach(([gt,dt])=>{gt!=="logo"&&Ne.append(gt,dt)}),W&&Ne.append("logo",W),!(await fetch(`${Ee}/api/posizioni/${E}`,{method:"PUT",headers:{Authorization:`Bearer ${xe}`},body:Ne})).ok)throw new Error;C(!1),B("Modifica salvata!"),z()}catch{F("Errore nel salvataggio")}finally{A(!1)}},se=async()=>{A(!0),F(""),B("");try{if(!me||!xe)throw new Error("Non autenticato");if(!(await fetch(`${Ee}/api/posizioni/${E}`,{method:"DELETE",headers:{Authorization:`Bearer ${xe}`}})).ok)throw new Error;C(!1),B("Posizione eliminata!"),z()}catch{F("Errore nell'eliminazione")}finally{A(!1)}},le=he=>{const Ne=he.target.files[0];re(Ne||null),$(Ne?URL.createObjectURL(Ne):null)},ue=he=>{ce(`/posizioni/${he}`)},fe=n.filter(he=>he.azienda.toLowerCase().includes(o.toLowerCase())||he.indirizzo.toLowerCase().includes(o.toLowerCase())||he.referente.toLowerCase().includes(o.toLowerCase())),je=Math.ceil(fe.length/v),Ce=fe.slice((d-1)*v,d*v);return f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Posizioni"}),f.jsx("button",{onClick:()=>{N(!0),F(""),B(""),z()},className:"bg-blue-600 text-white px-4 py-2 rounded font-semibold shadow hover:bg-blue-700",children:"+ Aggiungi"})]}),f.jsx("div",{className:"mb-4 flex items-center gap-2",children:f.jsx("input",{type:"text",className:"border p-2 rounded w-full max-w-md",placeholder:"Cerca per azienda, indirizzo o referente...",value:o,onChange:he=>{c(he.target.value),m(1)}})}),D&&f.jsx("div",{className:"text-green-600 mb-2",children:D}),_?f.jsx("div",{children:"Caricamento..."}):f.jsx("div",{className:"bg-white rounded shadow divide-y",children:Ce.map((he,Ne)=>f.jsxs("div",{className:"flex items-center gap-4 py-4 px-2 hover:bg-gray-50",onClick:()=>ue(he.id),style:{cursor:"pointer"},children:[f.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded flex items-center justify-center text-gray-400 text-2xl font-bold overflow-hidden",children:he.logo&&typeof he.logo=="string"&&he.logo!==""?f.jsx("img",{src:`${Ee}/uploads/${he.logo}`,alt:"logo",className:"object-contain w-full h-full",onError:rt=>{rt.target.onerror=null,rt.target.src="https://placehold.co/64x64?text=Logo"}}):f.jsx("span",{className:"material-icons",children:"location_on"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs uppercase text-blue-800 font-bold tracking-wide",children:he.referente}),f.jsx("div",{className:"text-lg font-bold text-gray-900 mb-1",children:he.azienda}),f.jsx("div",{className:"text-gray-700 text-sm mb-1",children:he.indirizzo}),f.jsxs("div",{className:"text-gray-500 text-xs mt-1",children:["Tel: ",he.telefono," | Email: ",he.email]})]}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("button",{className:"text-gray-400 hover:text-gray-700 p-2 rounded-full",onClick:()=>M(n.findIndex(rt=>rt.id===he.id)),"aria-label":"Modifica",children:f.jsx("span",{className:"material-icons",children:"more_horiz"})})})]},he.id||Ne))}),f.jsxs("div",{className:"flex justify-center items-center gap-2 mt-4",children:[f.jsx("button",{className:"px-3 py-1 rounded bg-gray-200 text-gray-700 disabled:opacity-50",onClick:()=>m(d-1),disabled:d===1,children:"<"}),f.jsxs("span",{className:"px-2",children:["Pagina ",d," di ",je]}),f.jsx("button",{className:"px-3 py-1 rounded bg-gray-200 text-gray-700 disabled:opacity-50",onClick:()=>m(d+1),disabled:d===je||je===0,children:">"})]}),w&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:f.jsxs("div",{className:"bg-white rounded shadow p-6 w-full max-w-md relative",role:"dialog","aria-modal":"true",children:[f.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 text-xl",onClick:()=>{N(!1),z()},"aria-label":"Chiudi",children:"×"}),f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Aggiungi Destinazione"}),I&&f.jsx("div",{className:"text-red-600 mb-2",children:I}),f.jsxs("form",{onSubmit:Q,className:"flex flex-col gap-3",children:[f.jsx("input",{className:"border p-2 rounded",placeholder:"Azienda",value:Z.azienda,onChange:he=>H(Ne=>({...Ne,azienda:he.target.value})),required:!0}),f.jsx("input",{className:"border p-2 rounded",placeholder:"Indirizzo",value:Z.indirizzo,onChange:he=>H(Ne=>({...Ne,indirizzo:he.target.value})),required:!0}),f.jsx("input",{className:"border p-2 rounded",placeholder:"Referente",value:Z.referente,onChange:he=>H(Ne=>({...Ne,referente:he.target.value})),required:!0}),f.jsx("input",{className:"border p-2 rounded",placeholder:"Telefono",value:Z.telefono,onChange:he=>H(Ne=>({...Ne,telefono:he.target.value})),required:!0}),f.jsx("input",{className:"border p-2 rounded",placeholder:"Email",value:Z.email,onChange:he=>H(Ne=>({...Ne,email:he.target.value})),required:!0,type:"email"}),f.jsx("input",{className:"border p-2 rounded",type:"file",accept:"image/*",ref:J,onChange:le}),G&&f.jsx("img",{src:G,alt:"Anteprima logo",className:"h-16 object-contain mt-2"}),f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",disabled:O,children:"Salva"}),f.jsx("button",{type:"button",className:"bg-gray-400 text-white px-4 py-2 rounded",onClick:()=>{N(!1),z()},disabled:O,children:"Annulla"})]})]})]})}),P&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:f.jsxs("div",{className:"bg-white rounded shadow p-6 w-full max-w-md relative",role:"dialog","aria-modal":"true",children:[f.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 text-xl",onClick:()=>{C(!1),z()},"aria-label":"Chiudi",children:"×"}),f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Modifica Destinazione"}),I&&f.jsx("div",{className:"text-red-600 mb-2",children:I}),f.jsxs("form",{onSubmit:U,className:"flex flex-col gap-3",children:[f.jsx("input",{className:"border p-2 rounded",placeholder:"Azienda",value:Z.azienda,onChange:he=>H(Ne=>({...Ne,azienda:he.target.value})),required:!0}),f.jsx("input",{className:"border p-2 rounded",placeholder:"Indirizzo",value:Z.indirizzo,onChange:he=>H(Ne=>({...Ne,indirizzo:he.target.value})),required:!0}),f.jsx("input",{className:"border p-2 rounded",placeholder:"Referente",value:Z.referente,onChange:he=>H(Ne=>({...Ne,referente:he.target.value})),required:!0}),f.jsx("input",{className:"border p-2 rounded",placeholder:"Telefono",value:Z.telefono,onChange:he=>H(Ne=>({...Ne,telefono:he.target.value})),required:!0}),f.jsx("input",{className:"border p-2 rounded",placeholder:"Email",value:Z.email,onChange:he=>H(Ne=>({...Ne,email:he.target.value})),required:!0,type:"email"}),f.jsx("input",{className:"border p-2 rounded",type:"file",accept:"image/*",ref:J,onChange:le}),G&&f.jsx("img",{src:G,alt:"Anteprima logo",className:"h-16 object-contain mt-2"}),f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",disabled:O,children:"Salva"}),f.jsx("button",{type:"button",className:"bg-red-600 text-white px-4 py-2 rounded",onClick:se,disabled:O,children:"Elimina"}),f.jsx("button",{type:"button",className:"bg-gray-400 text-white px-4 py-2 rounded",onClick:()=>{C(!1),z()},disabled:O,children:"Annulla"})]})]})]})})]})}function r3(){const{setNotification:e,sendPushNotification:t,pushNotificationsEnabled:n,requestNotificationPermission:a,subscribeForPush:o}=Bt(),{user:c,token:d}=Mt(),{unreadCount:m}=yN(),[v,_]=R.useState([]),[x,w]=R.useState(!0),[N,P]=R.useState(!1),C=In();R.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&P(!0)},[]);const E=async()=>{await a()?await o()?(P(!1),e({text:"Notifiche push abilitate e sottoscritte",type:"success"})):e({text:"Notifiche abilitate ma la sottoscrizione non è stata completata",type:"warning"}):e({text:"Permessi per le notifiche negati"})};R.useEffect(()=>{if(c&&d){let D=!0,B=0;const Z=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${d}`}}).then(G=>G.json()).then(G=>{D&&(B>0&&G.length>B&&G.slice(B).forEach(W=>{e({text:`${W.sender?.nome}: ${W.text}`}),n&&t(`Nuovo messaggio da ${W.sender?.nome}`,{body:W.text,onClick:()=>{C("/chat")}})}),B=G.length)})};Z();const H=setInterval(Z,2e3);return()=>{D=!1,clearInterval(H)}}},[e,t,n,C,c,d]),R.useEffect(()=>{if(c&&d){let D=!0,B=new Set;const Z=()=>{fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${d}`}}).then(G=>{if(!G.ok)throw new Error("Errore nel caricamento delle spedizioni");return G.json()}).then(G=>{if(!D)return;const $=G.filter(J=>J.autista&&J.autista.id===c.id&&J.status!=="Consegnata"),W=new Set($.map(J=>J.id));if(B.size>0){const J=[...W].filter(ce=>!B.has(ce));J.length>0&&$.filter(ge=>J.includes(ge.id)).forEach(ge=>{if(e({text:`Nuova spedizione assegnata: ${ge.aziendaDestinazione}`}),n){const me={consegna:"Nuova consegna assegnata!",ritiro:"Nuovo ritiro assegnato!",entrambi:"Nuova spedizione assegnata!"},xe={consegna:"🚚",ritiro:"📦",entrambi:"🔄"},z=me[ge.tipo]||"Nuova spedizione assegnata!",ne=xe[ge.tipo]||"🚛";t(z,{body:`${ge.aziendaDestinazione} - ${ge.indirizzo}`,icon:ne,tag:"delivery-assignment",requireInteraction:!0,onClick:()=>{C(`/spedizioni-mobile/${ge.id}`)}})}})}B=W;const re=$.sort((J,ce)=>{const ge={"In consegna":0,"In attesa":1,Fallita:2};return ge[J.status]!==ge[ce.status]?ge[J.status]-ge[ce.status]:new Date(J.dataPianificata)-new Date(ce.dataPianificata)});_(re)}).catch(()=>{D&&e({text:"Errore nel caricamento delle spedizioni"})}).finally(()=>{D&&w(!1)})};Z();const H=setInterval(Z,5e3);return()=>{D=!1,clearInterval(H)}}else w(!1)},[c,d,e,t,n,C]);const k=D=>{switch(D){case"In attesa":return"bg-blue-100 text-blue-800";case"In consegna":return"bg-orange-100 text-orange-800";case"Consegnata":return"bg-green-100 text-green-800";case"Fallita":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},O=D=>{switch(D){case"consegna":return"";case"ritiro":return"";case"entrambi":return"";default:return""}},A=async(D,B)=>{try{if(!c||!d)return;if(!(await fetch(`${Ee}/api/spedizioni/${D}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({status:B})})).ok)throw new Error;const H=v.find($=>$.id===D);_($=>$.map(W=>W.id===D?{...W,status:B}:W).filter(W=>W.status!=="Consegnata"));const G=`Spedizione ${B.toLowerCase()} con successo`;if(e({text:G}),B==="Consegnata")try{const W={text:`Ho consegnato la spedizione #${D}${H&&H.aziendaDestinazione?" - "+H.aziendaDestinazione:""}`,spedizioneId:D};c&&(W.sender={nome:c.nome||c.name||(c.mail?c.mail.split("@")[0]:"Autista"),mail:c.mail}),await fetch(`${Ee}/api/messaggi`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify(W)})}catch($){console.warn("Errore nell'invio del messaggio di consegna:",$),e({text:"Consegna registrata ma impossibile inviare messaggio di notifica",type:"warning"})}n&&H&&t({"In consegna":"Consegna iniziata",Consegnata:"Consegna completata",Fallita:"Consegna fallita"}[B]||"Stato aggiornato",{body:`${H.aziendaDestinazione} - ${B}`,icon:B==="Consegnata"?"✅":B==="Fallita"?"❌":"🚚"})}catch{e({text:"Errore nell'aggiornamento dello stato"})}},I=(D,B)=>{const Z=encodeURIComponent(`${B?B+", ":""}${D}`),H=/iPad|iPhone|iPod/.test(navigator.userAgent),G=/Android/.test(navigator.userAgent);let $;H?$=`maps://maps.apple.com/?q=${Z}`:G?$=`geo:0,0?q=${Z}`:$=`https://www.google.com/maps/search/?api=1&query=${Z}`,window.location.href=$,setTimeout(()=>{if(H||G){const W=`https://www.google.com/maps/search/?api=1&query=${Z}`;window.open(W,"_blank")}},500)},F=D=>D?new Date(D).toLocaleDateString("it-IT",{weekday:"short",day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}):"-";return x?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Caricamento consegne..."})]})}):f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[N&&f.jsx("div",{className:"bg-blue-600 text-white p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold text-sm",children:"Abilita le notifiche push"}),f.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Ricevi notifiche per nuove spedizioni e messaggi anche quando l'app è in background"})]}),f.jsxs("div",{className:"flex gap-2 ml-3",children:[f.jsx("button",{onClick:E,className:"bg-white text-blue-600 text-xs px-3 py-1 rounded font-medium hover:bg-gray-100 transition-colors",children:"Abilita"}),f.jsx("button",{onClick:()=>P(!1),className:"text-white text-xs px-2 py-1 rounded hover:bg-blue-700 transition-colors",children:"✕"})]})]})}),f.jsx("div",{className:"p-4",children:v.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"text-6xl mb-4",children:"🚚"}),f.jsx("h2",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Nessuna consegna assegnata"}),f.jsx("p",{className:"text-gray-500",children:"Al momento non ci sono spedizioni da completare"})]}):f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Le mie consegne"}),f.jsxs("p",{className:"text-gray-600",children:[v.length," spedizion",v.length!==1?"i":"e"," assegnat",v.length!==1?"e":"a"]})]}),v.map(D=>f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 border-l-4 border-blue-500 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>C(`/spedizioni-mobile/${D.id}`),children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"text-3xl mr-3",children:O(D.tipo)}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold tracking-wide shadow ${D.tipo==="consegna"?"bg-blue-600 text-white":D.tipo==="ritiro"?"bg-green-600 text-white":D.tipo==="entrambi"?"bg-purple-600 text-white":"bg-gray-300 text-gray-800"}`,children:D.tipo?D.tipo.charAt(0).toUpperCase()+D.tipo.slice(1):"Tipo"}),f.jsx("button",{onClick:B=>{B.stopPropagation(),I(D.indirizzo,D.aziendaDestinazione)},className:"bg-blue-500 hover:bg-blue-600 text-white text-xs py-1 px-2 rounded-md font-medium transition-colors flex items-center gap-1",children:f.jsx("span",{className:"material-icons text-xs",children:"navigation"})})]}),f.jsx("h3",{className:"font-bold text-gray-900 text-lg leading-tight",children:D.aziendaDestinazione}),f.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${k(D.status)} mt-1`,children:D.status})]})]}),f.jsx("div",{className:"text-xs text-gray-500 text-right",children:f.jsxs("div",{children:["#",D.id.toString().slice(-4)]})})]}),f.jsxs("div",{className:"flex items-start mb-3",children:[f.jsx("span",{className:"material-icons text-gray-400 text-sm mr-2 mt-0.5",children:"place"}),f.jsx("p",{className:"text-gray-700 text-sm leading-relaxed flex-1",children:D.indirizzo})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 text-xs",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"material-icons text-gray-400 text-sm mr-1",children:"schedule"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-gray-500",children:"Richiesta"}),f.jsx("div",{className:"font-medium text-gray-700",children:F(D.dataRichiesta)})]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"material-icons text-green-500 text-sm mr-1",children:"event"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-gray-500",children:"Pianificata"}),f.jsx("div",{className:"font-medium text-gray-700",children:F(D.dataPianificata)})]})]})]}),f.jsxs("div",{className:"border-t pt-3 mt-3",children:[f.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[D.richiedente&&f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"material-icons text-gray-400 text-sm mr-1",children:"person"}),f.jsx("span",{className:"text-gray-600",children:"Richiesta da: "}),f.jsx("span",{className:"font-medium text-gray-800",children:D.richiedente.nome})]}),D.note&&f.jsxs("div",{className:"flex items-start",children:[f.jsx("span",{className:"material-icons text-gray-400 text-sm mr-1 mt-0.5",children:"notes"}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-600",children:"Note: "}),f.jsx("div",{className:"text-gray-800 whitespace-pre-wrap break-words",children:D.note})]})]})]}),f.jsxs("div",{className:"flex gap-2 mt-3",children:[D.status==="In attesa"&&f.jsxs("button",{onClick:B=>{B.stopPropagation(),A(D.id,"In consegna")},className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white text-xs py-2 px-3 rounded-md font-medium transition-colors flex items-center justify-center gap-1",children:[f.jsx("span",{className:"material-icons text-sm",children:"local_shipping"}),"Inizia consegna"]}),D.status==="In consegna"&&f.jsxs("button",{onClick:B=>{B.stopPropagation(),A(D.id,"Consegnata")},className:"flex-1 bg-green-500 hover:bg-green-600 text-white text-xs py-2 px-3 rounded-md font-medium transition-colors flex items-center justify-center gap-1",children:[f.jsx("span",{className:"material-icons text-sm",children:"check_circle"}),"Consegnata"]}),(D.status==="In attesa"||D.status==="In consegna")&&f.jsxs("button",{onClick:B=>{B.stopPropagation(),window.confirm("Sei sicuro di voler segnare questa spedizione come fallita?")&&A(D.id,"Fallita")},className:"bg-red-500 hover:bg-red-600 text-white text-xs py-2 px-3 rounded-md font-medium transition-colors flex items-center justify-center gap-1",children:[f.jsx("span",{className:"material-icons text-sm",children:"error"}),"Fallita"]})]})]}),f.jsx("div",{className:"flex justify-end mt-2",children:f.jsx("span",{className:"material-icons text-gray-300",children:"chevron_right"})})]},D.id))]})}),f.jsxs("div",{className:"fixed bottom-4 right-4 flex flex-col gap-3",children:[!1,f.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full shadow-lg transition-colors","aria-label":"Aggiorna",children:f.jsx("span",{className:"material-icons",children:"refresh"})})]})]})}function i3(){const[e,t]=R.useState(!1);R.useRef(!1);const{user:n,token:a}=Mt(),{setNotification:o,sendPushNotification:c,pushNotificationsEnabled:d,requestNotificationPermission:m}=Bt(),[v,_]=R.useState([]),[x,w]=R.useState(""),[N,P]=R.useState(!0),[C,E]=R.useState(""),[k,O]=R.useState(null),[A,I]=R.useState(!1),F=R.useRef(null);R.useRef(null);const D=R.useRef({});R.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&I(!0)},[]);const B=async()=>{await m()?(I(!1),o({text:"Notifiche push abilitate!"})):o({text:"Permessi per le notifiche negati"})};R.useEffect(()=>{if(n&&a){let H=!0;const G=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${a}`}}).then(W=>W.json()).then(W=>{H&&(v.length>0&&W.length>v.length&&W.slice(v.length).forEach(J=>{J.sender?.mail!==n?.mail&&(o({text:`${J.sender?.nome}: ${J.text}`}),d&&c(`Nuovo messaggio da ${J.sender?.nome}`,{body:J.text,icon:"💬",tag:"chat-message",requireInteraction:!1,onClick:()=>{window.focus(),setTimeout(()=>{F.current?.scrollIntoView({behavior:"smooth"})},100)}}))}),_(W),P(!1))}).catch(()=>{E("Errore nel caricamento dei messaggi"),P(!1)})};G();const $=setInterval(G,2e3);return()=>{H=!1,clearInterval($)}}},[n,a,v.length,o,c,d]);const Z=async H=>{if(H.preventDefault(),!!x.trim())try{if(!n||!a)throw new Error("Non autenticato");const G={sender:{nome:n?.nome||"Anonimo",mail:n?.mail||""},text:x};k&&(G.replyTo=k);const W=await(await fetch(`${Ee}/api/messaggi`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(G)})).json();_(re=>[...re,W]),w(""),O(null),E(""),setTimeout(()=>{const re=document.getElementById("chat-scrollable");if(re){const J=re.scrollHeight-re.scrollTop-re.clientHeight<10;t(!J)}},0)}catch{E("Errore nell'invio del messaggio")}};return R.useEffect(()=>{v.length>0&&(F.current?.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{const H=document.getElementById("chat-scrollable");if(H){const G=H.scrollHeight-H.scrollTop-H.clientHeight<10;t(!G)}},0))},[v]),R.useEffect(()=>{const H=document.getElementById("chat-scrollable");if(!H)return;const G=()=>{const $=H.scrollHeight-H.scrollTop-H.clientHeight<10;t(!$)};return H.addEventListener("scroll",G),setTimeout(G,0),()=>H.removeEventListener("scroll",G)},[]),f.jsxs("div",{className:"p-8 max-w-5xl mx-auto",children:[A&&f.jsx("div",{className:"bg-blue-600 text-white p-4 mb-6 rounded-lg",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold text-sm",children:"Abilita le notifiche push"}),f.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Ricevi notifiche per nuovi messaggi anche quando l'app è in background"})]}),f.jsxs("div",{className:"flex gap-2 ml-3",children:[f.jsx("button",{onClick:B,className:"bg-white text-blue-600 text-xs px-3 py-1 rounded font-medium hover:bg-gray-100 transition-colors",children:"Abilita"}),f.jsx("button",{onClick:()=>I(!1),className:"text-white text-xs px-2 py-1 rounded hover:bg-blue-700 transition-colors",children:"✕"})]})]})}),f.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Chat"}),f.jsxs("div",{id:"chat-scrollable",className:"bg-white rounded shadow p-6 mb-6 h-[600px] overflow-y-auto flex flex-col relative",children:[e&&f.jsx("button",{type:"button",className:"absolute right-4 bottom-4 bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 transition-all",style:{zIndex:10},onClick:()=>F.current?.scrollIntoView({behavior:"smooth"}),children:"Vai all'ultimo messaggio"}),N?f.jsx("div",{className:"text-blue-600",children:"Caricamento messaggi..."}):C?f.jsx("div",{className:"text-red-600",children:C}):v.map(H=>{if(H.sender?.nome==="Sistema")return f.jsx("div",{className:"mb-4 flex justify-center",children:f.jsxs("div",{className:"flex flex-col items-center w-full",children:[f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("span",{className:"material-icons text-gray-400 text-xl",children:"info"}),f.jsx("span",{className:"font-semibold text-gray-500 text-base",children:"Messaggio di sistema"})]}),f.jsxs("div",{className:"bg-gray-100 text-gray-700 px-6 py-3 rounded-lg mt-2 text-center max-w-2xl shadow",style:{whiteSpace:"pre-line"},children:[H.text,f.jsx("span",{className:"ml-2 text-xs text-gray-400",children:H.timestamp?new Date(H.timestamp).toLocaleTimeString():""})]})]})},H.id);const G=H.sender?.nome?.trim().toLowerCase()===n?.nome?.trim().toLowerCase();let $=null;H.replyTo&&($=v.find(re=>re.id===H.replyTo)),D.current[H.id]||(D.current[H.id]=X.createRef());const W=()=>{const re=D.current[H.replyTo];re&&re.current&&(re.current.scrollIntoView({behavior:"smooth",block:"center"}),re.current.classList.add("ring-4","ring-blue-400"),setTimeout(()=>{re.current.classList.remove("ring-4","ring-blue-400")},1500))};return f.jsx("div",{ref:D.current[H.id],className:`mb-2 flex ${G?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:"flex flex-col items-start max-w-xl",children:[f.jsx("span",{className:`font-bold mb-1 text-sm ${G?"text-blue-700":"text-gray-700"}`,children:H.sender?.nome}),$&&f.jsxs("div",{className:"mb-1 px-3 py-2 rounded bg-gray-200 text-xs text-gray-600 border-l-4 border-blue-400 cursor-pointer hover:bg-blue-100",onClick:W,title:"Vai al messaggio originale",children:[f.jsxs("span",{className:"font-semibold",children:["Risposta a ",$.sender?.nome,":"]})," ",$.text]}),f.jsxs("div",{className:`px-4 py-3 rounded-lg break-words ${G?"bg-blue-100 text-blue-900":"bg-gray-100 text-gray-800"}`,children:[f.jsx("span",{children:H.text}),f.jsx("span",{className:"ml-2 text-xs text-gray-400",children:H.timestamp?new Date(H.timestamp).toLocaleTimeString():""})]}),f.jsx("button",{className:"mt-1 text-xs text-blue-600 underline cursor-pointer self-end",onClick:()=>O(H.id),children:"Rispondi"})]})},H.id)}),f.jsx("div",{ref:F})]}),f.jsxs("form",{onSubmit:Z,className:"flex gap-2 flex-col",children:[k&&f.jsxs("div",{className:"mb-2 p-2 bg-blue-50 border-l-4 border-blue-400 text-sm text-blue-700 flex items-center justify-between",children:[f.jsxs("span",{children:["Rispondendo a: ",f.jsx("b",{children:v.find(H=>H.id===k)?.sender?.nome}),' — "',v.find(H=>H.id===k)?.text,'"']}),f.jsx("button",{type:"button",className:"ml-4 text-xs text-red-500 underline",onClick:()=>O(null),children:"Annulla"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:x,onChange:H=>w(H.target.value),className:"flex-1 border rounded p-3 text-lg",placeholder:"Scrivi un messaggio...",disabled:N}),f.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-3 rounded text-lg font-semibold",disabled:N||!x.trim(),children:"Invia"})]})]})]})}function ad(e,t,n){const a=t.join(";"),o=e.map(_=>t.map(x=>{let w=_[x];return w===void 0&&(x==="mail"&&(w=_.mail||_.email||""),x==="role"&&(w=_.role||_.ruolo||""),x==="autista"&&(w=_.autista?.nome||""),x==="sender"&&(w=_.sender?.nome||""),x==="createdAt"&&(w=_.createdAt?new Date(_.createdAt).toLocaleString():""),x==="dataPianificata"&&(w=_.dataPianificata?new Date(_.dataPianificata).toLocaleDateString():""),x==="oraPianificata"&&(w=_.dataPianificata?new Date(_.dataPianificata).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"")),w!=null?String(w).replace(/;/g,","):""}).join(";")),c=a+`
`+o.join(`
`),d=new Blob([c],{type:"text/csv"}),m=URL.createObjectURL(d),v=document.createElement("a");v.href=m,v.download=n,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(m)}function a3(){return typeof window>"u"?!1:/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(window.navigator.userAgent)}function s3(){const{setNotification:e}=Bt(),{user:t,token:n}=Mt(),[a,o]=R.useState(!1),[c,d]=R.useState([]),[m,v]=R.useState([]),[_,x]=R.useState([]),[w,N]=R.useState([]);return R.useEffect(()=>{o(a3())},[]),R.useEffect(()=>{if(console.log("Admin effect",t,n),!t||typeof n!="string"||n.trim()===""){console.log("Early return: user or token missing",t,n);return}(async()=>{try{console.log("FETCH utenti header:",{Authorization:`Bearer ${n}`});const C=await fetch(`${Ee}/api/utenti`,{headers:{Authorization:`Bearer ${n}`}});if(!C.ok)throw new Error("Utenti fetch failed: "+C.status);const E=await C.json();d(E),console.log("FETCH spedizioni header:",{Authorization:`Bearer ${n}`});const k=await fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${n}`}});if(!k.ok)throw new Error("Spedizioni fetch failed: "+k.status);const O=await k.json();v(O),console.log("FETCH posizioni header:",{Authorization:`Bearer ${n}`});const A=await fetch(`${Ee}/api/posizioni`,{headers:{Authorization:`Bearer ${n}`}});if(!A.ok)throw new Error("Posizioni fetch failed: "+A.status);const I=await A.json();x(I),console.log("FETCH messaggi header:",{Authorization:`Bearer ${n}`});const F=await fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${n}`}});if(!F.ok)throw new Error("Messaggi fetch failed: "+F.status);const D=await F.json();N(D)}catch(C){e({text:"Errore: "+C.message})}})()},[t,n]),f.jsxs("div",{className:a?"p-0 max-w-full mx-auto w-full flex flex-col items-center":"px-0 max-w-6xl mx-auto w-full",children:[f.jsx("h1",{className:a?"text-xl font-bold mb-2":"text-2xl font-bold mb-2 sm:mb-4",children:"Admin - Database"}),f.jsxs("div",{className:"mb-8 w-full",children:[f.jsx("button",{className:"mb-2 px-4 py-2 bg-green-600 text-white rounded font-semibold",onClick:()=>ad(c,c.length>0?Object.keys(c[0]):[],"utenti.csv"),children:"Export CSV"}),f.jsx("h2",{className:"text-lg font-bold mb-2",children:"Utenti"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-[1000px] w-full table-auto border text-base",children:[f.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10",children:f.jsx("tr",{children:c.length>0&&Object.keys(c[0]).filter(P=>P!=="password").map(P=>f.jsx("th",{className:"px-4 py-2 font-semibold text-gray-700 border-b",children:P},P))})}),f.jsx("tbody",{children:c.map((P,C)=>f.jsx("tr",{className:C%2===0?"bg-white":"bg-gray-50",children:Object.keys(c[0]||{}).filter(E=>E!=="password").map(E=>f.jsx("td",{className:"px-6 py-3 border-b align-top max-w-[400px] break-words",children:typeof P[E]=="object"&&P[E]!==null?f.jsx("table",{className:"bg-gray-100 rounded text-xs mt-1",children:f.jsx("tbody",{children:Object.entries(P[E]).map(([k,O])=>f.jsxs("tr",{children:[f.jsx("td",{className:"font-semibold text-gray-600 px-2 py-1",children:k}),f.jsx("td",{className:"px-2 py-1",children:String(O)})]},k))})}):String(P[E])},E))},P.id||P.mail||P.nome))})]})})]}),f.jsxs("div",{className:"mb-8 w-full",children:[f.jsx("button",{className:"mb-2 px-4 py-2 bg-green-600 text-white rounded font-semibold",onClick:()=>ad(m,m.length>0?Object.keys(m[0]):[],"spedizioni.csv"),children:"Export CSV"}),f.jsx("h2",{className:"text-lg font-bold mb-2",children:"Spedizioni"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-[1200px] w-full table-auto border text-base",children:[f.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10",children:f.jsx("tr",{children:m.length>0&&Object.keys(m[0]).map(P=>f.jsx("th",{className:"px-4 py-2 font-semibold text-gray-700 border-b",children:P},P))})}),f.jsx("tbody",{children:m.map((P,C)=>f.jsx("tr",{className:C%2===0?"bg-white":"bg-gray-50",children:Object.keys(m[0]||{}).map(E=>f.jsx("td",{className:"px-6 py-3 border-b align-top max-w-[400px] break-words",children:typeof P[E]=="object"&&P[E]!==null?f.jsx("table",{className:"bg-gray-100 rounded text-xs mt-1",children:f.jsx("tbody",{children:Object.entries(P[E]).map(([k,O])=>f.jsxs("tr",{children:[f.jsx("td",{className:"font-semibold text-gray-600 px-2 py-1",children:k}),f.jsx("td",{className:"px-2 py-1",children:String(O)})]},k))})}):String(P[E])},E))},P.id||P.aziendaDestinazione))})]})})]}),f.jsxs("div",{className:"mb-8 w-full",children:[f.jsx("button",{className:"mb-2 px-4 py-2 bg-green-600 text-white rounded font-semibold",onClick:()=>ad(_,_.length>0?Object.keys(_[0]):[],"posizioni.csv"),children:"Export CSV"}),f.jsx("h2",{className:"text-lg font-bold mb-2",children:"Posizioni"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-[1000px] w-full table-auto border text-base",children:[f.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10",children:f.jsx("tr",{children:_.length>0&&Object.keys(_[0]).map(P=>f.jsx("th",{className:"px-4 py-2 font-semibold text-gray-700 border-b",children:P},P))})}),f.jsx("tbody",{children:_.map((P,C)=>f.jsx("tr",{className:C%2===0?"bg-white":"bg-gray-50",children:Object.keys(_[0]||{}).map(E=>f.jsx("td",{className:"px-6 py-3 border-b align-top max-w-[400px] break-words",children:typeof P[E]=="object"&&P[E]!==null?f.jsx("table",{className:"bg-gray-100 rounded text-xs mt-1",children:f.jsx("tbody",{children:Object.entries(P[E]).map(([k,O])=>f.jsxs("tr",{children:[f.jsx("td",{className:"font-semibold text-gray-600 px-2 py-1",children:k}),f.jsx("td",{className:"px-2 py-1",children:String(O)})]},k))})}):String(P[E])},E))},P.id||P.nome))})]})})]}),f.jsxs("div",{className:"mb-8 w-full",children:[f.jsx("button",{className:"mb-2 px-4 py-2 bg-green-600 text-white rounded font-semibold",onClick:()=>ad(w,w.length>0?Object.keys(w[0]):[],"messaggi.csv"),children:"Export CSV"}),f.jsx("h2",{className:"text-lg font-bold mb-2",children:"Messaggi"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-[1000px] w-full table-auto border text-base",children:[f.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10",children:f.jsx("tr",{children:w.length>0&&Object.keys(w[0]).map(P=>f.jsx("th",{className:"px-4 py-2 font-semibold text-gray-700 border-b",children:P},P))})}),f.jsx("tbody",{children:w.map((P,C)=>f.jsx("tr",{className:C%2===0?"bg-white":"bg-gray-50",children:Object.keys(w[0]||{}).map(E=>f.jsx("td",{className:"px-6 py-3 border-b align-top max-w-[400px] break-words",children:typeof P[E]=="object"&&P[E]!==null?f.jsx("table",{className:"bg-gray-100 rounded text-xs mt-1",children:f.jsx("tbody",{children:Object.entries(P[E]).map(([k,O])=>f.jsxs("tr",{children:[f.jsx("td",{className:"font-semibold text-gray-600 px-2 py-1",children:k}),f.jsx("td",{className:"px-2 py-1",children:String(O)})]},k))})}):String(P[E])},E))},P.id||P.text))})]})})]})]})}function o3(){const[e,t]=R.useState(""),[n,a]=R.useState(""),[o,c]=R.useState(""),{login:d,users:m}=Mt(),{setNotification:v}=Bt(),_=In();R.useEffect(()=>{let w=!0,N=0;const P=()=>{const k=JSON.parse(localStorage.getItem("user"));k?.token&&fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${k.token}`}}).then(O=>O.json()).then(O=>{w&&(Array.isArray(O)&&N>0&&O.length>N&&O.slice(N).forEach(I=>{v({text:`${I.sender?.nome}: ${I.text}`})}),N=Array.isArray(O)?O.length:0)})};if(!JSON.parse(localStorage.getItem("user"))?.token)return;P();const E=setInterval(P,2e3);return()=>{w=!1,clearInterval(E)}},[v]);const x=async w=>{if(w.preventDefault(),await d(e,n)){c("");const P=JSON.parse(localStorage.getItem("user"));P?.role==="admin"?_("/"):P?.role==="autista"?_("/autista"):P?.role==="pianificatore"?_("/pianificazione"):P?.role==="richiedente"?_("/richieste"):_("/")}else c("Email o password non corretti.")};return f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:f.jsxs("form",{onSubmit:x,className:"bg-white p-8 rounded shadow w-80",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Login"}),o&&f.jsx("div",{className:"text-red-600 text-center mb-4",children:o}),f.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:w=>t(w.target.value),className:"w-full p-2 mb-4 border rounded",required:!0}),f.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:w=>a(w.target.value),className:"w-full p-2 mb-6 border rounded",required:!0}),f.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded font-semibold",children:"Accedi"})]})})}function l3(){const{user:e,token:t,users:n,addUser:a,updateUser:o,deleteUser:c,loading:d,error:m}=Mt(),{setNotification:v}=Bt(),[_,x]=R.useState({username:"",password:"",nome:"",mail:"",ruolo:"admin"}),[w,N]=R.useState(null),[P,C]=R.useState(!1),[E,k]=R.useState(null),[O,A]=R.useState(!1),[I,F]=R.useState(!1);if(R.useEffect(()=>{if(e&&t){let J=!0,ce=0;const ge=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${t}`}}).then(xe=>xe.json()).then(xe=>{J&&(ce>0&&xe.length>ce&&xe.slice(ce).forEach(ne=>{v({text:`${ne.sender?.nome}: ${ne.text}`})}),ce=xe.length)})};ge();const me=setInterval(ge,2e3);return()=>{J=!1,clearInterval(me)}}},[v,e,t]),!e||e.role!=="admin")return f.jsx("div",{className:"p-8 text-center text-red-600",children:"Accesso negato"});const D=J=>{x({..._,[J.target.name]:J.target.value})},B=async J=>{J.preventDefault();const ce={..._,role:_.ruolo};delete ce.ruolo,await a(ce),x({username:"",password:"",nome:"",mail:"",ruolo:"admin"}),A(!1)},Z=J=>{N(J.id),x({...J,ruolo:J.role}),C(!0)},H=async J=>{J.preventDefault();const ce={..._,role:_.ruolo,id:w};delete ce.ruolo,await o(w,ce),N(null),C(!1),x({username:"",password:"",nome:"",mail:"",ruolo:"admin"})},G=async J=>{window.confirm("Sei sicuro di voler eliminare questo utente?")&&await c(J)},$=J=>{k(E===J?null:J)},W=()=>k(null),re={admin:n.filter(J=>J.role==="admin"),autista:n.filter(J=>J.role==="autista"),pianificatore:n.filter(J=>J.role==="pianificatore"),richiedente:n.filter(J=>J.role==="richiedente")};return f.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Utenti"}),d&&f.jsx("div",{className:"mb-4 text-blue-600",children:"Caricamento utenti..."}),m&&f.jsx("div",{className:"mb-4 text-red-600",children:m}),f.jsx("div",{className:"flex justify-end mb-6",children:f.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded font-semibold",onClick:()=>A(!0),disabled:d,children:"+ Aggiungi Utente"})}),f.jsx("div",{className:"bg-white rounded shadow p-4",children:Object.entries(re).map(([J,ce])=>f.jsxs("div",{className:"mb-6",children:[f.jsx("div",{className:"font-semibold text-lg mb-2 capitalize",children:J==="admin"?"Amministratore":J.charAt(0).toUpperCase()+J.slice(1)}),f.jsxs("table",{className:"w-full border-separate border-spacing-y-2",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs text-gray-500",children:[f.jsx("th",{className:"text-left px-2",children:"Nome"}),f.jsx("th",{className:"text-left px-2",children:"Email"}),f.jsx("th",{className:"text-center px-2",children:"Foto"}),f.jsx("th",{className:"text-left px-2",children:"Ruolo"}),f.jsx("th",{className:"text-center px-2"})]})}),f.jsx("tbody",{children:ce.map(ge=>f.jsxs("tr",{className:"bg-white hover:bg-gray-50 rounded shadow-sm",children:[f.jsx("td",{className:"px-2 py-2 font-medium text-sm",children:ge.nome}),f.jsx("td",{className:"px-2 py-2 text-sm",children:ge.mail}),f.jsx("td",{className:"px-2 py-2 text-center",children:f.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-gray-200 rounded-full",children:f.jsx(dy,{size:24,className:"text-gray-400"})})}),f.jsx("td",{className:"px-2 py-2 text-sm",children:J==="admin"?"Amministratore":ge.role.charAt(0).toUpperCase()+ge.role.slice(1)}),f.jsxs("td",{className:"px-2 py-2 text-center relative",children:[f.jsx("button",{className:"text-gray-400 hover:text-blue-600 mr-2",title:"Azioni",onClick:()=>$(ge.id),disabled:d,children:"…"}),E===ge.id&&f.jsxs("div",{className:"absolute right-0 mt-2 bg-white border rounded shadow z-10 min-w-[120px]",children:[f.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100",onClick:()=>{Z(ge),W()},disabled:d,children:"Modifica"}),f.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 text-red-600",onClick:()=>{G(ge.id),W()},disabled:d,children:"Elimina"})]})]})]},ge.id))})]})]},J))}),O&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded shadow-lg p-8 w-full max-w-md",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Aggiungi Utente"}),f.jsxs("form",{onSubmit:B,className:"flex flex-col gap-4",children:[f.jsxs("label",{className:"text-sm font-semibold",children:["Username",f.jsx("input",{name:"username",value:_.username,onChange:D,placeholder:"Username",className:"border p-2 rounded w-full mt-1",required:!0,disabled:d})]}),f.jsxs("label",{className:"text-sm font-semibold",children:["Password",f.jsxs("div",{className:"relative",children:[f.jsx("input",{name:"password",type:I?"text":"password",value:_.password,onChange:D,placeholder:"Password",className:"border p-2 rounded w-full mt-1 pr-10",required:!0,disabled:d}),f.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-500",onClick:()=>F(J=>!J),tabIndex:-1,children:I?"Nascondi":"Mostra"})]})]}),f.jsxs("label",{className:"text-sm font-semibold",children:["Nome",f.jsx("input",{name:"nome",value:_.nome,onChange:D,placeholder:"Nome",className:"border p-2 rounded w-full mt-1",required:!0,disabled:d})]}),f.jsxs("label",{className:"text-sm font-semibold",children:["Mail",f.jsx("input",{name:"mail",value:_.mail,onChange:D,placeholder:"Mail",className:"border p-2 rounded w-full mt-1",required:!0,disabled:d})]}),f.jsxs("label",{className:"text-sm font-semibold",children:["Ruolo",f.jsxs("select",{name:"ruolo",value:_.ruolo,onChange:D,className:"border p-2 rounded w-full mt-1",disabled:d,children:[f.jsx("option",{value:"admin",children:"Admin"}),f.jsx("option",{value:"pianificatore",children:"Pianificatore"}),f.jsx("option",{value:"richiedente",children:"Richiedente"}),f.jsx("option",{value:"autista",children:"Autista"})]})]}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[f.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",disabled:d,children:"Aggiungi"}),f.jsx("button",{type:"button",className:"bg-gray-400 text-white px-4 py-2 rounded",onClick:()=>{A(!1),x({username:"",password:"",nome:"",mail:"",ruolo:"admin"})},disabled:d,children:"Annulla"})]})]})]})}),P&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded shadow-lg p-8 w-full max-w-md",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Modifica Utente"}),f.jsxs("form",{onSubmit:H,className:"flex flex-col gap-4",children:[f.jsxs("label",{className:"text-sm font-semibold",children:["Username",f.jsx("input",{name:"username",value:_.username,onChange:D,placeholder:"Username",className:"border p-2 rounded w-full mt-1",required:!0,disabled:d})]}),f.jsxs("label",{className:"text-sm font-semibold",children:["Password",f.jsxs("div",{className:"relative",children:[f.jsx("input",{name:"password",type:I?"text":"password",value:_.password,onChange:D,placeholder:"Password",className:"border p-2 rounded w-full mt-1 pr-10",required:!0,disabled:d}),f.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-500",onClick:()=>F(J=>!J),tabIndex:-1,children:I?"Nascondi":"Mostra"})]})]}),f.jsxs("label",{className:"text-sm font-semibold",children:["Nome",f.jsx("input",{name:"nome",value:_.nome,onChange:D,placeholder:"Nome",className:"border p-2 rounded w-full mt-1",required:!0,disabled:d})]}),f.jsxs("label",{className:"text-sm font-semibold",children:["Mail",f.jsx("input",{name:"mail",value:_.mail,onChange:D,placeholder:"Mail",className:"border p-2 rounded w-full mt-1",required:!0,disabled:d})]}),f.jsxs("label",{className:"text-sm font-semibold",children:["Ruolo",f.jsxs("select",{name:"ruolo",value:_.ruolo,onChange:D,className:"border p-2 rounded w-full mt-1",disabled:d,children:[f.jsx("option",{value:"admin",children:"Admin"}),f.jsx("option",{value:"pianificatore",children:"Pianificatore"}),f.jsx("option",{value:"richiedente",children:"Richiedente"}),f.jsx("option",{value:"autista",children:"Autista"})]})]}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[f.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",disabled:d,children:"Salva"}),f.jsx("button",{type:"button",className:"bg-gray-400 text-white px-4 py-2 rounded",onClick:()=>{N(null),C(!1),x({username:"",password:"",nome:"",mail:"",ruolo:"admin"})},disabled:d,children:"Annulla"})]})]})]})})]})}function RP(e,t){const n=R.useRef(t);R.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const u3=1;function c3(e){return Object.freeze({__version:u3,map:e})}function d3(e,t){return Object.freeze({...e,...t})}const zP=R.createContext(null),AP=zP.Provider;function __(){const e=R.useContext(zP);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function f3(e){function t(n,a){const{instance:o,context:c}=e(n).current;return R.useImperativeHandle(a,()=>o),n.children==null?null:X.createElement(AP,{value:c},n.children)}return R.forwardRef(t)}function h3(e){function t(n,a){const[o,c]=R.useState(!1),{instance:d}=e(n,c).current;R.useImperativeHandle(a,()=>d),R.useEffect(function(){o&&d.update()},[d,o,n.children]);const m=d._contentNode;return m?KS.createPortal(n.children,m):null}return R.forwardRef(t)}function p3(e){function t(n,a){const{instance:o}=e(n).current;return R.useImperativeHandle(a,()=>o),null}return R.forwardRef(t)}function IP(e,t){const n=R.useRef();R.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function x_(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function m3(e,t){return function(a,o){const c=__(),d=e(x_(a,c),c);return RP(c.map,a.attribution),IP(d.current,a.eventHandlers),t(d.current,c,a,o),d}}var Yl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var v3=Yl.exports,VS;function g3(){return VS||(VS=1,(function(e,t){(function(n,a){a(t)})(v3,(function(n){var a="1.9.4";function o(i){var l,h,g,S;for(h=1,g=arguments.length;h<g;h++){S=arguments[h];for(l in S)i[l]=S[l]}return i}var c=Object.create||(function(){function i(){}return function(l){return i.prototype=l,new i}})();function d(i,l){var h=Array.prototype.slice;if(i.bind)return i.bind.apply(i,h.call(arguments,1));var g=h.call(arguments,2);return function(){return i.apply(l,g.length?g.concat(h.call(arguments)):arguments)}}var m=0;function v(i){return"_leaflet_id"in i||(i._leaflet_id=++m),i._leaflet_id}function _(i,l,h){var g,S,T,Y;return Y=function(){g=!1,S&&(T.apply(h,S),S=!1)},T=function(){g?S=arguments:(i.apply(h,arguments),setTimeout(Y,l),g=!0)},T}function x(i,l,h){var g=l[1],S=l[0],T=g-S;return i===g&&h?i:((i-S)%T+T)%T+S}function w(){return!1}function N(i,l){if(l===!1)return i;var h=Math.pow(10,l===void 0?6:l);return Math.round(i*h)/h}function P(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function C(i){return P(i).split(/\s+/)}function E(i,l){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?c(i.options):{});for(var h in l)i.options[h]=l[h];return i.options}function k(i,l,h){var g=[];for(var S in i)g.push(encodeURIComponent(h?S.toUpperCase():S)+"="+encodeURIComponent(i[S]));return(!l||l.indexOf("?")===-1?"?":"&")+g.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function A(i,l){return i.replace(O,function(h,g){var S=l[g];if(S===void 0)throw new Error("No value provided for variable "+h);return typeof S=="function"&&(S=S(l)),S})}var I=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function F(i,l){for(var h=0;h<i.length;h++)if(i[h]===l)return h;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var Z=0;function H(i){var l=+new Date,h=Math.max(0,16-(l-Z));return Z=l+h,window.setTimeout(i,h)}var G=window.requestAnimationFrame||B("RequestAnimationFrame")||H,$=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function W(i,l,h){if(h&&G===H)i.call(l);else return G.call(window,d(i,l))}function re(i){i&&$.call(window,i)}var J={__proto__:null,extend:o,create:c,bind:d,get lastId(){return m},stamp:v,throttle:_,wrapNum:x,falseFn:w,formatNum:N,trim:P,splitWords:C,setOptions:E,getParamString:k,template:A,isArray:I,indexOf:F,emptyImageUrl:D,requestFn:G,cancelFn:$,requestAnimFrame:W,cancelAnimFrame:re};function ce(){}ce.extend=function(i){var l=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,g=c(h);g.constructor=l,l.prototype=g;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(l[S]=this[S]);return i.statics&&o(l,i.statics),i.includes&&(ge(i.includes),o.apply(null,[g].concat(i.includes))),o(g,i),delete g.statics,delete g.includes,g.options&&(g.options=h.options?c(h.options):{},o(g.options,i.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,Y=g._initHooks.length;T<Y;T++)g._initHooks[T].call(this)}},l},ce.include=function(i){var l=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=l,this.mergeOptions(i.options)),this},ce.mergeOptions=function(i){return o(this.prototype.options,i),this},ce.addInitHook=function(i){var l=Array.prototype.slice.call(arguments,1),h=typeof i=="function"?i:function(){this[i].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function ge(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=I(i)?i:[i];for(var l=0;l<i.length;l++)i[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var me={on:function(i,l,h){if(typeof i=="object")for(var g in i)this._on(g,i[g],l);else{i=C(i);for(var S=0,T=i.length;S<T;S++)this._on(i[S],l,h)}return this},off:function(i,l,h){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var g in i)this._off(g,i[g],l);else{i=C(i);for(var S=arguments.length===1,T=0,Y=i.length;T<Y;T++)S?this._off(i[T]):this._off(i[T],l,h)}return this},_on:function(i,l,h,g){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(i,l,h)===!1){h===this&&(h=void 0);var S={fn:l,ctx:h};g&&(S.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(S)}},_off:function(i,l,h){var g,S,T;if(this._events&&(g=this._events[i],!!g)){if(arguments.length===1){if(this._firingCount)for(S=0,T=g.length;S<T;S++)g[S].fn=w;delete this._events[i];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var Y=this._listens(i,l,h);if(Y!==!1){var ee=g[Y];this._firingCount&&(ee.fn=w,this._events[i]=g=g.slice()),g.splice(Y,1)}}},fire:function(i,l,h){if(!this.listens(i,h))return this;var g=o({},l,{type:i,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var S=this._events[i];if(S){this._firingCount=this._firingCount+1||1;for(var T=0,Y=S.length;T<Y;T++){var ee=S[T],ae=ee.fn;ee.once&&this.off(i,ae,ee.ctx),ae.call(ee.ctx||this,g)}this._firingCount--}}return h&&this._propagateEvent(g),this},listens:function(i,l,h,g){typeof i!="string"&&console.warn('"string" type argument expected');var S=l;typeof l!="function"&&(g=!!l,S=void 0,h=void 0);var T=this._events&&this._events[i];if(T&&T.length&&this._listens(i,S,h)!==!1)return!0;if(g){for(var Y in this._eventParents)if(this._eventParents[Y].listens(i,l,h,g))return!0}return!1},_listens:function(i,l,h){if(!this._events)return!1;var g=this._events[i]||[];if(!l)return!!g.length;h===this&&(h=void 0);for(var S=0,T=g.length;S<T;S++)if(g[S].fn===l&&g[S].ctx===h)return S;return!1},once:function(i,l,h){if(typeof i=="object")for(var g in i)this._on(g,i[g],l,!0);else{i=C(i);for(var S=0,T=i.length;S<T;S++)this._on(i[S],l,h,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[v(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[v(i)],this},_propagateEvent:function(i){for(var l in this._eventParents)this._eventParents[l].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};me.addEventListener=me.on,me.removeEventListener=me.clearAllEventListeners=me.off,me.addOneTimeEventListener=me.once,me.fireEvent=me.fire,me.hasEventListeners=me.listens;var xe=ce.extend(me);function z(i,l,h){this.x=h?Math.round(i):i,this.y=h?Math.round(l):l}var ne=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(i){return this.clone()._add(Q(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(Q(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new z(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new z(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ne(this.x),this.y=ne(this.y),this},distanceTo:function(i){i=Q(i);var l=i.x-this.x,h=i.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(i){return i=Q(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=Q(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function Q(i,l,h){return i instanceof z?i:I(i)?new z(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new z(i.x,i.y):new z(i,l,h)}function M(i,l){if(i)for(var h=l?[i,l]:i,g=0,S=h.length;g<S;g++)this.extend(h[g])}M.prototype={extend:function(i){var l,h;if(!i)return this;if(i instanceof z||typeof i[0]=="number"||"x"in i)l=h=Q(i);else if(i=U(i),l=i.min,h=i.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(i){return Q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return Q(this.min.x,this.max.y)},getTopRight:function(){return Q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var l,h;return typeof i[0]=="number"||i instanceof z?i=Q(i):i=U(i),i instanceof M?(l=i.min,h=i.max):l=h=i,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(i){i=U(i);var l=this.min,h=this.max,g=i.min,S=i.max,T=S.x>=l.x&&g.x<=h.x,Y=S.y>=l.y&&g.y<=h.y;return T&&Y},overlaps:function(i){i=U(i);var l=this.min,h=this.max,g=i.min,S=i.max,T=S.x>l.x&&g.x<h.x,Y=S.y>l.y&&g.y<h.y;return T&&Y},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var l=this.min,h=this.max,g=Math.abs(l.x-h.x)*i,S=Math.abs(l.y-h.y)*i;return U(Q(l.x-g,l.y-S),Q(h.x+g,h.y+S))},equals:function(i){return i?(i=U(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function U(i,l){return!i||i instanceof M?i:new M(i,l)}function se(i,l){if(i)for(var h=l?[i,l]:i,g=0,S=h.length;g<S;g++)this.extend(h[g])}se.prototype={extend:function(i){var l=this._southWest,h=this._northEast,g,S;if(i instanceof ue)g=i,S=i;else if(i instanceof se){if(g=i._southWest,S=i._northEast,!g||!S)return this}else return i?this.extend(fe(i)||le(i)):this;return!l&&!h?(this._southWest=new ue(g.lat,g.lng),this._northEast=new ue(S.lat,S.lng)):(l.lat=Math.min(g.lat,l.lat),l.lng=Math.min(g.lng,l.lng),h.lat=Math.max(S.lat,h.lat),h.lng=Math.max(S.lng,h.lng)),this},pad:function(i){var l=this._southWest,h=this._northEast,g=Math.abs(l.lat-h.lat)*i,S=Math.abs(l.lng-h.lng)*i;return new se(new ue(l.lat-g,l.lng-S),new ue(h.lat+g,h.lng+S))},getCenter:function(){return new ue((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ue(this.getNorth(),this.getWest())},getSouthEast:function(){return new ue(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof ue||"lat"in i?i=fe(i):i=le(i);var l=this._southWest,h=this._northEast,g,S;return i instanceof se?(g=i.getSouthWest(),S=i.getNorthEast()):g=S=i,g.lat>=l.lat&&S.lat<=h.lat&&g.lng>=l.lng&&S.lng<=h.lng},intersects:function(i){i=le(i);var l=this._southWest,h=this._northEast,g=i.getSouthWest(),S=i.getNorthEast(),T=S.lat>=l.lat&&g.lat<=h.lat,Y=S.lng>=l.lng&&g.lng<=h.lng;return T&&Y},overlaps:function(i){i=le(i);var l=this._southWest,h=this._northEast,g=i.getSouthWest(),S=i.getNorthEast(),T=S.lat>l.lat&&g.lat<h.lat,Y=S.lng>l.lng&&g.lng<h.lng;return T&&Y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,l){return i?(i=le(i),this._southWest.equals(i.getSouthWest(),l)&&this._northEast.equals(i.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function le(i,l){return i instanceof se?i:new se(i,l)}function ue(i,l,h){if(isNaN(i)||isNaN(l))throw new Error("Invalid LatLng object: ("+i+", "+l+")");this.lat=+i,this.lng=+l,h!==void 0&&(this.alt=+h)}ue.prototype={equals:function(i,l){if(!i)return!1;i=fe(i);var h=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return h<=(l===void 0?1e-9:l)},toString:function(i){return"LatLng("+N(this.lat,i)+", "+N(this.lng,i)+")"},distanceTo:function(i){return Ce.distance(this,fe(i))},wrap:function(){return Ce.wrapLatLng(this)},toBounds:function(i){var l=180*i/40075017,h=l/Math.cos(Math.PI/180*this.lat);return le([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new ue(this.lat,this.lng,this.alt)}};function fe(i,l,h){return i instanceof ue?i:I(i)&&typeof i[0]!="object"?i.length===3?new ue(i[0],i[1],i[2]):i.length===2?new ue(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new ue(i.lat,"lng"in i?i.lng:i.lon,i.alt):l===void 0?null:new ue(i,l,h)}var je={latLngToPoint:function(i,l){var h=this.projection.project(i),g=this.scale(l);return this.transformation._transform(h,g)},pointToLatLng:function(i,l){var h=this.scale(l),g=this.transformation.untransform(i,h);return this.projection.unproject(g)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(i),g=this.transformation.transform(l.min,h),S=this.transformation.transform(l.max,h);return new M(g,S)},infinite:!1,wrapLatLng:function(i){var l=this.wrapLng?x(i.lng,this.wrapLng,!0):i.lng,h=this.wrapLat?x(i.lat,this.wrapLat,!0):i.lat,g=i.alt;return new ue(h,l,g)},wrapLatLngBounds:function(i){var l=i.getCenter(),h=this.wrapLatLng(l),g=l.lat-h.lat,S=l.lng-h.lng;if(g===0&&S===0)return i;var T=i.getSouthWest(),Y=i.getNorthEast(),ee=new ue(T.lat-g,T.lng-S),ae=new ue(Y.lat-g,Y.lng-S);return new se(ee,ae)}},Ce=o({},je,{wrapLng:[-180,180],R:6371e3,distance:function(i,l){var h=Math.PI/180,g=i.lat*h,S=l.lat*h,T=Math.sin((l.lat-i.lat)*h/2),Y=Math.sin((l.lng-i.lng)*h/2),ee=T*T+Math.cos(g)*Math.cos(S)*Y*Y,ae=2*Math.atan2(Math.sqrt(ee),Math.sqrt(1-ee));return this.R*ae}}),he=6378137,Ne={R:he,MAX_LATITUDE:85.0511287798,project:function(i){var l=Math.PI/180,h=this.MAX_LATITUDE,g=Math.max(Math.min(h,i.lat),-h),S=Math.sin(g*l);return new z(this.R*i.lng*l,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(i){var l=180/Math.PI;return new ue((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*l,i.x*l/this.R)},bounds:(function(){var i=he*Math.PI;return new M([-i,-i],[i,i])})()};function rt(i,l,h,g){if(I(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=l,this._c=h,this._d=g}rt.prototype={transform:function(i,l){return this._transform(i.clone(),l)},_transform:function(i,l){return l=l||1,i.x=l*(this._a*i.x+this._b),i.y=l*(this._c*i.y+this._d),i},untransform:function(i,l){return l=l||1,new z((i.x/l-this._b)/this._a,(i.y/l-this._d)/this._c)}};function gt(i,l,h,g){return new rt(i,l,h,g)}var dt=o({},Ce,{code:"EPSG:3857",projection:Ne,transformation:(function(){var i=.5/(Math.PI*Ne.R);return gt(i,.5,-i,.5)})()}),er=o({},dt,{code:"EPSG:900913"});function Ve(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Fn(i,l){var h="",g,S,T,Y,ee,ae;for(g=0,T=i.length;g<T;g++){for(ee=i[g],S=0,Y=ee.length;S<Y;S++)ae=ee[S],h+=(S?"L":"M")+ae.x+" "+ae.y;h+=l?Le.svg?"z":"x":""}return h||"M0 0"}var Ye=document.documentElement.style,en="ActiveXObject"in window,bn=en&&!document.addEventListener,Ut="msLaunchUri"in navigator&&!("documentMode"in document),Dt=tn("webkit"),Ht=tn("android"),xt=tn("android 2")||tn("android 3"),$n=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),tr=Ht&&tn("Google")&&$n<537&&!("AudioNode"in window),Sr=!!window.opera,nr=!Ut&&tn("chrome"),Gt=tn("gecko")&&!Dt&&!Sr&&!en,Ia=!nr&&tn("safari"),Nr=tn("phantom"),Br="OTransition"in Ye,js=navigator.platform.indexOf("Win")===0,Sn=en&&"transition"in Ye,Nn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!xt,Du="MozPerspective"in Ye,Wo=!window.L_DISABLE_3D&&(Sn||Nn||Du)&&!Br&&!Nr,ui=typeof orientation<"u"||tn("mobile"),Uo=ui&&Dt,Ho=ui&&Nn,Ts=!window.PointerEvent&&window.MSPointerEvent,ci=!!(window.PointerEvent||Ts),di="ontouchstart"in window||!!window.TouchEvent,Lu=!window.L_NO_TOUCH&&(di||ci),Ru=ui&&Sr,zu=ui&&Gt,Au=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Iu=(function(){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",w,l),window.removeEventListener("testPassiveEventSupport",w,l)}catch{}return i})(),Yo=(function(){return!!document.createElement("canvas").getContext})(),Os=!!(document.createElementNS&&Ve("svg").createSVGRect),Fa=!!Os&&(function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Zo=!Os&&(function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var l=i.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),$a=navigator.platform.indexOf("Mac")===0,xf=navigator.platform.indexOf("Linux")===0;function tn(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Le={ie:en,ielt9:bn,edge:Ut,webkit:Dt,android:Ht,android23:xt,androidStock:tr,opera:Sr,chrome:nr,gecko:Gt,safari:Ia,phantom:Nr,opera12:Br,win:js,ie3d:Sn,webkit3d:Nn,gecko3d:Du,any3d:Wo,mobile:ui,mobileWebkit:Uo,mobileWebkit3d:Ho,msPointer:Ts,pointer:ci,touch:Lu,touchNative:di,mobileOpera:Ru,mobileGecko:zu,retina:Au,passiveEvents:Iu,canvas:Yo,svg:Os,vml:Zo,inlineSvg:Fa,mac:$a,linux:xf},Ba=Le.msPointer?"MSPointerDown":"pointerdown",Ms=Le.msPointer?"MSPointerMove":"pointermove",Fu=Le.msPointer?"MSPointerUp":"pointerup",$u=Le.msPointer?"MSPointerCancel":"pointercancel",Vo={touchstart:Ba,touchmove:Ms,touchend:Fu,touchcancel:$u},qr={touchstart:wt,touchmove:Ds,touchend:Ds,touchcancel:Ds},fi={},Go=!1;function wf(i,l,h){return l==="touchstart"&&bf(),qr[l]?(h=qr[l].bind(this,h),i.addEventListener(Vo[l],h,!1),h):(console.warn("wrong event specified:",l),w)}function Bu(i,l,h){if(!Vo[l]){console.warn("wrong event specified:",l);return}i.removeEventListener(Vo[l],h,!1)}function qu(i){fi[i.pointerId]=i}function Wu(i){fi[i.pointerId]&&(fi[i.pointerId]=i)}function Ko(i){delete fi[i.pointerId]}function bf(){Go||(document.addEventListener(Ba,qu,!0),document.addEventListener(Ms,Wu,!0),document.addEventListener(Fu,Ko,!0),document.addEventListener($u,Ko,!0),Go=!0)}function Ds(i,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in fi)l.touches.push(fi[h]);l.changedTouches=[l],i(l)}}function wt(i,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&bt(l),Ds(i,l)}function Sf(i){var l={},h,g;for(g in i)h=i[g],l[g]=h&&h.bind?h.bind(i):h;return i=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Xo=200;function Uu(i,l){i.addEventListener("dblclick",l);var h=0,g;function S(T){if(T.detail!==1){g=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var Y=mi(T);if(!(Y.some(function(ae){return ae instanceof HTMLLabelElement&&ae.attributes.for})&&!Y.some(function(ae){return ae instanceof HTMLInputElement||ae instanceof HTMLSelectElement}))){var ee=Date.now();ee-h<=Xo?(g++,g===2&&l(Sf(T))):g=1,h=ee}}}return i.addEventListener("click",S),{dblclick:l,simDblclick:S}}function Ls(i,l){i.removeEventListener("dblclick",l.dblclick),i.removeEventListener("click",l.simDblclick)}var Jo=Ki(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zi=Ki(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),qa=Zi==="webkitTransition"||Zi==="OTransition"?Zi+"End":"transitionend";function Bn(i){return typeof i=="string"?document.getElementById(i):i}function Wa(i,l){var h=i.style[l]||i.currentStyle&&i.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(i,null);h=g?g[l]:null}return h==="auto"?null:h}function We(i,l,h){var g=document.createElement(i);return g.className=l||"",h&&h.appendChild(g),g}function ft(i){var l=i.parentNode;l&&l.removeChild(i)}function Rs(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Vi(i){var l=i.parentNode;l&&l.lastChild!==i&&l.appendChild(i)}function Er(i){var l=i.parentNode;l&&l.firstChild!==i&&l.insertBefore(i,l.firstChild)}function Gi(i,l){if(i.classList!==void 0)return i.classList.contains(l);var h=zs(i);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function qe(i,l){if(i.classList!==void 0)for(var h=C(l),g=0,S=h.length;g<S;g++)i.classList.add(h[g]);else if(!Gi(i,l)){var T=zs(i);Qo(i,(T?T+" ":"")+l)}}function ut(i,l){i.classList!==void 0?i.classList.remove(l):Qo(i,P((" "+zs(i)+" ").replace(" "+l+" "," ")))}function Qo(i,l){i.className.baseVal===void 0?i.className=l:i.className.baseVal=l}function zs(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function nn(i,l){"opacity"in i.style?i.style.opacity=l:"filter"in i.style&&Hu(i,l)}function Hu(i,l){var h=!1,g="DXImageTransform.Microsoft.Alpha";try{h=i.filters.item(g)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):i.style.filter+=" progid:"+g+"(opacity="+l+")"}function Ki(i){for(var l=document.documentElement.style,h=0;h<i.length;h++)if(i[h]in l)return i[h];return!1}function qn(i,l,h){var g=l||new z(0,0);i.style[Jo]=(Le.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(h?" scale("+h+")":"")}function Et(i,l){i._leaflet_pos=l,Le.any3d?qn(i,l):(i.style.left=l.x+"px",i.style.top=l.y+"px")}function Pr(i){return i._leaflet_pos||new z(0,0)}var Xe,Xi,As;if("onselectstart"in document)Xe=function(){$e(window,"selectstart",bt)},Xi=function(){at(window,"selectstart",bt)};else{var hi=Ki(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xe=function(){if(hi){var i=document.documentElement.style;As=i[hi],i[hi]="none"}},Xi=function(){hi&&(document.documentElement.style[hi]=As,As=void 0)}}function Is(){$e(window,"dragstart",bt)}function Fs(){at(window,"dragstart",bt)}var Ua,Ha;function Ji(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Wn(),Ua=i,Ha=i.style.outlineStyle,i.style.outlineStyle="none",$e(window,"keydown",Wn))}function Wn(){Ua&&(Ua.style.outlineStyle=Ha,Ua=void 0,Ha=void 0,at(window,"keydown",Wn))}function Cr(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function rr(i){var l=i.getBoundingClientRect();return{x:l.width/i.offsetWidth||1,y:l.height/i.offsetHeight||1,boundingClientRect:l}}var Ya={__proto__:null,TRANSFORM:Jo,TRANSITION:Zi,TRANSITION_END:qa,get:Bn,getStyle:Wa,create:We,remove:ft,empty:Rs,toFront:Vi,toBack:Er,hasClass:Gi,addClass:qe,removeClass:ut,setClass:Qo,getClass:zs,setOpacity:nn,testProp:Ki,setTransform:qn,setPosition:Et,getPosition:Pr,get disableTextSelection(){return Xe},get enableTextSelection(){return Xi},disableImageDrag:Is,enableImageDrag:Fs,preventOutline:Ji,restoreOutline:Wn,getSizedParentNode:Cr,getScale:rr};function $e(i,l,h,g){if(l&&typeof l=="object")for(var S in l)tl(i,S,l[S],h);else{l=C(l);for(var T=0,Y=l.length;T<Y;T++)tl(i,l[T],h,g)}return this}var zt="_leaflet_events";function at(i,l,h,g){if(arguments.length===1)el(i),delete i[zt];else if(l&&typeof l=="object")for(var S in l)$s(i,S,l[S],h);else if(l=C(l),arguments.length===2)el(i,function(ee){return F(l,ee)!==-1});else for(var T=0,Y=l.length;T<Y;T++)$s(i,l[T],h,g);return this}function el(i,l){for(var h in i[zt]){var g=h.split(/\d/)[0];(!l||l(g))&&$s(i,g,null,null,h)}}var pi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function tl(i,l,h,g){var S=l+v(h)+(g?"_"+v(g):"");if(i[zt]&&i[zt][S])return this;var T=function(ee){return h.call(g||i,ee||window.event)},Y=T;!Le.touchNative&&Le.pointer&&l.indexOf("touch")===0?T=wf(i,l,T):Le.touch&&l==="dblclick"?T=Uu(i,T):"addEventListener"in i?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?i.addEventListener(pi[l]||l,T,Le.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(T=function(ee){ee=ee||window.event,Ga(i,ee)&&Y(ee)},i.addEventListener(pi[l],T,!1)):i.addEventListener(l,Y,!1):i.attachEvent("on"+l,T),i[zt]=i[zt]||{},i[zt][S]=T}function $s(i,l,h,g,S){S=S||l+v(h)+(g?"_"+v(g):"");var T=i[zt]&&i[zt][S];if(!T)return this;!Le.touchNative&&Le.pointer&&l.indexOf("touch")===0?Bu(i,l,T):Le.touch&&l==="dblclick"?Ls(i,T):"removeEventListener"in i?i.removeEventListener(pi[l]||l,T,!1):i.detachEvent("on"+l,T),i[zt][S]=null}function ir(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Bs(i){return tl(i,"wheel",ir),this}function Za(i){return $e(i,"mousedown touchstart dblclick contextmenu",ir),i._leaflet_disable_click=!0,this}function bt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Un(i){return bt(i),ir(i),this}function mi(i){if(i.composedPath)return i.composedPath();for(var l=[],h=i.target;h;)l.push(h),h=h.parentNode;return l}function Va(i,l){if(!l)return new z(i.clientX,i.clientY);var h=rr(l),g=h.boundingClientRect;return new z((i.clientX-g.left)/h.x-l.clientLeft,(i.clientY-g.top)/h.y-l.clientTop)}var Nf=Le.linux&&Le.chrome?window.devicePixelRatio:Le.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Yu(i){return Le.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Nf:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Ga(i,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==i;)h=h.parentNode}catch{return!1}return h!==i}var qs={__proto__:null,on:$e,off:at,stopPropagation:ir,disableScrollPropagation:Bs,disableClickPropagation:Za,preventDefault:bt,stop:Un,getPropagationPath:mi,getMousePosition:Va,getWheelDelta:Yu,isExternalTarget:Ga,addListener:$e,removeListener:at},Ws=xe.extend({run:function(i,l,h,g){this.stop(),this._el=i,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=Pr(i),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=W(this._animate,this),this._step()},_step:function(i){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),i):(this._runFrame(1),this._complete())},_runFrame:function(i,l){var h=this._startPos.add(this._offset.multiplyBy(i));l&&h._round(),Et(this._el,h),this.fire("step")},_complete:function(){re(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Ge=xe.extend({options:{crs:dt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,l){l=E(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(fe(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zi&&Le.any3d&&!Le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),$e(this._proxy,qa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),i=this._limitCenter(fe(i),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=o({animate:h.animate},h.zoom),h.pan=o({animate:h.animate,duration:h.duration},h.pan));var g=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,l,h.zoom):this._tryAnimatedPan(i,h.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(i,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(i,l){return this._loaded?this.setView(this.getCenter(),i,{zoom:l}):(this._zoom=i,this)},zoomIn:function(i,l){return i=i||(Le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,l)},zoomOut:function(i,l){return i=i||(Le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,l)},setZoomAround:function(i,l,h){var g=this.getZoomScale(l),S=this.getSize().divideBy(2),T=i instanceof z?i:this.latLngToContainerPoint(i),Y=T.subtract(S).multiplyBy(1-1/g),ee=this.containerPointToLatLng(S.add(Y));return this.setView(ee,l,{zoom:h})},_getBoundsCenterZoom:function(i,l){l=l||{},i=i.getBounds?i.getBounds():le(i);var h=Q(l.paddingTopLeft||l.padding||[0,0]),g=Q(l.paddingBottomRight||l.padding||[0,0]),S=this.getBoundsZoom(i,!1,h.add(g));if(S=typeof l.maxZoom=="number"?Math.min(l.maxZoom,S):S,S===1/0)return{center:i.getCenter(),zoom:S};var T=g.subtract(h).divideBy(2),Y=this.project(i.getSouthWest(),S),ee=this.project(i.getNorthEast(),S),ae=this.unproject(Y.add(ee).divideBy(2).add(T),S);return{center:ae,zoom:S}},fitBounds:function(i,l){if(i=le(i),!i.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(i,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,l){return this.setView(i,this._zoom,{pan:l})},panBy:function(i,l){if(i=Q(i).round(),l=l||{},!i.x&&!i.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ws,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){qe(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,l,h){if(h=h||{},h.animate===!1||!Le.any3d)return this.setView(i,l,h);this._stop();var g=this.project(this.getCenter()),S=this.project(i),T=this.getSize(),Y=this._zoom;i=fe(i),l=l===void 0?Y:l;var ee=Math.max(T.x,T.y),ae=ee*this.getZoomScale(Y,l),de=S.distanceTo(g)||1,Se=1.42,Ae=Se*Se;function Ue(it){var ha=it?-1:1,If=it?ae:ee,Ff=ae*ae-ee*ee+ha*Ae*Ae*de*de,bi=2*If*Ae*de,Si=Ff/bi,Ni=Math.sqrt(Si*Si+1)-Si,ro=Ni<1e-9?-18:Math.log(Ni);return ro}function At(it){return(Math.exp(it)-Math.exp(-it))/2}function Lt(it){return(Math.exp(it)+Math.exp(-it))/2}function gn(it){return At(it)/Lt(it)}var an=Ue(0);function da(it){return ee*(Lt(an)/Lt(an+Se*it))}function bl(it){return ee*(Lt(an)*gn(an+Se*it)-At(an))/Ae}function Kr(it){return 1-Math.pow(1-it,1.5)}var hc=Date.now(),wi=(Ue(1)-an)/Se,lr=h.duration?1e3*h.duration:1e3*wi*.8;function fa(){var it=(Date.now()-hc)/lr,ha=Kr(it)*wi;it<=1?(this._flyToFrame=W(fa,this),this._move(this.unproject(g.add(S.subtract(g).multiplyBy(bl(ha)/de)),Y),this.getScaleZoom(ee/da(ha),Y),{flyTo:!0})):this._move(i,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),fa.call(this),this},flyToBounds:function(i,l){var h=this._getBoundsCenterZoom(i,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(i){return i=le(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var l=this.options.minZoom;return this.options.minZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var l=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,l){this._enforcingBounds=!0;var h=this.getCenter(),g=this._limitCenter(h,this._zoom,le(i));return h.equals(g)||this.panTo(g,l),this._enforcingBounds=!1,this},panInside:function(i,l){l=l||{};var h=Q(l.paddingTopLeft||l.padding||[0,0]),g=Q(l.paddingBottomRight||l.padding||[0,0]),S=this.project(this.getCenter()),T=this.project(i),Y=this.getPixelBounds(),ee=U([Y.min.add(h),Y.max.subtract(g)]),ae=ee.getSize();if(!ee.contains(T)){this._enforcingBounds=!0;var de=T.subtract(ee.getCenter()),Se=ee.extend(T).getSize().subtract(ae);S.x+=de.x<0?-Se.x:Se.x,S.y+=de.y<0?-Se.y:Se.y,this.panTo(this.unproject(S),l),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),g=l.divideBy(2).round(),S=h.divideBy(2).round(),T=g.subtract(S);return!T.x&&!T.y?this:(i.animate&&i.pan?this.panBy(T):(i.pan&&this._rawPanBy(T),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=d(this._handleGeolocationResponse,this),h=d(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,i):navigator.geolocation.getCurrentPosition(l,h,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var l=i.code,h=i.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var l=i.coords.latitude,h=i.coords.longitude,g=new ue(l,h),S=g.toBounds(i.coords.accuracy*2),T=this._locateOptions;if(T.setView){var Y=this.getBoundsZoom(S);this.setView(g,T.maxZoom?Math.min(Y,T.maxZoom):Y)}var ee={latlng:g,bounds:S,timestamp:i.timestamp};for(var ae in i.coords)typeof i.coords[ae]=="number"&&(ee[ae]=i.coords[ae]);this.fire("locationfound",ee)}},addHandler:function(i,l){if(!l)return this;var h=this[i]=new l(this);return this._handlers.push(h),this.options[i]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(re(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)ft(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,l){var h="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),g=We("div",h,l||this._mapPane);return i&&(this._panes[i]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),l=this.unproject(i.getBottomLeft()),h=this.unproject(i.getTopRight());return new se(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,l,h){i=le(i),h=Q(h||[0,0]);var g=this.getZoom()||0,S=this.getMinZoom(),T=this.getMaxZoom(),Y=i.getNorthWest(),ee=i.getSouthEast(),ae=this.getSize().subtract(h),de=U(this.project(ee,g),this.project(Y,g)).getSize(),Se=Le.any3d?this.options.zoomSnap:1,Ae=ae.x/de.x,Ue=ae.y/de.y,At=l?Math.max(Ae,Ue):Math.min(Ae,Ue);return g=this.getScaleZoom(At,g),Se&&(g=Math.round(g/(Se/100))*(Se/100),g=l?Math.ceil(g/Se)*Se:Math.floor(g/Se)*Se),Math.max(S,Math.min(T,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,l){var h=this._getTopLeftPoint(i,l);return new M(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(i)/h.scale(l)},getScaleZoom:function(i,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var g=h.zoom(i*h.scale(l));return isNaN(g)?1/0:g},project:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(fe(i),l)},unproject:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(Q(i),l)},layerPointToLatLng:function(i){var l=Q(i).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(i){var l=this.project(fe(i))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(fe(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(le(i))},distance:function(i,l){return this.options.crs.distance(fe(i),fe(l))},containerPointToLayerPoint:function(i){return Q(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return Q(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var l=this.containerPointToLayerPoint(Q(i));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(fe(i)))},mouseEventToContainerPoint:function(i){return Va(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var l=this._container=Bn(i);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");$e(l,"scroll",this._onScroll,this),this._containerId=v(l)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Le.any3d,qe(i,"leaflet-container"+(Le.touch?" leaflet-touch":"")+(Le.retina?" leaflet-retina":"")+(Le.ielt9?" leaflet-oldie":"")+(Le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Wa(i,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Et(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(qe(i.markerPane,"leaflet-zoom-hide"),qe(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,l,h){Et(this._mapPane,new z(0,0));var g=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var S=this._zoom!==l;this._moveStart(S,h)._move(i,l)._moveEnd(S),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(i,l){return i&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(i,l,h,g){l===void 0&&(l=this._zoom);var S=this._zoom!==l;return this._zoom=l,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),g?h&&h.pinch&&this.fire("zoom",h):((S||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return re(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Et(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[v(this._container)]=this;var l=i?at:$e;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Le.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){re(this._resizeRequest),this._resizeRequest=W(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,l){for(var h=[],g,S=l==="mouseout"||l==="mouseover",T=i.target||i.srcElement,Y=!1;T;){if(g=this._targets[v(T)],g&&(l==="click"||l==="preclick")&&this._draggableMoved(g)){Y=!0;break}if(g&&g.listens(l,!0)&&(S&&!Ga(T,i)||(h.push(g),S))||T===this._container)break;T=T.parentNode}return!h.length&&!Y&&!S&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var l=i.target||i.srcElement;if(!(!this._loaded||l._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(l))){var h=i.type;h==="mousedown"&&Ji(l),this._fireDOMEvent(i,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,l,h){if(i.type==="click"){var g=o({},i);g.type="preclick",this._fireDOMEvent(g,g.type,h)}var S=this._findEventTargets(i,l);if(h){for(var T=[],Y=0;Y<h.length;Y++)h[Y].listens(l,!0)&&T.push(h[Y]);S=T.concat(S)}if(S.length){l==="contextmenu"&&bt(i);var ee=S[0],ae={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var de=ee.getLatLng&&(!ee._radius||ee._radius<=10);ae.containerPoint=de?this.latLngToContainerPoint(ee.getLatLng()):this.mouseEventToContainerPoint(i),ae.layerPoint=this.containerPointToLayerPoint(ae.containerPoint),ae.latlng=de?ee.getLatLng():this.layerPointToLatLng(ae.layerPoint)}for(Y=0;Y<S.length;Y++)if(S[Y].fire(l,ae,!0),ae.originalEvent._stopped||S[Y].options.bubblingMouseEvents===!1&&F(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,l=this._handlers.length;i<l;i++)this._handlers[i].disable()},whenReady:function(i,l){return this._loaded?i.call(l||this,{target:this}):this.on("load",i,l),this},_getMapPanePos:function(){return Pr(this._mapPane)||new z(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,l){var h=i&&l!==void 0?this._getNewPixelOrigin(i,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,l){var h=this.getSize()._divideBy(2);return this.project(i,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,l,h){var g=this._getNewPixelOrigin(h,l);return this.project(i,l)._subtract(g)},_latLngBoundsToNewLayerBounds:function(i,l,h){var g=this._getNewPixelOrigin(h,l);return U([this.project(i.getSouthWest(),l)._subtract(g),this.project(i.getNorthWest(),l)._subtract(g),this.project(i.getSouthEast(),l)._subtract(g),this.project(i.getNorthEast(),l)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,l,h){if(!h)return i;var g=this.project(i,l),S=this.getSize().divideBy(2),T=new M(g.subtract(S),g.add(S)),Y=this._getBoundsOffset(T,h,l);return Math.abs(Y.x)<=1&&Math.abs(Y.y)<=1?i:this.unproject(g.add(Y),l)},_limitOffset:function(i,l){if(!l)return i;var h=this.getPixelBounds(),g=new M(h.min.add(i),h.max.add(i));return i.add(this._getBoundsOffset(g,l))},_getBoundsOffset:function(i,l,h){var g=U(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),S=g.min.subtract(i.min),T=g.max.subtract(i.max),Y=this._rebound(S.x,-T.x),ee=this._rebound(S.y,-T.y);return new z(Y,ee)},_rebound:function(i,l){return i+l>0?Math.round(i-l)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(l))},_limitZoom:function(i){var l=this.getMinZoom(),h=this.getMaxZoom(),g=Le.any3d?this.options.zoomSnap:1;return g&&(i=Math.round(i/g)*g),Math.max(l,Math.min(h,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ut(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,l){var h=this._getCenterOffset(i)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var i=this._proxy=We("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(l){var h=Jo,g=this._proxy.style[h];qn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),g===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),l=this.getZoom();qn(this._proxy,this.project(i,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(l),S=this._getCenterOffset(i)._divideBy(1-1/g);return h.animate!==!0&&!this.getSize().contains(S)?!1:(W(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(i,l,!0)},this),!0)},_animateZoom:function(i,l,h,g){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=l,qe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:l,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ut(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Wr(i,l){return new Ge(i,l)}var mn=ce.extend({options:{position:"topright"},initialize:function(i){E(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var l=this._map;return l&&l.removeControl(this),this.options.position=i,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var l=this._container=this.onAdd(i),h=this.getPosition(),g=i._controlCorners[h];return qe(l,"leaflet-control"),h.indexOf("bottom")!==-1?g.insertBefore(l,g.firstChild):g.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Ur=function(i){return new mn(i)};Ge.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},l="leaflet-",h=this._controlContainer=We("div",l+"control-container",this._container);function g(S,T){var Y=l+S+" "+l+T;i[S+T]=We("div",Y,h)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)ft(this._controlCorners[i]);ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var nl=mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,l,h,g){return h<g?-1:g<h?1:0}},initialize:function(i,l,h){E(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in i)this._addLayer(i[g],g);for(g in l)this._addLayer(l[g],g,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return mn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,l){return this._addLayer(i,l),this._map?this._update():this},addOverlay:function(i,l){return this._addLayer(i,l,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var l=this._getLayer(v(i));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){qe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(qe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):ut(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ut(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",l=this._container=We("div",i),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Za(l),Bs(l);var g=this._section=We("section",i+"-list");h&&(this._map.on("click",this.collapse,this),$e(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=We("a",i+"-toggle",l);S.href="#",S.title="Layers",S.setAttribute("role","button"),$e(S,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){bt(T),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=We("div",i+"-base",g),this._separator=We("div",i+"-separator",g),this._overlaysList=We("div",i+"-overlays",g),l.appendChild(g)},_getLayer:function(i){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&v(this._layers[l].layer)===i)return this._layers[l]},_addLayer:function(i,l,h){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(d(function(g,S){return this.options.sortFunction(g.layer,S.layer,g.name,S.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Rs(this._baseLayersList),Rs(this._overlaysList),this._layerControlInputs=[];var i,l,h,g,S=0;for(h=0;h<this._layers.length;h++)g=this._layers[h],this._addItem(g),l=l||g.overlay,i=i||!g.overlay,S+=g.overlay?0:1;return this.options.hideSingleBase&&(i=i&&S>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=l&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var l=this._getLayer(v(i.target)),h=l.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(i,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(l?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=h,g.firstChild},_addItem:function(i){var l=document.createElement("label"),h=this._map.hasLayer(i.layer),g;i.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=h):g=this._createRadioElement("leaflet-base-layers_"+v(this),h),this._layerControlInputs.push(g),g.layerId=v(i.layer),$e(g,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+i.name;var T=document.createElement("span");l.appendChild(T),T.appendChild(g),T.appendChild(S);var Y=i.overlay?this._overlaysList:this._baseLayersList;return Y.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,l,h,g=[],S=[];this._handlingClick=!0;for(var T=i.length-1;T>=0;T--)l=i[T],h=this._getLayer(l.layerId).layer,l.checked?g.push(h):l.checked||S.push(h);for(T=0;T<S.length;T++)this._map.hasLayer(S[T])&&this._map.removeLayer(S[T]);for(T=0;T<g.length;T++)this._map.hasLayer(g[T])||this._map.addLayer(g[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,l,h,g=this._map.getZoom(),S=i.length-1;S>=0;S--)l=i[S],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&g<h.options.minZoom||h.options.maxZoom!==void 0&&g>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,$e(i,"click",bt),this.expand();var l=this;setTimeout(function(){at(i,"click",bt),l._preventClick=!1})}}),Us=function(i,l,h){return new nl(i,l,h)},Qi=mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var l="leaflet-control-zoom",h=We("div",l+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,l,h,g,S){var T=We("a",h,g);return T.innerHTML=i,T.href="#",T.title=l,T.setAttribute("role","button"),T.setAttribute("aria-label",l),Za(T),$e(T,"click",Un),$e(T,"click",S,this),$e(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var i=this._map,l="leaflet-disabled";ut(this._zoomInButton,l),ut(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(qe(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(qe(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ge.mergeOptions({zoomControl:!0}),Ge.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qi,this.addControl(this.zoomControl))});var Zu=function(i){return new Qi(i)},rn=mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var l="leaflet-control-scale",h=We("div",l),g=this.options;return this._addScales(g,l+"-line",h),i.on(g.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),h},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,l,h){i.metric&&(this._mScale=We("div",l,h)),i.imperial&&(this._iScale=We("div",l,h))},_update:function(){var i=this._map,l=i.getSize().y/2,h=i.distance(i.containerPointToLatLng([0,l]),i.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var l=this._getRoundNum(i),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/i)},_updateImperial:function(i){var l=i*3.2808399,h,g,S;l>5280?(h=l/5280,g=this._getRoundNum(h),this._updateScale(this._iScale,g+" mi",g/h)):(S=this._getRoundNum(l),this._updateScale(this._iScale,S+" ft",S/l))},_updateScale:function(i,l,h){i.style.width=Math.round(this.options.maxWidth*h)+"px",i.innerHTML=l},_getRoundNum:function(i){var l=Math.pow(10,(Math.floor(i)+"").length-1),h=i/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),ea=function(i){return new rn(i)},rl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',vi=mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Le.inlineSvg?rl+" ":"")+"Leaflet</a>"},initialize:function(i){E(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=We("div","leaflet-control-attribution"),Za(this._container);for(var l in i._layers)i._layers[l].getAttribution&&this.addAttribution(i._layers[l].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var l in this._attributions)this._attributions[l]&&i.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),i.length&&h.push(i.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Ge.mergeOptions({attributionControl:!0}),Ge.addInitHook(function(){this.options.attributionControl&&new vi().addTo(this)});var Ef=function(i){return new vi(i)};mn.Layers=nl,mn.Zoom=Qi,mn.Scale=rn,mn.Attribution=vi,Ur.layers=Us,Ur.zoom=Zu,Ur.scale=ea,Ur.attribution=Ef;var En=ce.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});En.addTo=function(i,l){return i.addHandler(l,this),this};var il={Events:me},ta=Le.touch?"touchstart mousedown":"mousedown",Hn=xe.extend({options:{clickTolerance:3},initialize:function(i,l,h,g){E(this,g),this._element=i,this._dragStartTarget=l||i,this._preventOutline=h},enable:function(){this._enabled||($e(this._dragStartTarget,ta,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Hn._dragging===this&&this.finishDrag(!0),at(this._dragStartTarget,ta,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Gi(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Hn._dragging===this&&this.finishDrag();return}if(!(Hn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Hn._dragging=this,this._preventOutline&&Ji(this._element),Is(),Xe(),!this._moving)){this.fire("down");var l=i.touches?i.touches[0]:i,h=Cr(this._element);this._startPoint=new z(l.clientX,l.clientY),this._startPos=Pr(this._element),this._parentScale=rr(h);var g=i.type==="mousedown";$e(document,g?"mousemove":"touchmove",this._onMove,this),$e(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var l=i.touches&&i.touches.length===1?i.touches[0]:i,h=new z(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,bt(i),this._moved||(this.fire("dragstart"),this._moved=!0,qe(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Et(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){ut(document.body,"leaflet-dragging"),this._lastTarget&&(ut(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),at(document,"mousemove touchmove",this._onMove,this),at(document,"mouseup touchend touchcancel",this._onUp,this),Fs(),Xi();var l=this._moved&&this._moving;this._moving=!1,Hn._dragging=!1,l&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function al(i,l,h){var g,S=[1,4,2,8],T,Y,ee,ae,de,Se,Ae,Ue;for(T=0,Se=i.length;T<Se;T++)i[T]._code=gi(i[T],l);for(ee=0;ee<4;ee++){for(Ae=S[ee],g=[],T=0,Se=i.length,Y=Se-1;T<Se;Y=T++)ae=i[T],de=i[Y],ae._code&Ae?de._code&Ae||(Ue=Ys(de,ae,Ae,l,h),Ue._code=gi(Ue,l),g.push(Ue)):(de._code&Ae&&(Ue=Ys(de,ae,Ae,l,h),Ue._code=gi(Ue,l),g.push(Ue)),g.push(ae));i=g}return i}function Vu(i,l){var h,g,S,T,Y,ee,ae,de,Se;if(!i||i.length===0)throw new Error("latlngs not passed");Pn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Ae=fe([0,0]),Ue=le(i),At=Ue.getNorthWest().distanceTo(Ue.getSouthWest())*Ue.getNorthEast().distanceTo(Ue.getNorthWest());At<1700&&(Ae=sl(i));var Lt=i.length,gn=[];for(h=0;h<Lt;h++){var an=fe(i[h]);gn.push(l.project(fe([an.lat-Ae.lat,an.lng-Ae.lng])))}for(ee=ae=de=0,h=0,g=Lt-1;h<Lt;g=h++)S=gn[h],T=gn[g],Y=S.y*T.x-T.y*S.x,ae+=(S.x+T.x)*Y,de+=(S.y+T.y)*Y,ee+=Y*3;ee===0?Se=gn[0]:Se=[ae/ee,de/ee];var da=l.unproject(Q(Se));return fe([da.lat+Ae.lat,da.lng+Ae.lng])}function sl(i){for(var l=0,h=0,g=0,S=0;S<i.length;S++){var T=fe(i[S]);l+=T.lat,h+=T.lng,g++}return fe([l/g,h/g])}var Pf={__proto__:null,clipPolygon:al,polygonCenter:Vu,centroid:sl};function Hs(i,l){if(!l||!i.length)return i.slice();var h=l*l;return i=jf(i,h),i=kf(i,h),i}function Gu(i,l,h){return Math.sqrt(yi(i,l,h,!0))}function Cf(i,l,h){return yi(i,l,h)}function kf(i,l){var h=i.length,g=typeof Uint8Array<"u"?Uint8Array:Array,S=new g(h);S[0]=S[h-1]=1,ol(i,S,l,0,h-1);var T,Y=[];for(T=0;T<h;T++)S[T]&&Y.push(i[T]);return Y}function ol(i,l,h,g,S){var T=0,Y,ee,ae;for(ee=g+1;ee<=S-1;ee++)ae=yi(i[ee],i[g],i[S],!0),ae>T&&(Y=ee,T=ae);T>h&&(l[Y]=1,ol(i,l,h,g,Y),ol(i,l,h,Y,S))}function jf(i,l){for(var h=[i[0]],g=1,S=0,T=i.length;g<T;g++)Tf(i[g],i[S])>l&&(h.push(i[g]),S=g);return S<T-1&&h.push(i[T-1]),h}var ll;function Ku(i,l,h,g,S){var T=g?ll:gi(i,h),Y=gi(l,h),ee,ae,de;for(ll=Y;;){if(!(T|Y))return[i,l];if(T&Y)return!1;ee=T||Y,ae=Ys(i,l,ee,h,S),de=gi(ae,h),ee===T?(i=ae,T=de):(l=ae,Y=de)}}function Ys(i,l,h,g,S){var T=l.x-i.x,Y=l.y-i.y,ee=g.min,ae=g.max,de,Se;return h&8?(de=i.x+T*(ae.y-i.y)/Y,Se=ae.y):h&4?(de=i.x+T*(ee.y-i.y)/Y,Se=ee.y):h&2?(de=ae.x,Se=i.y+Y*(ae.x-i.x)/T):h&1&&(de=ee.x,Se=i.y+Y*(ee.x-i.x)/T),new z(de,Se,S)}function gi(i,l){var h=0;return i.x<l.min.x?h|=1:i.x>l.max.x&&(h|=2),i.y<l.min.y?h|=4:i.y>l.max.y&&(h|=8),h}function Tf(i,l){var h=l.x-i.x,g=l.y-i.y;return h*h+g*g}function yi(i,l,h,g){var S=l.x,T=l.y,Y=h.x-S,ee=h.y-T,ae=Y*Y+ee*ee,de;return ae>0&&(de=((i.x-S)*Y+(i.y-T)*ee)/ae,de>1?(S=h.x,T=h.y):de>0&&(S+=Y*de,T+=ee*de)),Y=i.x-S,ee=i.y-T,g?Y*Y+ee*ee:new z(S,T)}function Pn(i){return!I(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Xu(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pn(i)}function Ju(i,l){var h,g,S,T,Y,ee,ae,de;if(!i||i.length===0)throw new Error("latlngs not passed");Pn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Se=fe([0,0]),Ae=le(i),Ue=Ae.getNorthWest().distanceTo(Ae.getSouthWest())*Ae.getNorthEast().distanceTo(Ae.getNorthWest());Ue<1700&&(Se=sl(i));var At=i.length,Lt=[];for(h=0;h<At;h++){var gn=fe(i[h]);Lt.push(l.project(fe([gn.lat-Se.lat,gn.lng-Se.lng])))}for(h=0,g=0;h<At-1;h++)g+=Lt[h].distanceTo(Lt[h+1])/2;if(g===0)de=Lt[0];else for(h=0,T=0;h<At-1;h++)if(Y=Lt[h],ee=Lt[h+1],S=Y.distanceTo(ee),T+=S,T>g){ae=(T-g)/S,de=[ee.x-ae*(ee.x-Y.x),ee.y-ae*(ee.y-Y.y)];break}var an=l.unproject(Q(de));return fe([an.lat+Se.lat,an.lng+Se.lng])}var Qu={__proto__:null,simplify:Hs,pointToSegmentDistance:Gu,closestPointOnSegment:Cf,clipSegment:Ku,_getEdgeIntersection:Ys,_getBitCode:gi,_sqClosestPointOnSegment:yi,isFlat:Pn,_flat:Xu,polylineCenter:Ju},ul={project:function(i){return new z(i.lng,i.lat)},unproject:function(i){return new ue(i.y,i.x)},bounds:new M([-180,-90],[180,90])},cl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new M([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var l=Math.PI/180,h=this.R,g=i.lat*l,S=this.R_MINOR/h,T=Math.sqrt(1-S*S),Y=T*Math.sin(g),ee=Math.tan(Math.PI/4-g/2)/Math.pow((1-Y)/(1+Y),T/2);return g=-h*Math.log(Math.max(ee,1e-10)),new z(i.lng*l*h,g)},unproject:function(i){for(var l=180/Math.PI,h=this.R,g=this.R_MINOR/h,S=Math.sqrt(1-g*g),T=Math.exp(-i.y/h),Y=Math.PI/2-2*Math.atan(T),ee=0,ae=.1,de;ee<15&&Math.abs(ae)>1e-7;ee++)de=S*Math.sin(Y),de=Math.pow((1-de)/(1+de),S/2),ae=Math.PI/2-2*Math.atan(T*de)-Y,Y+=ae;return new ue(Y*l,i.x*l/h)}},Of={__proto__:null,LonLat:ul,Mercator:cl,SphericalMercator:Ne},Mf=o({},Ce,{code:"EPSG:3395",projection:cl,transformation:(function(){var i=.5/(Math.PI*cl.R);return gt(i,.5,-i,.5)})()}),ec=o({},Ce,{code:"EPSG:4326",projection:ul,transformation:gt(1/180,1,-1/180,.5)}),Df=o({},je,{projection:ul,transformation:gt(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,l){var h=l.lng-i.lng,g=l.lat-i.lat;return Math.sqrt(h*h+g*g)},infinite:!0});je.Earth=Ce,je.EPSG3395=Mf,je.EPSG3857=dt,je.EPSG900913=er,je.EPSG4326=ec,je.Simple=Df;var Yn=xe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[v(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[v(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var l=i.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Ge.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var l=v(i);return this._layers[l]?this:(this._layers[l]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var l=v(i);return this._layers[l]?(this._loaded&&i.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return v(i)in this._layers},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},_addLayers:function(i){i=i?I(i)?i:[i]:[];for(var l=0,h=i.length;l<h;l++)this.addLayer(i[l])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[v(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var l=v(i);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,l=-1/0,h=this._getZoomSpan();for(var g in this._zoomBoundLayers){var S=this._zoomBoundLayers[g].options;i=S.minZoom===void 0?i:Math.min(i,S.minZoom),l=S.maxZoom===void 0?l:Math.max(l,S.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=i===1/0?void 0:i,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Hr=Yn.extend({initialize:function(i,l){E(this,l),this._layers={};var h,g;if(i)for(h=0,g=i.length;h<g;h++)this.addLayer(i[h])},addLayer:function(i){var l=this.getLayerId(i);return this._layers[l]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var l=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(i){var l=typeof i=="number"?i:this.getLayerId(i);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var l=Array.prototype.slice.call(arguments,1),h,g;for(h in this._layers)g=this._layers[h],g[i]&&g[i].apply(g,l);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return v(i)}}),Ka=function(i,l){return new Hr(i,l)},kr=Hr.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Hr.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Hr.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new se;for(var l in this._layers){var h=this._layers[l];i.extend(h.getBounds?h.getBounds():h.getLatLng())}return i}}),tc=function(i,l){return new kr(i,l)},_i=ce.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){E(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,l){var h=this._getIconUrl(i);if(!h){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(g,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(i,l){var h=this.options,g=h[l+"Size"];typeof g=="number"&&(g=[g,g]);var S=Q(g),T=Q(l==="shadow"&&h.shadowAnchor||h.iconAnchor||S&&S.divideBy(2,!0));i.className="leaflet-marker-"+l+" "+(h.className||""),T&&(i.style.marginLeft=-T.x+"px",i.style.marginTop=-T.y+"px"),S&&(i.style.width=S.x+"px",i.style.height=S.y+"px")},_createImg:function(i,l){return l=l||document.createElement("img"),l.src=i,l},_getIconUrl:function(i){return Le.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function nc(i){return new _i(i)}var na=_i.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof na.imagePath!="string"&&(na.imagePath=this._detectIconPath()),(this.options.imagePath||na.imagePath)+_i.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var l=function(h,g,S){var T=g.exec(h);return T&&T[S]};return i=l(i,/^url\((['"])?(.+)\1\)$/,2),i&&l(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=We("div","leaflet-default-icon-path",document.body),l=Wa(i,"background-image")||Wa(i,"backgroundImage");if(document.body.removeChild(i),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),dl=En.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Hn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),qe(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ut(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var l=this._marker,h=l._map,g=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,T=Pr(l._icon),Y=h.getPixelBounds(),ee=h.getPixelOrigin(),ae=U(Y.min._subtract(ee).add(S),Y.max._subtract(ee).subtract(S));if(!ae.contains(T)){var de=Q((Math.max(ae.max.x,T.x)-ae.max.x)/(Y.max.x-ae.max.x)-(Math.min(ae.min.x,T.x)-ae.min.x)/(Y.min.x-ae.min.x),(Math.max(ae.max.y,T.y)-ae.max.y)/(Y.max.y-ae.max.y)-(Math.min(ae.min.y,T.y)-ae.min.y)/(Y.min.y-ae.min.y)).multiplyBy(g);h.panBy(de,{animate:!1}),this._draggable._newPos._add(de),this._draggable._startPos._add(de),Et(l._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=W(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(re(this._panRequest),this._panRequest=W(this._adjustPan.bind(this,i)))},_onDrag:function(i){var l=this._marker,h=l._shadow,g=Pr(l._icon),S=l._map.layerPointToLatLng(g);h&&Et(h,g),l._latlng=S,i.latlng=S,i.oldLatLng=this._oldLatLng,l.fire("move",i).fire("drag",i)},_onDragEnd:function(i){re(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),jr=Yn.extend({options:{icon:new na,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,l){E(this,l),this._latlng=fe(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var l=this._latlng;return this._latlng=fe(i),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=i.icon.createIcon(this._icon),g=!1;h!==this._icon&&(this._icon&&this._removeIcon(),g=!0,i.title&&(h.title=i.title),h.tagName==="IMG"&&(h.alt=i.alt||"")),qe(h,l),i.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$e(h,"focus",this._panOnFocus,this);var S=i.icon.createShadow(this._shadow),T=!1;S!==this._shadow&&(this._removeShadow(),T=!0),S&&(qe(S,l),S.alt=""),this._shadow=S,i.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&T&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&at(this._icon,"focus",this._panOnFocus,this),ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ft(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Et(this._icon,i),this._shadow&&Et(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(qe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),dl)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new dl(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&nn(this._icon,i),this._shadow&&nn(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var l=this.options.icon.options,h=l.iconSize?Q(l.iconSize):Q(0,0),g=l.iconAnchor?Q(l.iconAnchor):Q(0,0);i.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:h.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Lf(i,l){return new jr(i,l)}var Yr=Yn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return E(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Zs=Yr.extend({options:{fill:!0,radius:10},initialize:function(i,l){E(this,l),this._latlng=fe(i),this._radius=this.options.radius},setLatLng:function(i){var l=this._latlng;return this._latlng=fe(i),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var l=i&&i.radius||this._radius;return Yr.prototype.setStyle.call(this,i),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,l=this._radiusY||i,h=this._clickTolerance(),g=[i+h,l+h];this._pxBounds=new M(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function rc(i,l){return new Zs(i,l)}var Vs=Zs.extend({initialize:function(i,l,h){if(typeof l=="number"&&(l=o({},h,{radius:l})),E(this,l),this._latlng=fe(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new se(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Yr.prototype.setStyle,_project:function(){var i=this._latlng.lng,l=this._latlng.lat,h=this._map,g=h.options.crs;if(g.distance===Ce.distance){var S=Math.PI/180,T=this._mRadius/Ce.R/S,Y=h.project([l+T,i]),ee=h.project([l-T,i]),ae=Y.add(ee).divideBy(2),de=h.unproject(ae).lat,Se=Math.acos((Math.cos(T*S)-Math.sin(l*S)*Math.sin(de*S))/(Math.cos(l*S)*Math.cos(de*S)))/S;(isNaN(Se)||Se===0)&&(Se=T/Math.cos(Math.PI/180*l)),this._point=ae.subtract(h.getPixelOrigin()),this._radius=isNaN(Se)?0:ae.x-h.project([de,i-Se]).x,this._radiusY=ae.y-Y.y}else{var Ae=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Ae).x}this._updateBounds()}});function Xa(i,l,h){return new Vs(i,l,h)}var vn=Yr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,l){E(this,l),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var l=1/0,h=null,g=yi,S,T,Y=0,ee=this._parts.length;Y<ee;Y++)for(var ae=this._parts[Y],de=1,Se=ae.length;de<Se;de++){S=ae[de-1],T=ae[de];var Ae=g(i,S,T,!0);Ae<l&&(l=Ae,h=g(i,S,T))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ju(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,l){return l=l||this._defaultShape(),i=fe(i),l.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new se,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var l=[],h=Pn(i),g=0,S=i.length;g<S;g++)h?(l[g]=fe(i[g]),this._bounds.extend(l[g])):l[g]=this._convertLatLngs(i[g]);return l},_project:function(){var i=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),l=new z(i,i);this._rawPxBounds&&(this._pxBounds=new M([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(i,l,h){var g=i[0]instanceof ue,S=i.length,T,Y;if(g){for(Y=[],T=0;T<S;T++)Y[T]=this._map.latLngToLayerPoint(i[T]),h.extend(Y[T]);l.push(Y)}else for(T=0;T<S;T++)this._projectLatlngs(i[T],l,h)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,g,S,T,Y,ee,ae;for(h=0,S=0,T=this._rings.length;h<T;h++)for(ae=this._rings[h],g=0,Y=ae.length;g<Y-1;g++)ee=Ku(ae[g],ae[g+1],i,g,!0),ee&&(l[S]=l[S]||[],l[S].push(ee[0]),(ee[1]!==ae[g+1]||g===Y-2)&&(l[S].push(ee[1]),S++))}},_simplifyPoints:function(){for(var i=this._parts,l=this.options.smoothFactor,h=0,g=i.length;h<g;h++)i[h]=Hs(i[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,l){var h,g,S,T,Y,ee,ae=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(h=0,T=this._parts.length;h<T;h++)for(ee=this._parts[h],g=0,Y=ee.length,S=Y-1;g<Y;S=g++)if(!(!l&&g===0)&&Gu(i,ee[S],ee[g])<=ae)return!0;return!1}});function Rf(i,l){return new vn(i,l)}vn._flat=Xu;var Tr=vn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var l=vn.prototype._convertLatLngs.call(this,i),h=l.length;return h>=2&&l[0]instanceof ue&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(i){vn.prototype._setLatLngs.call(this,i),Pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,l=this.options.weight,h=new z(l,l);if(i=new M(i.min.subtract(h),i.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,S=this._rings.length,T;g<S;g++)T=al(this._rings[g],i,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var l=!1,h,g,S,T,Y,ee,ae,de;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(T=0,ae=this._parts.length;T<ae;T++)for(h=this._parts[T],Y=0,de=h.length,ee=de-1;Y<de;ee=Y++)g=h[Y],S=h[ee],g.y>i.y!=S.y>i.y&&i.x<(S.x-g.x)*(i.y-g.y)/(S.y-g.y)+g.x&&(l=!l);return l||vn.prototype._containsPoint.call(this,i,!0)}});function zf(i,l){return new Tr(i,l)}var ar=kr.extend({initialize:function(i,l){E(this,l),this._layers={},i&&this.addData(i)},addData:function(i){var l=I(i)?i:i.features,h,g,S;if(l){for(h=0,g=l.length;h<g;h++)S=l[h],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var T=this.options;if(T.filter&&!T.filter(i))return this;var Y=ra(i,T);return Y?(Y.feature=Qs(i),Y.defaultOptions=Y.options,this.resetStyle(Y),T.onEachFeature&&T.onEachFeature(i,Y),this.addLayer(Y)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(l){this._setLayerStyle(l,i)},this)},_setLayerStyle:function(i,l){i.setStyle&&(typeof l=="function"&&(l=l(i.feature)),i.setStyle(l))}});function ra(i,l){var h=i.type==="Feature"?i.geometry:i,g=h?h.coordinates:null,S=[],T=l&&l.pointToLayer,Y=l&&l.coordsToLatLng||Ks,ee,ae,de,Se;if(!g&&!h)return null;switch(h.type){case"Point":return ee=Y(g),Gs(T,i,ee,l);case"MultiPoint":for(de=0,Se=g.length;de<Se;de++)ee=Y(g[de]),S.push(Gs(T,i,ee,l));return new kr(S);case"LineString":case"MultiLineString":return ae=Ja(g,h.type==="LineString"?0:1,Y),new vn(ae,l);case"Polygon":case"MultiPolygon":return ae=Ja(g,h.type==="Polygon"?1:2,Y),new Tr(ae,l);case"GeometryCollection":for(de=0,Se=h.geometries.length;de<Se;de++){var Ae=ra({geometry:h.geometries[de],type:"Feature",properties:i.properties},l);Ae&&S.push(Ae)}return new kr(S);case"FeatureCollection":for(de=0,Se=h.features.length;de<Se;de++){var Ue=ra(h.features[de],l);Ue&&S.push(Ue)}return new kr(S);default:throw new Error("Invalid GeoJSON object.")}}function Gs(i,l,h,g){return i?i(l,h):new jr(h,g&&g.markersInheritOptions&&g)}function Ks(i){return new ue(i[1],i[0],i[2])}function Ja(i,l,h){for(var g=[],S=0,T=i.length,Y;S<T;S++)Y=l?Ja(i[S],l-1,h):(h||Ks)(i[S]),g.push(Y);return g}function Xs(i,l){return i=fe(i),i.alt!==void 0?[N(i.lng,l),N(i.lat,l),N(i.alt,l)]:[N(i.lng,l),N(i.lat,l)]}function Js(i,l,h,g){for(var S=[],T=0,Y=i.length;T<Y;T++)S.push(l?Js(i[T],Pn(i[T])?0:l-1,h,g):Xs(i[T],g));return!l&&h&&S.length>0&&S.push(S[0].slice()),S}function ia(i,l){return i.feature?o({},i.feature,{geometry:l}):Qs(l)}function Qs(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var fl={toGeoJSON:function(i){return ia(this,{type:"Point",coordinates:Xs(this.getLatLng(),i)})}};jr.include(fl),Vs.include(fl),Zs.include(fl),vn.include({toGeoJSON:function(i){var l=!Pn(this._latlngs),h=Js(this._latlngs,l?1:0,!1,i);return ia(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),Tr.include({toGeoJSON:function(i){var l=!Pn(this._latlngs),h=l&&!Pn(this._latlngs[0]),g=Js(this._latlngs,h?2:l?1:0,!0,i);return l||(g=[g]),ia(this,{type:(h?"Multi":"")+"Polygon",coordinates:g})}}),Hr.include({toMultiPoint:function(i){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(i).geometry.coordinates)}),ia(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(i){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(i);var h=l==="GeometryCollection",g=[];return this.eachLayer(function(S){if(S.toGeoJSON){var T=S.toGeoJSON(i);if(h)g.push(T.geometry);else{var Y=Qs(T);Y.type==="FeatureCollection"?g.push.apply(g,Y.features):g.push(Y)}}}),h?ia(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function ic(i,l){return new ar(i,l)}var Zn=ic,Zr=Yn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,l,h){this._url=i,this._bounds=le(l),E(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(qe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Vi(this._image),this},bringToBack:function(){return this._map&&Er(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=le(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",l=this._image=i?this._url:We("img");if(qe(l,"leaflet-image-layer"),this._zoomAnimated&&qe(l,"leaflet-zoom-animated"),this.options.className&&qe(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onload=d(this.fire,this,"load"),l.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(i){var l=this._map.getZoomScale(i.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;qn(this._image,h,l)},_reset:function(){var i=this._image,l=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();Et(i,l.min),i.style.width=h.x+"px",i.style.height=h.y+"px"},_updateOpacity:function(){nn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),ac=function(i,l,h){return new Zr(i,l,h)},hl=Zr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",l=this._image=i?this._url:We("video");if(qe(l,"leaflet-image-layer"),this._zoomAnimated&&qe(l,"leaflet-zoom-animated"),this.options.className&&qe(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onloadeddata=d(this.fire,this,"load"),i){for(var h=l.getElementsByTagName("source"),g=[],S=0;S<h.length;S++)g.push(h[S].src);this._url=h.length>0?g:[l.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var Y=We("source");Y.src=this._url[T],l.appendChild(Y)}}});function sc(i,l,h){return new hl(i,l,h)}var pl=Zr.extend({_initImage:function(){var i=this._image=this._url;qe(i,"leaflet-image-layer"),this._zoomAnimated&&qe(i,"leaflet-zoom-animated"),this.options.className&&qe(i,this.options.className),i.onselectstart=w,i.onmousemove=w}});function ml(i,l,h){return new pl(i,l,h)}var sr=Yn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,l){i&&(i instanceof ue||I(i))?(this._latlng=fe(i),E(this,l)):(E(this,i),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&nn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&nn(this._container,1),this.bringToFront(),this.options.interactive&&(qe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(nn(this._container,0),this._removeTimeout=setTimeout(d(ft,void 0,this._container),200)):ft(this._container),this.options.interactive&&(ut(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=fe(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vi(this._container),this},bringToBack:function(){return this._map&&Er(this._container),this},_prepareOpen:function(i){var l=this._source;if(!l._map)return!1;if(l instanceof kr){l=null;var h=this._source._layers;for(var g in h)if(h[g]._map){l=h[g];break}if(!l)return!1;this._source=l}if(!i)if(l.getCenter)i=l.getCenter();else if(l.getLatLng)i=l.getLatLng();else if(l.getBounds)i=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")i.innerHTML=l;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),l=Q(this.options.offset),h=this._getAnchor();this._zoomAnimated?Et(this._container,i.add(h)):l=l.add(i).add(h);var g=this._containerBottom=-l.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=g+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Ge.include({_initOverlay:function(i,l,h,g){var S=l;return S instanceof i||(S=new i(g).setContent(l)),h&&S.setLatLng(h),S}}),Yn.include({_initOverlay:function(i,l,h,g){var S=h;return S instanceof i?(E(S,g),S._source=this):(S=l&&!g?l:new i(g,this),S.setContent(h)),S}});var eo=sr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,sr.prototype.openOn.call(this,i)},onAdd:function(i){sr.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Yr||this._source.on("preclick",ir))},onRemove:function(i){sr.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Yr||this._source.off("preclick",ir))},getEvents:function(){var i=sr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",l=this._container=We("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=We("div",i+"-content-wrapper",l);if(this._contentNode=We("div",i+"-content",h),Za(l),Bs(this._contentNode),$e(l,"contextmenu",ir),this._tipContainer=We("div",i+"-tip-container",l),this._tip=We("div",i+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=We("a",i+"-close-button",l);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',$e(g,"click",function(S){bt(S),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,l=i.style;l.width="",l.whiteSpace="nowrap";var h=i.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var g=i.offsetHeight,S=this.options.maxHeight,T="leaflet-popup-scrolled";S&&g>S?(l.height=S+"px",qe(i,T)):ut(i,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),h=this._getAnchor();Et(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,l=parseInt(Wa(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,g=this._containerWidth,S=new z(this._containerLeft,-h-this._containerBottom);S._add(Pr(this._container));var T=i.layerPointToContainerPoint(S),Y=Q(this.options.autoPanPadding),ee=Q(this.options.autoPanPaddingTopLeft||Y),ae=Q(this.options.autoPanPaddingBottomRight||Y),de=i.getSize(),Se=0,Ae=0;T.x+g+ae.x>de.x&&(Se=T.x+g-de.x+ae.x),T.x-Se-ee.x<0&&(Se=T.x-ee.x),T.y+h+ae.y>de.y&&(Ae=T.y+h-de.y+ae.y),T.y-Ae-ee.y<0&&(Ae=T.y-ee.y),(Se||Ae)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([Se,Ae]))}},_getAnchor:function(){return Q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),aa=function(i,l){return new eo(i,l)};Ge.mergeOptions({closePopupOnClick:!0}),Ge.include({openPopup:function(i,l,h){return this._initOverlay(eo,i,l,h).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Yn.include({bindPopup:function(i,l){return this._popup=this._initOverlay(eo,this._popup,i,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof kr||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Un(i);var l=i.layer||i.target;if(this._popup._source===l&&!(l instanceof Yr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=l,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var sa=sr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){sr.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){sr.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=sr.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",l=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=We("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var l,h,g=this._map,S=this._container,T=g.latLngToContainerPoint(g.getCenter()),Y=g.layerPointToContainerPoint(i),ee=this.options.direction,ae=S.offsetWidth,de=S.offsetHeight,Se=Q(this.options.offset),Ae=this._getAnchor();ee==="top"?(l=ae/2,h=de):ee==="bottom"?(l=ae/2,h=0):ee==="center"?(l=ae/2,h=de/2):ee==="right"?(l=0,h=de/2):ee==="left"?(l=ae,h=de/2):Y.x<T.x?(ee="right",l=0,h=de/2):(ee="left",l=ae+(Se.x+Ae.x)*2,h=de/2),i=i.subtract(Q(l,h,!0)).add(Se).add(Ae),ut(S,"leaflet-tooltip-right"),ut(S,"leaflet-tooltip-left"),ut(S,"leaflet-tooltip-top"),ut(S,"leaflet-tooltip-bottom"),qe(S,"leaflet-tooltip-"+ee),Et(S,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&nn(this._container,i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(l)},_getAnchor:function(){return Q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Qa=function(i,l){return new sa(i,l)};Ge.include({openTooltip:function(i,l,h){return this._initOverlay(sa,i,l,h).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Yn.include({bindTooltip:function(i,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(sa,this._tooltip,i,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var l=i?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof kr||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&($e(l,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),$e(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var l=i.latlng,h,g;this._tooltip.options.sticky&&i.originalEvent&&(h=this._map.mouseEventToContainerPoint(i.originalEvent),g=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(l)}});var to=_i.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var l=i&&i.tagName==="DIV"?i:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Rs(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var g=Q(h.bgPos);l.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function oc(i){return new to(i)}_i.Default=na;var Vr=Yn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){E(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),ft(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Er(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof z?i:new z(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var l=this.getPane().children,h=-i(-1/0,1/0),g=0,S=l.length,T;g<S;g++)T=l[g].style.zIndex,l[g]!==this._container&&T&&(h=i(h,+T));isFinite(h)&&(this.options.zIndex=h+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Le.ielt9){nn(this._container,this.options.opacity);var i=+new Date,l=!1,h=!1;for(var g in this._tiles){var S=this._tiles[g];if(!(!S.current||!S.loaded)){var T=Math.min(1,(i-S.loaded)/200);nn(S.el,T),T<1?l=!0:(S.active?h=!0:this._onOpaqueTile(S),S.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(re(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=We("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,l=this.options.maxZoom;if(i!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===i?(this._levels[h].el.style.zIndex=l-Math.abs(i-h),this._onUpdateLevel(h)):(ft(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var g=this._levels[i],S=this._map;return g||(g=this._levels[i]={},g.el=We("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=l,g.origin=S.project(S.unproject(S.getPixelOrigin()),i).round(),g.zoom=i,this._setZoomTransform(g,S.getCenter(),S.getZoom()),w(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var i,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)l=this._tiles[i],l.retain=l.current;for(i in this._tiles)if(l=this._tiles[i],l.current&&!l.active){var g=l.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var l in this._tiles)this._tiles[l].coords.z===i&&this._removeTile(l)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)ft(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,l,h,g){var S=Math.floor(i/2),T=Math.floor(l/2),Y=h-1,ee=new z(+S,+T);ee.z=+Y;var ae=this._tileCoordsToKey(ee),de=this._tiles[ae];return de&&de.active?(de.retain=!0,!0):(de&&de.loaded&&(de.retain=!0),Y>g?this._retainParent(S,T,Y,g):!1)},_retainChildren:function(i,l,h,g){for(var S=2*i;S<2*i+2;S++)for(var T=2*l;T<2*l+2;T++){var Y=new z(S,T);Y.z=h+1;var ee=this._tileCoordsToKey(Y),ae=this._tiles[ee];if(ae&&ae.active){ae.retain=!0;continue}else ae&&ae.loaded&&(ae.retain=!0);h+1<g&&this._retainChildren(S,T,h+1,g)}},_resetView:function(i){var l=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var l=this.options;return l.minNativeZoom!==void 0&&i<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<i?l.maxNativeZoom:i},_setView:function(i,l,h,g){var S=Math.round(l);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var T=this.options.updateWhenZooming&&S!==this._tileZoom;(!g||T)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(i),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(i,l)},_setZoomTransforms:function(i,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],i,l)},_setZoomTransform:function(i,l,h){var g=this._map.getZoomScale(h,i.zoom),S=i.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(l,h)).round();Le.any3d?qn(i.el,S,g):Et(i.el,S)},_resetGrid:function(){var i=this._map,l=i.options.crs,h=this._tileSize=this.getTileSize(),g=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,l.wrapLng[0]],g).x/h.x),Math.ceil(i.project([0,l.wrapLng[1]],g).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([l.wrapLat[0],0],g).y/h.x),Math.ceil(i.project([l.wrapLat[1],0],g).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),g=l.getZoomScale(h,this._tileZoom),S=l.project(i,this._tileZoom).floor(),T=l.getSize().divideBy(g*2);return new M(S.subtract(T),S.add(T))},_update:function(i){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(i===void 0&&(i=l.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(i),S=this._pxBoundsToTileRange(g),T=S.getCenter(),Y=[],ee=this.options.keepBuffer,ae=new M(S.getBottomLeft().subtract([ee,-ee]),S.getTopRight().add([ee,-ee]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var de in this._tiles){var Se=this._tiles[de].coords;(Se.z!==this._tileZoom||!ae.contains(new z(Se.x,Se.y)))&&(this._tiles[de].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(i,h);return}for(var Ae=S.min.y;Ae<=S.max.y;Ae++)for(var Ue=S.min.x;Ue<=S.max.x;Ue++){var At=new z(Ue,Ae);if(At.z=this._tileZoom,!!this._isValidTile(At)){var Lt=this._tiles[this._tileCoordsToKey(At)];Lt?Lt.current=!0:Y.push(At)}}if(Y.sort(function(an,da){return an.distanceTo(T)-da.distanceTo(T)}),Y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var gn=document.createDocumentFragment();for(Ue=0;Ue<Y.length;Ue++)this._addTile(Y[Ue],gn);this._level.el.appendChild(gn)}}}},_isValidTile:function(i){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(i.x<h.min.x||i.x>h.max.x)||!l.wrapLat&&(i.y<h.min.y||i.y>h.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(i);return le(this.options.bounds).overlaps(g)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var l=this._map,h=this.getTileSize(),g=i.scaleBy(h),S=g.add(h),T=l.unproject(g,i.z),Y=l.unproject(S,i.z);return[T,Y]},_tileCoordsToBounds:function(i){var l=this._tileCoordsToNwSe(i),h=new se(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var l=i.split(":"),h=new z(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(i){var l=this._tiles[i];l&&(ft(l.el),delete this._tiles[i],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){qe(i,"leaflet-tile");var l=this.getTileSize();i.style.width=l.x+"px",i.style.height=l.y+"px",i.onselectstart=w,i.onmousemove=w,Le.ielt9&&this.options.opacity<1&&nn(i,this.options.opacity)},_addTile:function(i,l){var h=this._getTilePos(i),g=this._tileCoordsToKey(i),S=this.createTile(this._wrapCoords(i),d(this._tileReady,this,i));this._initTile(S),this.createTile.length<2&&W(d(this._tileReady,this,i,null,S)),Et(S,h),this._tiles[g]={el:S,coords:i,current:!0},l.appendChild(S),this.fire("tileloadstart",{tile:S,coords:i})},_tileReady:function(i,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:i});var g=this._tileCoordsToKey(i);h=this._tiles[g],h&&(h.loaded=+new Date,this._map._fadeAnimated?(nn(h.el,0),re(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(qe(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Le.ielt9||!this._map._fadeAnimated?W(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var l=new z(this._wrapX?x(i.x,this._wrapX):i.x,this._wrapY?x(i.y,this._wrapY):i.y);return l.z=i.z,l},_pxBoundsToTileRange:function(i){var l=this.getTileSize();return new M(i.min.unscaleBy(l).floor(),i.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function oa(i){return new Vr(i)}var Gr=Vr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,l){this._url=i,l=E(this,l),l.detectRetina&&Le.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,l){return this._url===i&&l===void 0&&(l=!0),this._url=i,l||this.redraw(),this},createTile:function(i,l){var h=document.createElement("img");return $e(h,"load",d(this._tileOnLoad,this,l,h)),$e(h,"error",d(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(i),h},getTileUrl:function(i){var l={r:Le.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-i.y;this.options.tms&&(l.y=h),l["-y"]=h}return A(this._url,o(l,this.options))},_tileOnLoad:function(i,l){Le.ielt9?setTimeout(d(i,this,null,l),0):i(null,l)},_tileOnError:function(i,l,h){var g=this.options.errorTileUrl;g&&l.getAttribute("src")!==g&&(l.src=g),i(h,l)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,g=this.options.zoomOffset;return h&&(i=l-i),i+g},_getSubdomain:function(i){var l=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var i,l;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(l=this._tiles[i].el,l.onload=w,l.onerror=w,!l.complete)){l.src=D;var h=this._tiles[i].coords;ft(l),delete this._tiles[i],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(i){var l=this._tiles[i];if(l)return l.el.setAttribute("src",D),Vr.prototype._removeTile.call(this,i)},_tileReady:function(i,l,h){if(!(!this._map||h&&h.getAttribute("src")===D))return Vr.prototype._tileReady.call(this,i,l,h)}});function vl(i,l){return new Gr(i,l)}var es=Gr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,l){this._url=i;var h=o({},this.defaultWmsParams);for(var g in l)g in this.options||(h[g]=l[g]);l=E(this,l);var S=l.detectRetina&&Le.retina?2:1,T=this.getTileSize();h.width=T.x*S,h.height=T.y*S,this.wmsParams=h},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Gr.prototype.onAdd.call(this,i)},getTileUrl:function(i){var l=this._tileCoordsToNwSe(i),h=this._crs,g=U(h.project(l[0]),h.project(l[1])),S=g.min,T=g.max,Y=(this._wmsVersion>=1.3&&this._crs===ec?[S.y,S.x,T.y,T.x]:[S.x,S.y,T.x,T.y]).join(","),ee=Gr.prototype.getTileUrl.call(this,i);return ee+k(this.wmsParams,ee,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Y},setParams:function(i,l){return o(this.wmsParams,i),l||this.redraw(),this}});function lc(i,l){return new es(i,l)}Gr.WMS=es,vl.wms=lc;var or=Yn.extend({options:{padding:.1},initialize:function(i){E(this,i),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),qe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,l){var h=this._map.getZoomScale(l,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,l),T=g.multiplyBy(-h).add(S).subtract(this._map._getNewPixelOrigin(i,l));Le.any3d?qn(this._container,T,h):Et(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-i)).round();this._bounds=new M(h,h.add(l.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),gl=or.extend({options:{tolerance:0},getEvents:function(){var i=or.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){or.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");$e(i,"mousemove",this._onMouseMove,this),$e(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),$e(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){re(this._redrawRequest),delete this._ctx,ft(this._container),at(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var l in this._layers)i=this._layers[l],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){or.prototype._update.call(this);var i=this._bounds,l=this._container,h=i.getSize(),g=Le.retina?2:1;Et(l,i.min),l.width=g*h.x,l.height=g*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",Le.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){or.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[v(i)]=i;var l=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var l=i._order,h=l.next,g=l.prev;h?h.prev=g:this._drawLast=g,g?g.next=h:this._drawFirst=h,delete i._order,delete this._layers[v(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var l=i.options.dashArray.split(/[, ]+/),h=[],g,S;for(S=0;S<l.length;S++){if(g=Number(l[S]),isNaN(g))return;h.push(g)}i.options._dashArray=h}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||W(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var l=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(i._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(i._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var l=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)i=g.layer,(!l||i._pxBounds&&i._pxBounds.intersects(l))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,l){if(this._drawing){var h,g,S,T,Y=i._parts,ee=Y.length,ae=this._ctx;if(ee){for(ae.beginPath(),h=0;h<ee;h++){for(g=0,S=Y[h].length;g<S;g++)T=Y[h][g],ae[g?"lineTo":"moveTo"](T.x,T.y);l&&ae.closePath()}this._fillStroke(ae,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var l=i._point,h=this._ctx,g=Math.max(Math.round(i._radius),1),S=(Math.max(Math.round(i._radiusY),1)||g)/g;S!==1&&(h.save(),h.scale(1,S)),h.beginPath(),h.arc(l.x,l.y/S,g,0,Math.PI*2,!1),S!==1&&h.restore(),this._fillStroke(h,i)}},_fillStroke:function(i,l){var h=l.options;h.fill&&(i.globalAlpha=h.fillOpacity,i.fillStyle=h.fillColor||h.color,i.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(i.setLineDash&&i.setLineDash(l.options&&l.options._dashArray||[]),i.globalAlpha=h.opacity,i.lineWidth=h.weight,i.strokeStyle=h.color,i.lineCap=h.lineCap,i.lineJoin=h.lineJoin,i.stroke())},_onClick:function(i){for(var l=this._map.mouseEventToLayerPoint(i),h,g,S=this._drawFirst;S;S=S.next)h=S.layer,h.options.interactive&&h._containsPoint(l)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(h))&&(g=h);this._fireEvent(g?[g]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,l)}},_handleMouseOut:function(i){var l=this._hoveredLayer;l&&(ut(this._container,"leaflet-interactive"),this._fireEvent([l],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,l){if(!this._mouseHoverThrottled){for(var h,g,S=this._drawFirst;S;S=S.next)h=S.layer,h.options.interactive&&h._containsPoint(l)&&(g=h);g!==this._hoveredLayer&&(this._handleMouseOut(i),g&&(qe(this._container,"leaflet-interactive"),this._fireEvent([g],i,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,l,h){this._map._fireDOMEvent(l,h||l.type,i)},_bringToFront:function(i){var l=i._order;if(l){var h=l.next,g=l.prev;if(h)h.prev=g;else return;g?g.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(i)}},_bringToBack:function(i){var l=i._order;if(l){var h=l.next,g=l.prev;if(g)g.next=h;else return;h?h.prev=g:g&&(this._drawLast=g),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(i)}}});function yl(i){return Le.canvas?new gl(i):null}var la=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),uc={_initContainer:function(){this._container=We("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(or.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var l=i._container=la("shape");qe(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",i._path=la("path"),l.appendChild(i._path),this._updateStyle(i),this._layers[v(i)]=i},_addPath:function(i){var l=i._container;this._container.appendChild(l),i.options.interactive&&i.addInteractiveTarget(l)},_removePath:function(i){var l=i._container;ft(l),i.removeInteractiveTarget(l),delete this._layers[v(i)]},_updateStyle:function(i){var l=i._stroke,h=i._fill,g=i.options,S=i._container;S.stroked=!!g.stroke,S.filled=!!g.fill,g.stroke?(l||(l=i._stroke=la("stroke")),S.appendChild(l),l.weight=g.weight+"px",l.color=g.color,l.opacity=g.opacity,g.dashArray?l.dashStyle=I(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=g.lineCap.replace("butt","flat"),l.joinstyle=g.lineJoin):l&&(S.removeChild(l),i._stroke=null),g.fill?(h||(h=i._fill=la("fill")),S.appendChild(h),h.color=g.fillColor||g.color,h.opacity=g.fillOpacity):h&&(S.removeChild(h),i._fill=null)},_updateCircle:function(i){var l=i._point.round(),h=Math.round(i._radius),g=Math.round(i._radiusY||h);this._setPath(i,i._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+g+" 0,"+65535*360)},_setPath:function(i,l){i._path.v=l},_bringToFront:function(i){Vi(i._container)},_bringToBack:function(i){Er(i._container)}},Vn=Le.vml?la:Ve,xi=or.extend({_initContainer:function(){this._container=Vn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Vn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ft(this._container),at(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){or.prototype._update.call(this);var i=this._bounds,l=i.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),Et(h,i.min),h.setAttribute("viewBox",[i.min.x,i.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(i){var l=i._path=Vn("path");i.options.className&&qe(l,i.options.className),i.options.interactive&&qe(l,"leaflet-interactive"),this._updateStyle(i),this._layers[v(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){ft(i._path),i.removeInteractiveTarget(i._path),delete this._layers[v(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var l=i._path,h=i.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(i,l){this._setPath(i,Fn(i._parts,l))},_updateCircle:function(i){var l=i._point,h=Math.max(Math.round(i._radius),1),g=Math.max(Math.round(i._radiusY),1)||h,S="a"+h+","+g+" 0 1,0 ",T=i._empty()?"M0 0":"M"+(l.x-h)+","+l.y+S+h*2+",0 "+S+-h*2+",0 ";this._setPath(i,T)},_setPath:function(i,l){i._path.setAttribute("d",l)},_bringToFront:function(i){Vi(i._path)},_bringToBack:function(i){Er(i._path)}});Le.vml&&xi.include(uc);function no(i){return Le.svg||Le.vml?new xi(i):null}Ge.include({getRenderer:function(i){var l=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var l=this._paneRenderers[i];return l===void 0&&(l=this._createRenderer({pane:i}),this._paneRenderers[i]=l),l},_createRenderer:function(i){return this.options.preferCanvas&&yl(i)||no(i)}});var cc=Tr.extend({initialize:function(i,l){Tr.prototype.initialize.call(this,this._boundsToLatLngs(i),l)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=le(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Af(i,l){return new cc(i,l)}xi.create=Vn,xi.pointsToPath=Fn,ar.geometryToLayer=ra,ar.coordsToLatLng=Ks,ar.coordsToLatLngs=Ja,ar.latLngToCoords=Xs,ar.latLngsToCoords=Js,ar.getFeature=ia,ar.asFeature=Qs,Ge.mergeOptions({boxZoom:!0});var ua=En.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){$e(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){at(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Xe(),Is(),this._startPoint=this._map.mouseEventToContainerPoint(i),$e(document,{contextmenu:Un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=We("div","leaflet-zoom-box",this._container),qe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var l=new M(this._point,this._startPoint),h=l.getSize();Et(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(ft(this._box),ut(this._container,"leaflet-crosshair")),Xi(),Fs(),at(document,{contextmenu:Un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var l=new se(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ge.addInitHook("addHandler","boxZoom",ua),Ge.mergeOptions({doubleClickZoom:!0});var dc=En.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var l=this._map,h=l.getZoom(),g=l.options.zoomDelta,S=i.originalEvent.shiftKey?h-g:h+g;l.options.doubleClickZoom==="center"?l.setZoom(S):l.setZoomAround(i.containerPoint,S)}});Ge.addInitHook("addHandler","doubleClickZoom",dc),Ge.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _l=En.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Hn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}qe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ut(this._map._container,"leaflet-grab"),ut(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=le(this._map.options.maxBounds);this._offsetLimit=U(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,l){return i-(i-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;i.x<l.min.x&&(i.x=this._viscousLimit(i.x,l.min.x)),i.y<l.min.y&&(i.y=this._viscousLimit(i.y,l.min.y)),i.x>l.max.x&&(i.x=this._viscousLimit(i.x,l.max.x)),i.y>l.max.y&&(i.y=this._viscousLimit(i.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,l=Math.round(i/2),h=this._initialWorldOffset,g=this._draggable._newPos.x,S=(g-l+h)%i+l-h,T=(g+l+h)%i-l-h,Y=Math.abs(S+h)<Math.abs(T+h)?S:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Y},_onDragEnd:function(i){var l=this._map,h=l.options,g=!h.inertia||i.noInertia||this._times.length<2;if(l.fire("dragend",i),g)l.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,Y=h.easeLinearity,ee=S.multiplyBy(Y/T),ae=ee.distanceTo([0,0]),de=Math.min(h.inertiaMaxSpeed,ae),Se=ee.multiplyBy(de/ae),Ae=de/(h.inertiaDeceleration*Y),Ue=Se.multiplyBy(-Ae/2).round();!Ue.x&&!Ue.y?l.fire("moveend"):(Ue=l._limitOffset(Ue,l.options.maxBounds),W(function(){l.panBy(Ue,{duration:Ae,easeLinearity:Y,noMoveStart:!0,animate:!0})}))}}});Ge.addInitHook("addHandler","dragging",_l),Ge.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xl=En.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),$e(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),at(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,l=document.documentElement,h=i.scrollTop||l.scrollTop,g=i.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(g,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var l=this._panKeys={},h=this.keyCodes,g,S;for(g=0,S=h.left.length;g<S;g++)l[h.left[g]]=[-1*i,0];for(g=0,S=h.right.length;g<S;g++)l[h.right[g]]=[i,0];for(g=0,S=h.down.length;g<S;g++)l[h.down[g]]=[0,i];for(g=0,S=h.up.length;g<S;g++)l[h.up[g]]=[0,-1*i]},_setZoomDelta:function(i){var l=this._zoomKeys={},h=this.keyCodes,g,S;for(g=0,S=h.zoomIn.length;g<S;g++)l[h.zoomIn[g]]=i;for(g=0,S=h.zoomOut.length;g<S;g++)l[h.zoomOut[g]]=-i},_addHooks:function(){$e(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){at(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var l=i.keyCode,h=this._map,g;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(g=this._panKeys[l],i.shiftKey&&(g=Q(g).multiplyBy(3)),h.options.maxBounds&&(g=h._limitOffset(Q(g),h.options.maxBounds)),h.options.worldCopyJump){var S=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(g)));h.panTo(S)}else h.panBy(g)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Un(i)}}});Ge.addInitHook("addHandler","keyboard",xl),Ge.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var st=En.extend({addHooks:function(){$e(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){at(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var l=Yu(i),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var g=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),g),Un(i)},_performZoom:function(){var i=this._map,l=i.getZoom(),h=this._map.options.zoomSnap||0;i._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,T=h?Math.ceil(S/h)*h:S,Y=i._limitZoom(l+(this._delta>0?T:-T))-l;this._delta=0,this._startTime=null,Y&&(i.options.scrollWheelZoom==="center"?i.setZoom(l+Y):i.setZoomAround(this._lastMousePos,l+Y))}});Ge.addInitHook("addHandler","scrollWheelZoom",st);var wl=600;Ge.mergeOptions({tapHold:Le.touchNative&&Le.safari&&Le.mobile,tapTolerance:15});var ts=En.extend({addHooks:function(){$e(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){at(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var l=i.touches[0];this._startPos=this._newPos=new z(l.clientX,l.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&($e(document,"touchend",bt),$e(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),wl),$e(document,"touchend touchcancel contextmenu",this._cancel,this),$e(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){at(document,"touchend",bt),at(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),at(document,"touchend touchcancel contextmenu",this._cancel,this),at(document,"touchmove",this._onMove,this)},_onMove:function(i){var l=i.touches[0];this._newPos=new z(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,l){var h=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Ge.addInitHook("addHandler","tapHold",ts),Ge.mergeOptions({touchZoom:Le.touch,bounceAtZoomLimits:!0});var ca=En.extend({addHooks:function(){qe(this._map._container,"leaflet-touch-zoom"),$e(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),at(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var l=this._map;if(!(!i.touches||i.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(i.touches[0]),g=l.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(g)._divideBy(2))),this._startDist=h.distanceTo(g),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),$e(document,"touchmove",this._onTouchMove,this),$e(document,"touchend touchcancel",this._onTouchEnd,this),bt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(i.touches[0]),g=l.mouseEventToContainerPoint(i.touches[1]),S=h.distanceTo(g)/this._startDist;if(this._zoom=l.getScaleZoom(S,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&S<1||this._zoom>l.getMaxZoom()&&S>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var T=h._add(g)._divideBy(2)._subtract(this._centerPoint);if(S===1&&T.x===0&&T.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),re(this._animRequest);var Y=d(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=W(Y,this,!0),bt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,re(this._animRequest),at(document,"touchmove",this._onTouchMove,this),at(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ge.addInitHook("addHandler","touchZoom",ca),Ge.BoxZoom=ua,Ge.DoubleClickZoom=dc,Ge.Drag=_l,Ge.Keyboard=xl,Ge.ScrollWheelZoom=st,Ge.TapHold=ts,Ge.TouchZoom=ca,n.Bounds=M,n.Browser=Le,n.CRS=je,n.Canvas=gl,n.Circle=Vs,n.CircleMarker=Zs,n.Class=ce,n.Control=mn,n.DivIcon=to,n.DivOverlay=sr,n.DomEvent=qs,n.DomUtil=Ya,n.Draggable=Hn,n.Evented=xe,n.FeatureGroup=kr,n.GeoJSON=ar,n.GridLayer=Vr,n.Handler=En,n.Icon=_i,n.ImageOverlay=Zr,n.LatLng=ue,n.LatLngBounds=se,n.Layer=Yn,n.LayerGroup=Hr,n.LineUtil=Qu,n.Map=Ge,n.Marker=jr,n.Mixin=il,n.Path=Yr,n.Point=z,n.PolyUtil=Pf,n.Polygon=Tr,n.Polyline=vn,n.Popup=eo,n.PosAnimation=Ws,n.Projection=Of,n.Rectangle=cc,n.Renderer=or,n.SVG=xi,n.SVGOverlay=pl,n.TileLayer=Gr,n.Tooltip=sa,n.Transformation=rt,n.Util=J,n.VideoOverlay=hl,n.bind=d,n.bounds=U,n.canvas=yl,n.circle=Xa,n.circleMarker=rc,n.control=Ur,n.divIcon=oc,n.extend=o,n.featureGroup=tc,n.geoJSON=ic,n.geoJson=Zn,n.gridLayer=oa,n.icon=nc,n.imageOverlay=ac,n.latLng=fe,n.latLngBounds=le,n.layerGroup=Ka,n.map=Wr,n.marker=Lf,n.point=Q,n.polygon=zf,n.polyline=Rf,n.popup=aa,n.rectangle=Af,n.setOptions=E,n.stamp=v,n.svg=no,n.svgOverlay=ml,n.tileLayer=vl,n.tooltip=Qa,n.transformation=gt,n.version=a,n.videoOverlay=sc;var fc=window.L;n.noConflict=function(){return window.L=fc,this},window.L=n}))})(Yl,Yl.exports)),Yl.exports}var Mu=g3();const FP=fn(Mu);function w_(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function b_(e,t){return t==null?function(a,o){const c=R.useRef();return c.current||(c.current=e(a,o)),c}:function(a,o){const c=R.useRef();c.current||(c.current=e(a,o));const d=R.useRef(a),{instance:m}=c.current;return R.useEffect(function(){d.current!==a&&(t(m,a,d.current),d.current=a)},[m,a,o]),c}}function y3(e,t){R.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function $P(e){return function(n){const a=__(),o=e(x_(n,a),a);return RP(a.map,n.attribution),IP(o.current,n.eventHandlers),y3(o.current,a),o}}function _3(e,t){const n=b_(e,t),a=$P(n);return f3(a)}function x3(e,t){const n=b_(e),a=m3(n,t);return h3(a)}function w3(e,t){const n=b_(e,t),a=$P(n);return p3(a)}function b3(e,t,n){const{opacity:a,zIndex:o}=t;a!=null&&a!==n.opacity&&e.setOpacity(a),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function BP(){return __().map}function iy(){return iy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},iy.apply(this,arguments)}function S3({bounds:e,boundsOptions:t,center:n,children:a,className:o,id:c,placeholder:d,style:m,whenReady:v,zoom:_,...x},w){const[N]=R.useState({className:o,id:c,style:m}),[P,C]=R.useState(null);R.useImperativeHandle(w,()=>P?.map??null,[P]);const E=R.useCallback(O=>{if(O!==null&&P===null){const A=new Mu.Map(O,x);n!=null&&_!=null?A.setView(n,_):e!=null&&A.fitBounds(e,t),v!=null&&A.whenReady(v),C(c3(A))}},[]);R.useEffect(()=>()=>{P?.map.remove()},[P]);const k=P?X.createElement(AP,{value:P},a):d??null;return X.createElement("div",iy({},N,{ref:E}),k)}const qP=R.forwardRef(S3),WP=_3(function({position:t,...n},a){const o=new Mu.Marker(t,n);return w_(o,d3(a,{overlayContainer:o}))},function(t,n,a){n.position!==a.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==a.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==a.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==a.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),UP=x3(function(t,n){const a=new Mu.Popup(t,n.overlayContainer);return w_(a,n)},function(t,n,{position:a},o){R.useEffect(function(){const{instance:d}=t;function m(_){_.popup===d&&(d.update(),o(!0))}function v(_){_.popup===d&&o(!1)}return n.map.on({popupopen:m,popupclose:v}),n.overlayContainer==null?(a!=null&&d.setLatLng(a),d.openOn(n.map)):n.overlayContainer.bindPopup(d),function(){n.map.off({popupopen:m,popupclose:v}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(d)}},[t,n,o,a])}),HP=w3(function({url:t,...n},a){const o=new Mu.TileLayer(t,x_(n,a));return w_(o,a)},function(t,n,a){b3(t,n,a);const{url:o}=n;o!=null&&o!==a.url&&t.setUrl(o)});function N3({coords:e}){const t=BP();return R.useEffect(()=>{t.setView(e)},[e,t]),null}function E3(){const{id:e}=cy(),[t,n]=R.useState(null),{user:a,token:o}=Mt(),[c,d]=R.useState(!0),[m,v]=R.useState(!1),[_,x]=R.useState(null),[w,N]=R.useState(!1),[P,C]=R.useState(""),[E,k]=R.useState([45.4642,9.19]),[O,A]=R.useState(null),[I,F]=R.useState(null),[D,B]=R.useState([]),[Z,H]=R.useState(!1),[G,$]=R.useState([]),W=In(),{setNotification:re}=Bt();R.useEffect(()=>{a&&o&&fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${o}`}}).then(z=>z.json()).then(z=>{const ne=z.find(Q=>String(Q.id)===String(e));n(ne),x(ne),d(!1),ne?.indirizzo&&fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(ne.indirizzo)}`).then(Q=>Q.json()).then(Q=>{Q&&Q.length>0&&k([parseFloat(Q[0].lat),parseFloat(Q[0].lon)])})})},[e]),R.useEffect(()=>{a&&o&&fetch(`${Ee}/api/posizioni`,{headers:{Authorization:`Bearer ${o}`}}).then(z=>z.json()).then(z=>B(z))},[]);function J(z,ne,Q,M){const se=(Q-z)*Math.PI/180,le=(M-ne)*Math.PI/180,ue=Math.sin(se/2)*Math.sin(se/2)+Math.cos(z*Math.PI/180)*Math.cos(Q*Math.PI/180)*Math.sin(le/2)*Math.sin(le/2);return 6371*(2*Math.atan2(Math.sqrt(ue),Math.sqrt(1-ue)))}R.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(z=>A([z.coords.latitude,z.coords.longitude]),()=>A(null))},[]),R.useEffect(()=>{if(O&&E){const z=J(O[0],O[1],E[0],E[1]);F(z)}},[O,E]);const ce=z=>{const{name:ne,value:Q}=z.target;x(M=>({...M,[ne]:Q}))},ge=async z=>{z.preventDefault(),N(!0),C("");try{if(!a||!o)throw new Error("Non autenticato");await fetch(`${Ee}/api/spedizioni/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(_)}),n(_),v(!1)}catch{C("Errore nel salvataggio")}finally{N(!1)}};if(R.useEffect(()=>{if(a&&o){let z=!0,ne=0;const Q=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${o}`}}).then(U=>U.json()).then(U=>{z&&(ne>0&&U.length>ne&&U.slice(ne).forEach(le=>{re({text:`${le.sender?.nome}: ${le.text}`})}),ne=U.length)})};Q();const M=setInterval(Q,2e3);return()=>{z=!1,clearInterval(M)}}},[re,a,o]),c)return f.jsx("div",{className:"p-8",children:"Caricamento..."});if(!t)return f.jsx("div",{className:"p-8 text-red-600",children:"Spedizione non trovata"});const me=a&&(a.role==="admin"||a.role==="pianificatore"||t?.richiedente&&t.richiedente.mail===a.mail),xe=Z?f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-40",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-lg relative border border-blue-100",children:[f.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-blue-700 text-2xl font-bold px-2 py-1 rounded transition",onClick:()=>H(!1),"aria-label":"Chiudi",children:"×"}),f.jsxs("h2",{className:"text-xl font-bold text-blue-700 mb-4",children:["Spedizioni attive di ",t?.autista?.nome]}),G.length===0?f.jsx("div",{className:"text-gray-500",children:"Nessuna spedizione attiva assegnata"}):f.jsx("ul",{className:"divide-y divide-blue-100",children:G.map(z=>f.jsxs("li",{className:"py-3 flex flex-col gap-1 cursor-pointer hover:bg-blue-50 rounded transition",onClick:()=>{H(!1),W(`/spedizioni/${z.id}`)},children:[f.jsx("span",{className:"font-semibold text-blue-700",children:z.aziendaDestinazione}),f.jsx("span",{className:"text-sm text-gray-600",children:z.indirizzo}),f.jsxs("span",{className:"text-xs text-gray-500",children:["Status: ",z.status]}),f.jsxs("span",{className:"text-xs text-gray-500",children:["Data pianificata: ",z.dataPianificata?new Date(z.dataPianificata).toLocaleString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"]})]},z.id))})]})}):null;return f.jsxs(f.Fragment,{children:[xe,f.jsxs("div",{className:"p-6",children:[f.jsx("button",{onClick:()=>W(-1),className:"mb-4 text-blue-600",children:"← Indietro"}),f.jsxs("div",{className:"flex justify-between items-center bg-blue-700 text-white rounded-t-lg p-6 mb-6",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-xs uppercase font-bold mb-2",children:t.tipo?.split(",").map(z=>z.charAt(0).toUpperCase()+z.slice(1)).join(", ")}),f.jsx("h1",{className:"text-3xl font-bold mb-1",children:t.aziendaDestinazione}),f.jsx("div",{className:"text-lg mb-2",children:t.aziendaDestinazione}),f.jsx("div",{className:"mb-2 flex gap-2 items-center",children:["In attesa","In consegna","Fallita","Consegnata","Completata"].map(z=>f.jsx("button",{type:"button",className:`px-3 py-1 rounded-full text-xs font-semibold border focus:outline-none transition-all duration-100 ${t.status===z||z==="Completata"&&t.status==="Consegnata"?z==="Fallita"?"bg-red-100 text-red-700 border-red-300":z==="In consegna"?"bg-orange-100 text-orange-700 border-orange-300":z==="Consegnata"||z==="Completata"?"bg-green-100 text-green-700 border-green-300":"bg-blue-100 text-blue-700 border-blue-300":"bg-white text-gray-400 border-gray-200 hover:bg-gray-100 hover:text-gray-700"}
                  `,onClick:async()=>{if(m)x(ne=>({...ne,status:z}));else{N(!0),C("");try{if(!a||!o)throw new Error("Non autenticato");const ne={...t,status:z};await fetch(`${Ee}/api/spedizioni/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(ne)}),n(ne)}catch{C("Errore nel salvataggio stato")}finally{N(!1)}}},disabled:w,children:z},z))}),f.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[f.jsx("span",{className:"material-icons text-yellow-400 align-middle",children:"event_note"}),f.jsx("span",{className:"font-semibold",children:"Da pianificare:"}),f.jsx("span",{className:t.daPianificare?"bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full text-xs font-bold":"bg-gray-100 text-gray-500 px-2 py-1 rounded-full text-xs font-bold",children:t.daPianificare?"Sì":"No"})]}),f.jsxs("div",{className:"mt-4 text-lg font-semibold",children:["Richiesta da",f.jsx("br",{}),f.jsx("span",{className:"text-white font-normal",children:t.richiedente?.nome})]})]}),me&&f.jsx("button",{onClick:()=>v(!0),className:"bg-white text-blue-700 px-4 py-2 rounded font-semibold shadow hover:bg-blue-50",children:"Modifica"})]}),m&&me&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:f.jsxs("div",{className:"bg-white rounded shadow p-6 mb-6 flex flex-col gap-4 max-w-2xl w-full relative",children:[f.jsx("button",{type:"button",className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 text-xl",onClick:()=>v(!1),disabled:w,"aria-label":"Chiudi",children:"×"}),f.jsxs("form",{onSubmit:ge,children:[P&&f.jsx("div",{className:"text-red-600",children:P}),f.jsxs("label",{className:"font-semibold",children:["Destinazione",f.jsxs("select",{name:"indirizzo",value:_.indirizzo||"",onChange:z=>{const ne=D.find(Q=>Q.indirizzo===z.target.value);x(Q=>({...Q,indirizzo:ne?ne.indirizzo:z.target.value,aziendaDestinazione:ne?ne.azienda:Q.aziendaDestinazione}))},className:"border p-2 rounded w-full mt-1",required:!0,children:[f.jsx("option",{value:"",children:"Seleziona destinazione..."}),D.map((z,ne)=>f.jsxs("option",{value:z.indirizzo,children:[z.azienda," - ",z.indirizzo]},ne))]})]}),f.jsxs("label",{className:"font-semibold",children:["Tipo",f.jsxs("select",{name:"tipo",value:_.tipo||"",onChange:ce,className:"border p-2 rounded w-full mt-1",children:[f.jsx("option",{value:"consegna",children:"Consegna"}),f.jsx("option",{value:"ritiro",children:"Ritiro"}),f.jsx("option",{value:"entrambi",children:"Entrambi"})]})]}),f.jsxs("label",{className:"font-semibold",children:["Status",f.jsxs("select",{name:"status",value:_.status||"",onChange:ce,className:"border p-2 rounded w-full mt-1",children:[f.jsx("option",{value:"In attesa",children:"In attesa"}),f.jsx("option",{value:"In consegna",children:"In consegna"}),f.jsx("option",{value:"Consegnata",children:"Consegnata"}),f.jsx("option",{value:"Fallita",children:"Fallita"})]})]}),a?.role==="admin"&&f.jsxs("label",{className:"font-semibold flex items-center gap-2",children:["Da pianificare",f.jsx("input",{name:"daPianificare",type:"checkbox",checked:_.daPianificare,onChange:z=>x(ne=>({...ne,daPianificare:z.target.checked}))}),f.jsx("span",{className:_.daPianificare?"bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full text-xs font-bold":"bg-gray-100 text-gray-500 px-2 py-1 rounded-full text-xs font-bold",children:_.daPianificare?"Sì":"No"})]}),f.jsxs("label",{className:"font-semibold",children:["Data richiesta",f.jsx("input",{name:"dataRichiesta",type:"datetime-local",value:_.dataRichiesta?_.dataRichiesta.slice(0,16):"",onChange:ce,className:"border p-2 rounded w-full mt-1"})]}),f.jsxs("label",{className:"font-semibold",children:["Data pianificata",f.jsx("input",{name:"dataPianificata",type:"datetime-local",value:_.dataPianificata?_.dataPianificata.slice(0,16):"",onChange:ce,className:"border p-2 rounded w-full mt-1"})]}),f.jsxs("label",{className:"font-semibold",children:["Note",f.jsx("textarea",{name:"note",value:_.note||"",onChange:ce,className:"border p-2 rounded w-full mt-1",rows:3,placeholder:"Inserisci eventuali note..."})]}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[f.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",disabled:w,children:"Salva"}),f.jsx("button",{type:"button",className:"bg-gray-400 text-white px-4 py-2 rounded",onClick:()=>v(!1),disabled:w,children:"Annulla"})]})]})]})}),!m&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-white rounded shadow p-6 mb-6 flex flex-col md:flex-row gap-6",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h2",{className:"text-2xl font-bold mb-2",children:t.aziendaDestinazione}),f.jsxs("div",{className:"mb-2 text-sm text-gray-700 font-semibold flex items-center gap-2",children:[f.jsx("span",{className:"material-icons text-gray-400 align-middle",children:"location_on"}),f.jsxs("span",{children:[f.jsx("b",{children:"Indirizzo"}),f.jsx("br",{}),f.jsx("span",{className:"text-gray-600 font-normal",children:t.indirizzo})]})]}),f.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[f.jsx("span",{className:"material-icons text-gray-400 align-middle",children:"category"}),f.jsxs("span",{children:["Tipo: ",f.jsx("b",{children:t.tipo})]})]}),f.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[f.jsx("span",{className:"material-icons text-gray-400 align-middle",children:"straighten"}),f.jsxs("span",{children:["Distanza: ",f.jsx("span",{className:"text-gray-500",children:I!==null?I.toFixed(2)+" km":"..."})]})]}),f.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[f.jsx("span",{className:"material-icons text-gray-400 align-middle",children:"event"}),f.jsxs("span",{children:["Data assegnata: ",t.dataPianificata?new Date(t.dataPianificata).toLocaleString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"]})]}),f.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[f.jsx("span",{className:"material-icons text-gray-400 align-middle",children:"event_available"}),f.jsxs("span",{children:["Data richiesta: ",t.dataRichiesta?new Date(t.dataRichiesta).toLocaleString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"]})]}),f.jsxs("div",{className:"mt-4 bg-gray-50 rounded p-3 flex items-start gap-2",children:[f.jsx("span",{className:"material-icons text-gray-400 align-middle",children:"chat_bubble_outline"}),f.jsx("div",{className:"whitespace-pre-wrap break-words",children:t.note||"Nessuna nota"})]})]}),f.jsx("div",{className:"flex-1 flex items-center justify-center",children:f.jsx("div",{className:"w-full h-56 bg-gray-100 rounded flex items-center justify-center",children:f.jsxs(qP,{center:E,zoom:13,style:{height:"220px",width:"100%",borderRadius:"0.5rem"},scrollWheelZoom:!1,children:[f.jsx(N3,{coords:E}),f.jsx(HP,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),f.jsx(WP,{position:E,icon:FP.icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),children:f.jsxs(UP,{children:[t.aziendaDestinazione,f.jsx("br",{}),t.indirizzo]})})]})})})]}),f.jsx("div",{className:"bg-white rounded shadow p-6 mb-6",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-stretch gap-6",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-bold text-lg mb-2",children:"Informazioni Veicolo"}),f.jsx("div",{className:"text-gray-500 text-sm font-semibold mb-1",children:"Note"}),f.jsx("div",{className:"mb-2 text-base text-black whitespace-pre-wrap break-words",children:t.note||"-"})]}),f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[f.jsx("div",{className:"text-xs font-bold text-blue-700 mb-1",children:"AUTISTA"}),f.jsx("div",{className:"text-2xl font-bold mb-2 text-black text-center",children:t.autista&&t.autista.nome?t.autista.nome:f.jsx("span",{className:"text-gray-400 text-base",children:"Nessun autista assegnato"})}),f.jsxs("button",{className:"bg-blue-50 hover:bg-blue-100 text-blue-700 px-8 py-3 rounded-lg font-semibold shadow flex flex-col items-center gap-1 transition-all duration-150 mt-2",style:{minWidth:"180px"},onClick:async()=>{if(!t.autista||!t.autista.id||!a||!o)return;const Q=(await(await fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${o}`}})).json()).filter(M=>M.autista&&M.autista.id===t.autista.id&&["In attesa","In consegna"].includes(M.status));$(Q),H(!0)},disabled:!t.autista||!t.autista.id,children:[f.jsx("span",{className:"material-icons text-blue-700 text-2xl",children:"person"}),f.jsx("span",{className:"text-xs font-medium",children:"Info Autista"})]})]})]})}),f.jsxs("div",{className:"bg-white rounded shadow p-6 mb-6",children:[f.jsx("h3",{className:"font-bold text-lg mb-2",children:"Conferma Consegna"}),f.jsxs("div",{className:"mb-2",children:["Foto",f.jsx("br",{}),t.fotoConferma?f.jsx("img",{src:t.fotoConferma,alt:"Foto conferma",className:"max-w-xs rounded"}):f.jsx("img",{src:"https://placehold.co/100x100?text=Foto",alt:"Placeholder",className:"max-w-xs rounded border"})]}),f.jsxs("div",{className:"mb-2",children:["Firma",f.jsx("br",{}),f.jsx("input",{type:"text",disabled:!0,className:"border p-2 rounded w-full"})]})]})]})]})]})}function P3(){const{id:e}=cy(),[t,n]=R.useState(null),{user:a,token:o}=Mt(),[c,d]=R.useState(!0),[m,v]=R.useState(!1),[_,x]=R.useState(""),w=In(),{setNotification:N}=Bt();R.useEffect(()=>{a&&o&&fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${o}`}}).then(C=>C.json()).then(C=>{const E=C.find(k=>String(k.id)===String(e));n(E),d(!1)})},[e,a,o]);const P=async C=>{v(!0),x("");try{if(!a||!o)throw new Error("Non autenticato");const E={...t,status:C};await fetch(`${Ee}/api/spedizioni/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(E)}),n(E),N({text:`Stato aggiornato a ${C}`})}catch{x("Errore nel salvataggio stato")}finally{v(!1)}};return c?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Caricamento spedizione..."})]})}):t?f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx("div",{className:"bg-white shadow-sm border-b px-4 py-2 fixed top-0 left-0 w-full z-20",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"text-sm text-gray-600",children:["Benvenuto, ",f.jsx("span",{className:"font-medium",children:a?.nome})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{onClick:()=>w(-1),className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-1 rounded font-semibold shadow","aria-label":"Indietro",children:[f.jsx("span",{className:"material-icons text-base align-middle mr-1",children:"arrow_back"}),"Indietro"]}),f.jsx("button",{onClick:()=>{window.confirm("Vuoi disconnetterti?")&&w("/login")},className:"text-xs text-red-600 hover:text-red-800 font-medium",children:"Disconnetti"})]})]})}),f.jsx("main",{className:"pt-[48px] p-4",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("span",{className:"text-3xl",children:(t.tipo==="consegna"||t.tipo==="ritiro","")}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h1",{className:"text-xl font-bold text-gray-800 mb-1",children:t.aziendaDestinazione}),f.jsxs("div",{className:"text-xs text-gray-500 mb-1 font-semibold",children:["Tipo: ",t.tipo?t.tipo.charAt(0).toUpperCase()+t.tipo.slice(1):"-"]}),f.jsxs("div",{className:"text-gray-500 text-sm flex items-center gap-2",children:[f.jsx("span",{children:t.indirizzo}),f.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(t.indirizzo)}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-xs flex items-center gap-1",title:"Apri mappa",children:f.jsx("span",{className:"material-icons text-xl",children:"location_on"})})]}),t.telefonoDestinazione&&f.jsxs("div",{className:"text-xs text-gray-700 flex items-center gap-1 mt-1",children:[f.jsx("span",{className:"material-icons text-sm text-gray-400",children:"call"}),f.jsx("a",{href:`tel:${t.telefonoDestinazione}`,className:"text-blue-600 underline",children:t.telefonoDestinazione})]}),t.emailDestinazione&&f.jsxs("div",{className:"text-xs text-gray-700 flex items-center gap-1 mt-1",children:[f.jsx("span",{className:"material-icons text-sm text-gray-400",children:"email"}),f.jsx("a",{href:`mailto:${t.emailDestinazione}`,className:"text-blue-600 underline",children:t.emailDestinazione})]})]})]}),f.jsx("div",{className:"flex gap-2 mb-2",children:f.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${t.status==="In attesa"?"bg-blue-100 text-blue-800":t.status==="In consegna"?"bg-orange-100 text-orange-800":t.status==="Consegnata"?"bg-green-100 text-green-800":t.status==="Fallita"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:t.status})}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 text-xs",children:[f.jsxs("div",{children:[f.jsx("span",{className:"material-icons text-gray-400 text-sm mr-1",children:"schedule"}),f.jsx("span",{className:"text-gray-500",children:"Richiesta: "}),f.jsx("span",{className:"font-medium text-gray-700",children:t.dataRichiesta?new Date(t.dataRichiesta).toLocaleString("it-IT"):"-"})]}),f.jsxs("div",{children:[f.jsx("span",{className:"material-icons text-green-500 text-sm mr-1",children:"event"}),f.jsx("span",{className:"text-gray-500",children:"Pianificata: "}),f.jsx("span",{className:"font-medium text-gray-700",children:t.dataPianificata?new Date(t.dataPianificata).toLocaleString("it-IT"):"-"})]})]}),t.note&&f.jsxs("div",{className:"mb-4 text-base text-gray-700",children:[f.jsx("span",{className:"material-icons text-gray-400 text-lg mr-1 align-top",children:"notes"}),f.jsx("span",{className:"font-semibold",children:"Note:"}),f.jsx("div",{className:"mt-1 whitespace-pre-line bg-gray-100 rounded p-2 text-gray-800 text-sm",children:t.note})]}),t.richiedente&&f.jsxs("div",{className:"mb-2 text-xs text-gray-700 flex items-center",children:[f.jsx("span",{className:"material-icons text-gray-400 text-sm mr-1",children:"person"}),f.jsx("span",{className:"font-semibold",children:"Richiedente:"})," ",t.richiedente.nome]}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[t.status==="In attesa"&&f.jsxs("button",{onClick:()=>P("In consegna"),disabled:m,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white text-xs py-2 px-3 rounded-md font-medium transition-colors flex items-center justify-center gap-1",children:[f.jsx("span",{className:"material-icons text-sm",children:"local_shipping"}),"Inizia consegna"]}),t.status==="In consegna"&&f.jsxs("button",{onClick:()=>P("Consegnata"),disabled:m,className:"flex-1 bg-green-500 hover:bg-green-600 text-white text-xs py-2 px-3 rounded-md font-medium transition-colors flex items-center justify-center gap-1",children:[f.jsx("span",{className:"material-icons text-sm",children:"check_circle"}),"Consegnata"]}),(t.status==="In attesa"||t.status==="In consegna")&&f.jsxs("button",{onClick:()=>{window.confirm("Sei sicuro di voler segnare questa spedizione come fallita?")&&P("Fallita")},disabled:m,className:"bg-red-500 hover:bg-red-600 text-white text-xs py-2 px-3 rounded-md font-medium transition-colors flex items-center justify-center gap-1",children:[f.jsx("span",{className:"material-icons text-sm",children:"error"}),"Fallita"]})]}),_&&f.jsx("div",{className:"text-red-600 text-xs mt-2",children:_})]})})]}):f.jsx("div",{className:"p-8 text-red-600",children:"Spedizione non trovata"})}function C3({coords:e}){const t=BP();return R.useEffect(()=>{t.setView(e)},[e,t]),null}function k3(){const{id:e}=cy(),[t,n]=R.useState(null),[a,o]=R.useState([]),[c,d]=R.useState([45.4642,9.19]),m=In(),{setNotification:v}=Bt(),{user:_,token:x}=Mt();return R.useEffect(()=>{_&&x&&fetch(`${Ee}/api/posizioni`,{headers:{Authorization:`Bearer ${x}`}}).then(w=>w.json()).then(w=>{const N=w.find(P=>String(P.id)===String(e));n(N),N?.indirizzo&&fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(N.indirizzo)}`).then(P=>P.json()).then(P=>{P&&P.length>0&&d([parseFloat(P[0].lat),parseFloat(P[0].lon)])})})},[e]),R.useEffect(()=>{_&&x&&fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${x}`}}).then(w=>w.json()).then(w=>{o(w.filter(N=>N.indirizzo===t?.indirizzo))})},[t]),R.useEffect(()=>{if(_&&x){let w=!0,N=0;const P=()=>{fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${x}`}}).then(E=>E.json()).then(E=>{w&&(N>0&&E.length>N&&E.slice(N).forEach(O=>{v({text:`${O.sender?.nome}: ${O.text}`})}),N=E.length)})};P();const C=setInterval(P,2e3);return()=>{w=!1,clearInterval(C)}}},[v,_,x]),t?f.jsxs("div",{className:"p-8",children:[f.jsx("button",{onClick:()=>m(-1),className:"mb-4 text-blue-600",children:"← Indietro"}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mb-8",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.azienda}),f.jsx("div",{className:"mb-2 text-lg text-gray-700",children:t.indirizzo}),f.jsxs("div",{className:"mb-2 text-sm text-gray-500",children:["Referente: ",t.referente]}),f.jsxs("div",{className:"mb-2 text-sm text-gray-500",children:["Telefono: ",t.telefono]}),f.jsxs("div",{className:"mb-2 text-sm text-gray-500",children:["Email: ",t.email]})]}),f.jsx("div",{className:"flex-1 flex items-center justify-center",children:f.jsx("div",{className:"w-full h-56 bg-gray-100 rounded flex items-center justify-center",children:f.jsxs(qP,{center:c,zoom:13,style:{height:"220px",width:"100%",borderRadius:"0.5rem"},scrollWheelZoom:!1,children:[f.jsx(C3,{coords:c}),f.jsx(HP,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),f.jsx(WP,{position:c,icon:FP.icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),children:f.jsxs(UP,{children:[t.azienda,f.jsx("br",{}),t.indirizzo]})})]})})})]}),f.jsxs("div",{className:"bg-white rounded shadow p-6 mb-6",children:[f.jsx("h2",{className:"font-bold text-xl mb-4",children:"Spedizioni associate"}),a.length===0?f.jsx("div",{className:"text-gray-500",children:"Nessuna spedizione associata a questa posizione."}):f.jsxs("table",{className:"w-full border-separate border-spacing-y-2 table-fixed text-base",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs text-gray-500",children:[f.jsx("th",{className:"text-left",children:"Tipo"}),f.jsx("th",{className:"text-left",children:"Richiedente"}),f.jsx("th",{className:"text-left",children:"Stato"}),f.jsx("th",{className:"text-left",children:"Data richiesta"})]})}),f.jsx("tbody",{children:a.map(w=>f.jsxs("tr",{className:"bg-gray-50 hover:bg-blue-50 rounded shadow-sm cursor-pointer",onClick:()=>m(`/spedizioni/${w.id}`),children:[f.jsx("td",{className:"px-2 py-2",children:w.tipo}),f.jsx("td",{className:"px-2 py-2",children:w.richiedente?.nome||"-"}),f.jsx("td",{className:"px-2 py-2",children:w.status}),f.jsx("td",{className:"px-2 py-2",children:w.dataRichiesta?new Date(w.dataRichiesta).toLocaleString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"})]},w.id))})]})]})]}):f.jsx("div",{className:"p-8",children:"Caricamento posizione..."})}function j3(){const{user:e,token:t}=Mt(),{setNotification:n,sendPushNotification:a,pushNotificationsEnabled:o,requestNotificationPermission:c}=Bt(),d=In(),[m,v]=R.useState([]),[_,x]=R.useState(""),[w,N]=R.useState(!0),[P,C]=R.useState(""),[E,k]=R.useState(!1),O=R.useRef(null);R.useEffect(()=>{(!e||!(e.role==="autista"||e.role==="admin"))&&d("/",{replace:!0})},[e,d]),R.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&k(!0)},[]);const A=async()=>{await c()?(k(!1),n({text:"Notifiche push abilitate!"})):n({text:"Permessi per le notifiche negati"})};R.useEffect(()=>{if(e&&t){let F=!0,D,B=0;const Z=()=>{document.visibilityState==="visible"&&fetch(`${Ee}/api/messaggi`,{headers:{Authorization:`Bearer ${t}`}}).then(H=>H.json()).then(H=>{if(!F)return;B>0&&H.length>B&&H.slice(B).forEach(W=>{W.sender?.mail!==e?.mail&&(n({text:`${W.sender?.nome}: ${W.text}`}),o&&a(`Nuovo messaggio da ${W.sender?.nome}`,{body:W.text,icon:"💬",tag:"chat-message",requireInteraction:!1,onClick:()=>{window.focus()}}))}),B=H.length;const G=H.length>50?H.slice(-50):H;v(G),N(!1)}).catch(()=>{C("Errore nel caricamento dei messaggi"),N(!1)})};return Z(),D=setInterval(Z,3e3),document.addEventListener("visibilitychange",Z),()=>{F=!1,clearInterval(D),document.removeEventListener("visibilitychange",Z)}}},[e,t,n,a,o]),R.useEffect(()=>{O.current&&O.current.scrollIntoView({behavior:"smooth"})},[m]);const I=async F=>{if(F.preventDefault(),!!_.trim()){N(!0);try{if(!(await fetch(`${Ee}/api/messaggi`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({sender:{nome:e.nome,mail:e.mail},text:_})})).ok)throw new Error;x(""),n({text:"Messaggio inviato"})}catch{n({text:"Errore nell'invio del messaggio"})}finally{N(!1)}}};return w?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Caricamento chat..."})]})}):f.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[E&&f.jsx("div",{className:"bg-blue-600 text-white p-3 mt-[64px]",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold text-sm",children:"Abilita le notifiche push"}),f.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Ricevi notifiche per nuovi messaggi anche in background"})]}),f.jsxs("div",{className:"flex gap-2 ml-3",children:[f.jsx("button",{onClick:A,className:"bg-white text-blue-600 text-xs px-3 py-1 rounded font-medium hover:bg-gray-100 transition-colors",children:"Abilita"}),f.jsx("button",{onClick:()=>k(!1),className:"text-white text-xs px-2 py-1 rounded hover:bg-blue-700 transition-colors",children:"✕"})]})]})}),f.jsx("div",{className:"flex-1 overflow-y-auto p-3 mt-[64px]",style:{maxHeight:"calc(100vh - 64px - 56px)"},children:m.length===0?f.jsx("div",{className:"text-center text-gray-400 mt-10",children:"Nessun messaggio"}):f.jsxs("div",{className:"space-y-2",children:[m.map((F,D)=>f.jsxs("div",{className:`flex flex-col items-${F.sender?.mail===e.mail?"end":"start"}`,children:[f.jsxs("div",{className:`inline-block px-3 py-2 rounded-lg text-sm shadow-sm mb-1 max-w-xs ${F.sender?.mail===e.mail?"bg-green-500 text-white":"bg-white text-gray-800 border"}`,children:[f.jsx("span",{className:"font-semibold text-xs block mb-1",children:F.sender?.nome||"Anonimo"}),f.jsx("span",{children:F.text})]}),f.jsx("span",{className:"text-xs text-gray-400",children:new Date(F.timestamp).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})})]},D)),f.jsx("div",{ref:O})]})}),f.jsxs("form",{onSubmit:I,className:"p-3 bg-white border-t flex gap-2",children:[f.jsx("input",{type:"text",value:_,onChange:F=>x(F.target.value),placeholder:"Scrivi un messaggio...",className:"flex-1 border rounded px-3 py-2 text-sm focus:outline-none focus:ring focus:border-green-400",maxLength:500}),f.jsx("button",{type:"submit",disabled:w||!_.trim(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold text-sm shadow disabled:opacity-50",children:"Invia"})]})]})}function T3(){const{user:e,token:t}=Mt(),{setNotification:n}=Bt(),[a,o]=R.useState(()=>new Date().toISOString().split("T")[0]),[c,d]=R.useState([]),[m,v]=R.useState(!0),[_,x]=R.useState([]),[w,N]=R.useState("");Fd({pollInterval:5e3,enablePushNotifications:!0}),R.useEffect(()=>{if(e&&e.role!=="admin"&&e.role!=="pianificatore"){n({text:"Accesso negato. Solo pianificatori e admin possono accedere a questa pagina."});return}},[e,n]),R.useEffect(()=>{e&&t&&(e.role==="admin"||e.role==="pianificatore")&&P()},[a,e,t]),R.useEffect(()=>{x(w===""?c:c.filter(D=>D.autista?.nome===w))},[c,w]);const P=async()=>{v(!0);try{const D=await fetch(`${Ee}/api/spedizioni`,{headers:{Authorization:`Bearer ${t}`}});if(!D.ok)throw new Error("Errore nel caricamento");const Z=(await D.json()).filter(H=>new Date(H.dataPianificata).toISOString().split("T")[0]===a&&H.status!=="Consegnata").sort((H,G)=>{const $=new Date(H.dataPianificata).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}),W=new Date(G.dataPianificata).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"});return $.localeCompare(W)});d(Z)}catch{n({text:"Errore nel caricamento delle spedizioni"})}finally{v(!1)}},C=D=>new Date(D).toLocaleDateString("it-IT"),E=()=>[...new Set(c.map(B=>B.autista?.nome).filter(Boolean))].sort(),k=()=>{const D={};return _.forEach(B=>{const Z=B.autista?.nome||"Non assegnato";D[Z]||(D[Z]=[]),D[Z].push(B)}),D},O=()=>{const D=["Data","Ora","Autista","Destinazione","Indirizzo","Richiedente","Tipo","Note"],B=_.map(W=>[C(W.dataPianificata),new Date(W.dataPianificata).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}),W.autista?.nome||"",W.aziendaDestinazione||"",W.indirizzo||"",W.richiedente?.nome||"",W.tipo||"",(W.note||"").replace(/\n/g," | ")]),Z=[D.join(","),...B.map(W=>W.map(re=>`"${re.toString().replace(/"/g,'""')}"`).join(","))].join("\\n"),H=new Blob([Z],{type:"text/csv;charset=utf-8;"}),G=document.createElement("a"),$=URL.createObjectURL(H);G.setAttribute("href",$),G.setAttribute("download",`preparazione_magazzino_${a}.csv`),G.style.visibility="hidden",document.body.appendChild(G),G.click(),document.body.removeChild(G)},A=()=>{const D=["Data","Ora","Autista","Destinazione","Indirizzo","Richiedente","Tipo","Note"];let B='<table border="1">';B+=`<tr>${D.map($=>`<th>${$}</th>`).join("")}</tr>`,_.forEach($=>{B+=`<tr>
        <td>${C($.dataPianificata)}</td>
        <td>${new Date($.dataPianificata).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})}</td>
        <td>${$.autista?.nome||""}</td>
        <td>${$.aziendaDestinazione||""}</td>
        <td>${$.indirizzo||""}</td>
        <td>${$.richiedente?.nome||""}</td>
        <td>${$.tipo||""}</td>
        <td style="white-space: pre-wrap;">${($.note||"").replace(/</g,"&lt;").replace(/>/g,"&gt;")}</td>
      </tr>`}),B+="</table>";const Z=new Blob([B],{type:"application/vnd.ms-excel"}),H=document.createElement("a"),G=URL.createObjectURL(Z);H.setAttribute("href",G),H.setAttribute("download",`preparazione_magazzino_${a}.xls`),H.style.visibility="hidden",document.body.appendChild(H),H.click(),document.body.removeChild(H)},I=()=>{const D=document.getElementById("tabella-magazzino").innerHTML,B=document.body.innerHTML;document.body.innerHTML=`
      <html>
        <head>
          <title>Preparazione Magazzino - ${C(a)}</title>
          <style>
            body { font-family: Arial, sans-serif; }
            table { width: 100%; border-collapse: collapse; font-size: 12px; }
            th, td { border: 1px solid #000; padding: 4px; text-align: left; }
            th { background-color: #f0f0f0; font-weight: bold; }
            .autista-header { background-color: #e8f4fd; font-weight: bold; }
            .page-break { page-break-before: always; }
            @media print { .no-print { display: none; } }
          </style>
        </head>
        <body>
          <h1>Preparazione Magazzino - ${C(a)}</h1>
          ${D}
        </body>
      </html>
    `,window.print(),document.body.innerHTML=B,window.location.reload()},F=k();return!e||e.role!=="admin"&&e.role!=="pianificatore"?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx(ps,{className:"mx-auto h-12 w-12 text-gray-400"}),f.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Accesso negato"}),f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Solo gli amministratori e i pianificatori possono accedere a questa pagina."})]})}):f.jsxs(f.Fragment,{children:[f.jsx(_N,{}),f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx("div",{className:"bg-white shadow",children:f.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:f.jsx("div",{className:"py-6",children:f.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(ps,{className:"h-8 w-8 text-blue-600"}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Preparazione Magazzino"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Organizzazione spedizioni per la preparazione"})]})]}),f.jsxs("div",{className:"mt-4 md:mt-0 flex items-center space-x-4",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Wk,{className:"h-5 w-5 text-gray-400"}),f.jsx("input",{type:"date",value:a,onChange:D=>o(D.target.value),className:"rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Vk,{className:"h-5 w-5 text-gray-400"}),f.jsxs("select",{value:w,onChange:D=>N(D.target.value),className:"rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[f.jsx("option",{value:"",children:"Tutti gli autisti"}),E().map(D=>f.jsx("option",{value:D,children:D},D))]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsxs("button",{onClick:I,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[f.jsx(ps,{className:"h-4 w-4 mr-2"}),"Stampa"]}),f.jsxs("button",{onClick:O,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[f.jsx(Yk,{className:"h-4 w-4 mr-2"}),"CSV"]}),f.jsxs("button",{onClick:A,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[f.jsx(Zk,{className:"h-4 w-4 mr-2"}),"Excel"]})]})]})]})})})}),f.jsx("div",{className:"py-6",children:f.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:m?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[f.jsx("div",{id:"tabella-magazzino",className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-20",children:"#"}),f.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-28",children:"Data"}),f.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-16",children:"Ora"}),f.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Autista"}),f.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Destinazione"}),f.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indirizzo"}),f.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-28",children:"Richiedente"}),f.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Tipo"}),f.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Note"})]})}),f.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[Object.entries(F).map(([D,B])=>f.jsxs(X.Fragment,{children:[f.jsx("tr",{className:"bg-blue-50",children:f.jsx("td",{colSpan:"9",className:"px-3 py-2 text-sm font-semibold text-blue-900 bg-blue-100",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(pN,{className:"h-4 w-4 mr-2"}),D," (",B.length," spedizioni)"]})})}),B.map((Z,H)=>f.jsxs("tr",{className:H%2===0?"bg-white":"bg-gray-50",children:[f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-500",children:H+1}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:C(Z.dataPianificata)}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:new Date(Z.dataPianificata).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:Z.autista?.nome||"-"}),f.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:Z.aziendaDestinazione||"-"}),f.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:Z.indirizzo||"-"}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:Z.richiedente?.nome||"-"}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:f.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z.tipo==="consegna"?"bg-green-100 text-green-800":Z.tipo==="ritiro"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:Z.tipo==="consegna"?"Consegna":Z.tipo==="ritiro"?"Ritiro":Z.tipo==="entrambi"?"Entrambi":"Non specificato"})}),f.jsx("td",{className:"px-3 py-2 text-sm text-gray-500 max-w-xs",children:f.jsx("div",{className:"whitespace-pre-wrap break-words",title:Z.note,children:Z.note||"-"})})]},Z.id))]},D)),_.length===0&&f.jsx("tr",{children:f.jsxs("td",{colSpan:"9",className:"px-3 py-8 text-center text-sm text-gray-500",children:[f.jsx(ps,{className:"mx-auto h-12 w-12 text-gray-400 mb-2"}),f.jsx("p",{children:"Nessuna spedizione trovata per la data selezionata"})]})})]})]})}),_.length>0&&f.jsx("div",{className:"bg-gray-50 px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:f.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[f.jsx(ps,{className:"h-4 w-4 mr-2"}),"Totale: ",_.length," spedizioni",w&&f.jsxs("span",{className:"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:["Filtrate per: ",w]})]})})]})})})]})]})}function O3(){const[e,t]=R.useState([]),n=c=>t(d=>[...d,typeof c=="string"?c:JSON.stringify(c)]),a=async()=>{if(n("Starting push debug..."),!("serviceWorker"in navigator)){n("serviceWorker not supported in this browser");return}try{const c=await navigator.serviceWorker.ready;if(n("Service worker ready: "+(c.scope||"no-scope")),!c.pushManager){const N="registration.pushManager is undefined in this browser (Push API not supported or restricted)";n(N);try{await fetch(`${Ee}/api/push/log-subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:N,ua:navigator.userAgent})}),n("Posted diagnostic to server")}catch(P){n("Failed to post diagnostic: "+P.message)}return}const d=await c.pushManager.getSubscription();if(n("Current subscription: "+(d?"exists":"null")),d){n(d);try{await fetch(`${Ee}/api/push/log-subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({note:"debug-existing-sub",sub:d,ua:navigator.userAgent})}),n("Logged existing subscription to server")}catch(N){n("Failed to log existing sub: "+N.message)}return}n("Fetching public key from backend...");const m=await fetch(`${Ee}/api/push/public-key`);if(!m.ok)throw new Error("Failed to get public key: "+m.status);const{publicKey:v}=await m.json();n("Public key length: "+(v||"").length),n("Requesting pushManager.subscribe()...");const _=o(v),x=await c.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_});n("Subscription created"),n(x),n("Sending subscription to backend...");const w=await fetch(`${Ee}/api/push/subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});n("Backend responded: "+w.status);try{const N=await w.text();n("Body: "+N)}catch{}}catch(c){n("ERROR: "+(c&&c.message?c.message:String(c)));try{await fetch(`${Ee}/api/push/log-subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:c&&c.message?c.message:String(c),ua:navigator.userAgent})}),n("Diagnostic posted to server")}catch(d){n("Failed to post diagnostic: "+d.message)}}};function o(c){const d="=".repeat((4-c.length%4)%4),m=(c+d).replace(/-/g,"+").replace(/_/g,"/"),v=atob(m),_=new Uint8Array(v.length);for(let x=0;x<v.length;++x)_[x]=v.charCodeAt(x);return _}return f.jsxs("div",{className:"p-6",children:[f.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Push debug"}),f.jsx("p",{className:"text-sm mb-4",children:"Premi il pulsante per forzare la creazione della subscription e inviare risultati al server."}),f.jsx("button",{className:"bg-blue-600 text-white px-3 py-1 rounded",onClick:a,children:"Esegui test push"}),f.jsx("div",{className:"mt-4 p-3 bg-gray-100 rounded h-64 overflow-auto",children:e.map((c,d)=>f.jsx("div",{className:"text-xs font-mono",children:c},d))})]})}function M3(){const{notification:e}=Bt();if(!e)return null;const t=e.type==="success"?"bg-green-600":e.type==="error"?"bg-red-600":e.type==="warning"?"bg-yellow-600 text-black":"bg-blue-600";return f.jsxs("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-50 ${t} text-white px-6 py-3 rounded shadow-lg min-w-[300px] text-center`,children:[f.jsxs("span",{className:"font-bold mr-2",children:[e.title||"Messaggio",":"]}),f.jsx("span",{children:e.text})]})}const Ee="https://ideal-space-carnival-p4g9q6q659c7w7q-3001.app.github.dev";function Dn({allowedRoles:e,children:t}){const{user:n}=Mt();return n?e&&!e.includes(n.role)?f.jsx(m0,{to:"/"}):t:f.jsx(m0,{to:"/login"})}function D3(){const{user:e}=Mt();return f.jsx(zk,{children:f.jsx(Kk,{children:f.jsxs(Xk,{user:e,children:[f.jsx(M3,{}),f.jsx(pj,{children:f.jsx(ej,{children:f.jsxs(jk,{children:[f.jsx(Jt,{path:"/login",element:f.jsx(o3,{})}),f.jsx(Jt,{path:"/admin",element:f.jsx(Dn,{allowedRoles:["admin"],children:f.jsx(s3,{})})}),f.jsx(Jt,{path:"/autista",element:f.jsx(Dn,{allowedRoles:["admin","autista"],children:f.jsx(r3,{})})}),f.jsx(Jt,{path:"/pianificazione",element:f.jsx(Dn,{allowedRoles:["admin","pianificatore"],children:f.jsx(aj,{})})}),f.jsx(Jt,{path:"/preparazione-magazzino",element:f.jsx(Dn,{allowedRoles:["admin","pianificatore"],children:f.jsx(T3,{})})}),f.jsx(Jt,{path:"/richieste",element:f.jsx(Dn,{allowedRoles:["admin","richiedente"],children:f.jsx(e3,{})})}),f.jsx(Jt,{path:"/stato-consegne",element:f.jsx(Dn,{allowedRoles:["admin","pianificatore","richiedente"],children:f.jsx(t3,{})})}),f.jsx(Jt,{path:"/chat-mobile",element:f.jsx(Dn,{allowedRoles:["admin","autista"],children:f.jsx(j3,{})})}),f.jsx(Jt,{path:"/spedizioni-mobile/:id",element:f.jsx(Dn,{allowedRoles:["autista"],children:f.jsx(P3,{})})}),f.jsx(Jt,{path:"/posizioni",element:f.jsx(Dn,{allowedRoles:["admin","pianificatore","richiedente","autista"],children:f.jsx(n3,{})})}),f.jsx(Jt,{path:"/posizioni/:id",element:f.jsx(Dn,{allowedRoles:["admin","pianificatore","richiedente","autista"],children:f.jsx(k3,{})})}),f.jsx(Jt,{path:"/chat",element:f.jsx(Dn,{allowedRoles:["admin","pianificatore","richiedente","autista"],children:f.jsx(i3,{})})}),f.jsx(Jt,{path:"/gestione-utenti",element:f.jsx(Dn,{allowedRoles:["admin"],children:f.jsx(l3,{})})}),f.jsx(Jt,{path:"/push-debug",element:f.jsx(O3,{})}),f.jsx(Jt,{path:"/spedizioni/:id",element:f.jsx(Dn,{allowedRoles:["admin","pianificatore","richiedente","autista"],children:f.jsx(E3,{})})}),f.jsx(Jt,{path:"/",element:f.jsx(Dn,{allowedRoles:["admin","pianificatore","richiedente","autista"],children:f.jsx(nj,{})})})]})})})]})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("Service Worker registered successfully:",e.scope)}).catch(e=>{console.log("Service Worker registration failed:",e)})});IC.createRoot(document.getElementById("root")).render(f.jsx($k,{children:f.jsx(D3,{})}))});export default L3();
